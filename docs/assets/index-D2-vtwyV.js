function c2(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mu={exports:{}},uo={},Ru={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function u2(){if(Fm)return at;Fm=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function N(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function y(R,A,O){this.props=R,this.context=A,this.refs=b,this.updater=O||w}y.prototype.isReactComponent={},y.prototype.setState=function(R,A){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,A,"setState")},y.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=y.prototype;function j(R,A,O){this.props=R,this.context=A,this.refs=b,this.updater=O||w}var T=j.prototype=new k;T.constructor=j,_(T,y.prototype),T.isPureReactComponent=!0;var M=Array.isArray,V=Object.prototype.hasOwnProperty,X={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function te(R,A,O){var E,D={},K=null,se=null;if(A!=null)for(E in A.ref!==void 0&&(se=A.ref),A.key!==void 0&&(K=""+A.key),A)V.call(A,E)&&!Y.hasOwnProperty(E)&&(D[E]=A[E]);var ee=arguments.length-2;if(ee===1)D.children=O;else if(1<ee){for(var ne=Array(ee),fe=0;fe<ee;fe++)ne[fe]=arguments[fe+2];D.children=ne}if(R&&R.defaultProps)for(E in ee=R.defaultProps,ee)D[E]===void 0&&(D[E]=ee[E]);return{$$typeof:e,type:R,key:K,ref:se,props:D,_owner:X.current}}function J(R,A){return{$$typeof:e,type:R.type,key:A,ref:R.ref,props:R.props,_owner:R._owner}}function de(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function pe(R){var A={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(O){return A[O]})}var q=/\/+/g;function ie(R,A){return typeof R=="object"&&R!==null&&R.key!=null?pe(""+R.key):A.toString(36)}function Pe(R,A,O,E,D){var K=typeof R;(K==="undefined"||K==="boolean")&&(R=null);var se=!1;if(R===null)se=!0;else switch(K){case"string":case"number":se=!0;break;case"object":switch(R.$$typeof){case e:case r:se=!0}}if(se)return se=R,D=D(se),R=E===""?"."+ie(se,0):E,M(D)?(O="",R!=null&&(O=R.replace(q,"$&/")+"/"),Pe(D,A,O,"",function(fe){return fe})):D!=null&&(de(D)&&(D=J(D,O+(!D.key||se&&se.key===D.key?"":(""+D.key).replace(q,"$&/")+"/")+R)),A.push(D)),1;if(se=0,E=E===""?".":E+":",M(R))for(var ee=0;ee<R.length;ee++){K=R[ee];var ne=E+ie(K,ee);se+=Pe(K,A,O,ne,D)}else if(ne=N(R),typeof ne=="function")for(R=ne.call(R),ee=0;!(K=R.next()).done;)K=K.value,ne=E+ie(K,ee++),se+=Pe(K,A,O,ne,D);else if(K==="object")throw A=String(R),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return se}function ke(R,A,O){if(R==null)return R;var E=[],D=0;return Pe(R,E,"","",function(K){return A.call(O,K,D++)}),E}function We(R){if(R._status===-1){var A=R._result;A=A(),A.then(function(O){(R._status===0||R._status===-1)&&(R._status=1,R._result=O)},function(O){(R._status===0||R._status===-1)&&(R._status=2,R._result=O)}),R._status===-1&&(R._status=0,R._result=A)}if(R._status===1)return R._result.default;throw R._result}var ye={current:null},L={transition:null},re={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:L,ReactCurrentOwner:X};function B(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ke,forEach:function(R,A,O){ke(R,function(){A.apply(this,arguments)},O)},count:function(R){var A=0;return ke(R,function(){A++}),A},toArray:function(R){return ke(R,function(A){return A})||[]},only:function(R){if(!de(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},at.Component=y,at.Fragment=t,at.Profiler=o,at.PureComponent=j,at.StrictMode=s,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,at.act=B,at.cloneElement=function(R,A,O){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var E=_({},R.props),D=R.key,K=R.ref,se=R._owner;if(A!=null){if(A.ref!==void 0&&(K=A.ref,se=X.current),A.key!==void 0&&(D=""+A.key),R.type&&R.type.defaultProps)var ee=R.type.defaultProps;for(ne in A)V.call(A,ne)&&!Y.hasOwnProperty(ne)&&(E[ne]=A[ne]===void 0&&ee!==void 0?ee[ne]:A[ne])}var ne=arguments.length-2;if(ne===1)E.children=O;else if(1<ne){ee=Array(ne);for(var fe=0;fe<ne;fe++)ee[fe]=arguments[fe+2];E.children=ee}return{$$typeof:e,type:R.type,key:D,ref:K,props:E,_owner:se}},at.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},at.createElement=te,at.createFactory=function(R){var A=te.bind(null,R);return A.type=R,A},at.createRef=function(){return{current:null}},at.forwardRef=function(R){return{$$typeof:f,render:R}},at.isValidElement=de,at.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:We}},at.memo=function(R,A){return{$$typeof:m,type:R,compare:A===void 0?null:A}},at.startTransition=function(R){var A=L.transition;L.transition={};try{R()}finally{L.transition=A}},at.unstable_act=B,at.useCallback=function(R,A){return ye.current.useCallback(R,A)},at.useContext=function(R){return ye.current.useContext(R)},at.useDebugValue=function(){},at.useDeferredValue=function(R){return ye.current.useDeferredValue(R)},at.useEffect=function(R,A){return ye.current.useEffect(R,A)},at.useId=function(){return ye.current.useId()},at.useImperativeHandle=function(R,A,O){return ye.current.useImperativeHandle(R,A,O)},at.useInsertionEffect=function(R,A){return ye.current.useInsertionEffect(R,A)},at.useLayoutEffect=function(R,A){return ye.current.useLayoutEffect(R,A)},at.useMemo=function(R,A){return ye.current.useMemo(R,A)},at.useReducer=function(R,A,O){return ye.current.useReducer(R,A,O)},at.useRef=function(R){return ye.current.useRef(R)},at.useState=function(R){return ye.current.useState(R)},at.useSyncExternalStore=function(R,A,O){return ye.current.useSyncExternalStore(R,A,O)},at.useTransition=function(){return ye.current.useTransition()},at.version="18.3.1",at}var Om;function pd(){return Om||(Om=1,Ru.exports=u2()),Ru.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function d2(){if(Mm)return uo;Mm=1;var e=pd(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var x,v={},N=null,w=null;m!==void 0&&(N=""+m),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(w=h.ref);for(x in h)s.call(h,x)&&!l.hasOwnProperty(x)&&(v[x]=h[x]);if(f&&f.defaultProps)for(x in h=f.defaultProps,h)v[x]===void 0&&(v[x]=h[x]);return{$$typeof:r,type:f,key:N,ref:w,props:v,_owner:o.current}}return uo.Fragment=t,uo.jsx=u,uo.jsxs=u,uo}var Rm;function f2(){return Rm||(Rm=1,Mu.exports=d2()),Mu.exports}var a=f2(),P=pd();const sp=ap(P),h2=c2({__proto__:null,default:sp},[P]);var oc={},Iu={exports:{}},Or={},Lu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function m2(){return Im||(Im=1,(function(e){function r(L,re){var B=L.length;L.push(re);e:for(;0<B;){var R=B-1>>>1,A=L[R];if(0<o(A,re))L[R]=re,L[B]=A,B=R;else break e}}function t(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var re=L[0],B=L.pop();if(B!==re){L[0]=B;e:for(var R=0,A=L.length,O=A>>>1;R<O;){var E=2*(R+1)-1,D=L[E],K=E+1,se=L[K];if(0>o(D,B))K<A&&0>o(se,D)?(L[R]=se,L[K]=B,R=K):(L[R]=D,L[E]=B,R=E);else if(K<A&&0>o(se,B))L[R]=se,L[K]=B,R=K;else break e}}return re}function o(L,re){var B=L.sortIndex-re.sortIndex;return B!==0?B:L.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],x=1,v=null,N=3,w=!1,_=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var re=t(m);re!==null;){if(re.callback===null)s(m);else if(re.startTime<=L)s(m),re.sortIndex=re.expirationTime,r(h,re);else break;re=t(m)}}function M(L){if(b=!1,T(L),!_)if(t(h)!==null)_=!0,We(V);else{var re=t(m);re!==null&&ye(M,re.startTime-L)}}function V(L,re){_=!1,b&&(b=!1,k(te),te=-1),w=!0;var B=N;try{for(T(re),v=t(h);v!==null&&(!(v.expirationTime>re)||L&&!pe());){var R=v.callback;if(typeof R=="function"){v.callback=null,N=v.priorityLevel;var A=R(v.expirationTime<=re);re=e.unstable_now(),typeof A=="function"?v.callback=A:v===t(h)&&s(h),T(re)}else s(h);v=t(h)}if(v!==null)var O=!0;else{var E=t(m);E!==null&&ye(M,E.startTime-re),O=!1}return O}finally{v=null,N=B,w=!1}}var X=!1,Y=null,te=-1,J=5,de=-1;function pe(){return!(e.unstable_now()-de<J)}function q(){if(Y!==null){var L=e.unstable_now();de=L;var re=!0;try{re=Y(!0,L)}finally{re?ie():(X=!1,Y=null)}}else X=!1}var ie;if(typeof j=="function")ie=function(){j(q)};else if(typeof MessageChannel!="undefined"){var Pe=new MessageChannel,ke=Pe.port2;Pe.port1.onmessage=q,ie=function(){ke.postMessage(null)}}else ie=function(){y(q,0)};function We(L){Y=L,X||(X=!0,ie())}function ye(L,re){te=y(function(){L(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,We(V))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return t(h)},e.unstable_next=function(L){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var B=N;N=re;try{return L()}finally{N=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,re){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=N;N=L;try{return re()}finally{N=B}},e.unstable_scheduleCallback=function(L,re,B){var R=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?R+B:R):B=R,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,L={id:x++,callback:re,priorityLevel:L,startTime:B,expirationTime:A,sortIndex:-1},B>R?(L.sortIndex=B,r(m,L),t(h)===null&&L===t(m)&&(b?(k(te),te=-1):b=!0,ye(M,B-R))):(L.sortIndex=A,r(h,L),_||w||(_=!0,We(V))),L},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(L){var re=N;return function(){var B=N;N=re;try{return L.apply(this,arguments)}finally{N=B}}}})(Bu)),Bu}var Lm;function x2(){return Lm||(Lm=1,Lu.exports=m2()),Lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function p2(){if(Bm)return Or;Bm=1;var e=pd(),r=x2();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function N(n){return h.call(v,n)?!0:h.call(x,n)?!1:m.test(n)?v[n]=!0:(x[n]=!0,!1)}function w(n,i,c,d){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _(n,i,c,d){if(i===null||typeof i=="undefined"||w(n,i,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(n,i,c,d,p,g,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=S}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){y[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];y[i]=new b(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){y[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){y[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){y[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){y[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){y[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){y[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){y[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(k,j);y[i]=new b(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(k,j);y[i]=new b(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(k,j);y[i]=new b(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){y[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){y[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,i,c,d){var p=y.hasOwnProperty(i)?y[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,c,p,d)&&(c=null),d||p===null?N(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):p.mustUseProperty?n[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,d=p.attributeNamespace,c===null?n.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,d?n.setAttributeNS(d,i,c):n.setAttribute(i,c))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),X=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),pe=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),L=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var B=Object.assign,R;function A(n){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+n}var O=!1;function E(n,i){if(!n||O)return"";O=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(me){var d=me}Reflect.construct(n,[],i)}else{try{i.call()}catch(me){d=me}n.call(i.prototype)}else{try{throw Error()}catch(me){d=me}n()}}catch(me){if(me&&d&&typeof me.stack=="string"){for(var p=me.stack.split(`
`),g=d.stack.split(`
`),S=p.length-1,G=g.length-1;1<=S&&0<=G&&p[S]!==g[G];)G--;for(;1<=S&&0<=G;S--,G--)if(p[S]!==g[G]){if(S!==1||G!==1)do if(S--,G--,0>G||p[S]!==g[G]){var Q=`
`+p[S].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=S&&0<=G);break}}}finally{O=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?A(n):""}function D(n){switch(n.tag){case 5:return A(n.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return n=E(n.type,!1),n;case 11:return n=E(n.type.render,!1),n;case 1:return n=E(n.type,!0),n;default:return""}}function K(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Y:return"Fragment";case X:return"Portal";case J:return"Profiler";case te:return"StrictMode";case ie:return"Suspense";case Pe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case pe:return(n.displayName||"Context")+".Consumer";case de:return(n._context.displayName||"Context")+".Provider";case q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ke:return i=n.displayName||null,i!==null?i:K(n.type)||"Memo";case We:i=n._payload,n=n._init;try{return K(n(i))}catch{}}return null}function se(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(i);case 8:return i===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ee(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ne(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fe(n){var i=ne(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,g.call(this,S)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function _e(n){n._valueTracker||(n._valueTracker=fe(n))}function Me(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),d="";return n&&(d=ne(n)?n.checked?"true":"false":n.value),n=d,n!==c?(i.setValue(n),!0):!1}function Ke(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ve(n,i){var c=i.checked;return B({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c!=null?c:n._wrapperState.initialChecked})}function xe(n,i){var c=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;c=ee(i.value!=null?i.value:c),n._wrapperState={initialChecked:d,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function je(n,i){i=i.checked,i!=null&&T(n,"checked",i,!1)}function H(n,i){je(n,i);var c=ee(i.value),d=i.type;if(c!=null)d==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ge(n,i.type,c):i.hasOwnProperty("defaultValue")&&Ge(n,i.type,ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ve(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Ge(n,i,c){(i!=="number"||Ke(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var nt=Array.isArray;function tt(n,i,c,d){if(n=n.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<n.length;c++)p=i.hasOwnProperty("$"+n[c].value),n[c].selected!==p&&(n[c].selected=p),p&&d&&(n[c].defaultSelected=!0)}else{for(c=""+ee(c),i=null,p=0;p<n.length;p++){if(n[p].value===c){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function et(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function vr(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(nt(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ee(c)}}function dr(n,i){var c=ee(i.value),d=ee(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),d!=null&&(n.defaultValue=""+d)}function _n(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ss(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ss(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Jr,qo=(function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,c,d,p){MSApp.execUnsafeLocalFunction(function(){return n(i,c,d,p)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Jr=Jr||document.createElement("div"),Jr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Jr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function sa(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qo=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(n){Qo.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ia[i]=ia[n]})});function ji(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ia.hasOwnProperty(n)&&ia[n]?(""+i).trim():i+"px"}function Si(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var d=c.indexOf("--")===0,p=ji(c,i[c],d);c==="float"&&(c="cssFloat"),d?n.setProperty(c,p):n[c]=p}}var Jo=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ki(n,i){if(i){if(Jo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ei(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=null;function Es(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ts=null,oa=null,la=null;function Xa(n){if(n=Ki(n)){if(typeof Ts!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Nl(i),Ts(n.stateNode,n.type,i))}}function Zo(n){oa?la?la.push(n):la=[n]:oa=n}function el(){if(oa){var n=oa,i=la;if(la=oa=null,Xa(n),i)for(n=0;n<i.length;n++)Xa(i[n])}}function tl(n,i){return n(i)}function rl(){}var Ti=!1;function nl(n,i,c){if(Ti)return n(i,c);Ti=!0;try{return tl(n,i,c)}finally{Ti=!1,(oa!==null||la!==null)&&(rl(),el())}}function Ka(n,i){var c=n.stateNode;if(c===null)return null;var d=Nl(c);if(d===null)return null;c=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Ci=!1;if(f)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Ci=!1}function t0(n,i,c,d,p,g,S,G,Q){var me=Array.prototype.slice.call(arguments,3);try{i.apply(c,me)}catch(Se){this.onError(Se)}}var qa=!1,Cs=null,C=!1,z=null,F={onError:function(n){qa=!0,Cs=n}};function I(n,i,c,d,p,g,S,G,Q){qa=!1,Cs=null,t0.apply(F,arguments)}function U(n,i,c,d,p,g,S,G,Q){if(I.apply(this,arguments),qa){if(qa){var me=Cs;qa=!1,Cs=null}else throw Error(t(198));C||(C=!0,z=me)}}function W(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function ce(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function be(n){if(W(n)!==n)throw Error(t(188))}function le(n){var i=n.alternate;if(!i){if(i=W(n),i===null)throw Error(t(188));return i!==n?null:n}for(var c=n,d=i;;){var p=c.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===c)return be(p),n;if(g===d)return be(p),i;g=g.sibling}throw Error(t(188))}if(c.return!==d.return)c=p,d=g;else{for(var S=!1,G=p.child;G;){if(G===c){S=!0,c=p,d=g;break}if(G===d){S=!0,d=p,c=g;break}G=G.sibling}if(!S){for(G=g.child;G;){if(G===c){S=!0,c=g,d=p;break}if(G===d){S=!0,d=g,c=p;break}G=G.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?n:i}function ue(n){return n=le(n),n!==null?he(n):null}function he(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=he(n);if(i!==null)return i;n=n.sibling}return null}var Ee=r.unstable_scheduleCallback,Re=r.unstable_cancelCallback,Be=r.unstable_shouldYield,Ae=r.unstable_requestPaint,Ce=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,yt=r.unstable_ImmediatePriority,bt=r.unstable_UserBlockingPriority,Rt=r.unstable_NormalPriority,Qa=r.unstable_LowPriority,ca=r.unstable_IdlePriority,jn=null,qt=null;function Ai(n){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:E1,S1=Math.log,k1=Math.LN2;function E1(n){return n>>>=0,n===0?32:31-(S1(n)/k1|0)|0}var al=64,sl=4194304;function Di(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function il(n,i){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes,S=c&268435455;if(S!==0){var G=S&~p;G!==0?d=Di(G):(g&=S,g!==0&&(d=Di(g)))}else S=c&~p,S!==0?d=Di(S):g!==0&&(d=Di(g));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((d&4)!==0&&(d|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=d;0<i;)c=31-It(i),p=1<<c,d|=n[c],i&=~p;return d}function T1(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C1(n,i){for(var c=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes;0<g;){var S=31-It(g),G=1<<S,Q=p[S];Q===-1?((G&c)===0||(G&d)!==0)&&(p[S]=T1(G,i)):Q<=i&&(n.expiredLanes|=G),g&=~G}}function r0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function uf(){var n=al;return al<<=1,(al&4194240)===0&&(al=64),n}function n0(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Pi(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-It(i),n[i]=c}function A1(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<c;){var p=31-It(c),g=1<<p;i[p]=0,d[p]=-1,n[p]=-1,c&=~g}}function a0(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var d=31-It(c),p=1<<d;p&i|n[d]&i&&(n[d]|=i),c&=~p}}var ft=0;function df(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ff,s0,hf,mf,xf,i0=!1,ol=[],ua=null,da=null,fa=null,Fi=new Map,Oi=new Map,ha=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(n,i){switch(n){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Fi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(i.pointerId)}}function Mi(n,i,c,d,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:c,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Ki(i),i!==null&&s0(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function P1(n,i,c,d,p){switch(i){case"focusin":return ua=Mi(ua,n,i,c,d,p),!0;case"dragenter":return da=Mi(da,n,i,c,d,p),!0;case"mouseover":return fa=Mi(fa,n,i,c,d,p),!0;case"pointerover":var g=p.pointerId;return Fi.set(g,Mi(Fi.get(g)||null,n,i,c,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Oi.set(g,Mi(Oi.get(g)||null,n,i,c,d,p)),!0}return!1}function gf(n){var i=Ja(n.target);if(i!==null){var c=W(i);if(c!==null){if(i=c.tag,i===13){if(i=ce(c),i!==null){n.blockedOn=i,xf(n.priority,function(){hf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ll(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=l0(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var d=new c.constructor(c.type,c);ks=d,c.target.dispatchEvent(d),ks=null}else return i=Ki(c),i!==null&&s0(i),n.blockedOn=c,!1;i.shift()}return!0}function vf(n,i,c){ll(n)&&c.delete(i)}function F1(){i0=!1,ua!==null&&ll(ua)&&(ua=null),da!==null&&ll(da)&&(da=null),fa!==null&&ll(fa)&&(fa=null),Fi.forEach(vf),Oi.forEach(vf)}function Ri(n,i){n.blockedOn===i&&(n.blockedOn=null,i0||(i0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,F1)))}function Ii(n){function i(p){return Ri(p,n)}if(0<ol.length){Ri(ol[0],n);for(var c=1;c<ol.length;c++){var d=ol[c];d.blockedOn===n&&(d.blockedOn=null)}}for(ua!==null&&Ri(ua,n),da!==null&&Ri(da,n),fa!==null&&Ri(fa,n),Fi.forEach(i),Oi.forEach(i),c=0;c<ha.length;c++)d=ha[c],d.blockedOn===n&&(d.blockedOn=null);for(;0<ha.length&&(c=ha[0],c.blockedOn===null);)gf(c),c.blockedOn===null&&ha.shift()}var As=M.ReactCurrentBatchConfig,cl=!0;function O1(n,i,c,d){var p=ft,g=As.transition;As.transition=null;try{ft=1,o0(n,i,c,d)}finally{ft=p,As.transition=g}}function M1(n,i,c,d){var p=ft,g=As.transition;As.transition=null;try{ft=4,o0(n,i,c,d)}finally{ft=p,As.transition=g}}function o0(n,i,c,d){if(cl){var p=l0(n,i,c,d);if(p===null)S0(n,i,d,ul,c),pf(n,d);else if(P1(p,n,i,c,d))d.stopPropagation();else if(pf(n,d),i&4&&-1<D1.indexOf(n)){for(;p!==null;){var g=Ki(p);if(g!==null&&ff(g),g=l0(n,i,c,d),g===null&&S0(n,i,d,ul,c),g===p)break;p=g}p!==null&&d.stopPropagation()}else S0(n,i,d,null,c)}}var ul=null;function l0(n,i,c,d){if(ul=null,n=Es(d),n=Ja(n),n!==null)if(i=W(n),i===null)n=null;else if(c=i.tag,c===13){if(n=ce(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ul=n,null}function yf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case yt:return 1;case bt:return 4;case Rt:case Qa:return 16;case ca:return 536870912;default:return 16}default:return 16}}var ma=null,c0=null,dl=null;function bf(){if(dl)return dl;var n,i=c0,c=i.length,d,p="value"in ma?ma.value:ma.textContent,g=p.length;for(n=0;n<c&&i[n]===p[n];n++);var S=c-n;for(d=1;d<=S&&i[c-d]===p[g-d];d++);return dl=p.slice(n,1<d?1-d:void 0)}function fl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function hl(){return!0}function wf(){return!1}function Wr(n){function i(c,d,p,g,S){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var G in n)n.hasOwnProperty(G)&&(c=n[G],this[G]=c?c(g):g[G]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hl:wf,this.isPropagationStopped=wf,this}return B(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),i}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u0=Wr(Ds),Li=B({},Ds,{view:0,detail:0}),R1=Wr(Li),d0,f0,Bi,ml=B({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bi&&(Bi&&n.type==="mousemove"?(d0=n.screenX-Bi.screenX,f0=n.screenY-Bi.screenY):f0=d0=0,Bi=n),d0)},movementY:function(n){return"movementY"in n?n.movementY:f0}}),Nf=Wr(ml),I1=B({},ml,{dataTransfer:0}),L1=Wr(I1),B1=B({},Li,{relatedTarget:0}),h0=Wr(B1),z1=B({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=Wr(z1),W1=B({},Ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$1=Wr(W1),H1=B({},Ds,{data:0}),_f=Wr(H1),V1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Y1[n])?!!i[n]:!1}function m0(){return X1}var K1=B({},Li,{key:function(n){if(n.key){var i=V1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=fl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?G1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m0,charCode:function(n){return n.type==="keypress"?fl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),q1=Wr(K1),Q1=B({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=Wr(Q1),J1=B({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m0}),Z1=Wr(J1),ev=B({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Wr(ev),rv=B({},ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=Wr(rv),av=[9,13,27,32],x0=f&&"CompositionEvent"in window,zi=null;f&&"documentMode"in document&&(zi=document.documentMode);var sv=f&&"TextEvent"in window&&!zi,Sf=f&&(!x0||zi&&8<zi&&11>=zi),kf=" ",Ef=!1;function Tf(n,i){switch(n){case"keyup":return av.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ps=!1;function iv(n,i){switch(n){case"compositionend":return Cf(i);case"keypress":return i.which!==32?null:(Ef=!0,kf);case"textInput":return n=i.data,n===kf&&Ef?null:n;default:return null}}function ov(n,i){if(Ps)return n==="compositionend"||!x0&&Tf(n,i)?(n=bf(),dl=c0=ma=null,Ps=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sf&&i.locale!=="ko"?null:i.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!lv[n.type]:i==="textarea"}function Df(n,i,c,d){Zo(d),i=yl(i,"onChange"),0<i.length&&(c=new u0("onChange","change",null,c,d),n.push({event:c,listeners:i}))}var Ui=null,Wi=null;function cv(n){Kf(n,0)}function xl(n){var i=Is(n);if(Me(i))return n}function uv(n,i){if(n==="change")return i}var Pf=!1;if(f){var p0;if(f){var g0="oninput"in document;if(!g0){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),g0=typeof Ff.oninput=="function"}p0=g0}else p0=!1;Pf=p0&&(!document.documentMode||9<document.documentMode)}function Of(){Ui&&(Ui.detachEvent("onpropertychange",Mf),Wi=Ui=null)}function Mf(n){if(n.propertyName==="value"&&xl(Wi)){var i=[];Df(i,Wi,n,Es(n)),nl(cv,i)}}function dv(n,i,c){n==="focusin"?(Of(),Ui=i,Wi=c,Ui.attachEvent("onpropertychange",Mf)):n==="focusout"&&Of()}function fv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(Wi)}function hv(n,i){if(n==="click")return xl(i)}function mv(n,i){if(n==="input"||n==="change")return xl(i)}function xv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cn=typeof Object.is=="function"?Object.is:xv;function $i(n,i){if(cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!h.call(i,p)||!cn(n[p],i[p]))return!1}return!0}function Rf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function If(n,i){var c=Rf(n);n=0;for(var d;c;){if(c.nodeType===3){if(d=n+c.textContent.length,n<=i&&d>=i)return{node:c,offset:i-n};n=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rf(c)}}function Lf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Bf(){for(var n=window,i=Ke();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Ke(n.document)}return i}function v0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function pv(n){var i=Bf(),c=n.focusedElem,d=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Lf(c.ownerDocument.documentElement,c)){if(d!==null&&v0(c)){if(i=d.start,n=d.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var p=c.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!n.extend&&g>d&&(p=d,d=g,g=p),p=If(c,g);var S=If(c,d);p&&S&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),n.removeAllRanges(),g>d?(n.addRange(i),n.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var gv=f&&"documentMode"in document&&11>=document.documentMode,Fs=null,y0=null,Hi=null,b0=!1;function zf(n,i,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;b0||Fs==null||Fs!==Ke(d)||(d=Fs,"selectionStart"in d&&v0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Hi&&$i(Hi,d)||(Hi=d,d=yl(y0,"onSelect"),0<d.length&&(i=new u0("onSelect","select",null,i,c),n.push({event:i,listeners:d}),i.target=Fs)))}function pl(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Os={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},w0={},Uf={};f&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function gl(n){if(w0[n])return w0[n];if(!Os[n])return n;var i=Os[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Uf)return w0[n]=i[c];return n}var Wf=gl("animationend"),$f=gl("animationiteration"),Hf=gl("animationstart"),Vf=gl("transitionend"),Gf=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(n,i){Gf.set(n,i),l(i,[n])}for(var N0=0;N0<Yf.length;N0++){var _0=Yf[N0],vv=_0.toLowerCase(),yv=_0[0].toUpperCase()+_0.slice(1);xa(vv,"on"+yv)}xa(Wf,"onAnimationEnd"),xa($f,"onAnimationIteration"),xa(Hf,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(Vf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Xf(n,i,c){var d=n.type||"unknown-event";n.currentTarget=c,U(d,i,void 0,n),n.currentTarget=null}function Kf(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var d=n[c],p=d.event;d=d.listeners;e:{var g=void 0;if(i)for(var S=d.length-1;0<=S;S--){var G=d[S],Q=G.instance,me=G.currentTarget;if(G=G.listener,Q!==g&&p.isPropagationStopped())break e;Xf(p,G,me),g=Q}else for(S=0;S<d.length;S++){if(G=d[S],Q=G.instance,me=G.currentTarget,G=G.listener,Q!==g&&p.isPropagationStopped())break e;Xf(p,G,me),g=Q}}}if(C)throw n=z,C=!1,z=null,n}function _t(n,i){var c=i[D0];c===void 0&&(c=i[D0]=new Set);var d=n+"__bubble";c.has(d)||(qf(i,n,2,!1),c.add(d))}function j0(n,i,c){var d=0;i&&(d|=4),qf(c,n,d,i)}var vl="_reactListening"+Math.random().toString(36).slice(2);function Gi(n){if(!n[vl]){n[vl]=!0,s.forEach(function(c){c!=="selectionchange"&&(bv.has(c)||j0(c,!1,n),j0(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[vl]||(i[vl]=!0,j0("selectionchange",!1,i))}}function qf(n,i,c,d){switch(yf(i)){case 1:var p=O1;break;case 4:p=M1;break;default:p=o0}c=p.bind(null,i,c,n),p=void 0,!Ci||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(i,c,{capture:!0,passive:p}):n.addEventListener(i,c,!0):p!==void 0?n.addEventListener(i,c,{passive:p}):n.addEventListener(i,c,!1)}function S0(n,i,c,d,p){var g=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var G=d.stateNode.containerInfo;if(G===p||G.nodeType===8&&G.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&(Q=S.stateNode.containerInfo,Q===p||Q.nodeType===8&&Q.parentNode===p))return;S=S.return}for(;G!==null;){if(S=Ja(G),S===null)return;if(Q=S.tag,Q===5||Q===6){d=g=S;continue e}G=G.parentNode}}d=d.return}nl(function(){var me=g,Se=Es(c),Te=[];e:{var Ne=Gf.get(n);if(Ne!==void 0){var Le=u0,Ue=n;switch(n){case"keypress":if(fl(c)===0)break e;case"keydown":case"keyup":Le=q1;break;case"focusin":Ue="focus",Le=h0;break;case"focusout":Ue="blur",Le=h0;break;case"beforeblur":case"afterblur":Le=h0;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Z1;break;case Wf:case $f:case Hf:Le=U1;break;case Vf:Le=tv;break;case"scroll":Le=R1;break;case"wheel":Le=nv;break;case"copy":case"cut":case"paste":Le=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=jf}var $e=(i&4)!==0,Lt=!$e&&n==="scroll",ae=$e?Ne!==null?Ne+"Capture":null:Ne;$e=[];for(var Z=me,oe;Z!==null;){oe=Z;var De=oe.stateNode;if(oe.tag===5&&De!==null&&(oe=De,ae!==null&&(De=Ka(Z,ae),De!=null&&$e.push(Yi(Z,De,oe)))),Lt)break;Z=Z.return}0<$e.length&&(Ne=new Le(Ne,Ue,null,c,Se),Te.push({event:Ne,listeners:$e}))}}if((i&7)===0){e:{if(Ne=n==="mouseover"||n==="pointerover",Le=n==="mouseout"||n==="pointerout",Ne&&c!==ks&&(Ue=c.relatedTarget||c.fromElement)&&(Ja(Ue)||Ue[zn]))break e;if((Le||Ne)&&(Ne=Se.window===Se?Se:(Ne=Se.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Le?(Ue=c.relatedTarget||c.toElement,Le=me,Ue=Ue?Ja(Ue):null,Ue!==null&&(Lt=W(Ue),Ue!==Lt||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Le=null,Ue=me),Le!==Ue)){if($e=Nf,De="onMouseLeave",ae="onMouseEnter",Z="mouse",(n==="pointerout"||n==="pointerover")&&($e=jf,De="onPointerLeave",ae="onPointerEnter",Z="pointer"),Lt=Le==null?Ne:Is(Le),oe=Ue==null?Ne:Is(Ue),Ne=new $e(De,Z+"leave",Le,c,Se),Ne.target=Lt,Ne.relatedTarget=oe,De=null,Ja(Se)===me&&($e=new $e(ae,Z+"enter",Ue,c,Se),$e.target=oe,$e.relatedTarget=Lt,De=$e),Lt=De,Le&&Ue)t:{for($e=Le,ae=Ue,Z=0,oe=$e;oe;oe=Ms(oe))Z++;for(oe=0,De=ae;De;De=Ms(De))oe++;for(;0<Z-oe;)$e=Ms($e),Z--;for(;0<oe-Z;)ae=Ms(ae),oe--;for(;Z--;){if($e===ae||ae!==null&&$e===ae.alternate)break t;$e=Ms($e),ae=Ms(ae)}$e=null}else $e=null;Le!==null&&Qf(Te,Ne,Le,$e,!1),Ue!==null&&Lt!==null&&Qf(Te,Lt,Ue,$e,!0)}}e:{if(Ne=me?Is(me):window,Le=Ne.nodeName&&Ne.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Ne.type==="file")var He=uv;else if(Af(Ne))if(Pf)He=mv;else{He=fv;var Ye=dv}else(Le=Ne.nodeName)&&Le.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(He=hv);if(He&&(He=He(n,me))){Df(Te,He,c,Se);break e}Ye&&Ye(n,Ne,me),n==="focusout"&&(Ye=Ne._wrapperState)&&Ye.controlled&&Ne.type==="number"&&Ge(Ne,"number",Ne.value)}switch(Ye=me?Is(me):window,n){case"focusin":(Af(Ye)||Ye.contentEditable==="true")&&(Fs=Ye,y0=me,Hi=null);break;case"focusout":Hi=y0=Fs=null;break;case"mousedown":b0=!0;break;case"contextmenu":case"mouseup":case"dragend":b0=!1,zf(Te,c,Se);break;case"selectionchange":if(gv)break;case"keydown":case"keyup":zf(Te,c,Se)}var Xe;if(x0)e:{switch(n){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ps?Tf(n,c)&&(Qe="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(Sf&&c.locale!=="ko"&&(Ps||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ps&&(Xe=bf()):(ma=Se,c0="value"in ma?ma.value:ma.textContent,Ps=!0)),Ye=yl(me,Qe),0<Ye.length&&(Qe=new _f(Qe,n,null,c,Se),Te.push({event:Qe,listeners:Ye}),Xe?Qe.data=Xe:(Xe=Cf(c),Xe!==null&&(Qe.data=Xe)))),(Xe=sv?iv(n,c):ov(n,c))&&(me=yl(me,"onBeforeInput"),0<me.length&&(Se=new _f("onBeforeInput","beforeinput",null,c,Se),Te.push({event:Se,listeners:me}),Se.data=Xe))}Kf(Te,i)})}function Yi(n,i,c){return{instance:n,listener:i,currentTarget:c}}function yl(n,i){for(var c=i+"Capture",d=[];n!==null;){var p=n,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Ka(n,c),g!=null&&d.unshift(Yi(n,g,p)),g=Ka(n,i),g!=null&&d.push(Yi(n,g,p))),n=n.return}return d}function Ms(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qf(n,i,c,d,p){for(var g=i._reactName,S=[];c!==null&&c!==d;){var G=c,Q=G.alternate,me=G.stateNode;if(Q!==null&&Q===d)break;G.tag===5&&me!==null&&(G=me,p?(Q=Ka(c,g),Q!=null&&S.unshift(Yi(c,Q,G))):p||(Q=Ka(c,g),Q!=null&&S.push(Yi(c,Q,G)))),c=c.return}S.length!==0&&n.push({event:i,listeners:S})}var wv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function Jf(n){return(typeof n=="string"?n:""+n).replace(wv,`
`).replace(Nv,"")}function bl(n,i,c){if(i=Jf(i),Jf(n)!==i&&c)throw Error(t(425))}function wl(){}var k0=null,E0=null;function T0(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var C0=typeof setTimeout=="function"?setTimeout:void 0,_v=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf!="undefined"?function(n){return Zf.resolve(null).then(n).catch(Sv)}:C0;function Sv(n){setTimeout(function(){throw n})}function A0(n,i){var c=i,d=0;do{var p=c.nextSibling;if(n.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){n.removeChild(p),Ii(i);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Ii(i)}function pa(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function eh(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Rs,Xi="__reactProps$"+Rs,zn="__reactContainer$"+Rs,D0="__reactEvents$"+Rs,kv="__reactListeners$"+Rs,Ev="__reactHandles$"+Rs;function Ja(n){var i=n[Sn];if(i)return i;for(var c=n.parentNode;c;){if(i=c[zn]||c[Sn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=eh(n);n!==null;){if(c=n[Sn])return c;n=eh(n)}return i}n=c,c=n.parentNode}return null}function Ki(n){return n=n[Sn]||n[zn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Is(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Nl(n){return n[Xi]||null}var P0=[],Ls=-1;function ga(n){return{current:n}}function jt(n){0>Ls||(n.current=P0[Ls],P0[Ls]=null,Ls--)}function wt(n,i){Ls++,P0[Ls]=n.current,n.current=i}var va={},fr=ga(va),Cr=ga(!1),Za=va;function Bs(n,i){var c=n.type.contextTypes;if(!c)return va;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in c)p[g]=i[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=p),p}function Ar(n){return n=n.childContextTypes,n!=null}function _l(){jt(Cr),jt(fr)}function th(n,i,c){if(fr.current!==va)throw Error(t(168));wt(fr,i),wt(Cr,c)}function rh(n,i,c){var d=n.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(t(108,se(n)||"Unknown",p));return B({},c,d)}function jl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||va,Za=fr.current,wt(fr,n),wt(Cr,Cr.current),!0}function nh(n,i,c){var d=n.stateNode;if(!d)throw Error(t(169));c?(n=rh(n,i,Za),d.__reactInternalMemoizedMergedChildContext=n,jt(Cr),jt(fr),wt(fr,n)):jt(Cr),wt(Cr,c)}var Un=null,Sl=!1,F0=!1;function ah(n){Un===null?Un=[n]:Un.push(n)}function Tv(n){Sl=!0,ah(n)}function ya(){if(!F0&&Un!==null){F0=!0;var n=0,i=ft;try{var c=Un;for(ft=1;n<c.length;n++){var d=c[n];do d=d(!0);while(d!==null)}Un=null,Sl=!1}catch(p){throw Un!==null&&(Un=Un.slice(n+1)),Ee(yt,ya),p}finally{ft=i,F0=!1}}return null}var zs=[],Us=0,kl=null,El=0,Zr=[],en=0,es=null,Wn=1,$n="";function ts(n,i){zs[Us++]=El,zs[Us++]=kl,kl=n,El=i}function sh(n,i,c){Zr[en++]=Wn,Zr[en++]=$n,Zr[en++]=es,es=n;var d=Wn;n=$n;var p=32-It(d)-1;d&=~(1<<p),c+=1;var g=32-It(i)+p;if(30<g){var S=p-p%5;g=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Wn=1<<32-It(i)+p|c<<p|d,$n=g+n}else Wn=1<<g|c<<p|d,$n=n}function O0(n){n.return!==null&&(ts(n,1),sh(n,1,0))}function M0(n){for(;n===kl;)kl=zs[--Us],zs[Us]=null,El=zs[--Us],zs[Us]=null;for(;n===es;)es=Zr[--en],Zr[en]=null,$n=Zr[--en],Zr[en]=null,Wn=Zr[--en],Zr[en]=null}var $r=null,Hr=null,Et=!1,un=null;function ih(n,i){var c=an(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function oh(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,$r=n,Hr=pa(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,$r=n,Hr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=es!==null?{id:Wn,overflow:$n}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=an(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,$r=n,Hr=null,!0):!1;default:return!1}}function R0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function I0(n){if(Et){var i=Hr;if(i){var c=i;if(!oh(n,i)){if(R0(n))throw Error(t(418));i=pa(c.nextSibling);var d=$r;i&&oh(n,i)?ih(d,c):(n.flags=n.flags&-4097|2,Et=!1,$r=n)}}else{if(R0(n))throw Error(t(418));n.flags=n.flags&-4097|2,Et=!1,$r=n}}}function lh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$r=n}function Tl(n){if(n!==$r)return!1;if(!Et)return lh(n),Et=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!T0(n.type,n.memoizedProps)),i&&(i=Hr)){if(R0(n))throw ch(),Error(t(418));for(;i;)ih(n,i),i=pa(i.nextSibling)}if(lh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){Hr=pa(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}Hr=null}}else Hr=$r?pa(n.stateNode.nextSibling):null;return!0}function ch(){for(var n=Hr;n;)n=pa(n.nextSibling)}function Ws(){Hr=$r=null,Et=!1}function L0(n){un===null?un=[n]:un.push(n)}var Cv=M.ReactCurrentBatchConfig;function qi(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,n));var p=d,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(S){var G=p.refs;S===null?delete G[g]:G[g]=S},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,n))}return n}function Cl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function uh(n){var i=n._init;return i(n._payload)}function dh(n){function i(ae,Z){if(n){var oe=ae.deletions;oe===null?(ae.deletions=[Z],ae.flags|=16):oe.push(Z)}}function c(ae,Z){if(!n)return null;for(;Z!==null;)i(ae,Z),Z=Z.sibling;return null}function d(ae,Z){for(ae=new Map;Z!==null;)Z.key!==null?ae.set(Z.key,Z):ae.set(Z.index,Z),Z=Z.sibling;return ae}function p(ae,Z){return ae=Ea(ae,Z),ae.index=0,ae.sibling=null,ae}function g(ae,Z,oe){return ae.index=oe,n?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<Z?(ae.flags|=2,Z):oe):(ae.flags|=2,Z)):(ae.flags|=1048576,Z)}function S(ae){return n&&ae.alternate===null&&(ae.flags|=2),ae}function G(ae,Z,oe,De){return Z===null||Z.tag!==6?(Z=Cu(oe,ae.mode,De),Z.return=ae,Z):(Z=p(Z,oe),Z.return=ae,Z)}function Q(ae,Z,oe,De){var He=oe.type;return He===Y?Se(ae,Z,oe.props.children,De,oe.key):Z!==null&&(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===We&&uh(He)===Z.type)?(De=p(Z,oe.props),De.ref=qi(ae,Z,oe),De.return=ae,De):(De=Zl(oe.type,oe.key,oe.props,null,ae.mode,De),De.ref=qi(ae,Z,oe),De.return=ae,De)}function me(ae,Z,oe,De){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=Au(oe,ae.mode,De),Z.return=ae,Z):(Z=p(Z,oe.children||[]),Z.return=ae,Z)}function Se(ae,Z,oe,De,He){return Z===null||Z.tag!==7?(Z=cs(oe,ae.mode,De,He),Z.return=ae,Z):(Z=p(Z,oe),Z.return=ae,Z)}function Te(ae,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Cu(""+Z,ae.mode,oe),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return oe=Zl(Z.type,Z.key,Z.props,null,ae.mode,oe),oe.ref=qi(ae,null,Z),oe.return=ae,oe;case X:return Z=Au(Z,ae.mode,oe),Z.return=ae,Z;case We:var De=Z._init;return Te(ae,De(Z._payload),oe)}if(nt(Z)||re(Z))return Z=cs(Z,ae.mode,oe,null),Z.return=ae,Z;Cl(ae,Z)}return null}function Ne(ae,Z,oe,De){var He=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return He!==null?null:G(ae,Z,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case V:return oe.key===He?Q(ae,Z,oe,De):null;case X:return oe.key===He?me(ae,Z,oe,De):null;case We:return He=oe._init,Ne(ae,Z,He(oe._payload),De)}if(nt(oe)||re(oe))return He!==null?null:Se(ae,Z,oe,De,null);Cl(ae,oe)}return null}function Le(ae,Z,oe,De,He){if(typeof De=="string"&&De!==""||typeof De=="number")return ae=ae.get(oe)||null,G(Z,ae,""+De,He);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case V:return ae=ae.get(De.key===null?oe:De.key)||null,Q(Z,ae,De,He);case X:return ae=ae.get(De.key===null?oe:De.key)||null,me(Z,ae,De,He);case We:var Ye=De._init;return Le(ae,Z,oe,Ye(De._payload),He)}if(nt(De)||re(De))return ae=ae.get(oe)||null,Se(Z,ae,De,He,null);Cl(Z,De)}return null}function Ue(ae,Z,oe,De){for(var He=null,Ye=null,Xe=Z,Qe=Z=0,Zt=null;Xe!==null&&Qe<oe.length;Qe++){Xe.index>Qe?(Zt=Xe,Xe=null):Zt=Xe.sibling;var ot=Ne(ae,Xe,oe[Qe],De);if(ot===null){Xe===null&&(Xe=Zt);break}n&&Xe&&ot.alternate===null&&i(ae,Xe),Z=g(ot,Z,Qe),Ye===null?He=ot:Ye.sibling=ot,Ye=ot,Xe=Zt}if(Qe===oe.length)return c(ae,Xe),Et&&ts(ae,Qe),He;if(Xe===null){for(;Qe<oe.length;Qe++)Xe=Te(ae,oe[Qe],De),Xe!==null&&(Z=g(Xe,Z,Qe),Ye===null?He=Xe:Ye.sibling=Xe,Ye=Xe);return Et&&ts(ae,Qe),He}for(Xe=d(ae,Xe);Qe<oe.length;Qe++)Zt=Le(Xe,ae,Qe,oe[Qe],De),Zt!==null&&(n&&Zt.alternate!==null&&Xe.delete(Zt.key===null?Qe:Zt.key),Z=g(Zt,Z,Qe),Ye===null?He=Zt:Ye.sibling=Zt,Ye=Zt);return n&&Xe.forEach(function(Ta){return i(ae,Ta)}),Et&&ts(ae,Qe),He}function $e(ae,Z,oe,De){var He=re(oe);if(typeof He!="function")throw Error(t(150));if(oe=He.call(oe),oe==null)throw Error(t(151));for(var Ye=He=null,Xe=Z,Qe=Z=0,Zt=null,ot=oe.next();Xe!==null&&!ot.done;Qe++,ot=oe.next()){Xe.index>Qe?(Zt=Xe,Xe=null):Zt=Xe.sibling;var Ta=Ne(ae,Xe,ot.value,De);if(Ta===null){Xe===null&&(Xe=Zt);break}n&&Xe&&Ta.alternate===null&&i(ae,Xe),Z=g(Ta,Z,Qe),Ye===null?He=Ta:Ye.sibling=Ta,Ye=Ta,Xe=Zt}if(ot.done)return c(ae,Xe),Et&&ts(ae,Qe),He;if(Xe===null){for(;!ot.done;Qe++,ot=oe.next())ot=Te(ae,ot.value,De),ot!==null&&(Z=g(ot,Z,Qe),Ye===null?He=ot:Ye.sibling=ot,Ye=ot);return Et&&ts(ae,Qe),He}for(Xe=d(ae,Xe);!ot.done;Qe++,ot=oe.next())ot=Le(Xe,ae,Qe,ot.value,De),ot!==null&&(n&&ot.alternate!==null&&Xe.delete(ot.key===null?Qe:ot.key),Z=g(ot,Z,Qe),Ye===null?He=ot:Ye.sibling=ot,Ye=ot);return n&&Xe.forEach(function(l2){return i(ae,l2)}),Et&&ts(ae,Qe),He}function Lt(ae,Z,oe,De){if(typeof oe=="object"&&oe!==null&&oe.type===Y&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case V:e:{for(var He=oe.key,Ye=Z;Ye!==null;){if(Ye.key===He){if(He=oe.type,He===Y){if(Ye.tag===7){c(ae,Ye.sibling),Z=p(Ye,oe.props.children),Z.return=ae,ae=Z;break e}}else if(Ye.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===We&&uh(He)===Ye.type){c(ae,Ye.sibling),Z=p(Ye,oe.props),Z.ref=qi(ae,Ye,oe),Z.return=ae,ae=Z;break e}c(ae,Ye);break}else i(ae,Ye);Ye=Ye.sibling}oe.type===Y?(Z=cs(oe.props.children,ae.mode,De,oe.key),Z.return=ae,ae=Z):(De=Zl(oe.type,oe.key,oe.props,null,ae.mode,De),De.ref=qi(ae,Z,oe),De.return=ae,ae=De)}return S(ae);case X:e:{for(Ye=oe.key;Z!==null;){if(Z.key===Ye)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){c(ae,Z.sibling),Z=p(Z,oe.children||[]),Z.return=ae,ae=Z;break e}else{c(ae,Z);break}else i(ae,Z);Z=Z.sibling}Z=Au(oe,ae.mode,De),Z.return=ae,ae=Z}return S(ae);case We:return Ye=oe._init,Lt(ae,Z,Ye(oe._payload),De)}if(nt(oe))return Ue(ae,Z,oe,De);if(re(oe))return $e(ae,Z,oe,De);Cl(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(c(ae,Z.sibling),Z=p(Z,oe),Z.return=ae,ae=Z):(c(ae,Z),Z=Cu(oe,ae.mode,De),Z.return=ae,ae=Z),S(ae)):c(ae,Z)}return Lt}var $s=dh(!0),fh=dh(!1),Al=ga(null),Dl=null,Hs=null,B0=null;function z0(){B0=Hs=Dl=null}function U0(n){var i=Al.current;jt(Al),n._currentValue=i}function W0(n,i,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===c)break;n=n.return}}function Vs(n,i){Dl=n,B0=Hs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Dr=!0),n.firstContext=null)}function tn(n){var i=n._currentValue;if(B0!==n)if(n={context:n,memoizedValue:i,next:null},Hs===null){if(Dl===null)throw Error(t(308));Hs=n,Dl.dependencies={lanes:0,firstContext:n}}else Hs=Hs.next=n;return i}var rs=null;function $0(n){rs===null?rs=[n]:rs.push(n)}function hh(n,i,c,d){var p=i.interleaved;return p===null?(c.next=c,$0(i)):(c.next=p.next,p.next=c),i.interleaved=c,Hn(n,d)}function Hn(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var ba=!1;function H0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function wa(n,i,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Hn(n,c)}return p=d.interleaved,p===null?(i.next=i,$0(d)):(i.next=p.next,p.next=i),d.interleaved=i,Hn(n,c)}function Pl(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,a0(n,c)}}function xh(n,i){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};g===null?p=g=S:g=g.next=S,c=c.next}while(c!==null);g===null?p=g=i:g=g.next=i}else p=g=i;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Fl(n,i,c,d){var p=n.updateQueue;ba=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,G=p.shared.pending;if(G!==null){p.shared.pending=null;var Q=G,me=Q.next;Q.next=null,S===null?g=me:S.next=me,S=Q;var Se=n.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==S&&(G===null?Se.firstBaseUpdate=me:G.next=me,Se.lastBaseUpdate=Q))}if(g!==null){var Te=p.baseState;S=0,Se=me=Q=null,G=g;do{var Ne=G.lane,Le=G.eventTime;if((d&Ne)===Ne){Se!==null&&(Se=Se.next={eventTime:Le,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Ue=n,$e=G;switch(Ne=i,Le=c,$e.tag){case 1:if(Ue=$e.payload,typeof Ue=="function"){Te=Ue.call(Le,Te,Ne);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=$e.payload,Ne=typeof Ue=="function"?Ue.call(Le,Te,Ne):Ue,Ne==null)break e;Te=B({},Te,Ne);break e;case 2:ba=!0}}G.callback!==null&&G.lane!==0&&(n.flags|=64,Ne=p.effects,Ne===null?p.effects=[G]:Ne.push(G))}else Le={eventTime:Le,lane:Ne,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(me=Se=Le,Q=Te):Se=Se.next=Le,S|=Ne;if(G=G.next,G===null){if(G=p.shared.pending,G===null)break;Ne=G,G=Ne.next,Ne.next=null,p.lastBaseUpdate=Ne,p.shared.pending=null}}while(!0);if(Se===null&&(Q=Te),p.baseState=Q,p.firstBaseUpdate=me,p.lastBaseUpdate=Se,i=p.shared.interleaved,i!==null){p=i;do S|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);ss|=S,n.lanes=S,n.memoizedState=Te}}function ph(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var d=n[i],p=d.callback;if(p!==null){if(d.callback=null,d=c,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Qi={},kn=ga(Qi),Ji=ga(Qi),Zi=ga(Qi);function ns(n){if(n===Qi)throw Error(t(174));return n}function V0(n,i){switch(wt(Zi,i),wt(Ji,n),wt(kn,Qi),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ya(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ya(i,n)}jt(kn),wt(kn,i)}function Gs(){jt(kn),jt(Ji),jt(Zi)}function gh(n){ns(Zi.current);var i=ns(kn.current),c=Ya(i,n.type);i!==c&&(wt(Ji,n),wt(kn,c))}function G0(n){Ji.current===n&&(jt(kn),jt(Ji))}var At=ga(0);function Ol(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Y0=[];function X0(){for(var n=0;n<Y0.length;n++)Y0[n]._workInProgressVersionPrimary=null;Y0.length=0}var Ml=M.ReactCurrentDispatcher,K0=M.ReactCurrentBatchConfig,as=0,Dt=null,Gt=null,Qt=null,Rl=!1,eo=!1,to=0,Av=0;function hr(){throw Error(t(321))}function q0(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!cn(n[c],i[c]))return!1;return!0}function Q0(n,i,c,d,p,g){if(as=g,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ml.current=n===null||n.memoizedState===null?Ov:Mv,n=c(d,p),eo){g=0;do{if(eo=!1,to=0,25<=g)throw Error(t(301));g+=1,Qt=Gt=null,i.updateQueue=null,Ml.current=Rv,n=c(d,p)}while(eo)}if(Ml.current=Bl,i=Gt!==null&&Gt.next!==null,as=0,Qt=Gt=Dt=null,Rl=!1,i)throw Error(t(300));return n}function J0(){var n=to!==0;return to=0,n}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Dt.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function rn(){if(Gt===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var i=Qt===null?Dt.memoizedState:Qt.next;if(i!==null)Qt=i,Gt=n;else{if(n===null)throw Error(t(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Qt===null?Dt.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function ro(n,i){return typeof i=="function"?i(n):i}function Z0(n){var i=rn(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var d=Gt,p=d.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}d.baseQueue=p=g,c.pending=null}if(p!==null){g=p.next,d=d.baseState;var G=S=null,Q=null,me=g;do{var Se=me.lane;if((as&Se)===Se)Q!==null&&(Q=Q.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),d=me.hasEagerState?me.eagerState:n(d,me.action);else{var Te={lane:Se,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};Q===null?(G=Q=Te,S=d):Q=Q.next=Te,Dt.lanes|=Se,ss|=Se}me=me.next}while(me!==null&&me!==g);Q===null?S=d:Q.next=G,cn(d,i.memoizedState)||(Dr=!0),i.memoizedState=d,i.baseState=S,i.baseQueue=Q,c.lastRenderedState=d}if(n=c.interleaved,n!==null){p=n;do g=p.lane,Dt.lanes|=g,ss|=g,p=p.next;while(p!==n)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function eu(n){var i=rn(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var d=c.dispatch,p=c.pending,g=i.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do g=n(g,S.action),S=S.next;while(S!==p);cn(g,i.memoizedState)||(Dr=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),c.lastRenderedState=g}return[g,d]}function vh(){}function yh(n,i){var c=Dt,d=rn(),p=i(),g=!cn(d.memoizedState,p);if(g&&(d.memoizedState=p,Dr=!0),d=d.queue,tu(Nh.bind(null,c,d,n),[n]),d.getSnapshot!==i||g||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,no(9,wh.bind(null,c,d,p,i),void 0,null),Jt===null)throw Error(t(349));(as&30)!==0||bh(c,i,p)}return p}function bh(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function wh(n,i,c,d){i.value=c,i.getSnapshot=d,_h(i)&&jh(n)}function Nh(n,i,c){return c(function(){_h(i)&&jh(n)})}function _h(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!cn(n,c)}catch{return!0}}function jh(n){var i=Hn(n,1);i!==null&&mn(i,n,1,-1)}function Sh(n){var i=En();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:n},i.queue=n,n=n.dispatch=Fv.bind(null,Dt,n),[i.memoizedState,n]}function no(n,i,c,d){return n={tag:n,create:i,destroy:c,deps:d,next:null},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,i.lastEffect=n)),n}function kh(){return rn().memoizedState}function Il(n,i,c,d){var p=En();Dt.flags|=n,p.memoizedState=no(1|i,c,void 0,d===void 0?null:d)}function Ll(n,i,c,d){var p=rn();d=d===void 0?null:d;var g=void 0;if(Gt!==null){var S=Gt.memoizedState;if(g=S.destroy,d!==null&&q0(d,S.deps)){p.memoizedState=no(i,c,g,d);return}}Dt.flags|=n,p.memoizedState=no(1|i,c,g,d)}function Eh(n,i){return Il(8390656,8,n,i)}function tu(n,i){return Ll(2048,8,n,i)}function Th(n,i){return Ll(4,2,n,i)}function Ch(n,i){return Ll(4,4,n,i)}function Ah(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Dh(n,i,c){return c=c!=null?c.concat([n]):null,Ll(4,4,Ah.bind(null,i,n),c)}function ru(){}function Ph(n,i){var c=rn();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&q0(i,d[1])?d[0]:(c.memoizedState=[n,i],n)}function Fh(n,i){var c=rn();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&q0(i,d[1])?d[0]:(n=n(),c.memoizedState=[n,i],n)}function Oh(n,i,c){return(as&21)===0?(n.baseState&&(n.baseState=!1,Dr=!0),n.memoizedState=c):(cn(c,i)||(c=uf(),Dt.lanes|=c,ss|=c,n.baseState=!0),i)}function Dv(n,i){var c=ft;ft=c!==0&&4>c?c:4,n(!0);var d=K0.transition;K0.transition={};try{n(!1),i()}finally{ft=c,K0.transition=d}}function Mh(){return rn().memoizedState}function Pv(n,i,c){var d=Sa(n);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},Rh(n))Ih(i,c);else if(c=hh(n,i,c,d),c!==null){var p=br();mn(c,n,d,p),Lh(c,i,d)}}function Fv(n,i,c){var d=Sa(n),p={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))Ih(i,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,G=g(S,c);if(p.hasEagerState=!0,p.eagerState=G,cn(G,S)){var Q=i.interleaved;Q===null?(p.next=p,$0(i)):(p.next=Q.next,Q.next=p),i.interleaved=p;return}}catch{}finally{}c=hh(n,i,p,d),c!==null&&(p=br(),mn(c,n,d,p),Lh(c,i,d))}}function Rh(n){var i=n.alternate;return n===Dt||i!==null&&i===Dt}function Ih(n,i){eo=Rl=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Lh(n,i,c){if((c&4194240)!==0){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,a0(n,c)}}var Bl={readContext:tn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},Ov={readContext:tn,useCallback:function(n,i){return En().memoizedState=[n,i===void 0?null:i],n},useContext:tn,useEffect:Eh,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Il(4194308,4,Ah.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Il(4194308,4,n,i)},useInsertionEffect:function(n,i){return Il(4,2,n,i)},useMemo:function(n,i){var c=En();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var d=En();return i=c!==void 0?c(i):i,d.memoizedState=d.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},d.queue=n,n=n.dispatch=Pv.bind(null,Dt,n),[d.memoizedState,n]},useRef:function(n){var i=En();return n={current:n},i.memoizedState=n},useState:Sh,useDebugValue:ru,useDeferredValue:function(n){return En().memoizedState=n},useTransition:function(){var n=Sh(!1),i=n[0];return n=Dv.bind(null,n[1]),En().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var d=Dt,p=En();if(Et){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),Jt===null)throw Error(t(349));(as&30)!==0||bh(d,i,c)}p.memoizedState=c;var g={value:c,getSnapshot:i};return p.queue=g,Eh(Nh.bind(null,d,g,n),[n]),d.flags|=2048,no(9,wh.bind(null,d,g,c,i),void 0,null),c},useId:function(){var n=En(),i=Jt.identifierPrefix;if(Et){var c=$n,d=Wn;c=(d&~(1<<32-It(d)-1)).toString(32)+c,i=":"+i+"R"+c,c=to++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Av++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Mv={readContext:tn,useCallback:Ph,useContext:tn,useEffect:tu,useImperativeHandle:Dh,useInsertionEffect:Th,useLayoutEffect:Ch,useMemo:Fh,useReducer:Z0,useRef:kh,useState:function(){return Z0(ro)},useDebugValue:ru,useDeferredValue:function(n){var i=rn();return Oh(i,Gt.memoizedState,n)},useTransition:function(){var n=Z0(ro)[0],i=rn().memoizedState;return[n,i]},useMutableSource:vh,useSyncExternalStore:yh,useId:Mh,unstable_isNewReconciler:!1},Rv={readContext:tn,useCallback:Ph,useContext:tn,useEffect:tu,useImperativeHandle:Dh,useInsertionEffect:Th,useLayoutEffect:Ch,useMemo:Fh,useReducer:eu,useRef:kh,useState:function(){return eu(ro)},useDebugValue:ru,useDeferredValue:function(n){var i=rn();return Gt===null?i.memoizedState=n:Oh(i,Gt.memoizedState,n)},useTransition:function(){var n=eu(ro)[0],i=rn().memoizedState;return[n,i]},useMutableSource:vh,useSyncExternalStore:yh,useId:Mh,unstable_isNewReconciler:!1};function dn(n,i){if(n&&n.defaultProps){i=B({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function nu(n,i,c,d){i=n.memoizedState,c=c(d,i),c=c==null?i:B({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var zl={isMounted:function(n){return(n=n._reactInternals)?W(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var d=br(),p=Sa(n),g=Vn(d,p);g.payload=i,c!=null&&(g.callback=c),i=wa(n,g,p),i!==null&&(mn(i,n,p,d),Pl(i,n,p))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var d=br(),p=Sa(n),g=Vn(d,p);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=wa(n,g,p),i!==null&&(mn(i,n,p,d),Pl(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=br(),d=Sa(n),p=Vn(c,d);p.tag=2,i!=null&&(p.callback=i),i=wa(n,p,d),i!==null&&(mn(i,n,d,c),Pl(i,n,d))}};function Bh(n,i,c,d,p,g,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,S):i.prototype&&i.prototype.isPureReactComponent?!$i(c,d)||!$i(p,g):!0}function zh(n,i,c){var d=!1,p=va,g=i.contextType;return typeof g=="object"&&g!==null?g=tn(g):(p=Ar(i)?Za:fr.current,d=i.contextTypes,g=(d=d!=null)?Bs(n,p):va),i=new i(c,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zl,n.stateNode=i,i._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=g),i}function Uh(n,i,c,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==n&&zl.enqueueReplaceState(i,i.state,null)}function au(n,i,c,d){var p=n.stateNode;p.props=c,p.state=n.memoizedState,p.refs={},H0(n);var g=i.contextType;typeof g=="object"&&g!==null?p.context=tn(g):(g=Ar(i)?Za:fr.current,p.context=Bs(n,g)),p.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(nu(n,i,g,c),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&zl.enqueueReplaceState(p,p.state,null),Fl(n,c,p,d),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Ys(n,i){try{var c="",d=i;do c+=D(d),d=d.return;while(d);var p=c}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:p,digest:null}}function su(n,i,c){return{value:n,source:null,stack:c!=null?c:null,digest:i!=null?i:null}}function iu(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function Wh(n,i,c){c=Vn(-1,c),c.tag=3,c.payload={element:null};var d=i.value;return c.callback=function(){Yl||(Yl=!0,wu=d),iu(n,i)},c}function $h(n,i,c){c=Vn(-1,c),c.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;c.payload=function(){return d(p)},c.callback=function(){iu(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(c.callback=function(){iu(n,i),typeof d!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),c}function Hh(n,i,c){var d=n.pingCache;if(d===null){d=n.pingCache=new Iv;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(c)||(p.add(c),n=Qv.bind(null,n,i,c),i.then(n,n))}function Vh(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Gh(n,i,c,d,p){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Vn(-1,1),i.tag=2,wa(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var Lv=M.ReactCurrentOwner,Dr=!1;function yr(n,i,c,d){i.child=n===null?fh(i,null,c,d):$s(i,n.child,c,d)}function Yh(n,i,c,d,p){c=c.render;var g=i.ref;return Vs(i,p),d=Q0(n,i,c,d,g,p),c=J0(),n!==null&&!Dr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,Gn(n,i,p)):(Et&&c&&O0(i),i.flags|=1,yr(n,i,d,p),i.child)}function Xh(n,i,c,d,p){if(n===null){var g=c.type;return typeof g=="function"&&!Tu(g)&&g.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=g,Kh(n,i,g,d,p)):(n=Zl(c.type,null,d,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,(n.lanes&p)===0){var S=g.memoizedProps;if(c=c.compare,c=c!==null?c:$i,c(S,d)&&n.ref===i.ref)return Gn(n,i,p)}return i.flags|=1,n=Ea(g,d),n.ref=i.ref,n.return=i,i.child=n}function Kh(n,i,c,d,p){if(n!==null){var g=n.memoizedProps;if($i(g,d)&&n.ref===i.ref)if(Dr=!1,i.pendingProps=d=g,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Dr=!0);else return i.lanes=n.lanes,Gn(n,i,p)}return ou(n,i,c,d,p)}function qh(n,i,c){var d=i.pendingProps,p=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Ks,Vr),Vr|=c;else{if((c&1073741824)===0)return n=g!==null?g.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,wt(Ks,Vr),Vr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:c,wt(Ks,Vr),Vr|=d}else g!==null?(d=g.baseLanes|c,i.memoizedState=null):d=c,wt(Ks,Vr),Vr|=d;return yr(n,i,p,c),i.child}function Qh(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function ou(n,i,c,d,p){var g=Ar(c)?Za:fr.current;return g=Bs(i,g),Vs(i,p),c=Q0(n,i,c,d,g,p),d=J0(),n!==null&&!Dr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,Gn(n,i,p)):(Et&&d&&O0(i),i.flags|=1,yr(n,i,c,p),i.child)}function Jh(n,i,c,d,p){if(Ar(c)){var g=!0;jl(i)}else g=!1;if(Vs(i,p),i.stateNode===null)Wl(n,i),zh(i,c,d),au(i,c,d,p),d=!0;else if(n===null){var S=i.stateNode,G=i.memoizedProps;S.props=G;var Q=S.context,me=c.contextType;typeof me=="object"&&me!==null?me=tn(me):(me=Ar(c)?Za:fr.current,me=Bs(i,me));var Se=c.getDerivedStateFromProps,Te=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function";Te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(G!==d||Q!==me)&&Uh(i,S,d,me),ba=!1;var Ne=i.memoizedState;S.state=Ne,Fl(i,d,S,p),Q=i.memoizedState,G!==d||Ne!==Q||Cr.current||ba?(typeof Se=="function"&&(nu(i,c,Se,d),Q=i.memoizedState),(G=ba||Bh(i,c,G,d,Ne,Q,me))?(Te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Q),S.props=d,S.state=Q,S.context=me,d=G):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{S=i.stateNode,mh(n,i),G=i.memoizedProps,me=i.type===i.elementType?G:dn(i.type,G),S.props=me,Te=i.pendingProps,Ne=S.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=tn(Q):(Q=Ar(c)?Za:fr.current,Q=Bs(i,Q));var Le=c.getDerivedStateFromProps;(Se=typeof Le=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(G!==Te||Ne!==Q)&&Uh(i,S,d,Q),ba=!1,Ne=i.memoizedState,S.state=Ne,Fl(i,d,S,p);var Ue=i.memoizedState;G!==Te||Ne!==Ue||Cr.current||ba?(typeof Le=="function"&&(nu(i,c,Le,d),Ue=i.memoizedState),(me=ba||Bh(i,c,me,d,Ne,Ue,Q)||!1)?(Se||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Ue,Q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Ue,Q)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||G===n.memoizedProps&&Ne===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&Ne===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ue),S.props=d,S.state=Ue,S.context=Q,d=me):(typeof S.componentDidUpdate!="function"||G===n.memoizedProps&&Ne===n.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&Ne===n.memoizedState||(i.flags|=1024),d=!1)}return lu(n,i,c,d,g,p)}function lu(n,i,c,d,p,g){Qh(n,i);var S=(i.flags&128)!==0;if(!d&&!S)return p&&nh(i,c,!1),Gn(n,i,g);d=i.stateNode,Lv.current=i;var G=S&&typeof c.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,n!==null&&S?(i.child=$s(i,n.child,null,g),i.child=$s(i,null,G,g)):yr(n,i,G,g),i.memoizedState=d.state,p&&nh(i,c,!0),i.child}function Zh(n){var i=n.stateNode;i.pendingContext?th(n,i.pendingContext,i.pendingContext!==i.context):i.context&&th(n,i.context,!1),V0(n,i.containerInfo)}function em(n,i,c,d,p){return Ws(),L0(p),i.flags|=256,yr(n,i,c,d),i.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function uu(n){return{baseLanes:n,cachePool:null,transitions:null}}function tm(n,i,c){var d=i.pendingProps,p=At.current,g=!1,S=(i.flags&128)!==0,G;if((G=S)||(G=n!==null&&n.memoizedState===null?!1:(p&2)!==0),G?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),wt(At,p&1),n===null)return I0(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=d.children,n=d.fallback,g?(d=i.mode,g=i.child,S={mode:"hidden",children:S},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=S):g=ec(S,d,0,null),n=cs(n,d,c,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=uu(c),i.memoizedState=cu,n):du(i,S));if(p=n.memoizedState,p!==null&&(G=p.dehydrated,G!==null))return Bv(n,i,S,d,G,p,c);if(g){g=d.fallback,S=i.mode,p=n.child,G=p.sibling;var Q={mode:"hidden",children:d.children};return(S&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=Q,i.deletions=null):(d=Ea(p,Q),d.subtreeFlags=p.subtreeFlags&14680064),G!==null?g=Ea(G,g):(g=cs(g,S,c,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,S=n.child.memoizedState,S=S===null?uu(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=n.childLanes&~c,i.memoizedState=cu,d}return g=n.child,n=g.sibling,d=Ea(g,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=c),d.return=i,d.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=d,i.memoizedState=null,d}function du(n,i){return i=ec({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ul(n,i,c,d){return d!==null&&L0(d),$s(i,n.child,null,c),n=du(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Bv(n,i,c,d,p,g,S){if(c)return i.flags&256?(i.flags&=-257,d=su(Error(t(422))),Ul(n,i,S,d)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=d.fallback,p=i.mode,d=ec({mode:"visible",children:d.children},p,0,null),g=cs(g,p,S,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,(i.mode&1)!==0&&$s(i,n.child,null,S),i.child.memoizedState=uu(S),i.memoizedState=cu,g);if((i.mode&1)===0)return Ul(n,i,S,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var G=d.dgst;return d=G,g=Error(t(419)),d=su(g,d,void 0),Ul(n,i,S,d)}if(G=(S&n.childLanes)!==0,Dr||G){if(d=Jt,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|S))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Hn(n,p),mn(d,n,p,-1))}return Eu(),d=su(Error(t(421))),Ul(n,i,S,d)}return p.data==="$?"?(i.flags|=128,i.child=n.child,i=Jv.bind(null,n),p._reactRetry=i,null):(n=g.treeContext,Hr=pa(p.nextSibling),$r=i,Et=!0,un=null,n!==null&&(Zr[en++]=Wn,Zr[en++]=$n,Zr[en++]=es,Wn=n.id,$n=n.overflow,es=i),i=du(i,d.children),i.flags|=4096,i)}function rm(n,i,c){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),W0(n.return,i,c)}function fu(n,i,c,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=p)}function nm(n,i,c){var d=i.pendingProps,p=d.revealOrder,g=d.tail;if(yr(n,i,d.children,c),d=At.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rm(n,c,i);else if(n.tag===19)rm(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(wt(At,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)n=c.alternate,n!==null&&Ol(n)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),fu(i,!1,p,c,g);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Ol(n)===null){i.child=p;break}n=p.sibling,p.sibling=c,c=p,p=n}fu(i,!0,c,null,g);break;case"together":fu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Gn(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),ss|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,c=Ea(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Ea(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function zv(n,i,c){switch(i.tag){case 3:Zh(i),Ws();break;case 5:gh(i);break;case 1:Ar(i.type)&&jl(i);break;case 4:V0(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;wt(Al,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(wt(At,At.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?tm(n,i,c):(wt(At,At.current&1),n=Gn(n,i,c),n!==null?n.sibling:null);wt(At,At.current&1);break;case 19:if(d=(c&i.childLanes)!==0,(n.flags&128)!==0){if(d)return nm(n,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),wt(At,At.current),d)break;return null;case 22:case 23:return i.lanes=0,qh(n,i,c)}return Gn(n,i,c)}var am,hu,sm,im;am=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hu=function(){},sm=function(n,i,c,d){var p=n.memoizedProps;if(p!==d){n=i.stateNode,ns(kn.current);var g=null;switch(c){case"input":p=Ve(n,p),d=Ve(n,d),g=[];break;case"select":p=B({},p,{value:void 0}),d=B({},d,{value:void 0}),g=[];break;case"textarea":p=et(n,p),d=et(n,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=wl)}ki(c,d);var S;c=null;for(me in p)if(!d.hasOwnProperty(me)&&p.hasOwnProperty(me)&&p[me]!=null)if(me==="style"){var G=p[me];for(S in G)G.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(o.hasOwnProperty(me)?g||(g=[]):(g=g||[]).push(me,null));for(me in d){var Q=d[me];if(G=p!=null?p[me]:void 0,d.hasOwnProperty(me)&&Q!==G&&(Q!=null||G!=null))if(me==="style")if(G){for(S in G)!G.hasOwnProperty(S)||Q&&Q.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in Q)Q.hasOwnProperty(S)&&G[S]!==Q[S]&&(c||(c={}),c[S]=Q[S])}else c||(g||(g=[]),g.push(me,c)),c=Q;else me==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,G=G?G.__html:void 0,Q!=null&&G!==Q&&(g=g||[]).push(me,Q)):me==="children"?typeof Q!="string"&&typeof Q!="number"||(g=g||[]).push(me,""+Q):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(o.hasOwnProperty(me)?(Q!=null&&me==="onScroll"&&_t("scroll",n),g||G===Q||(g=[])):(g=g||[]).push(me,Q))}c&&(g=g||[]).push("style",c);var me=g;(i.updateQueue=me)&&(i.flags|=4)}},im=function(n,i,c,d){c!==d&&(i.flags|=4)};function ao(n,i){if(!Et)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function mr(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(i)for(var p=n.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=c,i}function Uv(n,i,c){var d=i.pendingProps;switch(M0(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(i),null;case 1:return Ar(i.type)&&_l(),mr(i),null;case 3:return d=i.stateNode,Gs(),jt(Cr),jt(fr),X0(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Tl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,un!==null&&(ju(un),un=null))),hu(n,i),mr(i),null;case 5:G0(i);var p=ns(Zi.current);if(c=i.type,n!==null&&i.stateNode!=null)sm(n,i,c,d,p),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return mr(i),null}if(n=ns(kn.current),Tl(i)){d=i.stateNode,c=i.type;var g=i.memoizedProps;switch(d[Sn]=i,d[Xi]=g,n=(i.mode&1)!==0,c){case"dialog":_t("cancel",d),_t("close",d);break;case"iframe":case"object":case"embed":_t("load",d);break;case"video":case"audio":for(p=0;p<Vi.length;p++)_t(Vi[p],d);break;case"source":_t("error",d);break;case"img":case"image":case"link":_t("error",d),_t("load",d);break;case"details":_t("toggle",d);break;case"input":xe(d,g),_t("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},_t("invalid",d);break;case"textarea":vr(d,g),_t("invalid",d)}ki(c,g),p=null;for(var S in g)if(g.hasOwnProperty(S)){var G=g[S];S==="children"?typeof G=="string"?d.textContent!==G&&(g.suppressHydrationWarning!==!0&&bl(d.textContent,G,n),p=["children",G]):typeof G=="number"&&d.textContent!==""+G&&(g.suppressHydrationWarning!==!0&&bl(d.textContent,G,n),p=["children",""+G]):o.hasOwnProperty(S)&&G!=null&&S==="onScroll"&&_t("scroll",d)}switch(c){case"input":_e(d),ve(d,g,!0);break;case"textarea":_e(d),_n(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=wl)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ss(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=S.createElement(c,{is:d.is}):(n=S.createElement(c),c==="select"&&(S=n,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):n=S.createElementNS(n,c),n[Sn]=i,n[Xi]=d,am(n,i,!1,!1),i.stateNode=n;e:{switch(S=Ei(c,d),c){case"dialog":_t("cancel",n),_t("close",n),p=d;break;case"iframe":case"object":case"embed":_t("load",n),p=d;break;case"video":case"audio":for(p=0;p<Vi.length;p++)_t(Vi[p],n);p=d;break;case"source":_t("error",n),p=d;break;case"img":case"image":case"link":_t("error",n),_t("load",n),p=d;break;case"details":_t("toggle",n),p=d;break;case"input":xe(n,d),p=Ve(n,d),_t("invalid",n);break;case"option":p=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},p=B({},d,{value:void 0}),_t("invalid",n);break;case"textarea":vr(n,d),p=et(n,d),_t("invalid",n);break;default:p=d}ki(c,p),G=p;for(g in G)if(G.hasOwnProperty(g)){var Q=G[g];g==="style"?Si(n,Q):g==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&qo(n,Q)):g==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&sa(n,Q):typeof Q=="number"&&sa(n,""+Q):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?Q!=null&&g==="onScroll"&&_t("scroll",n):Q!=null&&T(n,g,Q,S))}switch(c){case"input":_e(n),ve(n,d,!1);break;case"textarea":_e(n),_n(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ee(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?tt(n,!!d.multiple,g,!1):d.defaultValue!=null&&tt(n,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=wl)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return mr(i),null;case 6:if(n&&i.stateNode!=null)im(n,i,n.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(c=ns(Zi.current),ns(kn.current),Tl(i)){if(d=i.stateNode,c=i.memoizedProps,d[Sn]=i,(g=d.nodeValue!==c)&&(n=$r,n!==null))switch(n.tag){case 3:bl(d.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bl(d.nodeValue,c,(n.mode&1)!==0)}g&&(i.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Sn]=i,i.stateNode=d}return mr(i),null;case 13:if(jt(At),d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Et&&Hr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ch(),Ws(),i.flags|=98560,g=!1;else if(g=Tl(i),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Sn]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mr(i),g=!1}else un!==null&&(ju(un),un=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(At.current&1)!==0?Yt===0&&(Yt=3):Eu())),i.updateQueue!==null&&(i.flags|=4),mr(i),null);case 4:return Gs(),hu(n,i),n===null&&Gi(i.stateNode.containerInfo),mr(i),null;case 10:return U0(i.type._context),mr(i),null;case 17:return Ar(i.type)&&_l(),mr(i),null;case 19:if(jt(At),g=i.memoizedState,g===null)return mr(i),null;if(d=(i.flags&128)!==0,S=g.rendering,S===null)if(d)ao(g,!1);else{if(Yt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(S=Ol(n),S!==null){for(i.flags|=128,ao(g,!1),d=S.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=c,c=i.child;c!==null;)g=c,n=d,g.flags&=14680066,S=g.alternate,S===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,n=S.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return wt(At,At.current&1|2),i.child}n=n.sibling}g.tail!==null&&Ce()>qs&&(i.flags|=128,d=!0,ao(g,!1),i.lanes=4194304)}else{if(!d)if(n=Ol(S),n!==null){if(i.flags|=128,d=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ao(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Et)return mr(i),null}else 2*Ce()-g.renderingStartTime>qs&&c!==1073741824&&(i.flags|=128,d=!0,ao(g,!1),i.lanes=4194304);g.isBackwards?(S.sibling=i.child,i.child=S):(c=g.last,c!==null?c.sibling=S:i.child=S,g.last=S)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ce(),i.sibling=null,c=At.current,wt(At,d?c&1|2:c&1),i):(mr(i),null);case 22:case 23:return ku(),d=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Vr&1073741824)!==0&&(mr(i),i.subtreeFlags&6&&(i.flags|=8192)):mr(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Wv(n,i){switch(M0(i),i.tag){case 1:return Ar(i.type)&&_l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Gs(),jt(Cr),jt(fr),X0(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return G0(i),null;case 13:if(jt(At),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ws()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return jt(At),null;case 4:return Gs(),null;case 10:return U0(i.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var $l=!1,xr=!1,$v=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Xs(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){Ft(n,i,d)}else c.current=null}function mu(n,i,c){try{c()}catch(d){Ft(n,i,d)}}var om=!1;function Hv(n,i){if(k0=cl,n=Bf(),v0(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var S=0,G=-1,Q=-1,me=0,Se=0,Te=n,Ne=null;t:for(;;){for(var Le;Te!==c||p!==0&&Te.nodeType!==3||(G=S+p),Te!==g||d!==0&&Te.nodeType!==3||(Q=S+d),Te.nodeType===3&&(S+=Te.nodeValue.length),(Le=Te.firstChild)!==null;)Ne=Te,Te=Le;for(;;){if(Te===n)break t;if(Ne===c&&++me===p&&(G=S),Ne===g&&++Se===d&&(Q=S),(Le=Te.nextSibling)!==null)break;Te=Ne,Ne=Te.parentNode}Te=Le}c=G===-1||Q===-1?null:{start:G,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(E0={focusedElem:n,selectionRange:c},cl=!1,ze=i;ze!==null;)if(i=ze,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ze=n;else for(;ze!==null;){i=ze;try{var Ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var $e=Ue.memoizedProps,Lt=Ue.memoizedState,ae=i.stateNode,Z=ae.getSnapshotBeforeUpdate(i.elementType===i.type?$e:dn(i.type,$e),Lt);ae.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var oe=i.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(De){Ft(i,i.return,De)}if(n=i.sibling,n!==null){n.return=i.return,ze=n;break}ze=i.return}return Ue=om,om=!1,Ue}function so(n,i,c){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&n)===n){var g=p.destroy;p.destroy=void 0,g!==void 0&&mu(i,c,g)}p=p.next}while(p!==d)}}function Hl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var d=c.create;c.destroy=d()}c=c.next}while(c!==i)}}function xu(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function lm(n){var i=n.alternate;i!==null&&(n.alternate=null,lm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Sn],delete i[Xi],delete i[D0],delete i[kv],delete i[Ev])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cm(n){return n.tag===5||n.tag===3||n.tag===4}function um(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pu(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=wl));else if(d!==4&&(n=n.child,n!==null))for(pu(n,i,c),n=n.sibling;n!==null;)pu(n,i,c),n=n.sibling}function gu(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(gu(n,i,c),n=n.sibling;n!==null;)gu(n,i,c),n=n.sibling}var nr=null,fn=!1;function Na(n,i,c){for(c=c.child;c!==null;)dm(n,i,c),c=c.sibling}function dm(n,i,c){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(jn,c)}catch{}switch(c.tag){case 5:xr||Xs(c,i);case 6:var d=nr,p=fn;nr=null,Na(n,i,c),nr=d,fn=p,nr!==null&&(fn?(n=nr,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):nr.removeChild(c.stateNode));break;case 18:nr!==null&&(fn?(n=nr,c=c.stateNode,n.nodeType===8?A0(n.parentNode,c):n.nodeType===1&&A0(n,c),Ii(n)):A0(nr,c.stateNode));break;case 4:d=nr,p=fn,nr=c.stateNode.containerInfo,fn=!0,Na(n,i,c),nr=d,fn=p;break;case 0:case 11:case 14:case 15:if(!xr&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,S=g.destroy;g=g.tag,S!==void 0&&((g&2)!==0||(g&4)!==0)&&mu(c,i,S),p=p.next}while(p!==d)}Na(n,i,c);break;case 1:if(!xr&&(Xs(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(G){Ft(c,i,G)}Na(n,i,c);break;case 21:Na(n,i,c);break;case 22:c.mode&1?(xr=(d=xr)||c.memoizedState!==null,Na(n,i,c),xr=d):Na(n,i,c);break;default:Na(n,i,c)}}function fm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new $v),i.forEach(function(d){var p=Zv.bind(null,n,d);c.has(d)||(c.add(d),d.then(p,p))})}}function hn(n,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];try{var g=n,S=i,G=S;e:for(;G!==null;){switch(G.tag){case 5:nr=G.stateNode,fn=!1;break e;case 3:nr=G.stateNode.containerInfo,fn=!0;break e;case 4:nr=G.stateNode.containerInfo,fn=!0;break e}G=G.return}if(nr===null)throw Error(t(160));dm(g,S,p),nr=null,fn=!1;var Q=p.alternate;Q!==null&&(Q.return=null),p.return=null}catch(me){Ft(p,i,me)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hm(i,n),i=i.sibling}function hm(n,i){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hn(i,n),Tn(n),d&4){try{so(3,n,n.return),Hl(3,n)}catch($e){Ft(n,n.return,$e)}try{so(5,n,n.return)}catch($e){Ft(n,n.return,$e)}}break;case 1:hn(i,n),Tn(n),d&512&&c!==null&&Xs(c,c.return);break;case 5:if(hn(i,n),Tn(n),d&512&&c!==null&&Xs(c,c.return),n.flags&32){var p=n.stateNode;try{sa(p,"")}catch($e){Ft(n,n.return,$e)}}if(d&4&&(p=n.stateNode,p!=null)){var g=n.memoizedProps,S=c!==null?c.memoizedProps:g,G=n.type,Q=n.updateQueue;if(n.updateQueue=null,Q!==null)try{G==="input"&&g.type==="radio"&&g.name!=null&&je(p,g),Ei(G,S);var me=Ei(G,g);for(S=0;S<Q.length;S+=2){var Se=Q[S],Te=Q[S+1];Se==="style"?Si(p,Te):Se==="dangerouslySetInnerHTML"?qo(p,Te):Se==="children"?sa(p,Te):T(p,Se,Te,me)}switch(G){case"input":H(p,g);break;case"textarea":dr(p,g);break;case"select":var Ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var Le=g.value;Le!=null?tt(p,!!g.multiple,Le,!1):Ne!==!!g.multiple&&(g.defaultValue!=null?tt(p,!!g.multiple,g.defaultValue,!0):tt(p,!!g.multiple,g.multiple?[]:"",!1))}p[Xi]=g}catch($e){Ft(n,n.return,$e)}}break;case 6:if(hn(i,n),Tn(n),d&4){if(n.stateNode===null)throw Error(t(162));p=n.stateNode,g=n.memoizedProps;try{p.nodeValue=g}catch($e){Ft(n,n.return,$e)}}break;case 3:if(hn(i,n),Tn(n),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ii(i.containerInfo)}catch($e){Ft(n,n.return,$e)}break;case 4:hn(i,n),Tn(n);break;case 13:hn(i,n),Tn(n),p=n.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(bu=Ce())),d&4&&fm(n);break;case 22:if(Se=c!==null&&c.memoizedState!==null,n.mode&1?(xr=(me=xr)||Se,hn(i,n),xr=me):hn(i,n),Tn(n),d&8192){if(me=n.memoizedState!==null,(n.stateNode.isHidden=me)&&!Se&&(n.mode&1)!==0)for(ze=n,Se=n.child;Se!==null;){for(Te=ze=Se;ze!==null;){switch(Ne=ze,Le=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:so(4,Ne,Ne.return);break;case 1:Xs(Ne,Ne.return);var Ue=Ne.stateNode;if(typeof Ue.componentWillUnmount=="function"){d=Ne,c=Ne.return;try{i=d,Ue.props=i.memoizedProps,Ue.state=i.memoizedState,Ue.componentWillUnmount()}catch($e){Ft(d,c,$e)}}break;case 5:Xs(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){pm(Te);continue}}Le!==null?(Le.return=Ne,ze=Le):pm(Te)}Se=Se.sibling}e:for(Se=null,Te=n;;){if(Te.tag===5){if(Se===null){Se=Te;try{p=Te.stateNode,me?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(G=Te.stateNode,Q=Te.memoizedProps.style,S=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,G.style.display=ji("display",S))}catch($e){Ft(n,n.return,$e)}}}else if(Te.tag===6){if(Se===null)try{Te.stateNode.nodeValue=me?"":Te.memoizedProps}catch($e){Ft(n,n.return,$e)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===n)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===n)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===n)break e;Se===Te&&(Se=null),Te=Te.return}Se===Te&&(Se=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:hn(i,n),Tn(n),d&4&&fm(n);break;case 21:break;default:hn(i,n),Tn(n)}}function Tn(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(cm(c)){var d=c;break e}c=c.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(sa(p,""),d.flags&=-33);var g=um(n);gu(n,g,p);break;case 3:case 4:var S=d.stateNode.containerInfo,G=um(n);pu(n,G,S);break;default:throw Error(t(161))}}catch(Q){Ft(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Vv(n,i,c){ze=n,mm(n)}function mm(n,i,c){for(var d=(n.mode&1)!==0;ze!==null;){var p=ze,g=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||$l;if(!S){var G=p.alternate,Q=G!==null&&G.memoizedState!==null||xr;G=$l;var me=xr;if($l=S,(xr=Q)&&!me)for(ze=p;ze!==null;)S=ze,Q=S.child,S.tag===22&&S.memoizedState!==null?gm(p):Q!==null?(Q.return=S,ze=Q):gm(p);for(;g!==null;)ze=g,mm(g),g=g.sibling;ze=p,$l=G,xr=me}xm(n)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ze=g):xm(n)}}function xm(n){for(;ze!==null;){var i=ze;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:xr||Hl(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!xr)if(c===null)d.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:dn(i.type,c.memoizedProps);d.componentDidUpdate(p,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&ph(i,g,d);break;case 3:var S=i.updateQueue;if(S!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}ph(i,S,c)}break;case 5:var G=i.stateNode;if(c===null&&i.flags&4){c=G;var Q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var me=i.alternate;if(me!==null){var Se=me.memoizedState;if(Se!==null){var Te=Se.dehydrated;Te!==null&&Ii(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xr||i.flags&512&&xu(i)}catch(Ne){Ft(i,i.return,Ne)}}if(i===n){ze=null;break}if(c=i.sibling,c!==null){c.return=i.return,ze=c;break}ze=i.return}}function pm(n){for(;ze!==null;){var i=ze;if(i===n){ze=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ze=c;break}ze=i.return}}function gm(n){for(;ze!==null;){var i=ze;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Hl(4,i)}catch(Q){Ft(i,c,Q)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(Q){Ft(i,p,Q)}}var g=i.return;try{xu(i)}catch(Q){Ft(i,g,Q)}break;case 5:var S=i.return;try{xu(i)}catch(Q){Ft(i,S,Q)}}}catch(Q){Ft(i,i.return,Q)}if(i===n){ze=null;break}var G=i.sibling;if(G!==null){G.return=i.return,ze=G;break}ze=i.return}}var Gv=Math.ceil,Vl=M.ReactCurrentDispatcher,vu=M.ReactCurrentOwner,nn=M.ReactCurrentBatchConfig,st=0,Jt=null,Wt=null,ar=0,Vr=0,Ks=ga(0),Yt=0,io=null,ss=0,Gl=0,yu=0,oo=null,Pr=null,bu=0,qs=1/0,Yn=null,Yl=!1,wu=null,_a=null,Xl=!1,ja=null,Kl=0,lo=0,Nu=null,ql=-1,Ql=0;function br(){return(st&6)!==0?Ce():ql!==-1?ql:ql=Ce()}function Sa(n){return(n.mode&1)===0?1:(st&2)!==0&&ar!==0?ar&-ar:Cv.transition!==null?(Ql===0&&(Ql=uf()),Ql):(n=ft,n!==0||(n=window.event,n=n===void 0?16:yf(n.type)),n)}function mn(n,i,c,d){if(50<lo)throw lo=0,Nu=null,Error(t(185));Pi(n,c,d),((st&2)===0||n!==Jt)&&(n===Jt&&((st&2)===0&&(Gl|=c),Yt===4&&ka(n,ar)),Fr(n,d),c===1&&st===0&&(i.mode&1)===0&&(qs=Ce()+500,Sl&&ya()))}function Fr(n,i){var c=n.callbackNode;C1(n,i);var d=il(n,n===Jt?ar:0);if(d===0)c!==null&&Re(c),n.callbackNode=null,n.callbackPriority=0;else if(i=d&-d,n.callbackPriority!==i){if(c!=null&&Re(c),i===1)n.tag===0?Tv(ym.bind(null,n)):ah(ym.bind(null,n)),jv(function(){(st&6)===0&&ya()}),c=null;else{switch(df(d)){case 1:c=yt;break;case 4:c=bt;break;case 16:c=Rt;break;case 536870912:c=ca;break;default:c=Rt}c=Em(c,vm.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function vm(n,i){if(ql=-1,Ql=0,(st&6)!==0)throw Error(t(327));var c=n.callbackNode;if(Qs()&&n.callbackNode!==c)return null;var d=il(n,n===Jt?ar:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||i)i=Jl(n,d);else{i=d;var p=st;st|=2;var g=wm();(Jt!==n||ar!==i)&&(Yn=null,qs=Ce()+500,os(n,i));do try{Kv();break}catch(G){bm(n,G)}while(!0);z0(),Vl.current=g,st=p,Wt!==null?i=0:(Jt=null,ar=0,i=Yt)}if(i!==0){if(i===2&&(p=r0(n),p!==0&&(d=p,i=_u(n,p))),i===1)throw c=io,os(n,0),ka(n,d),Fr(n,Ce()),c;if(i===6)ka(n,d);else{if(p=n.current.alternate,(d&30)===0&&!Yv(p)&&(i=Jl(n,d),i===2&&(g=r0(n),g!==0&&(d=g,i=_u(n,g))),i===1))throw c=io,os(n,0),ka(n,d),Fr(n,Ce()),c;switch(n.finishedWork=p,n.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ls(n,Pr,Yn);break;case 3:if(ka(n,d),(d&130023424)===d&&(i=bu+500-Ce(),10<i)){if(il(n,0)!==0)break;if(p=n.suspendedLanes,(p&d)!==d){br(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=C0(ls.bind(null,n,Pr,Yn),i);break}ls(n,Pr,Yn);break;case 4:if(ka(n,d),(d&4194240)===d)break;for(i=n.eventTimes,p=-1;0<d;){var S=31-It(d);g=1<<S,S=i[S],S>p&&(p=S),d&=~g}if(d=p,d=Ce()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Gv(d/1960))-d,10<d){n.timeoutHandle=C0(ls.bind(null,n,Pr,Yn),d);break}ls(n,Pr,Yn);break;case 5:ls(n,Pr,Yn);break;default:throw Error(t(329))}}}return Fr(n,Ce()),n.callbackNode===c?vm.bind(null,n):null}function _u(n,i){var c=oo;return n.current.memoizedState.isDehydrated&&(os(n,i).flags|=256),n=Jl(n,i),n!==2&&(i=Pr,Pr=c,i!==null&&ju(i)),n}function ju(n){Pr===null?Pr=n:Pr.push.apply(Pr,n)}function Yv(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var p=c[d],g=p.getSnapshot;p=p.value;try{if(!cn(g(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ka(n,i){for(i&=~yu,i&=~Gl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-It(i),d=1<<c;n[c]=-1,i&=~d}}function ym(n){if((st&6)!==0)throw Error(t(327));Qs();var i=il(n,0);if((i&1)===0)return Fr(n,Ce()),null;var c=Jl(n,i);if(n.tag!==0&&c===2){var d=r0(n);d!==0&&(i=d,c=_u(n,d))}if(c===1)throw c=io,os(n,0),ka(n,i),Fr(n,Ce()),c;if(c===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ls(n,Pr,Yn),Fr(n,Ce()),null}function Su(n,i){var c=st;st|=1;try{return n(i)}finally{st=c,st===0&&(qs=Ce()+500,Sl&&ya())}}function is(n){ja!==null&&ja.tag===0&&(st&6)===0&&Qs();var i=st;st|=1;var c=nn.transition,d=ft;try{if(nn.transition=null,ft=1,n)return n()}finally{ft=d,nn.transition=c,st=i,(st&6)===0&&ya()}}function ku(){Vr=Ks.current,jt(Ks)}function os(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,_v(c)),Wt!==null)for(c=Wt.return;c!==null;){var d=c;switch(M0(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&_l();break;case 3:Gs(),jt(Cr),jt(fr),X0();break;case 5:G0(d);break;case 4:Gs();break;case 13:jt(At);break;case 19:jt(At);break;case 10:U0(d.type._context);break;case 22:case 23:ku()}c=c.return}if(Jt=n,Wt=n=Ea(n.current,null),ar=Vr=i,Yt=0,io=null,yu=Gl=ss=0,Pr=oo=null,rs!==null){for(i=0;i<rs.length;i++)if(c=rs[i],d=c.interleaved,d!==null){c.interleaved=null;var p=d.next,g=c.pending;if(g!==null){var S=g.next;g.next=p,d.next=S}c.pending=d}rs=null}return n}function bm(n,i){do{var c=Wt;try{if(z0(),Ml.current=Bl,Rl){for(var d=Dt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Rl=!1}if(as=0,Qt=Gt=Dt=null,eo=!1,to=0,vu.current=null,c===null||c.return===null){Yt=1,io=i,Wt=null;break}e:{var g=n,S=c.return,G=c,Q=i;if(i=ar,G.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=Q,Se=G,Te=Se.tag;if((Se.mode&1)===0&&(Te===0||Te===11||Te===15)){var Ne=Se.alternate;Ne?(Se.updateQueue=Ne.updateQueue,Se.memoizedState=Ne.memoizedState,Se.lanes=Ne.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Le=Vh(S);if(Le!==null){Le.flags&=-257,Gh(Le,S,G,g,i),Le.mode&1&&Hh(g,me,i),i=Le,Q=me;var Ue=i.updateQueue;if(Ue===null){var $e=new Set;$e.add(Q),i.updateQueue=$e}else Ue.add(Q);break e}else{if((i&1)===0){Hh(g,me,i),Eu();break e}Q=Error(t(426))}}else if(Et&&G.mode&1){var Lt=Vh(S);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Gh(Lt,S,G,g,i),L0(Ys(Q,G));break e}}g=Q=Ys(Q,G),Yt!==4&&(Yt=2),oo===null?oo=[g]:oo.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var ae=Wh(g,Q,i);xh(g,ae);break e;case 1:G=Q;var Z=g.type,oe=g.stateNode;if((g.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(_a===null||!_a.has(oe)))){g.flags|=65536,i&=-i,g.lanes|=i;var De=$h(g,G,i);xh(g,De);break e}}g=g.return}while(g!==null)}_m(c)}catch(He){i=He,Wt===c&&c!==null&&(Wt=c=c.return);continue}break}while(!0)}function wm(){var n=Vl.current;return Vl.current=Bl,n===null?Bl:n}function Eu(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),Jt===null||(ss&268435455)===0&&(Gl&268435455)===0||ka(Jt,ar)}function Jl(n,i){var c=st;st|=2;var d=wm();(Jt!==n||ar!==i)&&(Yn=null,os(n,i));do try{Xv();break}catch(p){bm(n,p)}while(!0);if(z0(),st=c,Vl.current=d,Wt!==null)throw Error(t(261));return Jt=null,ar=0,Yt}function Xv(){for(;Wt!==null;)Nm(Wt)}function Kv(){for(;Wt!==null&&!Be();)Nm(Wt)}function Nm(n){var i=km(n.alternate,n,Vr);n.memoizedProps=n.pendingProps,i===null?_m(n):Wt=i,vu.current=null}function _m(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=Uv(c,i,Vr),c!==null){Wt=c;return}}else{if(c=Wv(c,i),c!==null){c.flags&=32767,Wt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yt=6,Wt=null;return}}if(i=i.sibling,i!==null){Wt=i;return}Wt=i=n}while(i!==null);Yt===0&&(Yt=5)}function ls(n,i,c){var d=ft,p=nn.transition;try{nn.transition=null,ft=1,qv(n,i,c,d)}finally{nn.transition=p,ft=d}return null}function qv(n,i,c,d){do Qs();while(ja!==null);if((st&6)!==0)throw Error(t(327));c=n.finishedWork;var p=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=c.lanes|c.childLanes;if(A1(n,g),n===Jt&&(Wt=Jt=null,ar=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Xl||(Xl=!0,Em(Rt,function(){return Qs(),null})),g=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||g){g=nn.transition,nn.transition=null;var S=ft;ft=1;var G=st;st|=4,vu.current=null,Hv(n,c),hm(c,n),pv(E0),cl=!!k0,E0=k0=null,n.current=c,Vv(c),Ae(),st=G,ft=S,nn.transition=g}else n.current=c;if(Xl&&(Xl=!1,ja=n,Kl=p),g=n.pendingLanes,g===0&&(_a=null),Ai(c.stateNode),Fr(n,Ce()),i!==null)for(d=n.onRecoverableError,c=0;c<i.length;c++)p=i[c],d(p.value,{componentStack:p.stack,digest:p.digest});if(Yl)throw Yl=!1,n=wu,wu=null,n;return(Kl&1)!==0&&n.tag!==0&&Qs(),g=n.pendingLanes,(g&1)!==0?n===Nu?lo++:(lo=0,Nu=n):lo=0,ya(),null}function Qs(){if(ja!==null){var n=df(Kl),i=nn.transition,c=ft;try{if(nn.transition=null,ft=16>n?16:n,ja===null)var d=!1;else{if(n=ja,ja=null,Kl=0,(st&6)!==0)throw Error(t(331));var p=st;for(st|=4,ze=n.current;ze!==null;){var g=ze,S=g.child;if((ze.flags&16)!==0){var G=g.deletions;if(G!==null){for(var Q=0;Q<G.length;Q++){var me=G[Q];for(ze=me;ze!==null;){var Se=ze;switch(Se.tag){case 0:case 11:case 15:so(8,Se,g)}var Te=Se.child;if(Te!==null)Te.return=Se,ze=Te;else for(;ze!==null;){Se=ze;var Ne=Se.sibling,Le=Se.return;if(lm(Se),Se===me){ze=null;break}if(Ne!==null){Ne.return=Le,ze=Ne;break}ze=Le}}}var Ue=g.alternate;if(Ue!==null){var $e=Ue.child;if($e!==null){Ue.child=null;do{var Lt=$e.sibling;$e.sibling=null,$e=Lt}while($e!==null)}}ze=g}}if((g.subtreeFlags&2064)!==0&&S!==null)S.return=g,ze=S;else e:for(;ze!==null;){if(g=ze,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:so(9,g,g.return)}var ae=g.sibling;if(ae!==null){ae.return=g.return,ze=ae;break e}ze=g.return}}var Z=n.current;for(ze=Z;ze!==null;){S=ze;var oe=S.child;if((S.subtreeFlags&2064)!==0&&oe!==null)oe.return=S,ze=oe;else e:for(S=Z;ze!==null;){if(G=ze,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Hl(9,G)}}catch(He){Ft(G,G.return,He)}if(G===S){ze=null;break e}var De=G.sibling;if(De!==null){De.return=G.return,ze=De;break e}ze=G.return}}if(st=p,ya(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(jn,n)}catch{}d=!0}return d}finally{ft=c,nn.transition=i}}return!1}function jm(n,i,c){i=Ys(c,i),i=Wh(n,i,1),n=wa(n,i,1),i=br(),n!==null&&(Pi(n,1,i),Fr(n,i))}function Ft(n,i,c){if(n.tag===3)jm(n,n,c);else for(;i!==null;){if(i.tag===3){jm(i,n,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_a===null||!_a.has(d))){n=Ys(c,n),n=$h(i,n,1),i=wa(i,n,1),n=br(),i!==null&&(Pi(i,1,n),Fr(i,n));break}}i=i.return}}function Qv(n,i,c){var d=n.pingCache;d!==null&&d.delete(i),i=br(),n.pingedLanes|=n.suspendedLanes&c,Jt===n&&(ar&c)===c&&(Yt===4||Yt===3&&(ar&130023424)===ar&&500>Ce()-bu?os(n,0):yu|=c),Fr(n,i)}function Sm(n,i){i===0&&((n.mode&1)===0?i=1:(i=sl,sl<<=1,(sl&130023424)===0&&(sl=4194304)));var c=br();n=Hn(n,i),n!==null&&(Pi(n,i,c),Fr(n,c))}function Jv(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),Sm(n,c)}function Zv(n,i){var c=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Sm(n,c)}var km;km=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Cr.current)Dr=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return Dr=!1,zv(n,i,c);Dr=(n.flags&131072)!==0}else Dr=!1,Et&&(i.flags&1048576)!==0&&sh(i,El,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Wl(n,i),n=i.pendingProps;var p=Bs(i,fr.current);Vs(i,c),p=Q0(null,i,d,n,p,c);var g=J0();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ar(d)?(g=!0,jl(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,H0(i),p.updater=zl,i.stateNode=p,p._reactInternals=i,au(i,d,n,c),i=lu(null,i,d,!0,g,c)):(i.tag=0,Et&&g&&O0(i),yr(null,i,p,c),i=i.child),i;case 16:d=i.elementType;e:{switch(Wl(n,i),n=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=t2(d),n=dn(d,n),p){case 0:i=ou(null,i,d,n,c);break e;case 1:i=Jh(null,i,d,n,c);break e;case 11:i=Yh(null,i,d,n,c);break e;case 14:i=Xh(null,i,d,dn(d.type,n),c);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:dn(d,p),ou(n,i,d,p,c);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:dn(d,p),Jh(n,i,d,p,c);case 3:e:{if(Zh(i),n===null)throw Error(t(387));d=i.pendingProps,g=i.memoizedState,p=g.element,mh(n,i),Fl(i,d,null,c);var S=i.memoizedState;if(d=S.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=Ys(Error(t(423)),i),i=em(n,i,d,c,p);break e}else if(d!==p){p=Ys(Error(t(424)),i),i=em(n,i,d,c,p);break e}else for(Hr=pa(i.stateNode.containerInfo.firstChild),$r=i,Et=!0,un=null,c=fh(i,null,d,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ws(),d===p){i=Gn(n,i,c);break e}yr(n,i,d,c)}i=i.child}return i;case 5:return gh(i),n===null&&I0(i),d=i.type,p=i.pendingProps,g=n!==null?n.memoizedProps:null,S=p.children,T0(d,p)?S=null:g!==null&&T0(d,g)&&(i.flags|=32),Qh(n,i),yr(n,i,S,c),i.child;case 6:return n===null&&I0(i),null;case 13:return tm(n,i,c);case 4:return V0(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=$s(i,null,d,c):yr(n,i,d,c),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:dn(d,p),Yh(n,i,d,p,c);case 7:return yr(n,i,i.pendingProps,c),i.child;case 8:return yr(n,i,i.pendingProps.children,c),i.child;case 12:return yr(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,g=i.memoizedProps,S=p.value,wt(Al,d._currentValue),d._currentValue=S,g!==null)if(cn(g.value,S)){if(g.children===p.children&&!Cr.current){i=Gn(n,i,c);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var G=g.dependencies;if(G!==null){S=g.child;for(var Q=G.firstContext;Q!==null;){if(Q.context===d){if(g.tag===1){Q=Vn(-1,c&-c),Q.tag=2;var me=g.updateQueue;if(me!==null){me=me.shared;var Se=me.pending;Se===null?Q.next=Q:(Q.next=Se.next,Se.next=Q),me.pending=Q}}g.lanes|=c,Q=g.alternate,Q!==null&&(Q.lanes|=c),W0(g.return,c,i),G.lanes|=c;break}Q=Q.next}}else if(g.tag===10)S=g.type===i.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(t(341));S.lanes|=c,G=S.alternate,G!==null&&(G.lanes|=c),W0(S,c,i),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}yr(n,i,p.children,c),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Vs(i,c),p=tn(p),d=d(p),i.flags|=1,yr(n,i,d,c),i.child;case 14:return d=i.type,p=dn(d,i.pendingProps),p=dn(d.type,p),Xh(n,i,d,p,c);case 15:return Kh(n,i,i.type,i.pendingProps,c);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:dn(d,p),Wl(n,i),i.tag=1,Ar(d)?(n=!0,jl(i)):n=!1,Vs(i,c),zh(i,d,p),au(i,d,p,c),lu(null,i,d,!0,n,c);case 19:return nm(n,i,c);case 22:return qh(n,i,c)}throw Error(t(156,i.tag))};function Em(n,i){return Ee(n,i)}function e2(n,i,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,i,c,d){return new e2(n,i,c,d)}function Tu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function t2(n){if(typeof n=="function")return Tu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q)return 11;if(n===ke)return 14}return 2}function Ea(n,i){var c=n.alternate;return c===null?(c=an(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function Zl(n,i,c,d,p,g){var S=2;if(d=n,typeof n=="function")Tu(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case Y:return cs(c.children,p,g,i);case te:S=8,p|=8;break;case J:return n=an(12,c,i,p|2),n.elementType=J,n.lanes=g,n;case ie:return n=an(13,c,i,p),n.elementType=ie,n.lanes=g,n;case Pe:return n=an(19,c,i,p),n.elementType=Pe,n.lanes=g,n;case ye:return ec(c,p,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case de:S=10;break e;case pe:S=9;break e;case q:S=11;break e;case ke:S=14;break e;case We:S=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=an(S,c,i,p),i.elementType=n,i.type=d,i.lanes=g,i}function cs(n,i,c,d){return n=an(7,n,d,i),n.lanes=c,n}function ec(n,i,c,d){return n=an(22,n,d,i),n.elementType=ye,n.lanes=c,n.stateNode={isHidden:!1},n}function Cu(n,i,c){return n=an(6,n,null,i),n.lanes=c,n}function Au(n,i,c){return i=an(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function r2(n,i,c,d,p){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n0(0),this.expirationTimes=n0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n0(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Du(n,i,c,d,p,g,S,G,Q){return n=new r2(n,i,c,G,Q),i===1?(i=1,g===!0&&(i|=8)):i=0,g=an(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},H0(g),n}function n2(n,i,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:n,containerInfo:i,implementation:c}}function Tm(n){if(!n)return va;n=n._reactInternals;e:{if(W(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ar(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var c=n.type;if(Ar(c))return rh(n,c,i)}return i}function Cm(n,i,c,d,p,g,S,G,Q){return n=Du(c,d,!0,n,p,g,S,G,Q),n.context=Tm(null),c=n.current,d=br(),p=Sa(c),g=Vn(d,p),g.callback=i!=null?i:null,wa(c,g,p),n.current.lanes=p,Pi(n,p,d),Fr(n,d),n}function tc(n,i,c,d){var p=i.current,g=br(),S=Sa(p);return c=Tm(c),i.context===null?i.context=c:i.pendingContext=c,i=Vn(g,S),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=wa(p,i,S),n!==null&&(mn(n,p,S,g),Pl(n,p,S)),S}function rc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Am(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function Pu(n,i){Am(n,i),(n=n.alternate)&&Am(n,i)}function a2(){return null}var Dm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Fu(n){this._internalRoot=n}nc.prototype.render=Fu.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));tc(n,i,null,null)},nc.prototype.unmount=Fu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;is(function(){tc(null,n,null,null)}),i[zn]=null}};function nc(n){this._internalRoot=n}nc.prototype.unstable_scheduleHydration=function(n){if(n){var i=mf();n={blockedOn:null,target:n,priority:i};for(var c=0;c<ha.length&&i!==0&&i<ha[c].priority;c++);ha.splice(c,0,n),c===0&&gf(n)}};function Ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ac(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function s2(n,i,c,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var me=rc(S);g.call(me)}}var S=Cm(i,d,n,0,null,!1,!1,"",Pm);return n._reactRootContainer=S,n[zn]=S.current,Gi(n.nodeType===8?n.parentNode:n),is(),S}for(;p=n.lastChild;)n.removeChild(p);if(typeof d=="function"){var G=d;d=function(){var me=rc(Q);G.call(me)}}var Q=Du(n,0,!1,null,null,!1,!1,"",Pm);return n._reactRootContainer=Q,n[zn]=Q.current,Gi(n.nodeType===8?n.parentNode:n),is(function(){tc(i,Q,c,d)}),Q}function sc(n,i,c,d,p){var g=c._reactRootContainer;if(g){var S=g;if(typeof p=="function"){var G=p;p=function(){var Q=rc(S);G.call(Q)}}tc(i,S,n,p)}else S=s2(c,i,n,p,d);return rc(S)}ff=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Di(i.pendingLanes);c!==0&&(a0(i,c|1),Fr(i,Ce()),(st&6)===0&&(qs=Ce()+500,ya()))}break;case 13:is(function(){var d=Hn(n,1);if(d!==null){var p=br();mn(d,n,1,p)}}),Pu(n,1)}},s0=function(n){if(n.tag===13){var i=Hn(n,134217728);if(i!==null){var c=br();mn(i,n,134217728,c)}Pu(n,134217728)}},hf=function(n){if(n.tag===13){var i=Sa(n),c=Hn(n,i);if(c!==null){var d=br();mn(c,n,i,d)}Pu(n,i)}},mf=function(){return ft},xf=function(n,i){var c=ft;try{return ft=n,i()}finally{ft=c}},Ts=function(n,i,c){switch(i){case"input":if(H(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var d=c[i];if(d!==n&&d.form===n.form){var p=Nl(d);if(!p)throw Error(t(90));Me(d),H(d,p)}}}break;case"textarea":dr(n,c);break;case"select":i=c.value,i!=null&&tt(n,!!c.multiple,i,!1)}},tl=Su,rl=is;var i2={usingClientEntryPoint:!1,Events:[Ki,Is,Nl,Zo,el,Su]},co={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o2={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ue(n),n===null?null:n.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||a2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{jn=ic.inject(o2),qt=ic}catch{}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2,Or.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(i))throw Error(t(200));return n2(n,i,null,c)},Or.createRoot=function(n,i){if(!Ou(n))throw Error(t(299));var c=!1,d="",p=Dm;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Du(n,1,!1,null,null,c,!1,d,p),n[zn]=i.current,Gi(n.nodeType===8?n.parentNode:n),new Fu(i)},Or.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ue(i),n=n===null?null:n.stateNode,n},Or.flushSync=function(n){return is(n)},Or.hydrate=function(n,i,c){if(!ac(i))throw Error(t(200));return sc(null,n,i,!0,c)},Or.hydrateRoot=function(n,i,c){if(!Ou(n))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,p=!1,g="",S=Dm;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),i=Cm(i,null,n,1,c!=null?c:null,p,!1,g,S),n[zn]=i.current,Gi(n),d)for(n=0;n<d.length;n++)c=d[n],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new nc(i)},Or.render=function(n,i,c){if(!ac(i))throw Error(t(200));return sc(null,n,i,!1,c)},Or.unmountComponentAtNode=function(n){if(!ac(n))throw Error(t(40));return n._reactRootContainer?(is(function(){sc(null,null,n,!1,function(){n._reactRootContainer=null,n[zn]=null})}),!0):!1},Or.unstable_batchedUpdates=Su,Or.unstable_renderSubtreeIntoContainer=function(n,i,c,d){if(!ac(c))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return sc(n,i,c,!1,d)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var zm;function ip(){if(zm)return Iu.exports;zm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Iu.exports=p2(),Iu.exports}var Um;function g2(){if(Um)return oc;Um=1;var e=ip();return oc.createRoot=e.createRoot,oc.hydrateRoot=e.hydrateRoot,oc}var v2=g2();const y2=ap(v2);ip();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Eo.apply(this,arguments)}var Ma;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ma||(Ma={}));const Wm="popstate";function b2(e){e===void 0&&(e={});function r(s,o){let{pathname:l,search:u,hash:f}=s.location;return ad("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:wc(o)}return N2(r,t,null,e)}function zt(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function op(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch{}}}function w2(){return Math.random().toString(36).substr(2,8)}function $m(e,r){return{usr:e.state,key:e.key,idx:r}}function ad(e,r,t,s){return t===void 0&&(t=null),Eo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?vi(r):r,{state:t,key:r&&r.key||s||w2()})}function wc(e){let{pathname:r="/",search:t="",hash:s=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function vi(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function N2(e,r,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,f=Ma.Pop,h=null,m=x();m==null&&(m=0,u.replaceState(Eo({},u.state,{idx:m}),""));function x(){return(u.state||{idx:null}).idx}function v(){f=Ma.Pop;let y=x(),k=y==null?null:y-m;m=y,h&&h({action:f,location:b.location,delta:k})}function N(y,k){f=Ma.Push;let j=ad(b.location,y,k);m=x()+1;let T=$m(j,m),M=b.createHref(j);try{u.pushState(T,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(M)}l&&h&&h({action:f,location:b.location,delta:1})}function w(y,k){f=Ma.Replace;let j=ad(b.location,y,k);m=x();let T=$m(j,m),M=b.createHref(j);u.replaceState(T,"",M),l&&h&&h({action:f,location:b.location,delta:0})}function _(y){let k=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof y=="string"?y:wc(y);return j=j.replace(/ $/,"%20"),zt(k,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,k)}let b={get action(){return f},get location(){return e(o,u)},listen(y){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Wm,v),h=y,()=>{o.removeEventListener(Wm,v),h=null}},createHref(y){return r(o,y)},createURL:_,encodeLocation(y){let k=_(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:N,replace:w,go(y){return u.go(y)}};return b}var Hm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hm||(Hm={}));function _2(e,r,t){return t===void 0&&(t="/"),j2(e,r,t)}function j2(e,r,t,s){let o=typeof r=="string"?vi(r):r,l=gd(o.pathname||"/",t);if(l==null)return null;let u=lp(e);S2(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=I2(l);f=O2(u[h],m)}return f}function lp(e,r,t,s){r===void 0&&(r=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,u,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(zt(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let m=za([s,h.relativePath]),x=t.concat(h);l.children&&l.children.length>0&&(zt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),lp(l.children,r,x,m)),!(l.path==null&&!l.index)&&r.push({path:m,score:P2(m,l.index),routesMeta:x})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let h of cp(l.path))o(l,u,h)}),r}function cp(e){let r=e.split("/");if(r.length===0)return[];let[t,...s]=r,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=cp(s.join("/")),f=[];return f.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function S2(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:F2(r.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const k2=/^:[\w-]+$/,E2=3,T2=2,C2=1,A2=10,D2=-2,Vm=e=>e==="*";function P2(e,r){let t=e.split("/"),s=t.length;return t.some(Vm)&&(s+=D2),r&&(s+=T2),t.filter(o=>!Vm(o)).reduce((o,l)=>o+(k2.test(l)?E2:l===""?C2:A2),s)}function F2(e,r){return e.length===r.length&&e.slice(0,-1).every((s,o)=>s===r[o])?e[e.length-1]-r[r.length-1]:0}function O2(e,r,t){let{routesMeta:s}=e,o={},l="/",u=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,x=l==="/"?r:r.slice(l.length)||"/",v=M2({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},x),N=h.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:za([l,v.pathname]),pathnameBase:U2(za([l,v.pathnameBase])),route:N}),v.pathnameBase!=="/"&&(l=za([l,v.pathnameBase]))}return u}function M2(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=R2(e.path,e.caseSensitive,e.end),o=r.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,x,v)=>{let{paramName:N,isOptional:w}=x;if(N==="*"){let b=f[v]||"";u=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const _=f[v];return w&&!_?m[N]=void 0:m[N]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function R2(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),op(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function I2(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return op(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function gd(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function L2(e,r){r===void 0&&(r="/");let{pathname:t,search:s="",hash:o=""}=typeof e=="string"?vi(e):e;return{pathname:t?t.startsWith("/")?t:B2(t,r):r,search:W2(s),hash:$2(o)}}function B2(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zu(e,r,t,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z2(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function vd(e,r){let t=z2(e);return r?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function yd(e,r,t,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=vi(e):(o=Eo({},e),zt(!o.pathname||!o.pathname.includes("?"),zu("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),zu("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),zu("#","search","hash",o)));let l=e===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let v=r.length-1;if(!s&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),v-=1;o.pathname=N.join("/")}f=v>=0?r[v]:"/"}let h=L2(o,f),m=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||x)&&(h.pathname+="/"),h}const za=e=>e.join("/").replace(/\/\/+/g,"/"),U2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const up=["post","put","patch","delete"];new Set(up);const V2=["get",...up];new Set(V2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},To.apply(this,arguments)}const bd=P.createContext(null),G2=P.createContext(null),Ha=P.createContext(null),$c=P.createContext(null),Ln=P.createContext({outlet:null,matches:[],isDataRoute:!1}),dp=P.createContext(null);function Y2(e,r){let{relative:t}=r===void 0?{}:r;yi()||zt(!1);let{basename:s,navigator:o}=P.useContext(Ha),{hash:l,pathname:u,search:f}=hp(e,{relative:t}),h=u;return s!=="/"&&(h=u==="/"?s:za([s,u])),o.createHref({pathname:h,search:f,hash:l})}function yi(){return P.useContext($c)!=null}function na(){return yi()||zt(!1),P.useContext($c).location}function fp(e){P.useContext(Ha).static||P.useLayoutEffect(e)}function Va(){let{isDataRoute:e}=P.useContext(Ln);return e?cy():X2()}function X2(){yi()||zt(!1);let e=P.useContext(bd),{basename:r,future:t,navigator:s}=P.useContext(Ha),{matches:o}=P.useContext(Ln),{pathname:l}=na(),u=JSON.stringify(vd(o,t.v7_relativeSplatPath)),f=P.useRef(!1);return fp(()=>{f.current=!0}),P.useCallback(function(m,x){if(x===void 0&&(x={}),!f.current)return;if(typeof m=="number"){s.go(m);return}let v=yd(m,JSON.parse(u),l,x.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:za([r,v.pathname])),(x.replace?s.replace:s.push)(v,x.state,x)},[r,s,u,l,e])}const K2=P.createContext(null);function q2(e){let r=P.useContext(Ln).outlet;return r&&P.createElement(K2.Provider,{value:e},r)}function Q2(){let{matches:e}=P.useContext(Ln),r=e[e.length-1];return r?r.params:{}}function hp(e,r){let{relative:t}=r===void 0?{}:r,{future:s}=P.useContext(Ha),{matches:o}=P.useContext(Ln),{pathname:l}=na(),u=JSON.stringify(vd(o,s.v7_relativeSplatPath));return P.useMemo(()=>yd(e,JSON.parse(u),l,t==="path"),[e,u,l,t])}function J2(e,r){return Z2(e,r)}function Z2(e,r,t,s){yi()||zt(!1);let{navigator:o}=P.useContext(Ha),{matches:l}=P.useContext(Ln),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=na(),x;if(r){var v;let y=typeof r=="string"?vi(r):r;h==="/"||(v=y.pathname)!=null&&v.startsWith(h)||zt(!1),x=y}else x=m;let N=x.pathname||"/",w=N;if(h!=="/"){let y=h.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=_2(e,{pathname:w}),b=ay(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},f,y.params),pathname:za([h,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:za([h,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,t,s);return r&&b?P.createElement($c.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ma.Pop}},b):b}function ey(){let e=ly(),r=H2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},r),t?P.createElement("pre",{style:o},t):null,null)}const ty=P.createElement(ey,null);class ry extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?P.createElement(Ln.Provider,{value:this.props.routeContext},P.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ny(e){let{routeContext:r,match:t,children:s}=e,o=P.useContext(bd);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Ln.Provider,{value:r},s)}function ay(e,r,t,s){var o;if(r===void 0&&(r=[]),t===void 0&&(t=null),s===void 0&&(s=null),e==null){var l;if(!t)return null;if(t.errors)e=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let u=e,f=(o=t)==null?void 0:o.errors;if(f!=null){let x=u.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);x>=0||zt(!1),u=u.slice(0,Math.min(u.length,x+1))}let h=!1,m=-1;if(t&&s&&s.v7_partialHydration)for(let x=0;x<u.length;x++){let v=u[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=x),v.route.id){let{loaderData:N,errors:w}=t,_=v.route.loader&&N[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||_){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((x,v,N)=>{let w,_=!1,b=null,y=null;t&&(w=f&&v.route.id?f[v.route.id]:void 0,b=v.route.errorElement||ty,h&&(m<0&&N===0?(uy("route-fallback"),_=!0,y=null):m===N&&(_=!0,y=v.route.hydrateFallbackElement||null)));let k=r.concat(u.slice(0,N+1)),j=()=>{let T;return w?T=b:_?T=y:v.route.Component?T=P.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=x,P.createElement(ny,{match:v,routeContext:{outlet:x,matches:k,isDataRoute:t!=null},children:T})};return t&&(v.route.ErrorBoundary||v.route.errorElement||N===0)?P.createElement(ry,{location:t.location,revalidation:t.revalidation,component:b,error:w,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):j()},null)}var mp=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(mp||{}),xp=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(xp||{});function sy(e){let r=P.useContext(bd);return r||zt(!1),r}function iy(e){let r=P.useContext(G2);return r||zt(!1),r}function oy(e){let r=P.useContext(Ln);return r||zt(!1),r}function pp(e){let r=oy(),t=r.matches[r.matches.length-1];return t.route.id||zt(!1),t.route.id}function ly(){var e;let r=P.useContext(dp),t=iy(),s=pp();return r!==void 0?r:(e=t.errors)==null?void 0:e[s]}function cy(){let{router:e}=sy(mp.UseNavigateStable),r=pp(xp.UseNavigateStable),t=P.useRef(!1);return fp(()=>{t.current=!0}),P.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,To({fromRouteId:r},l)))},[e,r])}const Gm={};function uy(e,r,t){Gm[e]||(Gm[e]=!0)}function dy(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rr(e){let{to:r,replace:t,state:s,relative:o}=e;yi()||zt(!1);let{future:l,static:u}=P.useContext(Ha),{matches:f}=P.useContext(Ln),{pathname:h}=na(),m=Va(),x=yd(r,vd(f,l.v7_relativeSplatPath),h,o==="path"),v=JSON.stringify(x);return P.useEffect(()=>m(JSON.parse(v),{replace:t,state:s,relative:o}),[m,v,o,t,s]),null}function sd(e){return q2(e.context)}function ut(e){zt(!1)}function fy(e){let{basename:r="/",children:t=null,location:s,navigationType:o=Ma.Pop,navigator:l,static:u=!1,future:f}=e;yi()&&zt(!1);let h=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:l,static:u,future:To({v7_relativeSplatPath:!1},f)}),[h,f,l,u]);typeof s=="string"&&(s=vi(s));let{pathname:x="/",search:v="",hash:N="",state:w=null,key:_="default"}=s,b=P.useMemo(()=>{let y=gd(x,h);return y==null?null:{location:{pathname:y,search:v,hash:N,state:w,key:_},navigationType:o}},[h,x,v,N,w,_,o]);return b==null?null:P.createElement(Ha.Provider,{value:m},P.createElement($c.Provider,{children:t,value:b}))}function vc(e){let{children:r,location:t}=e;return J2(id(r),t)}new Promise(()=>{});function id(e,r){r===void 0&&(r=[]);let t=[];return P.Children.forEach(e,(s,o)=>{if(!P.isValidElement(s))return;let l=[...r,o];if(s.type===P.Fragment){t.push.apply(t,id(s.props.children,l));return}s.type!==ut&&zt(!1),!s.props.index||!s.props.children||zt(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=id(s.props.children,l)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},od.apply(this,arguments)}function hy(e,r){if(e==null)return{};var t={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function my(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xy(e,r){return e.button===0&&(!r||r==="_self")&&!my(e)}function ld(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let s=e[t];return r.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function py(e,r){let t=ld(e);return r&&r.forEach((s,o)=>{t.has(o)||r.getAll(o).forEach(l=>{t.append(o,l)})}),t}const gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vy="6";try{window.__reactRouterVersion=vy}catch{}const yy="startTransition",Ym=h2[yy];function by(e){let{basename:r,children:t,future:s,window:o}=e,l=P.useRef();l.current==null&&(l.current=b2({window:o,v5Compat:!0}));let u=l.current,[f,h]=P.useState({action:u.action,location:u.location}),{v7_startTransition:m}=s||{},x=P.useCallback(v=>{m&&Ym?Ym(()=>h(v)):h(v)},[h,m]);return P.useLayoutEffect(()=>u.listen(x),[u,x]),P.useEffect(()=>dy(s),[s]),P.createElement(fy,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,future:s})}const wy=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=P.forwardRef(function(r,t){let{onClick:s,relative:o,reloadDocument:l,replace:u,state:f,target:h,to:m,preventScrollReset:x,viewTransition:v}=r,N=hy(r,gy),{basename:w}=P.useContext(Ha),_,b=!1;if(typeof m=="string"&&Ny.test(m)&&(_=m,wy))try{let T=new URL(window.location.href),M=m.startsWith("//")?new URL(T.protocol+m):new URL(m),V=gd(M.pathname,w);M.origin===T.origin&&V!=null?m=V+M.search+M.hash:b=!0}catch{}let y=Y2(m,{relative:o}),k=_y(m,{replace:u,state:f,target:h,preventScrollReset:x,relative:o,viewTransition:v});function j(T){s&&s(T),T.defaultPrevented||k(T)}return P.createElement("a",od({},N,{href:_||y,onClick:b||l?s:j,ref:t,target:h}))});var Xm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xm||(Xm={}));var Km;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Km||(Km={}));function _y(e,r){let{target:t,replace:s,state:o,preventScrollReset:l,relative:u,viewTransition:f}=r===void 0?{}:r,h=Va(),m=na(),x=hp(e,{relative:u});return P.useCallback(v=>{if(xy(v,t)){v.preventDefault();let N=s!==void 0?s:wc(m)===wc(x);h(e,{replace:N,state:o,preventScrollReset:l,relative:u,viewTransition:f})}},[m,h,x,s,o,t,e,l,u,f])}function jy(e){let r=P.useRef(ld(e)),t=P.useRef(!1),s=na(),o=P.useMemo(()=>py(s.search,t.current?null:r.current),[s.search]),l=Va(),u=P.useCallback((f,h)=>{const m=ld(typeof f=="function"?f(o):f);t.current=!0,l("?"+m,h)},[l,o]);return[o,u]}const ni="https://thebrothersbarbershop.onrender.com/api/v1",Sy="1.0.0",qm=e=>new Promise(r=>setTimeout(r,e));let Pt=null;const Qm=e=>{Pt=e},Ra={async open(e){if(typeof caches=="undefined")return null;try{return await caches.open(e)}catch(r){return console.warn("Error al abrir caché:",r),null}},async delete(e){if(typeof caches=="undefined")return!1;try{return await caches.delete(e)}catch(r){return console.warn("Error al eliminar caché:",r),!1}},async keys(){if(typeof caches=="undefined")return[];try{return await caches.keys()}catch(e){return console.warn("Error al obtener keys de caché:",e),[]}}},Co={async get(e){const r=await Ra.open("api-cache");if(!r)return null;try{const t=await r.match(e);if(t){const s=await t.json();if(s.expiry&&s.expiry>Date.now())return s.value;await r.delete(e)}}catch(t){console.warn("Error al obtener del caché:",t)}return null},async set(e,r,t=3e5){const s=await Ra.open("api-cache");if(s)try{const o={value:r,expiry:Date.now()+t,timestamp:Date.now()},l=new Response(JSON.stringify(o));await s.put(e,l)}catch(o){console.warn("Error al guardar en caché:",o)}},async clear(){try{const e=await Ra.keys();await Promise.all(e.map(r=>Ra.delete(r)))}catch(e){console.warn("Error al limpiar caché:",e)}}},Fa=async(e,r,t=3,s=1e3)=>{const o=r.headers&&r.headers["Content-Type"]==="multipart/form-data",l=e.includes("/inventory-snapshots"),u=o||l?3e4:1e4,f=new AbortController;let h;try{h=setTimeout(()=>f.abort(),u),r.headers={...r.headers,"X-Client-Version":Sy,"X-Request-ID":Math.random().toString(36).substring(7)},r.signal=f.signal;const m=performance.now(),x=await fetch(e,r),v=performance.now();if(clearTimeout(h),x.status===429&&t>0)return await qm(s),Fa(e,r,t-1,s*2);if(!x.ok){let N;try{N=await x.text();try{N=JSON.parse(N)}catch{}}catch{N="Error desconocido"}const w=new Error(`HTTP error! status: ${x.status}
Endpoint: ${e}
Details: ${typeof N=="object"?JSON.stringify(N):N}`);throw w.response=x,w.data=N,w}return x}catch(m){if(h&&clearTimeout(h),m.name==="AbortError")throw new Error(`La operación tardó demasiado (más de ${u/1e3}s). Esto puede deberse a problemas de conectividad.`);if(t>0&&(m.name==="TypeError"||m.message.includes("failed to fetch")))return await qm(s),Fa(e,r,t-1,s*2);throw m}},ky=()=>{console.log("🕐 Sesión expirada - iniciando proceso de limpieza"),Pt?(console.log("📢 Mostrando notificación de sesión expirada"),Pt.showSessionExpired()):(console.warn("⚠️ NotificationContext no disponible para mostrar sesión expirada"),alert("Tu sesión ha expirado. Serás redirigido al login.")),localStorage.removeItem("token"),localStorage.removeItem("user"),Co.clear(),setTimeout(()=>{console.log("🔄 Redirigiendo a login..."),window.location.href="/login"},2e3)},Cn=(e,r,t="")=>{if(console.log("🔐 Manejando error de autenticación:",{status:e.status,message:r.message,endpoint:t,data:r,notificationContext:!!Pt}),e.status===401){const s=r.message||"";throw t.includes("/auth/login")||t.includes("/auth/register")?new Error(s||"Error de autenticación"):window.location.pathname==="/login"||window.location.pathname==="/register"?new Error(s||"Error de autenticación"):s.toLowerCase().includes("expirado")||s.toLowerCase().includes("expired")||s.toLowerCase().includes("jwt")?(console.log("🕐 Token expirado detectado, llamando handleSessionExpired"),ky(),new Error("Tu sesión ha expirado. Por favor, inicia sesión nuevamente.")):s.toLowerCase().includes("no proporcionado")||s.toLowerCase().includes("token requerido")||s.toLowerCase().includes("acceso denegado")||s.toLowerCase().includes("unauthorized")?(console.log("🚫 Acceso no autorizado, mostrando notificación"),Pt&&Pt.showError("Tu sesión ha expirado o no tienes los permisos necesarios. Redirigiendo al login...","Sesión Expirada"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Se requiere autenticación. Redirigiendo al inicio de sesión...")):(console.log("❌ Otro error de autenticación"),Pt&&Pt.showError("Error de autenticación. Por favor, inicia sesión nuevamente.","Acceso Denegado"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Error de autenticación. Redirigiendo al inicio de sesión..."))}},fo=e=>{if(Pt)if(e.message.includes("failed to fetch")||e.name==="TypeError")Pt.showConnectionError();else if(e.message.includes("429"))Pt.showWarning("El servidor está ocupado. Por favor, espera un momento y vuelve a intentarlo.","Servidor Ocupado");else{if(e.message.includes("HTTP error! status: 400"))return;if(e.message.includes("HTTP error! status: 401"))return;e.message.includes("HTTP error! status: 403")?Pt.showError("No tienes permisos para realizar esta acción.","Acceso Prohibido"):e.message.includes("HTTP error! status: 404")?Pt.showError("El recurso solicitado no fue encontrado.","No Encontrado"):e.message.includes("HTTP error! status: 500")?Pt.showError("Error interno del servidor. Por favor, inténtalo más tarde.","Error del Servidor"):e.message.includes("HTTP error! status:")||Pt.showError(e.message,"Error de Servidor")}},ai=()=>{const e=localStorage.getItem("token");if(!e)return null;try{const r=JSON.parse(atob(e.split(".")[1])),t=Math.floor(Date.now()/1e3);return r.exp&&r.exp<t?(console.log("🚨 Token expirado, removiendo del localStorage"),localStorage.removeItem("token"),localStorage.removeItem("user"),null):e}catch(r){return console.error("❌ Error al validar token:",r),localStorage.removeItem("token"),localStorage.removeItem("user"),null}},Ie={get:async(e,r=!0,t=3e5)=>{try{const s=ai(),o=`${ni}${e}`;if(r){const f=await Co.get(o);if(f)return f}const l=await Fa(o,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}}),u=await l.json();return Cn(l,u,e),r&&l.ok&&await Co.set(o,u,t),u}catch(s){if(console.log("🚨 Error en api.get:",s),s.response&&s.data)try{Cn(s.response,s.data,e)}catch(o){throw o}throw fo(s),s}},post:async(e,r)=>{try{const t=ai(),s=await Fa(`${ni}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},body:JSON.stringify(r)}),o=await s.json();if(Cn(s,o,e),s.ok)try{const l=new RegExp(e.split("/")[1]),u=await Ra.open("api-cache");if(u){const f=await u.keys();for(const h of f)l.test(h.url)&&await u.delete(h)}}catch(l){console.warn("Error al invalidar caché:",l)}return o}catch(t){if(console.log("🚨 Error en api.post:",t),t.response&&t.data){try{Cn(t.response,t.data,e)}catch(s){throw s}if(t.response.status===400&&Pt){const s=t.data;let o="Error de validación";throw s!=null&&s.details&&Array.isArray(s.details)?o=`Error de validación: ${s.details.map(u=>`${u.field}: ${u.message}`).join(", ")}`:s!=null&&s.message&&(o=s.message),Pt.showError(o,"Error de Validación"),new Error(o)}}throw fo(t),t}},put:async(e,r,t={})=>{try{const s=ai(),o=r instanceof FormData;console.log(`PUT ${e} - isFormData: ${o}`);const l={method:"PUT",headers:{...s&&{Authorization:`Bearer ${s}`},...t.headers}};o?l.body=r:(l.headers["Content-Type"]="application/json",l.body=r?JSON.stringify(r):void 0),console.log("Enviando request con headers:",l.headers);const u=await Fa(`${ni}${e}`,l);console.log("Response status:",u.status,"ok:",u.ok);const f=await u.json();if(console.log("Response data:",f),Cn(u,f,e),u.ok)try{const h=new RegExp(e.split("/")[1]),m=await Ra.open("api-cache");if(m){const x=await m.keys();for(const v of x)h.test(v.url)&&await m.delete(v)}}catch(h){console.warn("Error al invalidar caché:",h)}return f}catch(s){if(console.log("🚨 Error en api.put:",s),s.response&&s.data){try{Cn(s.response,s.data,e)}catch(o){throw o}if(s.response.status===400&&Pt){const o=s.data;let l="Error de validación";throw o!=null&&o.details&&Array.isArray(o.details)?l=`Error de validación: ${o.details.map(f=>`${f.field}: ${f.message}`).join(", ")}`:o!=null&&o.message&&(l=o.message),Pt.showError(l,"Error de Validación"),new Error(l)}}throw fo(s),s}},delete:async e=>{try{const r=ai(),t=await Fa(`${ni}${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}}}),s=await t.json();if(Cn(t,s,e),t.ok)try{const o=new RegExp(e.split("/")[1]),l=await Ra.open("api-cache");if(l){const u=await l.keys();for(const f of u)o.test(f.url)&&await l.delete(f)}}catch(o){console.warn("Error al invalidar caché:",o)}return s}catch(r){if(console.log("🚨 Error en api.delete:",r),r.response&&r.data){try{Cn(r.response,r.data,e)}catch(t){throw t}if(r.response.status===400&&Pt){const t=r.data;let s="Error de validación";throw t!=null&&t.details&&Array.isArray(t.details)?s=`Error de validación: ${t.details.map(l=>`${l.field}: ${l.message}`).join(", ")}`:t!=null&&t.message&&(s=t.message),Pt.showError(s,"Error de Validación"),new Error(s)}}throw fo(r),r}},upload:async(e,r)=>{try{const t=ai(),s=await Fa(`${ni}${e}`,{method:"POST",headers:{...t&&{Authorization:`Bearer ${t}`}},body:r}),o=await s.json();if(Cn(s,o,e),s.ok)try{const l=new RegExp(e.split("/")[1]),u=await Ra.open("api-cache");if(u){const f=await u.keys();for(const h of f)l.test(h.url)&&await u.delete(h)}}catch(l){console.warn("Error al invalidar caché:",l)}return o}catch(t){if(console.log("🚨 Error en api.upload:",t),t.response&&t.data){try{Cn(t.response,t.data,e)}catch(s){throw s}if(t.response.status===400&&Pt){const s=t.data;let o="Error de validación";throw s!=null&&s.details&&Array.isArray(s.details)?o=`Error de validación: ${s.details.map(u=>`${u.field}: ${u.message}`).join(", ")}`:s!=null&&s.message&&(o=s.message),Pt.showError(o,"Error de Validación"),new Error(o)}}throw fo(t),t}}},Mr={getAppointments:()=>Ie.get("/appointments",!0,6e4),getBarberAppointments:e=>Ie.get(`/appointments/barber/${e}`,!0,6e4),createAppointment:e=>Ie.post("/appointments",e),updateAppointment:(e,r)=>Ie.put(`/appointments/${e}`,r),cancelAppointment:(e,r)=>Ie.put(`/appointments/${e}/cancel`,{reason:r}),approveAppointment:e=>Ie.put(`/appointments/${e}/approve`,{}),completeAppointment:e=>Ie.put(`/appointments/${e}/complete`,{}),markNoShow:e=>Ie.put(`/appointments/${e}/no-show`,{}),deleteAppointment:e=>Ie.delete(`/appointments/${e}`),getAvailableTimes:(e,r)=>Ie.get(`/appointments/availability/${e}?date=${r}&duration=30`)},qn={getAllBarbers:()=>Ie.get("/barbers",!0,3e5),getBarberById:e=>Ie.get(`/barbers/${e}`,!0,3e5),getBarberByUserId:e=>Ie.get(`/barbers/by-user/${e}`,!0,3e5),createBarber:e=>Ie.post("/barbers",e),updateBarber:(e,r)=>Ie.put(`/barbers/${e}`,r),removeBarber:e=>Ie.put(`/barbers/${e}/remove`),getBarberProfile:async()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");if(!e._id)throw new Error("Usuario no autenticado");return Ie.get(`/barbers/by-user/${e._id}`,!0,3e5)},updateBarberProfile:(e,r)=>Ie.put(`/barbers/${e}`,r),updateMyProfile:async e=>{const r=JSON.parse(localStorage.getItem("user")||"{}");if(!r._id)throw new Error("Usuario no autenticado");const t=await Ie.get(`/barbers/by-user/${r._id}`,!1),s=t.data||t;if(!s||!s._id)throw new Error("No se pudo obtener el ID del barbero");return Ie.put(`/barbers/${s._id}/profile`,e)},getBarberStats:e=>Ie.get(`/barbers/${e}/stats`,!0,9e5)},Da={getBarberSalesStats:(e,r={})=>{const t=new URLSearchParams(r).toString(),s=`/sales/barber/${e}/stats${t?`?${t}`:""}`;return Ie.get(s,!0,3e5)},getAvailableDates:(e=null)=>e?Ie.get(`/sales/barber/${e}/available-dates`,!0,3e5):Ie.get("/sales/available-dates",!0,3e5),getDailyReport:(e,r=null)=>{const t=new URLSearchParams({date:e});return r&&t.append("barberId",r),Ie.get(`/sales/daily-report?${t.toString()}`,!1)},getBarberRangeReport:(e,r,t)=>{const s=new URLSearchParams({type:e,date:r});return t&&s.append("barberId",t),Ie.get(`/sales/reports?${s.toString()}`,!1)},createSale:e=>Ie.post("/sales",e),createWalkInSale:e=>Ie.post("/sales/walk-in",e)},lc={getBarberAppointmentStats:(e,r={})=>{const t=new URLSearchParams(r).toString(),s=`/appointments/barber/${e}/stats${t?`?${t}`:""}`;return Ie.get(s,!0,3e5)},getAvailableDates:e=>Ie.get(`/appointments/barber/${e}/available-dates`,!0,3e5),getDailyReport:(e,r=null)=>{const t=new URLSearchParams({date:e});return r&&t.append("barberId",r),Ie.get(`/appointments/daily-report?${t.toString()}`,!1)}},wd={getAllServices:()=>Ie.get("/services",!0,3e5),getServiceById:e=>Ie.get(`/services/${e}`,!0,3e5),createService:e=>Ie.post("/services",e),updateService:(e,r)=>Ie.put(`/services/${e}`,r),deleteService:e=>Ie.delete(`/services/${e}`)},Kn={getInventory:(e={})=>{const r=new URLSearchParams(e).toString();return Ie.get(`/inventory${r?`?${r}`:""}`,!0,3e5)},getInventoryItem:e=>Ie.get(`/inventory/${e}`,!0,3e5),createInventoryItem:e=>Ie.post("/inventory",e),updateInventoryItem:(e,r)=>Ie.put(`/inventory/${e}`,r),deleteInventoryItem:e=>Ie.delete(`/inventory/${e}`),adjustStock:(e,r)=>Ie.post(`/inventory/${e}/stock`,r),getLowStockItems:e=>Ie.get(`/inventory/low-stock${e?`?threshold=${e}`:""}`,!0,3e5),getItemsByCategory:e=>Ie.get(`/inventory/category/${e}`,!0,3e5),getMovementHistory:(e,r,t)=>{const s=new URLSearchParams;return r&&s.append("startDate",r),t&&s.append("endDate",t),Ie.get(`/inventory/${e}/history${s.toString()?`?${s.toString()}`:""}`,!0,3e5)},getStats:()=>Ie.get("/inventory/stats/overview",!0,3e5),getLogs:e=>Ie.get(`/inventory/logs${e?`?${e}`:""}`,!0,6e4),getLogStats:(e,r)=>{const t=new URLSearchParams;return e&&t.append("startDate",e),r&&t.append("endDate",r),Ie.get(`/inventory/logs/stats${t.toString()?`?${t.toString()}`:""}`,!0,3e5)},getDailyReport:e=>{const r=new URLSearchParams({date:e});return Ie.get(`/inventory/daily-report?${r.toString()}`,!1)}},yc={createSnapshot:e=>Ie.post("/inventory-snapshots",e),getSnapshots:(e={})=>{const r=new URLSearchParams(e).toString();return Ie.get(`/inventory-snapshots${r?`?${r}`:""}`,!0,3e5)},getSnapshotById:e=>Ie.get(`/inventory-snapshots/${e}`,!0,3e5),deleteSnapshot:e=>Ie.delete(`/inventory-snapshots/${e}`),getStats:(e={})=>{const r=new URLSearchParams(e).toString();return Ie.get(`/inventory-snapshots/stats${r?`?${r}`:""}`,!0,3e5)},downloadSnapshot:async e=>{try{const r=ai(),t=await Fa(`${ni}/inventory-snapshots/${e}/download`,{method:"GET",headers:{...r&&{Authorization:`Bearer ${r}`}}});if(!t.ok)throw new Error(`Error al descargar: ${t.status}`);return t.blob()}catch(r){throw console.error("Error al descargar inventario guardado:",r),r}}},Js="https://thebrothersbarbershop.onrender.com/api/v1",Ey="1.0.0",Pa=async(e,r,t=2,s=500)=>{try{r.headers={...r.headers,"X-Client-Version":Ey,"X-Request-ID":Math.random().toString(36).substring(7)};const o=performance.now(),l=await fetch(e,r),u=performance.now();if(l.status===429&&t>0)return await new Promise(m=>setTimeout(m,s)),Pa(e,r,t-1,s*2);const f=l.headers.get("content-type");let h;if(f&&f.includes("application/json"))h=await l.json();else{const m=await l.text();console.error("Respuesta no JSON recibida:",m),h={message:"Error del servidor",error:m}}if(!l.ok)throw h.errors&&Array.isArray(h.errors)?new Error(h.errors.map(m=>m.msg).join(`
`)):l.status===401?new Error("Credenciales inválidas"):l.status===403?new Error("No tienes permiso para realizar esta acción"):new Error(h.message||"Error en la autenticación");return{response:l,data:h}}catch(o){if(t>0&&o.name==="TypeError")return await new Promise(l=>setTimeout(l,s)),Pa(e,r,t-1,s*2);throw o}},Oa={register:async e=>{try{const{data:r}=await Pa(`${Js}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r}catch(r){throw console.error("Error en el registro:",r),new Error(r.message.includes("429")?"Demasiados intentos. Por favor, espera un momento.":r.message)}},login:async e=>{try{const{data:r,response:t}=await Pa(`${Js}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r.token&&(localStorage.setItem("token",r.token),r.user&&localStorage.setItem("user",JSON.stringify(r.user)),await Co.clear()),r}catch(r){throw console.error("Error en el login:",r),new Error(r.message.includes("429")?"Demasiados intentos de inicio de sesión. Por favor, espera un momento.":r.message)}},logout:async()=>{try{const e=localStorage.getItem("token");if(e)try{await Pa(`${Js}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch(r){console.warn("Error en logout del servidor:",r)}}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),await Co.clear()}},verifyEmail:async e=>{try{const{data:r}=await Pa(`${Js}/auth/verify-email/${e}`,{method:"GET"});return r}catch(r){throw console.error("Error en verificación de email:",r),new Error(r.message||"Error al verificar el email")}},requestPasswordReset:async e=>{try{const{data:r}=await Pa(`${Js}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return r}catch(r){throw console.error("Error en solicitud de reset de password:",r),new Error(r.message.includes("429")?"Demasiadas solicitudes. Por favor, espera unos minutos.":r.message)}},resetPassword:async(e,r)=>{try{const{data:t}=await Pa(`${Js}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:r})});return t}catch(t){throw console.error("Error en reset de password:",t),new Error(t.message||"Error al restablecer la contraseña")}},refreshToken:async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("No hay token para refrescar");const r=Oa.getCurrentUser();if(!r)throw new Error("No hay usuario autenticado");return{token:e,user:r}}catch(e){throw console.error("Error refreshing token:",e),await Oa.logout(),new Error("Tu sesión ha expirado. Por favor, inicia sesión nuevamente.")}},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},gp=P.createContext();function Ty({children:e}){const[r,t]=P.useState(()=>Oa.getCurrentUser()),[s,o]=P.useState(()=>localStorage.getItem("token")),[l,u]=P.useState(null),[f,h]=P.useState(!0),[m,x]=P.useState(null),[v,N]=P.useState(null),w=T=>{t(T),T?localStorage.setItem("user",JSON.stringify(T)):localStorage.removeItem("user")},_=P.useCallback(()=>{v&&clearInterval(v);const T=setInterval(async()=>{try{await Oa.refreshToken()}catch(M){console.error("Error al refrescar el token:",M),k()}},840*1e3);return N(T),()=>clearInterval(T)},[]);P.useEffect(()=>{(async()=>{if((r==null?void 0:r.role)==="barber"&&s&&r._id)try{const M=await qn.getBarberByUserId(r._id);u(M.data)}catch(M){console.error("Error al cargar perfil de barbero:",M),x("Error al cargar perfil de barbero")}h(!1)})()},[r==null?void 0:r._id,s]),P.useEffect(()=>{if(s){const T=_();return()=>{T(),v&&clearInterval(v)}}},[s]);const b=async T=>{try{let M=await qn.getBarberByUserId(T);return M.success||(M=await qn.createBarber({user:T})),u(M.data),M}catch(M){throw console.error("Error al verificar/crear perfil de barbero:",M),x("Error al gestionar perfil de barbero"),M}},y=async(T,M)=>{try{h(!0),x(null);const V=await Oa.login({email:T,password:M});if(!V.token||!V.user)throw new Error("Datos de autenticación inválidos");const X={...V.user,photo:V.user.photo||null,_id:V.user._id||V.user.id};return w(X),o(V.token),V.user.role==="barber"&&await b(V.user._id),_(),!0}catch(V){console.error("Error durante el login:",V);let X="Error al iniciar sesión";return V.message.includes("Credenciales inválidas")||V.message.includes("Invalid credentials")?X="Email o contraseña incorrectos":V.message.includes("usuario no encontrado")||V.message.includes("User not found")?X="Usuario no encontrado":(V.message.includes("network")||V.message.includes("fetch"))&&(X="Error de conexión. Verifica tu internet"),x(X),!1}finally{h(!1)}},k=async()=>{try{h(!0),await Oa.logout()}catch(T){console.error("Error durante el logout:",T)}finally{w(null),o(null),u(null),v&&clearInterval(v),h(!1)}},j={user:r,token:s,login:y,logout:k,setUser:w,barberProfile:l,setBarberProfile:u,checkAndCreateBarberProfile:b,loading:f,error:m,refreshToken:Oa.refreshToken};return a.jsx(gp.Provider,{value:j,children:e})}function Ut(){const e=P.useContext(gp);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}const Cy="/TheBrothersBarberShop/",cd=e=>{const r=e.startsWith("/")?e.slice(1):e,t=encodeURI(r);return`${Cy}${t}`},Pn=e=>cd(`images/${e}`),mi={main:()=>Pn("logo 1.png"),navbar:()=>Pn("logo 5.1.png"),fallback:()=>Pn("logo 4.png"),logo1_1:()=>Pn("logo 1.1.png"),logo1_2:()=>Pn("logo 1.2.png"),logo2:()=>Pn("logo 2.png"),logo3:()=>Pn("logo 3.png"),logo5:()=>Pn("logo 5.png")},Ay={avatar:()=>cd("images/default-avatar.png"),profile:()=>cd("images/default-profile.png"),avatarFallback:()=>Pn("logo 1.png"),profileFallback:()=>Pn("logo 1.png")},Dy="h-14 sm:h-16",Py=({user:e})=>{var s,o,l,u;const[r,t]=P.useState(!1);return P.useEffect(()=>{function f(h){h.target.closest(".dropdown-menu")||t(!1)}return r&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]),a.jsxs("div",{className:"relative dropdown-menu",children:[a.jsxs("button",{onClick:()=>t(!r),className:"flex items-center space-x-3 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-blue-400/50 hover:scale-105 border border-white/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[e.profilePicture?a.jsx("img",{src:e.profilePicture,alt:e.name||"Usuario",className:"w-8 h-8 rounded-full object-cover border-2 border-white/30 shadow-lg"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-red-600 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:((o=(s=e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||((u=(l=e.email)==null?void 0:l[0])==null?void 0:u.toUpperCase())||"?"}),a.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent",children:e.name||e.email})]}),a.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 text-blue-300 ${r?"transform rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-gray-900/95 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl py-2 z-50 transform opacity-100 scale-100 transition-all duration-200",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[a.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Conectado como"}),a.jsx("p",{className:"text-sm font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent truncate",children:e.email})]}),a.jsxs("div",{className:"py-2",children:[a.jsxs(lt,{to:"/profile",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Mi Perfil"})]}),a.jsxs(lt,{to:"/profile-edit",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Editar Perfil"})]})]}),(e.role==="admin"||e.role==="barber")&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"py-2 border-t border-white/10 mt-2",children:[a.jsx("div",{className:"px-4 py-2",children:a.jsx("p",{className:"text-xs font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent uppercase tracking-wider",children:e.role==="admin"?"Administración":"Gestión"})}),a.jsxs(lt,{to:"/admin/inventory",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Control de Inventario"})]}),e.role==="admin"&&a.jsxs(a.Fragment,{children:[a.jsxs(lt,{to:"/admin/sales",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-green-100",children:"Punto de Venta"})]}),a.jsxs(lt,{to:"/admin/services",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Gestión de Servicios"})]}),a.jsxs(lt,{to:"/admin/barbers",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Gestión de Barberos"})]}),a.jsxs(lt,{to:"/admin/roles",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Gestión de Roles"})]}),a.jsxs(lt,{to:"/admin/reports",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[a.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-blue-100",children:"Reportes Diarios"})]})]})]})})]})]})},Fy=()=>{const{user:e,logout:r}=Ut(),t=Va(),s=na(),[o,l]=P.useState(!1),[u,f]=P.useState(!1),[h,m]=P.useState(!1);P.useEffect(()=>{const v=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),P.useEffect(()=>{f(!1)},[s.pathname]);const x=()=>{r(),t("/")};return a.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-gradient-to-r from-gray-900/95 via-blue-900/95 to-gray-800/95 shadow-2xl":"bg-gradient-to-r from-gray-900/90 via-blue-900/90 to-gray-800/90"} backdrop-blur-lg ${Dy}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #1e40af 0px, transparent 2px),
                         radial-gradient(circle at 75% 75%, #dc2626 0px, transparent 1px),
                         radial-gradient(circle at 50% 50%, #ffffff 0px, transparent 0.5px)`,backgroundSize:"50px 50px, 30px 30px, 20px 20px"}}),a.jsx("div",{className:"absolute top-0 w-full h-1 bg-gradient-to-r from-red-600 via-white to-blue-600"}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:a.jsxs("div",{className:"flex justify-between items-center h-full",children:[a.jsxs(lt,{to:"/",className:"flex items-center space-x-3 group",children:[h?a.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-2 rounded-full shadow-lg transform group-hover:scale-105 transition-transform duration-200 border border-white/20",children:a.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-red-400 via-white to-blue-400 bg-clip-text text-transparent",children:"TBB"})}):a.jsx("img",{src:mi.navbar(),alt:"The Brothers Barber Shop",className:"h-12 w-auto transform group-hover:scale-105 transition-transform duration-200",onError:()=>m(!0)}),a.jsxs("div",{children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"The Brother's"}),a.jsx("div",{className:"text-xs text-white/80 font-serif italic mt-0.5",children:"Barber Shop"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e&&a.jsx(a.Fragment,{children:e.role==="barber"?a.jsxs(lt,{to:"/admin/sales",className:"relative px-4 py-2 font-medium text-sm group",children:[a.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Punto de Venta"}),a.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-red-500/20 to-blue-500/20 rounded-lg"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-gradient-to-r from-red-600 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"})]}):a.jsxs(lt,{to:"/barbers",className:"relative px-4 py-2 font-medium text-sm group",children:[a.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Barberos"}),a.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-red-500/20 to-blue-500/20 rounded-lg"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-gradient-to-r from-red-600 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"})]})}),e?a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs(lt,{to:"/appointment",className:"relative px-4 py-2 font-medium text-sm group",children:[a.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Reservas"}),a.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-blue-500/20 to-red-500/20 rounded-lg"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Py,{user:e}),a.jsx("button",{onClick:x,className:"relative inline-flex items-center justify-center px-4 py-2.5 overflow-hidden rounded-xl group bg-red-500/20 border border-red-400/30 hover:bg-red-500/30 transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:a.jsx("span",{className:"relative bg-gradient-to-r from-red-200 via-red-100 to-red-200 bg-clip-text text-transparent group-hover:from-white group-hover:via-red-100 group-hover:to-white font-medium",children:"Salir"})})]})]}):a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(lt,{to:"/login",className:"relative overflow-hidden px-6 py-2.5 rounded-xl group bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 shadow-lg hover:shadow-xl hover:shadow-red-500/25 transition-all duration-300 hover:scale-105",children:[a.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Iniciar Sesión"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-red-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),a.jsx(lt,{to:"/register",className:"relative overflow-hidden px-6 py-2.5 rounded-xl group border-2 border-white/20 hover:border-red-400/50 transition-all duration-300 backdrop-blur-sm bg-white/5 hover:bg-white/10 hover:scale-105",children:a.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300 font-medium",children:"Registro"})})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsxs("button",{className:"md:hidden ml-2 inline-flex items-center justify-center p-2.5 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-blue-400/50 hover:scale-105",onClick:()=>f(!u),"aria-expanded":"false",children:[a.jsx("span",{className:"sr-only",children:"Abrir menú principal"}),u?a.jsx("svg",{className:"block h-5 w-5 text-purple-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):a.jsx("svg",{className:"block h-5 w-5 text-blue-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),a.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${u?"opacity-100 max-h-screen":"opacity-0 max-h-0 pointer-events-none"}`,children:a.jsxs("div",{className:"px-4 pt-2 pb-3 space-y-2 bg-gray-900/95 backdrop-blur-lg border-t border-white/10 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #1e40af 0px, transparent 2px),
                             radial-gradient(circle at 75% 75%, #dc2626 0px, transparent 1px)`,backgroundSize:"30px 30px, 20px 20px"}}),a.jsxs("div",{className:"relative z-10 space-y-2",children:[e&&a.jsx(a.Fragment,{children:e.role==="barber"?a.jsx(lt,{to:"/admin/sales",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Punto de Venta"}):a.jsx(lt,{to:"/barbers",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Barberos"})}),e?a.jsxs(a.Fragment,{children:[a.jsx(lt,{to:"/appointment",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Citas"}),a.jsx(lt,{to:"/profile",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Mi Perfil"}),e.role==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx(lt,{to:"/admin/services",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Gestión de Servicios"}),a.jsx(lt,{to:"/admin/roles",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Gestión de Roles"}),a.jsx(lt,{to:"/admin/reports",className:"block px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent hover:bg-white/10 transition-all duration-200",children:"Reportes Diarios"})]}),a.jsx("button",{onClick:x,className:"block w-full text-left px-4 py-3 rounded-xl text-base font-medium bg-gradient-to-r from-red-200 via-red-100 to-red-200 bg-clip-text text-transparent hover:bg-red-500/20 transition-all duration-200",children:"Cerrar Sesión"})]}):a.jsxs("div",{className:"px-2 py-3 space-y-3",children:[a.jsx(lt,{to:"/login",className:"block w-full text-center px-6 py-3 rounded-xl bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Iniciar Sesión"})}),a.jsx(lt,{to:"/register",className:"block w-full text-center px-6 py-3 rounded-xl border-2 border-white/20 hover:border-red-400/50 hover:bg-white/10 transition-all duration-200 backdrop-blur-sm",children:a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Registro"})})]})]})]})})]})},Oy=()=>a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(Fy,{}),a.jsx("main",{className:"container mx-auto px-4 py-8 shadow-lg shadow-blue-500/20 rounded-lg",children:a.jsx(sd,{})})]})]}),vp=P.createContext(),Tr=()=>{const e=P.useContext(vp);if(!e)throw new Error("useNotification debe ser usado dentro de NotificationProvider");return e},My=({children:e})=>{const[r,t]=P.useState([]),s=_=>{const b=Date.now()+Math.random(),y={id:b,type:"info",title:"",message:"",duration:5e3,autoClose:!0,..._};return r.some(j=>j.message===y.message&&j.type===y.type&&Date.now()-j.id<1e3)?(console.log("Notificación duplicada ignorada:",y.message),b):(t(j=>[...j,y]),y.autoClose&&setTimeout(()=>{o(b)},y.duration),b)},o=_=>{t(b=>b.filter(y=>y.id!==_))},w={notifications:r,addNotification:s,removeNotification:o,clearAllNotifications:()=>{t([])},showSuccess:(_,b="Éxito")=>s({type:"success",title:b,message:_,duration:4e3}),showError:(_,b="Error")=>s({type:"error",title:b,message:_,duration:8e3}),showWarning:(_,b="Advertencia")=>s({type:"warning",title:b,message:_,duration:6e3}),showInfo:(_,b="Información")=>s({type:"info",title:b,message:_,duration:5e3}),showSessionExpired:()=>s({type:"warning",title:"Sesión Expirada",message:"Tu sesión ha expirado. Serás redirigido al login en unos segundos...",duration:4e3,autoClose:!0}),showConnectionError:()=>s({type:"error",title:"Error de Conexión",message:"No se pudo conectar con el servidor. Verifica tu conexión a internet.",duration:8e3,autoClose:!0}),showAuthRequired:()=>s({type:"info",title:"Autenticación Requerida",message:"Necesitas iniciar sesión para acceder a esta función. Redirigiendo...",duration:4e3,autoClose:!0})};return a.jsx(vp.Provider,{value:w,children:e})},Ry=()=>{const{notifications:e,removeNotification:r}=Tr();if(e.length===0)return null;const t=l=>{const u="relative overflow-hidden backdrop-blur-md border rounded-lg shadow-lg transition-all duration-300 ease-in-out transform";switch(l){case"success":return`${u} bg-green-500/10 border-green-500/30 text-green-100`;case"error":return`${u} bg-red-500/10 border-red-500/30 text-red-100`;case"warning":return`${u} bg-yellow-500/10 border-yellow-500/30 text-yellow-100`;case"info":default:return`${u} bg-blue-500/10 border-blue-500/30 text-blue-100`}},s=l=>{switch(l){case"success":return a.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return a.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return a.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},o=l=>{switch(l){case"success":return"bg-green-400";case"error":return"bg-red-400";case"warning":return"bg-yellow-400";case"info":default:return"bg-blue-400"}};return a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(l=>a.jsxs("div",{className:t(l.type),role:"alert",children:[l.autoClose&&a.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-600 w-full",children:a.jsx("div",{className:`h-full ${o(l.type)} transition-all ease-linear`,style:{animation:`shrink ${l.duration}ms linear forwards`}})}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:s(l.type)}),a.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.title&&a.jsx("p",{className:"text-sm font-medium",children:l.title}),a.jsx("p",{className:`text-sm ${l.title?"mt-1":""}`,children:l.message})]}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:a.jsx("button",{onClick:()=>r(l.id),className:"inline-flex text-gray-400 hover:text-gray-300 focus:outline-none focus:text-gray-300 transition-colors duration-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})]},l.id))})},Iy=()=>{const e=Tr();return P.useEffect(()=>(Qm(e),()=>{Qm(null)}),[e]),e},yp=P.createContext(),bp=()=>{const e=P.useContext(yp);if(!e)throw new Error("useInventoryRefresh debe ser usado dentro de InventoryProvider");return e},Ly=({children:e})=>{const[r,t]=P.useState(0),[s,o]=P.useState(null),l=P.useCallback(()=>{const m=Date.now();o(m),t(x=>x+1),console.log("🔄 InventoryContext: Notificando venta, trigger:",r+1)},[r]),u=P.useCallback(m=>!s||!m?!1:s>m,[s]),f=P.useCallback(()=>Date.now(),[]),h={refreshTrigger:r,lastSaleTime:s,notifySale:l,needsRefresh:u,markRefreshed:f};return a.jsx(yp.Provider,{value:h,children:e})},St=({children:e,variant:r="primary",size:t="md",gradient:s="barber",loading:o=!1,disabled:l=!1,className:u="",onClick:f,type:h="button",loadingText:m="Cargando...",...x})=>{const[v,N]=P.useState(!1),_={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-xl px-8 py-4",xl:"text-2xl px-10 py-5"}[t];return a.jsxs("button",{type:h,onClick:f,disabled:l||o,"aria-disabled":l||o,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),className:`
        relative isolate inline-flex items-center justify-center whitespace-nowrap
        rounded-2xl font-semibold tracking-wide 
        shadow-[0_4px_12px_rgba(0,0,0,0.2)] border border-slate-600/40
        outline-none transition-all duration-400 overflow-hidden
        active:scale-[0.98] focus:ring-3 focus:ring-blue-400/40
        bg-slate-600 min-w-fit
        ${_}
        ${l||o?"opacity-60 cursor-not-allowed":"hover:shadow-[0_8px_20px_rgba(220,38,38,0.15)] hover:scale-[1.01]"}
        ${u}
      `,...x,children:[a.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[o&&a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white/90",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"relative",children:r==="outline"?a.jsx("span",{className:"font-extrabold bg-gradient-to-r from-red-400 via-white to-blue-400 bg-clip-text text-transparent",children:o?m:e}):a.jsx("span",{className:"font-bold tracking-wide",style:{color:"#1e293b",textShadow:`
                  0 1px 2px rgba(255, 255, 255, 0.3),
                  0 0 4px rgba(255, 255, 255, 0.2)
                `,filter:"contrast(1.2)",letterSpacing:"0.02em"},children:o?m:e})})]}),r==="primary"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl",style:{background:`repeating-linear-gradient(
                -45deg,
                #a84949ff 0px,
                #e75757 12.5px,
                #dc2626 25px,
                #ffffff 25px,
                #ffffff 50px,
                #2563eb 50px,
                #4e7beb 62.5px,
                #2563eb 75px,
                #ffffff 75px,
                #ffffff 100px
              )`,backgroundSize:"141.42px 141.42px",animation:v?"barberPoleSynced 3s linear infinite":"none",opacity:.95,border:"2px solid rgba(59, 130, 246, 0.6)",boxShadow:`
                0 0 15px rgba(59, 130, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1)
              `},children:a.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
                  135deg,
                  rgba(0, 0, 0, 0.05) 0%,
                  transparent 50%,
                  rgba(255, 255, 255, 0.05) 100%
                )`,mixBlendMode:"soft-light"}})}),a.jsx("style",{children:`
            @keyframes barberPoleSynced {
              0% {
                background-position: 0px 0px;
              }
              100% {
                background-position: 141.42px 0px;
              }
            }
          `})]}),r==="secondary"&&a.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-[#1a1f3c]/80 backdrop-blur-md"}),r==="outline"&&a.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-transparent"}),r==="ghost"&&a.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-white/5 backdrop-blur-md"}),a.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:a.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
              to bottom,
              rgba(255, 255, 255, 0.08) 0%,
              rgba(255, 255, 255, 0.03) 40%,
              transparent 100%
            )`,transition:"opacity 400ms ease",opacity:v?.7:.5}})})]})},Ct=({children:e,className:r=""})=>a.jsxs("div",{className:`relative min-h-screen w-full pt-10 sm:pt-12 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden ${r}`,style:{isolation:"isolate"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsx("div",{className:"relative z-10",children:e})]}),By=({barber:e})=>{var o,l,u,f;const r=h=>{h.target.onerror=null,h.target.src=Ay.profile(),h.target.classList.add("fallback-image")},t=h=>{if(!h)return null;if(typeof h=="object"){const m=h.average||0,x=h.count||0;return`${m.toFixed(1)} (${x})`}return h},s=e.user||{};return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-300 bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900",children:[a.jsx("div",{className:"aspect-[4/5] w-full relative",children:(o=s.photo)!=null&&o.url||(l=e.photo)!=null&&l.url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:((u=s.photo)==null?void 0:u.url)||((f=e.photo)==null?void 0:f.url),alt:s.name||"Barbero",className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity",onError:r}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 via-blue-900/50 to-gray-900",children:a.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur",children:a.jsx("svg",{className:"w-20 h-20 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})})}),a.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-6",children:a.jsx("div",{className:"transform transition-transform group-hover:translate-y-0 translate-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.name||e.name||"Nombre no disponible"}),a.jsx("p",{className:"text-gray-300 text-sm",children:e.specialty||"Barbero Profesional"}),a.jsxs("div",{className:"flex flex-wrap gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 delay-100",children:[e.experience&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-700 backdrop-blur-sm",children:[e.experience," de experiencia"]}),t(e==null?void 0:e.rating)&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-700 backdrop-blur-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),t(e.rating)]})]})]})})})]})};function zy(){const[e,r]=P.useState([]),[t,s]=P.useState([]),[o,l]=P.useState(!0),[u,f]=P.useState(null),[h,m]=P.useState(!1),{user:x,accessToken:v}=Ut();return P.useEffect(()=>{if(h)return;(async()=>{try{console.log("Iniciando fetch de datos...");const[w,_]=await Promise.all([Ie.get("/services"),Ie.get("/barbers")]);if(console.log("Respuesta de servicios:",w),console.log("Respuesta de barberos:",_),!w.success||!_.success)throw new Error("Error al cargar los datos");const b=w.data||[],y=_.data||[];console.log("Datos de barberos recibidos:",y);const k=y.filter(j=>(console.log("Evaluando barbero:",j),j.user&&j.user.role==="barber"&&j.user.isActive!==!1&&j.isActive!==!1));console.log("Barberos activos filtrados:",k),r(b.slice(0,6)),s(k),m(!0)}catch(w){console.error("Error completo:",w),f(w.message)}finally{l(!1)}})()},[]),a.jsxs(Ct,{children:[!x&&a.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/30 via-black/20 to-gray-900/30",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-500/5 via-transparent to-blue-500/5"}),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239BA9B4' fill-opacity='0.05'%3E%3Cpath d='M40 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V10h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 14v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsx("div",{className:"absolute inset-0",style:{background:`
                                linear-gradient(to right, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%),
                                linear-gradient(to bottom, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%)
                            `}})]}),a.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"relative mx-auto w-56 sm:w-64 md:w-72 lg:w-80 mb-8 transform hover:scale-105 transition-all duration-500",children:[a.jsx("img",{src:mi.main(),alt:"The Brothers Barber Shop",className:"w-full h-auto filter drop-shadow-[0_0_30px_rgba(59,130,246,0.6)]",onError:N=>{N.target.style.display="none",N.target.nextElementSibling.style.display="block"}}),a.jsx("div",{className:"hidden text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-center tracking-tight",style:{textShadow:"0 0 30px rgba(59, 130, 246, 0.6)"},children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-blue-200 to-blue-400",children:"The Brothers"})})]}),a.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:[a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Donde el estilo se encuentra"}),a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"con la tradición"})]})]}),a.jsxs("div",{className:"mb-12 space-y-8",children:[a.jsxs("p",{className:"text-xl sm:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Experimenta un corte de pelo que define tu personalidad.",a.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Tradición, calidad y estilo en cada corte."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30 hover:border-red-500/30 transition-all duration-300",children:[a.jsx("div",{className:"mb-4 mx-auto w-12 h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"font-bold text-white mb-2",children:"Reservas Online"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Agenda tu cita 24/7"})]}),a.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30 hover:border-blue-500/30 transition-all duration-300",children:[a.jsx("div",{className:"mb-4 mx-auto w-12 h-12 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),a.jsx("h3",{className:"font-bold text-white mb-2",children:"Barberos Expertos"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Profesionales certificados"})]}),a.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30 hover:border-red-500/30 transition-all duration-300",children:[a.jsx("div",{className:"mb-4 mx-auto w-12 h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),a.jsx("h3",{className:"font-bold text-white mb-2",children:"Calidad Premium"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Los mejores productos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(St,{variant:"primary",size:"lg",className:"inline-flex items-center justify-center whitespace-nowrap px-8 py-4 text-lg font-semibold rounded-2xl shadow-lg transform hover:scale-105 transition-all duration-300 min-w-fit",onClick:()=>window.location.href="/appointment",children:a.jsxs("span",{className:"flex items-center gap-3",children:["Reserva tu cita ahora",a.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Sin compromiso"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Cancelación gratuita"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirmación inmediata"]})]})]})]})}),a.jsx("div",{className:"relative z-10 pb-8 flex justify-center",children:a.jsx("div",{className:"animate-bounce",children:a.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}),a.jsxs("section",{className:`${x?"py-8 sm:py-12":"py-24 sm:py-32"} px-4 relative bg-gradient-to-b from-black via-gray-900 to-black`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%235a67d8' fill-opacity='0.1'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"container mx-auto relative",children:[x&&a.jsx("div",{className:"relative z-10 mb-8",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-xl border border-gray-700/50 rounded-2xl p-4 shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30",children:a.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white text-sm",children:"Bienvenido,"}),a.jsx("p",{className:"font-bold text-blue-400",children:x.username||x.name||x.email}),x.role==="admin"&&a.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-gradient-to-r from-blue-600/30 to-red-600/30 border border-blue-500/30 text-blue-400 rounded-full text-xs font-medium",children:x.role})]})]})})})}),a.jsxs("div",{className:`text-center max-w-4xl mx-auto ${x?"mb-12":"mb-20"}`,children:[a.jsx("div",{className:"mb-6",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 border border-red-500/30 rounded-full text-red-400 text-sm font-medium uppercase tracking-wider",children:"Nuestros Servicios"})}),a.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Servicios Profesionales"}),a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"de Barbería"})]}),a.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Ofrecemos una amplia gama de servicios de barbería profesional",a.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"para que luzcas tu mejor versión"})]})]}),o?a.jsx("div",{className:"flex justify-center py-16",children:a.jsx("div",{className:"relative w-16 h-16",children:a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"w-full h-full border-4 border-blue-500/20 rounded-full"}),a.jsx("div",{className:"w-full h-full border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]})})}):e.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mb-6 mx-auto w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No hay servicios disponibles en este momento."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",children:e.slice(0,6).map((N,w)=>a.jsxs("div",{className:`group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-2 hover:shadow-[0_20px_60px_rgba(220,38,38,0.25)] ${w===0?"md:col-span-2 lg:col-span-1":""}`,style:{animationDelay:`${w*100}ms`},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-2xl flex items-center justify-center border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:a.jsx("svg",{className:"w-8 h-8 text-red-400 group-hover:text-blue-400 transition-colors duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.414 5l5.293 5.293a1 1 0 0 1 0 1.414L15.414 17H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h9.414z M12 12h.01"})})}),w===0&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-600 to-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular"})]}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"font-bold text-2xl lg:text-3xl mb-3 text-white group-hover:text-blue-400 transition-colors duration-500",children:N.name}),a.jsx("p",{className:"text-gray-400 text-base leading-relaxed",children:N.description})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsxs("p",{className:"text-blue-400 font-bold text-3xl",children:["$",N.price]}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Precio final"})]}),a.jsx(lt,{to:"/appointment",className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 hover:from-red-600/40 hover:to-blue-600/40 border border-red-500/30 hover:border-blue-500/50 rounded-full text-red-400 hover:text-blue-400 transition-all duration-500 transform hover:scale-110",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]})]})]},N._id))})]})]}),a.jsxs("section",{className:"py-24 sm:py-32 px-4 bg-gradient-to-b from-black via-gray-900 to-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-blue-900/10 to-red-900/10"}),a.jsx("div",{className:"absolute inset-0 opacity-25",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23dc2626' fill-opacity='0.08'%3E%3Ccircle cx='60' cy='60' r='2'/%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3Ccircle cx='90' cy='30' r='1'/%3E%3Ccircle cx='30' cy='90' r='1'/%3E%3Ccircle cx='90' cy='90' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"container mx-auto relative",children:[a.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[a.jsx("div",{className:"mb-6",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30 rounded-full text-blue-400 text-sm font-medium uppercase tracking-wider",children:"Nuestro Equipo"})}),a.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"Barberos Expertos"}),a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Maestros del Arte"})]}),a.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Conoce a nuestro equipo de profesionales expertos en el arte de la barbería",a.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Pasión, técnica y dedicación en cada corte"})]})]}),o?a.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500/20"}),a.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-transparent border-t-blue-500 animate-spin absolute inset-0"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20"})})]})}):t.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"mb-8 mx-auto w-20 h-20 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-2xl flex items-center justify-center border border-blue-500/30",children:a.jsx("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-300 mb-4",children:"Estamos construyendo nuestro equipo"}),a.jsx("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:"Pronto agregaremos nuevos profesionales especializados a nuestro equipo de barberos expertos"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",children:t.map((N,w)=>a.jsx("div",{className:"transform hover:scale-105 transition-all duration-500",style:{animationDelay:`${w*150}ms`},children:a.jsx(By,{barber:N})},N._id||N.id))}),t.length>0&&a.jsxs("div",{className:"text-center mt-16",children:[a.jsx("p",{className:"text-gray-400 mb-6",children:"¿Quieres conocer más sobre nuestros barberos?"}),a.jsxs(St,{variant:"outline",size:"md",className:"px-8 py-3",onClick:()=>window.location.href="/barbers",children:["Ver todos los barberos",a.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),a.jsxs("section",{className:"py-24 sm:py-32 px-4 bg-gradient-to-b from-black to-gray-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/8 via-red-900/8 to-blue-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%232563eb' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"container mx-auto relative",children:[a.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[a.jsx("div",{className:"mb-6",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30 rounded-full text-blue-400 text-sm font-medium uppercase tracking-wider",children:"Visítanos"})}),a.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"Encuéntranos"}),a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Te Esperamos"})]}),a.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Estamos ubicados en el corazón de la ciudad",a.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Ven y experimenta la diferencia por ti mismo"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs("div",{className:"relative order-2 lg:order-1",children:[a.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-3xl blur-2xl opacity-30"}),a.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-2xl blur-xl"}),a.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 to-gray-800/95 border border-gray-700/50 rounded-3xl p-6 backdrop-blur-xl shadow-2xl h-[400px] lg:h-[600px] flex flex-col",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-xl flex items-center justify-center border border-blue-500/30",children:a.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),a.jsx("h3",{className:"text-xl font-bold text-white",children:"Información de Contacto"})]}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Estamos aquí para atenderte con la mejor experiencia de barbería."})]}),a.jsxs("div",{className:"space-y-4 flex-1",children:[a.jsx("div",{className:"group",children:a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-blue-500/40 transition-all duration-300",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:a.jsxs("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Dirección"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Cra 77vBis #52 A - 08"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Bogotá D.C, Cundinamarca."})]})]})}),a.jsx("div",{className:"group",children:a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-red-500/40 transition-all duration-300",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 group-hover:border-red-400/50 transition-all duration-300",children:a.jsx("svg",{className:"w-4 h-4 text-red-400 group-hover:text-red-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-white mb-1 group-hover:text-red-300 transition-colors duration-300",children:"Teléfono"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"+57 311 588 2528"}),a.jsx("p",{className:"text-xs text-gray-500",children:"WhatsApp disponible"})]})]})}),a.jsx("div",{className:"group",children:a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-blue-500/40 transition-all duration-300",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:a.jsx("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Horario de Atención"}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Lunes - Sábado: 9:00 AM - 8:00 PM"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Domingo: 10:00 AM - 6:00 PM"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Reservas recomendadas"})]})]})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:a.jsxs(St,{variant:"primary",size:"md",className:"w-full py-2.5",onClick:()=>window.location.href="/appointment",children:["Reservar una cita",a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})})]})]}),a.jsxs("div",{className:"relative order-1 lg:order-2",children:[a.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-600/20 via-red-600/20 to-blue-600/20 rounded-3xl blur-xl opacity-50"}),a.jsxs("div",{className:"relative h-[400px] lg:h-[600px] rounded-3xl overflow-hidden shadow-[0_0_40px_rgba(37,99,235,0.3)] border border-gray-700/50 backdrop-blur-sm",children:[a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15907.448844294731!2d-74.16188815134278!3d4.618659698034156!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9fadb32531a3%3A0xad47ce8d546359c!2sThe%20brothers%20barber!5e0!3m2!1ses!2sco!4v1756390613507!5m2!1ses!2sco",className:"w-full h-full",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{filter:"grayscale(20%) contrast(1.1)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none"})]})]})]})]})]})]})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wy=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,s)=>s?s.toUpperCase():t.toLowerCase()),Jm=e=>{const r=Wy(e);return r.charAt(0).toUpperCase()+r.slice(1)},wp=(...e)=>e.filter((r,t,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===t).join(" ").trim(),$y=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=P.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...f},h)=>P.createElement("svg",{ref:h,...Hy,width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:wp("lucide",o),...!l&&!$y(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,x])=>P.createElement(m,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,r)=>{const t=P.forwardRef(({className:s,...o},l)=>P.createElement(Vy,{ref:l,iconNode:r,className:wp(`lucide-${Uy(Jm(e))}`,`lucide-${e}`,s),...o}));return t.displayName=Jm(e),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Zm=Je("activity",Gy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Np=Je("arrow-left",Yy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ud=Je("award",Xy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ex=Je("bell",Ky);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],tx=Je("calculator",qy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],cc=Je("calendar-days",Qy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Hc=Je("camera",Jy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kt=Je("calendar",Zy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xi=Je("chart-column",eb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ii=Je("check",tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],po=Je("chevron-up",rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],li=Je("circle-alert",nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pi=Je("circle-check-big",ab);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fs=Je("circle-x",sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ea=Je("clock",ib);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],lb=Je("crown",ob);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ao=Je("dollar-sign",cb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nd=Je("download",ub);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Uu=Je("eye-off",db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vo=Je("eye",fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nc=Je("file-text",hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_d=Je("funnel",mb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ho=Je("lock",xb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jd=Je("mail",pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M5 12h14",key:"1ays0h"}]],_p=Je("minus",gb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],Wu=Je("package-2",vb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_c=Je("package",yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wb=Je("pen-line",bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sd=Je("phone",Nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yo=Je("plus",_b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sb=Je("rotate-ccw",jb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ia=Je("save",kb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Sr=Je("scissors",Eb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kd=Je("search",Tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rx=Je("settings",Cb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Db=Je("shield",Ab);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bo=Je("shopping-cart",Pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jp=Je("square-pen",Fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hs=Je("star",Ob);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bo=Je("trash-2",Mb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ib=Je("trending-down",Rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vc=Je("trending-up",Lb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ed=Je("triangle-alert",Bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jc=Je("upload",zb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kr=Je("user",Ub);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sp=Je("users",Wb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bn=Je("x",$b);function Hb(){var t,s,o,l;const{user:e}=Ut();if(!e)return a.jsx("p",{className:"text-center text-red-500 mt-10",children:"No has iniciado sesión."});const r=u=>{if(!u)return"No especificado";const f=new Date(u),h=f.getTimezoneOffset();return new Date(f.getTime()+h*60*1e3).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})};return a.jsxs(Ct,{children:[a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto space-y-8",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"relative bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl shadow-blue-500/10",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[e.profilePicture?a.jsx("img",{src:e.profilePicture,alt:"Foto de perfil",className:"w-28 h-28 rounded-full object-cover ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20"}):a.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-2xl font-bold ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:((s=(t=e.name)==null?void 0:t[0])==null?void 0:s.toUpperCase())||((l=(o=e.email)==null?void 0:o[0])==null?void 0:l.toUpperCase())||"?"})}),a.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-3 py-1 rounded-full shadow-lg",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent font-medium",children:e.role==="admin"?"Admin":e.role==="barber"?"Barbero":"Cliente"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-2",children:e.name||"Sin nombre"}),a.jsx("p",{className:"text-lg bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:e.email})]}),a.jsxs(lt,{to:"/profile-edit",className:"group relative inline-flex items-center px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-500/30 transition-all duration-300 text-white space-x-2 shadow-lg hover:shadow-blue-500/20 hover:scale-105",children:[a.jsx(wb,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),a.jsx("span",{className:"font-medium bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Editar Perfil"})]})]})})}),a.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[a.jsxs("div",{className:"group bg-gray-800/20 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl hover:shadow-blue-500/10 transition-all duration-300 hover:border-blue-500/20",children:[a.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",children:a.jsx(jd,{className:"w-6 h-6 text-blue-400"})}),a.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Información de Contacto"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[a.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electrónico"}),a.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent break-all",children:e.email})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[a.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Teléfono"}),a.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:e.phone||"No especificado"})]})]})]}),a.jsxs("div",{className:"group bg-gray-800/20 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl hover:shadow-purple-500/10 transition-all duration-300 hover:border-purple-500/20",children:[a.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:a.jsx(kr,{className:"w-6 h-6 text-purple-400"})}),a.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Información Personal"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[a.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Nombre completo"}),a.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:e.name||"No especificado"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[a.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Fecha de nacimiento"}),a.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:r(e.birthdate)})]})]})]})]})]})]})}const Vb={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"},Gb={monday:{start:"07:00",end:"19:00",available:!0},tuesday:{start:"07:00",end:"19:00",available:!0},wednesday:{start:"07:00",end:"19:00",available:!0},thursday:{start:"07:00",end:"19:00",available:!0},friday:{start:"07:00",end:"19:00",available:!0},saturday:{start:"07:00",end:"19:00",available:!0},sunday:{start:"07:00",end:"19:00",available:!1}},Yb=()=>{const{user:e,setUser:r}=Ut(),t=Va(),{showSuccess:s,showError:o}=Tr(),l=P.useRef(null),[u,f]=P.useState(null),[h,m]=P.useState(!0),[x,v]=P.useState(!1),[N,w]=P.useState("personal"),[_,b]=P.useState(null),[y,k]=P.useState({name:"",phone:"",birthdate:""}),[j,T]=P.useState({specialty:"",experience:"",description:"",services:[]}),[M,V]=P.useState([]),[X,Y]=P.useState(Gb),te=B=>{if(!B)return"";const R=new Date(B);return isNaN(R.getTime())?"":R.toISOString().split("T")[0]};P.useEffect(()=>{J()},[]),P.useEffect(()=>{e&&(k({name:e.name||"",phone:e.phone||"",birthdate:te(e.birthdate)}),e.profilePicture&&!_&&b(e.profilePicture))},[e]);const J=async()=>{var B,R,A;m(!0);try{const[O,E]=await Promise.all([qn.getBarberProfile(),wd.getAllServices()]);if(O.success){const D=O.data;f(D),T({specialty:D.specialty||"",experience:((B=D.experience)==null?void 0:B.toString())||"",description:D.description||"",services:((R=D.services)==null?void 0:R.map(se=>se._id))||[]}),k({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",birthdate:te(e==null?void 0:e.birthdate)});const K=(e==null?void 0:e.profilePicture)||((A=D.user)==null?void 0:A.profilePicture);K&&b(K),D.schedule&&Y(D.schedule)}E.success&&V(E.data||[])}catch(O){console.error("Error loading data:",O),o("Error al cargar los datos del perfil")}finally{m(!1)}},de=B=>{const{name:R,value:A}=B.target;k(O=>({...O,[R]:A}))},pe=B=>{const{name:R,value:A}=B.target;T(O=>({...O,[R]:A}))},q=(B,R)=>{T(A=>({...A,services:R?[...A.services,B]:A.services.filter(O=>O!==B)}))},ie=(B,R,A)=>{Y(O=>({...O,[B]:{...O[B],[R]:A}}))},Pe=B=>{const R=B.target.files[0];if(R){if(R.size>5*1024*1024){o("La imagen no puede ser mayor a 5MB");return}if(!R.type.startsWith("image/")){o("Solo se permiten archivos de imagen");return}const A=new FileReader;A.onload=()=>{b(A.result)},A.readAsDataURL(R)}},ke=()=>{b(null),l.current&&(l.current.value="")},We=async B=>{try{const R=new FormData;return R.append("profilePicture",B),(await Ie.upload("/users/upload-profile-picture",R)).profilePictureUrl}catch(R){throw new Error(R.message||"Error al subir la imagen")}},ye=async()=>{var B;try{v(!0);let R=e==null?void 0:e.profilePicture;(B=l.current)!=null&&B.files[0]&&(R=await We(l.current.files[0]));const A={};y.name&&y.name.trim()&&(A.name=y.name.trim()),y.phone&&y.phone.trim()&&(A.phone=y.phone.trim()),y.birthdate&&y.birthdate.trim()&&(A.birthdate=y.birthdate.trim()),R&&(A.profilePicture=R);const O=await Ie.put("/users/profile",A),E=O.data||O,D={...e,...E,profilePicture:R};r(D),k({name:D.name||"",phone:D.phone||"",birthdate:te(D.birthdate)}),R&&R!==(e==null?void 0:e.profilePicture)?b(R):b(null),l.current&&(l.current.value=""),s("Información personal actualizada correctamente")}catch(R){console.error("Error al actualizar información personal:",R),o(R.message||"Error al actualizar la información personal")}finally{v(!1)}},L=async()=>{try{v(!0);const B={...j,experience:parseInt(j.experience)||0},R=await qn.updateMyProfile(B);R.success?(s("Información profesional actualizada exitosamente"),f(A=>({...A,...B}))):o(R.message||"Error al actualizar la información profesional")}catch(B){console.error("Error updating professional info:",B),o("Error al actualizar la información profesional")}finally{v(!1)}},re=async()=>{try{v(!0);const B=await qn.updateMyProfile({schedule:X});B.success?(s("Horarios actualizados exitosamente"),f(R=>({...R,schedule:X}))):o(B.message||"Error al actualizar los horarios")}catch(B){console.error("Error updating schedule:",B),o("Error al actualizar los horarios")}finally{v(!1)}};return h?a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),a.jsx("p",{className:"mt-4 text-white/80",children:"Cargando perfil..."})]})]})}):a.jsx(Ct,{children:a.jsx("div",{className:"relative py-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("button",{onClick:()=>t("/profile"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/10 backdrop-blur-lg border border-white/20 rounded-full text-white hover:bg-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:scale-105",children:[a.jsx(Np,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),a.jsx("span",{className:"font-medium text-sm",children:"Volver al Perfil"})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-3 text-white leading-tight drop-shadow-lg",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Editar Perfil de Barbero"})}),a.jsx("p",{className:"text-blue-200 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu información profesional y destaca tus habilidades como barbero"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/20 rounded-xl p-1.5 flex flex-col sm:flex-row gap-1 shadow-xl w-full max-w-lg",children:[{id:"personal",label:"Personal",icon:kr,gradient:"from-blue-600 to-blue-700"},{id:"professional",label:"Profesional",icon:hs,gradient:"from-red-600 to-red-700"},{id:"services",label:"Servicios",icon:Sr,gradient:"from-red-500 to-blue-500"},{id:"schedule",label:"Horarios",icon:ea,gradient:"from-blue-500 to-red-500"}].map(({id:B,label:R,icon:A,gradient:O})=>a.jsxs("button",{type:"button",onClick:()=>w(B),className:`group relative px-3 py-2.5 rounded-lg font-medium text-xs transition-all duration-300 flex items-center justify-center gap-1.5 transform hover:scale-105 flex-1 ${N===B?`bg-gradient-to-r ${O} text-white shadow-md border border-white/20`:"text-blue-200 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20"}`,children:[a.jsx(A,{size:14,className:"transition-all duration-300 drop-shadow-sm"}),a.jsx("span",{className:"hidden sm:inline drop-shadow-sm",children:R}),a.jsx("span",{className:"sm:hidden drop-shadow-sm",children:R.substring(0,4)})]},B))})}),a.jsxs("div",{className:"space-y-6",children:[N==="personal"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/30 rounded-2xl p-4 shadow-2xl hover:bg-gray-900/90 hover:border-red-500/50 transition-all duration-300",children:[a.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:a.jsx(jc,{size:18,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Foto de Perfil"})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"relative group",children:a.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[a.jsx("img",{src:_||(e==null?void 0:e.profilePicture)||"/images/default-avatar.png",alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var B;return(B=l.current)==null?void 0:B.click()},children:a.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:a.jsx(Hc,{size:16,className:"text-white drop-shadow-lg"})})})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{var B;return(B=l.current)==null?void 0:B.click()},disabled:x,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110",title:"Subir foto",children:a.jsx(jc,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),((e==null?void 0:e.profilePicture)||_)&&a.jsx("button",{onClick:ke,disabled:x,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110",title:"Eliminar foto",children:a.jsx(bn,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),a.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:Pe,className:"hidden"})]})]}),a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:a.jsx(kr,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Información Personal"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(kr,{size:16,className:"text-red-400"}),"Nombre Completo"]}),a.jsx("input",{type:"text",name:"name",value:y.name,onChange:de,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nombre completo"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[a.jsx(Sd,{size:16,className:"text-blue-400"}),"Teléfono"]}),a.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:de,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"+57 300 123 4567"})]}),a.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(Kt,{size:16,className:"text-red-400"}),"Fecha de Nacimiento"]}),a.jsx("input",{type:"date",name:"birthdate",value:y.birthdate,onChange:de,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner"})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(St,{onClick:ye,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),N==="professional"&&a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(239,68,68,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:a.jsx(hs,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Información Profesional"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(Sr,{size:16,className:"text-red-400"}),"Especialidad"]}),a.jsx("input",{type:"text",name:"specialty",value:j.specialty,onChange:pe,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Ej: Cortes clásicos, barbas, etc."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[a.jsx(hs,{size:16,className:"text-blue-400"}),"Años de Experiencia"]}),a.jsx("input",{type:"number",name:"experience",min:"0",value:j.experience,onChange:pe,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"0"})]}),a.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(Nc,{size:16,className:"text-red-400"}),"Descripción"]}),a.jsx("textarea",{name:"description",value:j.description,onChange:pe,rows:3,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-xl text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner resize-none",placeholder:"Cuéntanos sobre tu experiencia y estilo de trabajo..."})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(St,{onClick:L,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Cambios"})]})})})]})]}),N==="services"&&a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(239,68,68,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:a.jsx(Sr,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Servicios que Ofreces"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:M.map(B=>a.jsxs("label",{className:`group relative p-4 rounded-2xl border-2 cursor-pointer transition-all duration-500 hover:scale-105 overflow-hidden ${j.services.includes(B._id)?"border-transparent bg-gradient-to-br from-red-500/30 via-white/10 to-blue-500/30 shadow-xl shadow-red-500/30":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[j.services.includes(B._id)&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsx("input",{type:"checkbox",checked:j.services.includes(B._id),onChange:R=>q(B._id,R.target.checked),className:"sr-only"}),a.jsxs("div",{className:"relative z-10 flex flex-col space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:`font-bold text-base group-hover:scale-105 transition-transform duration-300 ${j.services.includes(B._id)?"bg-clip-text text-transparent bg-gradient-to-r from-red-300 via-white to-blue-300":"text-white"}`,children:B.name}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${j.services.includes(B._id)?"border-red-400 bg-gradient-to-r from-red-500 to-blue-500 shadow-lg":"border-gray-400 group-hover:border-white"}`,children:j.services.includes(B._id)&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),a.jsx("p",{className:`text-sm leading-relaxed ${j.services.includes(B._id)?"text-gray-200":"text-gray-300"}`,children:B.description}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/20",children:[a.jsxs("span",{className:`font-bold text-base ${j.services.includes(B._id)?"bg-clip-text text-transparent bg-gradient-to-r from-red-400 to-blue-400":"text-blue-400"}`,children:["$",B.price]}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${j.services.includes(B._id)?"bg-white/20 text-white":"bg-gray-600/50 text-gray-400"}`,children:[B.duration," min"]})]})]})]},B._id))}),a.jsx("div",{className:"flex justify-end",children:a.jsx(St,{onClick:L,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Servicios"})]})})})]})]}),N==="schedule"&&a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:a.jsx(ea,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Horarios de Trabajo"})]}),a.jsx("div",{className:"space-y-3 mb-6",children:Object.entries(X).map(([B,R])=>a.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0 md:w-40",children:[a.jsx("input",{type:"checkbox",checked:R.available,onChange:A=>ie(B,"available",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-white font-medium text-base",children:Vb[B]})]}),R.available&&a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("input",{type:"time",step:"1800",value:R.start,onChange:A=>ie(B,"start",A.target.value),className:"px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsx("span",{className:"text-gray-300 font-medium text-sm",children:"a"}),a.jsx("input",{type:"time",step:"1800",value:R.end,onChange:A=>ie(B,"end",A.target.value),className:"px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),!R.available&&a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:"text-gray-400 italic text-sm",children:"No disponible"})})]})},B))}),a.jsx("div",{className:"flex justify-end",children:a.jsx(St,{onClick:re,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Horarios"})]})})})]})]})]})]})})})},Xb=()=>{var Pe,ke,We,ye;const{user:e,setUser:r}=Ut(),{showSuccess:t,showError:s}=Tr(),o=Va(),l=P.useRef(null),[u,f]=P.useState(!1),[h,m]=P.useState("personal"),[x,v]=P.useState(null),N=L=>{if(!L)return"";const re=new Date(L),B=re.getTimezoneOffset();return new Date(re.getTime()+B*60*1e3).toISOString().split("T")[0]},[w,_]=P.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",birthdate:N(e==null?void 0:e.birthdate),profilePicture:(e==null?void 0:e.profilePicture)||""}),[b,y]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,j]=P.useState({emailNotifications:(ke=(Pe=e==null?void 0:e.preferences)==null?void 0:Pe.emailNotifications)!=null?ke:!0,marketingEmails:(ye=(We=e==null?void 0:e.preferences)==null?void 0:We.marketingEmails)!=null?ye:!1}),[T,M]=P.useState({current:!1,new:!1,confirm:!1});P.useEffect(()=>{var L,re,B,R;e&&(_({name:e.name||"",email:e.email||"",phone:e.phone||"",birthdate:N(e.birthdate),profilePicture:e.profilePicture||""}),j({emailNotifications:(re=(L=e.preferences)==null?void 0:L.emailNotifications)!=null?re:!0,marketingEmails:(R=(B=e.preferences)==null?void 0:B.marketingEmails)!=null?R:!1}))},[e]);const V=L=>{const{name:re,value:B}=L.target;_(R=>({...R,[re]:B}))},X=L=>{const{name:re,value:B}=L.target;y(R=>({...R,[re]:B}))},Y=L=>{const{name:re,checked:B}=L.target;j(R=>({...R,[re]:B}))},te=L=>{const re=L.target.files[0];if(re){if(re.size>5*1024*1024){s("La imagen no puede ser mayor a 5MB");return}if(!re.type.startsWith("image/")){s("Solo se permiten archivos de imagen");return}const B=new FileReader;B.onload=()=>{v(B.result)},B.readAsDataURL(re)}},J=()=>{v(null),_(L=>({...L,profilePicture:""})),l.current&&(l.current.value="")},de=async L=>{try{const re=new FormData;return re.append("profilePicture",L),(await Ie.upload("/users/upload-profile-picture",re)).profilePictureUrl}catch(re){throw new Error(re.message||"Error al subir la imagen")}},pe=async()=>{var L;try{f(!0);let re=w.profilePicture;(L=l.current)!=null&&L.files[0]&&(re=await de(l.current.files[0]));const B={};w.name&&w.name.trim()&&(B.name=w.name.trim()),w.email&&w.email.trim()&&(B.email=w.email.trim()),w.phone&&w.phone.trim()&&(B.phone=w.phone.trim()),w.birthdate&&w.birthdate.trim()&&(B.birthdate=w.birthdate.trim()),re&&(B.profilePicture=re);const R=await Ie.put("/users/profile",B),A=R.data||R,O={...e,...A,profilePicture:re};r(O),_({name:O.name||"",email:O.email||"",phone:O.phone||"",birthdate:N(O.birthdate),profilePicture:O.profilePicture||""}),v(null),l.current&&(l.current.value=""),t("Perfil actualizado correctamente")}catch(re){console.error("Error al actualizar perfil:",re),s(re.message||"Error al actualizar el perfil")}finally{f(!1)}},q=async()=>{try{if(!b.currentPassword||!b.newPassword||!b.confirmPassword){s("Todos los campos de contraseña son obligatorios");return}if(b.newPassword!==b.confirmPassword){s("Las contraseñas nuevas no coinciden");return}if(b.newPassword.length<6){s("La nueva contraseña debe tener al menos 6 caracteres");return}f(!0),await Ie.put("/users/change-password",{currentPassword:b.currentPassword,newPassword:b.newPassword}),y({currentPassword:"",newPassword:"",confirmPassword:""}),t("Contraseña actualizada correctamente")}catch(L){console.error("Error al cambiar contraseña:",L),s(L.message||"Error al cambiar la contraseña")}finally{f(!1)}},ie=async()=>{try{f(!0);const L=await Ie.put("/users/preferences",k),re=L.data||L;r(B=>({...B,preferences:re.preferences||k})),t("Preferencias actualizadas correctamente")}catch(L){console.error("Error al actualizar preferencias:",L),s(L.message||"Error al actualizar las preferencias")}finally{f(!1)}};return a.jsx(Ct,{children:a.jsx("div",{className:"relative py-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("button",{onClick:()=>o("/dashboard"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/10 backdrop-blur-lg border border-white/20 rounded-full text-white hover:bg-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:scale-105",children:[a.jsx(Np,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),a.jsx("span",{className:"font-medium text-sm",children:"Volver al Dashboard"})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-3 text-white leading-tight drop-shadow-lg",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Editar Perfil de Usuario"})}),a.jsx("p",{className:"text-blue-200 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu información personal y preferencias de la cuenta con total seguridad"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/20 rounded-xl p-1.5 flex flex-col sm:flex-row gap-1 shadow-xl w-full max-w-md",children:[{id:"personal",label:"Personal",icon:kr,gradient:"from-blue-600 to-blue-700"},{id:"security",label:"Seguridad",icon:ho,gradient:"from-red-600 to-red-700"},{id:"preferences",label:"Preferencias",icon:ex,gradient:"from-red-500 to-blue-500"}].map(({id:L,label:re,icon:B,gradient:R})=>a.jsxs("button",{type:"button",onClick:()=>m(L),className:`group relative px-3 py-2.5 rounded-lg font-medium text-xs transition-all duration-300 flex items-center justify-center gap-1.5 transform hover:scale-105 flex-1 ${h===L?`bg-gradient-to-r ${R} text-white shadow-md border border-white/20`:"text-blue-200 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20"}`,children:[a.jsx(B,{size:14,className:"transition-all duration-300 drop-shadow-sm"}),a.jsx("span",{className:"hidden sm:inline drop-shadow-sm",children:re}),a.jsx("span",{className:"sm:hidden drop-shadow-sm",children:re.substring(0,4)})]},L))})}),a.jsxs("div",{className:"space-y-6",children:[h==="personal"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/30 rounded-2xl p-4 shadow-2xl hover:bg-gray-900/90 hover:border-red-500/50 transition-all duration-300",children:[a.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:a.jsx(jc,{size:18,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Foto de Perfil"})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"relative group",children:a.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[a.jsx("img",{src:x||w.profilePicture||"/images/default-avatar.png",alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var L;return(L=l.current)==null?void 0:L.click()},children:a.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:a.jsx(Hc,{size:16,className:"text-white drop-shadow-lg"})})})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{var L;return(L=l.current)==null?void 0:L.click()},disabled:u,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110",title:"Subir foto",children:a.jsx(jc,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),(w.profilePicture||x)&&a.jsx("button",{onClick:J,disabled:u,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110",title:"Eliminar foto",children:a.jsx(bn,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),a.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:te,className:"hidden"})]})]}),a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:a.jsx(kr,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Información Personal"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(kr,{size:16,className:"text-red-400"}),"Nombre Completo"]}),a.jsx("input",{type:"text",name:"name",value:w.name,onChange:V,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nombre completo"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[a.jsx(jd,{size:16,className:"text-blue-400"}),"Correo Electrónico"]}),a.jsx("input",{type:"email",name:"email",value:w.email,onChange:V,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"tu@email.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(Sd,{size:16,className:"text-red-400"}),"Teléfono"]}),a.jsx("input",{type:"tel",name:"phone",value:w.phone,onChange:V,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"+57 300 123 4567"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[a.jsx(Kt,{size:16,className:"text-blue-400"}),"Fecha de Nacimiento"]}),a.jsx("input",{type:"date",name:"birthdate",value:w.birthdate,onChange:V,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner"})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(St,{onClick:pe,disabled:u,loading:u,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),h==="security"&&a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(220,38,38,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:a.jsx(ho,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Cambiar Contraseña"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(ho,{size:16,className:"text-red-400"}),"Contraseña Actual"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.current?"text":"password",name:"currentPassword",value:b.currentPassword,onChange:X,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu contraseña actual"}),a.jsx("button",{type:"button",onClick:()=>M(L=>({...L,current:!L.current})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:T.current?a.jsx(Uu,{size:18}):a.jsx(vo,{size:18})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[a.jsx(ho,{size:16,className:"text-blue-400"}),"Nueva Contraseña"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.new?"text":"password",name:"newPassword",value:b.newPassword,onChange:X,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nueva contraseña"}),a.jsx("button",{type:"button",onClick:()=>M(L=>({...L,new:!L.new})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-300 hover:text-blue-400 transition-colors duration-300",children:T.new?a.jsx(Uu,{size:18}):a.jsx(vo,{size:18})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[a.jsx(ho,{size:16,className:"text-red-400"}),"Confirmar Nueva Contraseña"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.confirm?"text":"password",name:"confirmPassword",value:b.confirmPassword,onChange:X,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Confirma tu nueva contraseña"}),a.jsx("button",{type:"button",onClick:()=>M(L=>({...L,confirm:!L.confirm})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:T.confirm?a.jsx(Uu,{size:18}):a.jsx(vo,{size:18})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(St,{onClick:q,disabled:u,loading:u,loadingText:"Actualizando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Cambiar Contraseña"})]})})})]})]})]}),h==="preferences"&&a.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),a.jsxs("div",{className:"relative p-8",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:a.jsx(ex,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Preferencias de Notificaciones"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-red-600/25 to-blue-600/25 rounded-full border border-red-500/30 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 backdrop-blur-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold text-sm",children:"Notificaciones por Email"}),a.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"Recibe notificaciones importantes por correo electrónico"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"emailNotifications",checked:k.emailNotifications,onChange:Y,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-red-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-red-500 peer-checked:to-red-600 shadow-lg backdrop-blur-sm"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-600/25 to-red-600/25 rounded-full border border-blue-500/30 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 backdrop-blur-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold text-sm",children:"Emails de Marketing"}),a.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"Recibe información sobre promociones y novedades"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"marketingEmails",checked:k.marketingEmails,onChange:Y,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-blue-600 shadow-lg backdrop-blur-sm"})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(St,{onClick:ie,disabled:u,loading:u,loadingText:"Guardando...",variant:"primary",size:"md",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{size:18}),a.jsx("span",{children:"Guardar Preferencias"})]})})})]})]})]})]})]})})})},Kb=()=>{const{user:e}=Ut();return e?e.role==="barber"?a.jsx(Yb,{}):a.jsx(Xb,{}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),a.jsx("p",{className:"mt-4 text-white/80",children:"Cargando..."})]})]})};function it(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function qr(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function wr(e,r){const t=it(e);return isNaN(r)?qr(e,NaN):(r&&t.setDate(t.getDate()+r),t)}function wn(e,r){const t=it(e);if(isNaN(r))return qr(e,NaN);if(!r)return t;const s=t.getDate(),o=qr(e,t.getTime());o.setMonth(t.getMonth()+r+1,0);const l=o.getDate();return s>=l?o:(t.setFullYear(o.getFullYear(),o.getMonth(),s),t)}const Td=6048e5,qb=864e5;let Qb={};function zo(){return Qb}function Rn(e,r){var f,h,m,x,v,N,w,_;const t=zo(),s=(_=(w=(x=(m=r==null?void 0:r.weekStartsOn)!=null?m:(h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?x:t.weekStartsOn)!=null?w:(N=(v=t.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)!=null?_:0,o=it(e),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function xs(e){return Rn(e,{weekStartsOn:1})}function kp(e){const r=it(e),t=r.getFullYear(),s=qr(e,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const o=xs(s),l=qr(e,0);l.setFullYear(t,0,4),l.setHours(0,0,0,0);const u=xs(l);return r.getTime()>=o.getTime()?t+1:r.getTime()>=u.getTime()?t:t-1}function ps(e){const r=it(e);return r.setHours(0,0,0,0),r}function Sc(e){const r=it(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function Mn(e,r){const t=ps(e),s=ps(r),o=+t-Sc(t),l=+s-Sc(s);return Math.round((o-l)/qb)}function Jb(e){const r=kp(e),t=qr(e,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),xs(t)}function dd(e,r){const t=r*7;return wr(e,t)}function Zb(e,r){return wn(e,r*12)}function ew(e){let r;return e.forEach(function(t){const s=it(t);(r===void 0||r<s||isNaN(Number(s)))&&(r=s)}),r||new Date(NaN)}function tw(e){let r;return e.forEach(t=>{const s=it(t);(!r||r>s||isNaN(+s))&&(r=s)}),r||new Date(NaN)}function jr(e,r){const t=ps(e),s=ps(r);return+t==+s}function Cd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rw(e){if(!Cd(e)&&typeof e!="number")return!1;const r=it(e);return!isNaN(Number(r))}function Do(e,r){const t=it(e),s=it(r),o=t.getFullYear()-s.getFullYear(),l=t.getMonth()-s.getMonth();return o*12+l}function nw(e,r,t){const s=Rn(e,t),o=Rn(r,t),l=+s-Sc(s),u=+o-Sc(o);return Math.round((l-u)/Td)}function Ad(e){const r=it(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function Ir(e){const r=it(e);return r.setDate(1),r.setHours(0,0,0,0),r}function Ep(e){const r=it(e),t=qr(e,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Dd(e,r){var f,h,m,x,v,N,w,_;const t=zo(),s=(_=(w=(x=(m=r==null?void 0:r.weekStartsOn)!=null?m:(h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?x:t.weekStartsOn)!=null?w:(N=(v=t.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)!=null?_:0,o=it(e),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function Tp(e){return Dd(e,{weekStartsOn:1})}const aw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sw=(e,r,t)=>{let s;const o=aw[e];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function ci(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const iw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ow={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cw={date:ci({formats:iw,defaultWidth:"full"}),time:ci({formats:ow,defaultWidth:"full"}),dateTime:ci({formats:lw,defaultWidth:"full"})},uw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dw=(e,r,t,s)=>uw[e];function Fn(e){return(r,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=t!=null&&t.width?String(t.width):u;o=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=t!=null&&t.width?String(t.width):e.defaultWidth;o=e.values[f]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(r):r;return o[l]}}const fw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vw=(e,r)=>{const t=Number(e),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yw={ordinalNumber:vw,era:Fn({values:fw,defaultWidth:"wide"}),quarter:Fn({values:hw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fn({values:mw,defaultWidth:"wide"}),day:Fn({values:xw,defaultWidth:"wide"}),dayPeriod:Fn({values:pw,defaultWidth:"wide",formattingValues:gw,defaultFormattingWidth:"wide"})};function On(e){return(r,t={})=>{const s=t.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=r.match(o);if(!l)return null;const u=l[0],f=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?ww(f,v=>v.test(u)):bw(f,v=>v.test(u));let m;m=e.valueCallback?e.valueCallback(h):h,m=t.valueCallback?t.valueCallback(m):m;const x=r.slice(u.length);return{value:m,rest:x}}}function bw(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function ww(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function Cp(e){return(r,t={})=>{const s=r.match(e.matchPattern);if(!s)return null;const o=s[0],l=r.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const f=r.slice(o.length);return{value:u,rest:f}}}const Nw=/^(\d+)(th|st|nd|rd)?/i,_w=/\d+/i,jw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sw={any:[/^b/i,/^(a|c)/i]},kw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ew={any:[/1/i,/2/i,/3/i,/4/i]},Tw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Aw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ow={ordinalNumber:Cp({matchPattern:Nw,parsePattern:_w,valueCallback:e=>parseInt(e,10)}),era:On({matchPatterns:jw,defaultMatchWidth:"wide",parsePatterns:Sw,defaultParseWidth:"any"}),quarter:On({matchPatterns:kw,defaultMatchWidth:"wide",parsePatterns:Ew,defaultParseWidth:"any",valueCallback:e=>e+1}),month:On({matchPatterns:Tw,defaultMatchWidth:"wide",parsePatterns:Cw,defaultParseWidth:"any"}),day:On({matchPatterns:Aw,defaultMatchWidth:"wide",parsePatterns:Dw,defaultParseWidth:"any"}),dayPeriod:On({matchPatterns:Pw,defaultMatchWidth:"any",parsePatterns:Fw,defaultParseWidth:"any"})},Ap={code:"en-US",formatDistance:sw,formatLong:cw,formatRelative:dw,localize:yw,match:Ow,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mw(e){const r=it(e);return Mn(r,Ep(r))+1}function Dp(e){const r=it(e),t=+xs(r)-+Jb(r);return Math.round(t/Td)+1}function Pp(e,r){var x,v,N,w,_,b,y,k;const t=it(e),s=t.getFullYear(),o=zo(),l=(k=(y=(w=(N=r==null?void 0:r.firstWeekContainsDate)!=null?N:(v=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)!=null?w:o.firstWeekContainsDate)!=null?y:(b=(_=o.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)!=null?k:1,u=qr(e,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const f=Rn(u,r),h=qr(e,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const m=Rn(h,r);return t.getTime()>=f.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function Rw(e,r){var f,h,m,x,v,N,w,_;const t=zo(),s=(_=(w=(x=(m=r==null?void 0:r.firstWeekContainsDate)!=null?m:(h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?x:t.firstWeekContainsDate)!=null?w:(N=(v=t.locale)==null?void 0:v.options)==null?void 0:N.firstWeekContainsDate)!=null?_:1,o=Pp(e,r),l=qr(e,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),Rn(l,r)}function Fp(e,r){const t=it(e),s=+Rn(t,r)-+Rw(t,r);return Math.round(s/Td)+1}function mt(e,r){const t=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return t+s}const Ca={y(e,r){const t=e.getFullYear(),s=t>0?t:1-t;return mt(r==="yy"?s%100:s,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):mt(t+1,2)},d(e,r){return mt(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return mt(e.getHours()%12||12,r.length)},H(e,r){return mt(e.getHours(),r.length)},m(e,r){return mt(e.getMinutes(),r.length)},s(e,r){return mt(e.getSeconds(),r.length)},S(e,r){const t=r.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return mt(o,r.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nx={G:function(e,r,t){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return Ca.y(e,r)},Y:function(e,r,t,s){const o=Pp(e,s),l=o>0?o:1-o;if(r==="YY"){const u=l%100;return mt(u,2)}return r==="Yo"?t.ordinalNumber(l,{unit:"year"}):mt(l,r.length)},R:function(e,r){const t=kp(e);return mt(t,r.length)},u:function(e,r){const t=e.getFullYear();return mt(t,r.length)},Q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return mt(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return mt(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,t){const s=e.getMonth();switch(r){case"M":case"MM":return Ca.M(e,r);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,t){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return mt(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,t,s){const o=Fp(e,s);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):mt(o,r.length)},I:function(e,r,t){const s=Dp(e);return r==="Io"?t.ordinalNumber(s,{unit:"week"}):mt(s,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Ca.d(e,r)},D:function(e,r,t){const s=Mw(e);return r==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):mt(s,r.length)},E:function(e,r,t){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,t,s){const o=e.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return mt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,s){const o=e.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return mt(l,r.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){const s=e.getDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return mt(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,t){const o=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){const s=e.getHours();let o;switch(s===12?o=Zs.noon:s===0?o=Zs.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){const s=e.getHours();let o;switch(s>=17?o=Zs.evening:s>=12?o=Zs.afternoon:s>=4?o=Zs.morning:o=Zs.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Ca.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Ca.H(e,r)},K:function(e,r,t){const s=e.getHours()%12;return r==="Ko"?t.ordinalNumber(s,{unit:"hour"}):mt(s,r.length)},k:function(e,r,t){let s=e.getHours();return s===0&&(s=24),r==="ko"?t.ordinalNumber(s,{unit:"hour"}):mt(s,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ca.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Ca.s(e,r)},S:function(e,r){return Ca.S(e,r)},X:function(e,r,t){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return sx(s);case"XXXX":case"XX":return us(s);case"XXXXX":case"XXX":default:return us(s,":")}},x:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"x":return sx(s);case"xxxx":case"xx":return us(s);case"xxxxx":case"xxx":default:return us(s,":")}},O:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ax(s,":");case"OOOO":default:return"GMT"+us(s,":")}},z:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ax(s,":");case"zzzz":default:return"GMT"+us(s,":")}},t:function(e,r,t){const s=Math.trunc(e.getTime()/1e3);return mt(s,r.length)},T:function(e,r,t){const s=e.getTime();return mt(s,r.length)}};function ax(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),l=s%60;return l===0?t+String(o):t+String(o)+r+mt(l,2)}function sx(e,r){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):us(e,r)}function us(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),o=mt(Math.trunc(s/60),2),l=mt(s%60,2);return t+o+r+l}const ix=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Op=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Iw=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return ix(e,r);let l;switch(s){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",ix(s,r)).replace("{{time}}",Op(o,r))},Lw={p:Op,P:Iw},Bw=/^D+$/,zw=/^Y+$/,Uw=["D","DD","YY","YYYY"];function Ww(e){return Bw.test(e)}function $w(e){return zw.test(e)}function Hw(e,r,t){const s=Vw(e,r,t);if(console.warn(s),Uw.includes(e))throw new RangeError(s)}function Vw(e,r,t){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xw=/^'([^]*?)'?$/,Kw=/''/g,qw=/[a-zA-Z]/;function Lr(e,r,t){var x,v,N,w,_,b,y,k,j,T,M,V,X,Y,te,J,de,pe;const s=zo(),o=(v=(x=t==null?void 0:t.locale)!=null?x:s.locale)!=null?v:Ap,l=(T=(j=(b=(_=t==null?void 0:t.firstWeekContainsDate)!=null?_:(w=(N=t==null?void 0:t.locale)==null?void 0:N.options)==null?void 0:w.firstWeekContainsDate)!=null?b:s.firstWeekContainsDate)!=null?j:(k=(y=s.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)!=null?T:1,u=(pe=(de=(Y=(X=t==null?void 0:t.weekStartsOn)!=null?X:(V=(M=t==null?void 0:t.locale)==null?void 0:M.options)==null?void 0:V.weekStartsOn)!=null?Y:s.weekStartsOn)!=null?de:(J=(te=s.locale)==null?void 0:te.options)==null?void 0:J.weekStartsOn)!=null?pe:0,f=it(e);if(!rw(f))throw new RangeError("Invalid time value");let h=r.match(Yw).map(q=>{const ie=q[0];if(ie==="p"||ie==="P"){const Pe=Lw[ie];return Pe(q,o.formatLong)}return q}).join("").match(Gw).map(q=>{if(q==="''")return{isToken:!1,value:"'"};const ie=q[0];if(ie==="'")return{isToken:!1,value:Qw(q)};if(nx[ie])return{isToken:!0,value:q};if(ie.match(qw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ie+"`");return{isToken:!1,value:q}});o.localize.preprocessor&&(h=o.localize.preprocessor(f,h));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(q=>{if(!q.isToken)return q.value;const ie=q.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&$w(ie)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ww(ie))&&Hw(ie,r,String(e));const Pe=nx[ie[0]];return Pe(f,ie,o.localize,m)}).join("")}function Qw(e){const r=e.match(Xw);return r?r[1].replace(Kw,"'"):e}function Jw(e){const r=it(e),t=r.getFullYear(),s=r.getMonth(),o=qr(e,0);return o.setFullYear(t,s+1,0),o.setHours(0,0,0,0),o.getDate()}function Zw(e){return Math.trunc(+it(e)/1e3)}function e4(e){const r=it(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(0,0,0,0),r}function t4(e,r){return nw(e4(e),Ir(e),r)+1}function kc(e,r){const t=it(e),s=it(r);return t.getTime()>s.getTime()}function Pd(e,r){const t=it(e),s=it(r);return+t<+s}function Fd(e,r){const t=it(e),s=it(r);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()}function r4(e,r){const t=it(e),s=it(r);return t.getFullYear()===s.getFullYear()}function $u(e,r){return wr(e,-r)}function Hu(e,r){const t=it(e),s=t.getFullYear(),o=t.getDate(),l=qr(e,0);l.setFullYear(s,r,15),l.setHours(0,0,0,0);const u=Jw(l);return t.setMonth(r,Math.min(o,u)),t}function ox(e,r){const t=it(e);return isNaN(+t)?qr(e,NaN):(t.setFullYear(r),t)}const n4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},a4=(e,r,t)=>{let s;const o=n4[e];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+s:"hace "+s:s},s4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},i4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},o4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l4={date:ci({formats:s4,defaultWidth:"full"}),time:ci({formats:i4,defaultWidth:"full"}),dateTime:ci({formats:o4,defaultWidth:"full"})},c4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},u4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},d4=(e,r,t,s)=>r.getHours()!==1?u4[e]:c4[e],f4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},h4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},m4={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},x4={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},p4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},g4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},v4=(e,r)=>Number(e)+"º",y4={ordinalNumber:v4,era:Fn({values:f4,defaultWidth:"wide"}),quarter:Fn({values:h4,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Fn({values:m4,defaultWidth:"wide"}),day:Fn({values:x4,defaultWidth:"wide"}),dayPeriod:Fn({values:p4,defaultWidth:"wide",formattingValues:g4,defaultFormattingWidth:"wide"})},b4=/^(\d+)(º)?/i,w4=/\d+/i,N4={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},_4={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},j4={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},S4={any:[/1/i,/2/i,/3/i,/4/i]},k4={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},E4={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},T4={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},C4={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},A4={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},D4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},P4={ordinalNumber:Cp({matchPattern:b4,parsePattern:w4,valueCallback:function(e){return parseInt(e,10)}}),era:On({matchPatterns:N4,defaultMatchWidth:"wide",parsePatterns:_4,defaultParseWidth:"any"}),quarter:On({matchPatterns:j4,defaultMatchWidth:"wide",parsePatterns:S4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:On({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:E4,defaultParseWidth:"any"}),day:On({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:C4,defaultParseWidth:"any"}),dayPeriod:On({matchPatterns:A4,defaultMatchWidth:"any",parsePatterns:D4,defaultParseWidth:"any"})},Od={code:"es",formatDistance:a4,formatLong:l4,formatRelative:d4,localize:y4,match:P4,options:{weekStartsOn:1,firstWeekContainsDate:1}},lx=()=>{const[e]=jy(),[r,t]=P.useState([]),[s,o]=P.useState(""),[l,u]=P.useState(""),[f,h]=P.useState(!1),[m,x]=P.useState(!1),[v,N]=P.useState(null),[w,_]=P.useState(""),[b,y]=P.useState(""),[k,j]=P.useState(""),[T,M]=P.useState(""),[V,X]=P.useState([]),[Y,te]=P.useState([]),[J,de]=P.useState([]),[pe,q]=P.useState(""),[ie,Pe]=P.useState("upcoming"),[ke,We]=P.useState(!1),[ye,L]=P.useState(null),[re,B]=P.useState(""),{user:R}=Ut(),{showSuccess:A,showError:O}=Tr();P.useEffect(()=>{console.log("Component mounted, user:",R),E(),D(),K()},[R]),P.useEffect(()=>{console.log("🔄 Services state changed:",V)},[V]),P.useEffect(()=>{console.log("🔄 Barbers state changed:",Y)},[Y]),P.useEffect(()=>{const H=e.get("barberId");H&&Y.length>0&&Y.find(Ge=>Ge._id===H)&&y(H)},[e,Y]),P.useEffect(()=>{k&&b?(console.log("🔄 Date or barber changed, fetching available times"),se()):(console.log("🔄 Clearing available times - missing date or barber"),de([]),M(""))},[k,b]),P.useEffect(()=>{T&&J.length>0&&(J.some(ve=>typeof ve=="object"?ve.datetime===T:ve===T)||(console.log("🔄 Selected time no longer available, clearing selection"),M("")))},[J,T]),P.useEffect(()=>{console.log("🎯 Button state check:",{submitting:m,selectedService:!!w,selectedBarber:!!b,selectedDate:!!k,selectedTime:!!T,isButtonDisabled:m||!w||!b||!k||!T})},[m,w,b,k,T]);const E=async()=>{if(R!=null&&R._id)try{h(!0);const H=await Mr.getAppointments();H.success?t(H.data||[]):u(H.message||"Error al cargar las citas")}catch(H){console.error("Error fetching appointments:",H),u("Error al cargar las citas")}finally{h(!1)}},D=async()=>{try{console.log("Fetching services...");const H=await wd.getAllServices();console.log("Services response:",H),H.success?(X(H.data||[]),console.log("Services loaded (success):",H.data)):H.data&&H.data.success?(X(H.data.data||[]),console.log("Services loaded (data.success):",H.data.data)):Array.isArray(H.data)?(X(H.data),console.log("Services loaded (array):",H.data)):Array.isArray(H)?(X(H),console.log("Services loaded (direct array):",H)):console.warn("Unexpected services response format:",H)}catch(H){console.error("Error fetching services:",H)}},K=async()=>{try{console.log("Fetching barbers...");const H=await qn.getAllBarbers();console.log("Barbers response:",H),H.success?(te(H.data||[]),console.log("Barbers loaded (success):",H.data)):H.data&&H.data.success?(te(H.data.data||[]),console.log("Barbers loaded (data.success):",H.data.data)):Array.isArray(H.data)?(te(H.data),console.log("Barbers loaded (array):",H.data)):Array.isArray(H)?(te(H),console.log("Barbers loaded (direct array):",H)):console.warn("Unexpected barbers response format:",H)}catch(H){console.error("Error fetching barbers:",H)}},se=async()=>{if(!(!k||!b))try{console.log("🕐 Fetching available times for:",{selectedBarber:b,selectedDate:k});const H=await Mr.getAvailableTimes(b,k);console.log("🕐 Available times response:",H);let ve=[];H.success&&H.data&&Array.isArray(H.data.slots)?(ve=H.data.slots,q(H.data.reason||""),console.log("🕐 Available times loaded (slots):",H.data.slots),console.log("🕐 Barber name:",H.data.barber),console.log("🕐 Date:",H.data.date),H.data.reason&&console.log("🕐 Reason:",H.data.reason)):H.data&&H.data.success&&Array.isArray(H.data.data)?(ve=H.data.data,console.log("Available times loaded (nested success + array):",H.data.data)):Array.isArray(H.data)?(ve=H.data,console.log("Available times loaded (direct array):",H.data)):Array.isArray(H)?(ve=H,console.log("Available times loaded (response is array):",H)):(console.warn("Available times response structure unexpected:",H),ve=[]),de(ve),console.log("🕐 Final available times set:",ve)}catch(H){console.error("❌ Error fetching available times:",H),de([])}},ee=async H=>{var Ge,nt;if(H.preventDefault(),console.log("🚀 Submit button clicked! Form state:",{selectedService:w,selectedBarber:b,selectedDate:k,selectedTime:T,submitting:m}),!w||!b||!k||!T){console.log("❌ Missing required fields"),u("Por favor completa todos los campos");return}const ve=J.some(tt=>typeof tt=="object"?tt.datetime===T:tt===T);if(console.log("🔍 Validating time availability:",{selectedTime:T,availableTimes:J,isTimeAvailable:ve}),!ve){u("El horario seleccionado ya no está disponible");return}try{x(!0),u(""),o("");const tt={serviceId:w,barberId:b,date:T};console.log("📤 Sending appointment data:",tt);const et=await Mr.createAppointment(tt);if(et.success)o("Cita agendada exitosamente. El barbero confirmará tu cita pronto."),A("Cita agendada exitosamente"),_(""),y(""),j(""),M(""),de([]),await E();else throw new Error(et.message||"Error al agendar la cita")}catch(tt){console.error("Error creating appointment:",tt);const et=((nt=(Ge=tt.response)==null?void 0:Ge.data)==null?void 0:nt.message)||tt.message||"Error al agendar la cita";u(et),O(et)}finally{x(!1)}},ne=async()=>{if(v)try{const H=await Mr.cancelAppointment(v);H.success?(A("Cita cancelada exitosamente"),N(null),await E()):O(H.message||"Error al cancelar la cita")}catch(H){console.error("Error canceling appointment:",H),O("Error al cancelar la cita")}},fe=async H=>{if(window.confirm("¿Estás seguro de que deseas eliminar el reporte de esta cita?"))try{const ve=await Mr.deleteAppointment(H);ve.success?(A("Reporte de cita eliminado exitosamente"),await E()):O(ve.message||"Error al eliminar el reporte de la cita")}catch(ve){console.error("Error deleting appointment:",ve),O("Error al eliminar el reporte de la cita")}},_e=H=>{L(H),We(!0),B("")},Me=()=>{We(!1),L(null),B("")},Ke=async()=>{if(!re.trim()){O("Debe proporcionar un motivo para la cancelación");return}if(re.split(" ").filter(ve=>ve.length>0).length>100){O("El motivo no puede exceder las 100 palabras");return}try{const ve=await Mr.cancelAppointment(ye,re);ve.success?(A("Cita cancelada exitosamente. El barbero ha sido notificado."),Me(),await E()):O(ve.message||"Error al cancelar la cita")}catch(ve){console.error("Error canceling confirmed appointment:",ve),O("Error al cancelar la cita")}},Ve=H=>{const ve=r.find(Ge=>Ge._id===H);ve&&ve.cancellationReason&&alert(`Motivo de cancelación: ${ve.cancellationReason}`)},xe=P.useMemo(()=>{if(!r.length)return[];const H=new Date;return ie==="upcoming"?r.filter(ve=>{const Ge=new Date(ve.date);return(ve.status==="pending"||ve.status==="confirmed")&&(kc(Ge,H)||jr(Ge,H))}):r.filter(ve=>ve.status==="completed"||ve.status==="cancelled"||ve.status!=="completed"&&ve.status!=="cancelled"&&Pd(new Date(ve.date),ps(H)))},[r,ie]),je=Lr(new Date,"yyyy-MM-dd");return a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[a.jsx("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",children:a.jsx(Kt,{className:"w-5 h-5 text-blue-400"})}),a.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Agendar Nueva Cita"})]}),a.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sr,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"bg-gradient-to-r from-purple-300 to-purple-100 bg-clip-text text-transparent",children:"Servicio"})]})}),a.jsxs("select",{value:w,onChange:H=>{console.log("Service selected:",H.target.value),_(H.target.value)},className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500/50 transition-all duration-200",required:!0,children:[a.jsx("option",{value:"",children:"Selecciona un servicio"}),V.length===0?a.jsx("option",{disabled:!0,children:"Cargando servicios..."}):V.map(H=>a.jsxs("option",{value:H._id,children:[H.name," - $",H.price]},H._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kr,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent",children:"Barbero"})]})}),a.jsxs("select",{value:b,onChange:H=>{console.log("Barber selected:",H.target.value),y(H.target.value)},className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-blue-500/50 transition-all duration-200",required:!0,children:[a.jsx("option",{value:"",children:"Selecciona un barbero"}),Y.length===0?a.jsx("option",{disabled:!0,children:"Cargando barberos..."}):Y.map(H=>{var ve;return a.jsx("option",{value:H._id,children:((ve=H.user)==null?void 0:ve.name)||H.name||"Barbero"},H._id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kt,{className:"w-4 h-4 text-green-400"}),a.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent",children:"Fecha"})]})}),a.jsx("input",{type:"date",value:k,onChange:H=>{console.log("Date selected:",H.target.value),j(H.target.value)},min:je,className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-green-500/50 transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ea,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{className:"bg-gradient-to-r from-orange-300 to-orange-100 bg-clip-text text-transparent",children:"Horarios"})]})}),!k||!b?a.jsx("div",{className:"p-3 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:a.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-2",children:[a.jsx(li,{className:"w-4 h-4 text-amber-400"}),"Selecciona fecha y barbero"]})}):k&&b&&(!Array.isArray(J)||J.length===0)?a.jsx("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-lg",children:a.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2",children:[a.jsx(fs,{className:"w-4 h-4"}),pe||"Sin horarios disponibles"]})}):a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.isArray(J)&&J.map((H,ve)=>a.jsx("button",{type:"button",onClick:()=>{console.log("🕐 Time slot selected:",H),M(H.datetime)},className:`p-2 rounded-lg text-xs font-medium transition-all duration-200 border ${T===H.datetime?"bg-gradient-to-r from-orange-500 to-amber-500 text-white border-orange-400":"bg-gray-800/50 text-gray-300 border-gray-700/50 hover:bg-gray-700/50"}`,children:H.time},`${H.time}-${ve}`))})]}),l&&a.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-500/50 rounded-lg text-red-400 text-sm flex items-center gap-2",children:[a.jsx(fs,{className:"w-4 h-4 flex-shrink-0"}),l]}),s&&a.jsxs("div",{className:"p-3 bg-green-900/30 border border-green-500/50 rounded-lg text-green-400 text-sm flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4 flex-shrink-0"}),s]}),a.jsx(St,{type:"submit",disabled:m||!w||!b||!k||!T,className:"w-full h-10 text-sm font-semibold",onClick:H=>{console.log("🔘 Button clicked!",H)},children:m?"Agendando...":"Agendar Cita"})]})]}),a.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold flex items-center space-x-2",children:[a.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:a.jsx(Kt,{className:"w-4 h-4 text-purple-400"})}),a.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Mis Citas"})]}),a.jsx("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-lg p-0.5",children:a.jsxs("div",{className:"flex space-x-0.5",children:[a.jsx("button",{onClick:()=>Pe("upcoming"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${ie==="upcoming"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:"Próximas"}),a.jsx("button",{onClick:()=>Pe("history"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${ie==="history"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:"Historial"})]})})]}),f?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):xe.length===0?a.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700/30 text-center",children:[a.jsx("div",{className:"inline-block p-3 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-full mb-3",children:a.jsx(Kt,{className:"w-5 h-5 text-gray-400"})}),a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:ie==="upcoming"?"No tienes citas próximas":"No hay historial de citas"}),a.jsx("p",{className:"text-xs text-gray-500",children:ie==="upcoming"?"Agenda una nueva cita":"Tus citas aparecerán aquí"})]}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:xe.map(H=>{var ve,Ge,nt,tt;return a.jsx("div",{className:`bg-gray-800/40 rounded-lg p-4 border transition-all duration-200 ${H.status==="confirmed"?"border-green-500/40":H.status==="pending"?"border-yellow-500/40":H.status==="cancelled"?"border-red-500/40":"border-gray-600/40"}`,children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[a.jsx(Sr,{className:"w-3 h-3 text-purple-400"}),a.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:((ve=H.service)==null?void 0:ve.name)||"Servicio no disponible"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"w-3 h-3 text-blue-400"}),a.jsx("span",{className:"text-gray-400",children:"Fecha:"}),a.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent font-medium",children:Lr(new Date(H.date),"d 'de' MMM",{locale:Od})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ea,{className:"w-3 h-3 text-green-400"}),a.jsx("span",{className:"text-gray-400",children:"Hora:"}),a.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent font-medium",children:Lr(new Date(H.date),"HH:mm")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kr,{className:"w-3 h-3 text-amber-400"}),a.jsx("span",{className:"text-gray-400",children:"Barbero:"}),a.jsx("span",{className:"bg-gradient-to-r from-amber-300 to-amber-100 bg-clip-text text-transparent font-medium",children:((nt=(Ge=H.barber)==null?void 0:Ge.user)==null?void 0:nt.name)||((tt=H.barber)==null?void 0:tt.name)||"No asignado"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${H.status==="pending"?"bg-yellow-900/30 text-yellow-400 border-yellow-500/50":H.status==="confirmed"?"bg-green-900/30 text-green-400 border-green-500/50":H.status==="cancelled"?"bg-red-900/30 text-red-400 border-red-500/50":"bg-blue-900/30 text-blue-400 border-blue-500/50"}`,children:H.status==="pending"?"Pendiente":H.status==="confirmed"?"Confirmada":H.status==="cancelled"?"Cancelada":"Completada"}),a.jsxs("div",{className:"flex gap-1",children:[H.status==="pending"&&a.jsx("button",{onClick:()=>N(H._id),className:"p-1 text-red-400 hover:text-red-300 border border-red-500/50 rounded text-xs transition-all duration-200",title:"Cancelar",children:a.jsx(fs,{className:"w-3 h-3"})}),H.status==="confirmed"&&a.jsx("button",{onClick:()=>_e(H._id),className:"p-1 text-orange-400 hover:text-orange-300 border border-orange-500/50 rounded text-xs transition-all duration-200",title:"Cancelar con motivo",children:a.jsx(li,{className:"w-3 h-3"})}),H.status==="cancelled"&&H.cancellationReason&&H.cancelledBy!=="user"&&a.jsx("button",{onClick:()=>Ve(H._id),className:"p-1 text-blue-400 hover:text-blue-300 border border-blue-500/50 rounded text-xs transition-all duration-200",title:"Ver motivo",children:a.jsx(li,{className:"w-3 h-3"})}),(H.status==="completed"||H.status==="cancelled")&&a.jsx("button",{onClick:()=>fe(H._id),className:"p-1 text-red-400 hover:text-red-300 border border-red-500/50 rounded text-xs transition-all duration-200",title:"Eliminar",children:a.jsx(fs,{className:"w-3 h-3"})})]})]})]})},H._id)})})]})]})}),ke&&a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Cancelar Cita Confirmada"}),a.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Para cancelar una cita confirmada, debe proporcionar un motivo. El barbero será notificado."}),a.jsx("textarea",{value:re,onChange:H=>B(H.target.value),placeholder:"Escriba el motivo de la cancelación (máximo 100 palabras)...",className:"w-full h-24 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 resize-none focus:outline-none focus:border-orange-500 text-sm",maxLength:500}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mb-3",children:[re.split(" ").filter(H=>H.length>0).length,"/100 palabras"]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:Me,className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancelar"}),a.jsx("button",{onClick:Ke,disabled:!re.trim(),className:"px-3 py-1.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed text-sm",children:"Cancelar Cita"})]})]})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-red-200 bg-clip-text text-transparent",children:"Cancelar Cita"}),a.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"¿Estás seguro de que deseas cancelar esta cita? Esta acción no se puede deshacer."}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>N(null),className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Volver"}),a.jsx("button",{onClick:ne,className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Confirmar Cancelación"})]})]})})]})})},cx=()=>{const[e,r]=P.useState([]),[t,s]=P.useState(!0),[o,l]=P.useState("pending"),[u,f]=P.useState(null),[h,m]=P.useState(null),[x,v]=P.useState(new Set),[N,w]=P.useState(!1),[_,b]=P.useState(null),[y,k]=P.useState(""),{user:j}=Ut(),{showSuccess:T,showError:M}=Tr();P.useEffect(()=>{j&&j.role==="barber"&&V()},[j]);const V=async()=>{try{const L=await qn.getBarberProfile();L.success&&(f(L.data),m(L.data._id),X(L.data._id))}catch(L){console.error("Error fetching barber profile:",L)}},X=async L=>{try{s(!0);const re=await Ie.get(`/appointments/barber/${L}`);re.success&&r(re.data)}catch(re){console.error("Error fetching appointments:",re),M("Error al cargar las citas")}finally{s(!1)}},Y=async(L,re)=>{if(!x.has(L))try{v(R=>new Set(R).add(L)),console.log(`🔄 Changing appointment ${L} status to ${re}`);let B;switch(re){case"confirmed":B=await Mr.approveAppointment(L);break;case"completed":B=await Mr.completeAppointment(L);break;case"no-show":B=await Mr.markNoShow(L);break;default:throw new Error(`Estado no válido: ${re}`)}B.success&&(T(`Cita ${re==="confirmed"?"confirmada":"actualizada"} exitosamente`),X(h))}catch(B){console.error("Error:",B),M(B.message||"Error al actualizar la cita")}finally{v(B=>{const R=new Set(B);return R.delete(L),R})}},te=async L=>{if(window.confirm("¿Estás seguro de que deseas eliminar este reporte de cita?"))try{(await Mr.deleteAppointment(L)).success&&(T("Reporte de cita eliminado exitosamente"),X(h))}catch(re){console.error("Error:",re),M(re.message||"Error al eliminar el reporte de cita")}},J=L=>{b(L),k(""),w(!0)},de=()=>{w(!1),b(null),k("")},pe=async()=>{if(!y||y.trim().length===0){M("Debe proporcionar un motivo para cancelar la cita");return}if(y.split(" ").length>100){M("El motivo no puede exceder las 100 palabras");return}try{(await Ie.put(`/appointments/${_}/cancel`,{reason:y.trim()})).success&&(T("Cita cancelada exitosamente. El cliente ha sido notificado."),de(),X(h))}catch(L){console.error("Error:",L),M(L.message||"Error al cancelar la cita")}},q=L=>{const re=e.find(B=>B._id===L);re&&re.cancellationReason&&alert(`Motivo de cancelación: ${re.cancellationReason}`)},ie=({appointment:L})=>{var re,B;return a.jsx("div",{className:`bg-gray-800/40 rounded-lg p-4 border transition-all duration-200 ${L.status==="confirmed"?"border-green-500/40":L.status==="pending"?"border-yellow-500/40":L.status==="cancelled"?"border-red-500/40":"border-blue-600/40"}`,children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1",children:[a.jsx(Sr,{className:"w-3 h-3 text-purple-400"}),a.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:((re=L.service)==null?void 0:re.name)||"Servicio no especificado"})]}),a.jsx(Pe,{status:L.status})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kr,{className:"w-3 h-3 text-amber-400"}),a.jsx("span",{className:"text-gray-400",children:"Cliente:"}),a.jsx("span",{className:"bg-gradient-to-r from-amber-300 to-amber-100 bg-clip-text text-transparent font-medium",children:((B=L.user)==null?void 0:B.name)||"Usuario no disponible"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"w-3 h-3 text-blue-400"}),a.jsx("span",{className:"text-gray-400",children:"Fecha:"}),a.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent font-medium",children:Lr(new Date(L.date),"EEEE d 'de' MMM",{locale:Od})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ea,{className:"w-3 h-3 text-green-400"}),a.jsx("span",{className:"text-gray-400",children:"Hora:"}),a.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent font-medium",children:Lr(new Date(L.date),"HH:mm")})]})]})]}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[L.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Y(L._id,"confirmed"),disabled:x.has(L._id),className:`p-1.5 rounded text-xs transition-all duration-200 flex items-center gap-1 ${x.has(L._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-green-600/20 text-green-400 hover:bg-green-600/30 border border-green-500/50"}`,title:"Confirmar cita",children:x.has(L._id)?a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current"}):a.jsx(ii,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>J(L._id),disabled:x.has(L._id),className:`p-1.5 rounded text-xs transition-all duration-200 flex items-center gap-1 ${x.has(L._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-red-600/20 text-red-400 hover:bg-red-600/30 border border-red-500/50"}`,title:"Cancelar cita",children:a.jsx(bn,{className:"w-3 h-3"})})]}),L.status==="confirmed"&&a.jsx("button",{onClick:()=>J(L._id),className:"p-1.5 bg-orange-600/20 text-orange-400 rounded hover:bg-orange-600/30 transition-all duration-200 border border-orange-500/50",title:"Cancelar con motivo",children:a.jsx(bn,{className:"w-3 h-3"})}),L.status==="cancelled"&&L.cancellationReason&&L.cancelledBy!=="barber"&&a.jsx("button",{onClick:()=>q(L._id),className:"p-1.5 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 transition-all duration-200 border border-blue-500/50",title:"Ver motivo de cancelación",children:a.jsx(vo,{className:"w-3 h-3"})}),(L.status==="completed"||L.status==="cancelled")&&a.jsx("button",{onClick:()=>te(L._id),className:"p-1.5 bg-red-600/20 text-red-400 rounded hover:bg-red-600/30 transition-all duration-200 border border-red-500/50",title:"Eliminar reporte",children:a.jsx(Bo,{className:"w-3 h-3"})})]})]})})},Pe=({status:L})=>{const re={pending:"bg-yellow-900/30 text-yellow-400 border-yellow-500/50",confirmed:"bg-green-900/30 text-green-400 border-green-500/50",cancelled:"bg-red-900/30 text-red-400 border-red-500/50",completed:"bg-blue-900/30 text-blue-400 border-blue-500/50"},B={pending:"Pendiente",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"};return a.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${re[L]}`,children:B[L]})},ke=({status:L,count:re})=>a.jsxs("button",{onClick:()=>l(L),className:`w-full px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-between ${o===L?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700/50 border border-gray-700/50"}`,children:[a.jsx("span",{children:L==="pending"?"Pendientes":L==="confirmed"?"Confirmadas":L==="cancelled"?"Canceladas":"Completadas"}),re>0&&a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${o===L?"bg-white/20":"bg-gray-700"}`,children:re})]}),We=e.filter(L=>L.status===o),ye={pending:e.filter(L=>L.status==="pending").length,confirmed:e.filter(L=>L.status==="confirmed").length,completed:e.filter(L=>L.status==="completed").length,cancelled:e.filter(L=>L.status==="cancelled").length};return a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent flex items-center justify-center gap-2",children:[a.jsx(Kt,{className:"w-6 h-6 text-blue-400"}),"Gestión de Citas"]})}),t?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:a.jsx(pi,{className:"w-5 h-5 text-purple-400"})}),a.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Estados de Citas"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ke,{status:"pending",count:ye.pending}),a.jsx(ke,{status:"confirmed",count:ye.confirmed}),a.jsx(ke,{status:"completed",count:ye.completed}),a.jsx(ke,{status:"cancelled",count:ye.cancelled})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700/30",children:[a.jsx("h3",{className:"text-sm font-semibold mb-3 bg-gradient-to-r from-gray-200 to-gray-400 bg-clip-text text-transparent",children:"Resumen del Día"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-yellow-400 font-bold text-lg",children:ye.pending}),a.jsx("div",{className:"text-gray-400",children:"Pendientes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-green-400 font-bold text-lg",children:ye.confirmed}),a.jsx("div",{className:"text-gray-400",children:"Confirmadas"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-green-500/20",children:a.jsx(Sr,{className:"w-5 h-5 text-blue-400"})}),a.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:o==="pending"?"Citas Pendientes":o==="confirmed"?"Citas Confirmadas":o==="completed"?"Citas Completadas":"Citas Canceladas"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:We.length===0?a.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700/30 text-center",children:[a.jsx("div",{className:"inline-block p-3 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-full mb-3",children:a.jsx(Kt,{className:"w-5 h-5 text-gray-400"})}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["No hay citas ",o==="pending"?"pendientes":o==="confirmed"?"confirmadas":o==="completed"?"completadas":"canceladas"]})]}):We.map(L=>a.jsx(ie,{appointment:L},L._id))})]})]})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-red-200 bg-clip-text text-transparent",children:"Cancelar Cita"}),a.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Como barbero, debe proporcionar un motivo para cancelar la cita. El cliente será notificado."}),a.jsx("textarea",{value:y,onChange:L=>k(L.target.value),placeholder:"Escriba el motivo de la cancelación (máximo 100 palabras)...",className:"w-full h-24 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 resize-none focus:outline-none focus:border-red-500 text-sm",maxLength:500}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mb-3",children:[y.split(" ").filter(L=>L.length>0).length,"/100 palabras"]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:de,className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancelar"}),a.jsx("button",{onClick:pe,disabled:!y.trim(),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed text-sm",children:"Confirmar Cancelación"})]})]})})]})})},ux=()=>{const[e,r]=P.useState([]),[t,s]=P.useState(!0),{showSuccess:o,showError:l}=Tr(),[u,f]=P.useState({total:0,pending:0,confirmed:0,completed:0,cancelled:0}),[h,m]=P.useState({status:"all",date:"all",search:""}),[x,v]=P.useState(!1),[N,w]=P.useState(null),[_,b]=P.useState("");P.useEffect(()=>{y()},[]);const y=async()=>{try{const q=await Ie.get("/appointments");q.success&&(r(q.data),k(q.data))}catch(q){console.error("Error:",q)}finally{s(!1)}},k=q=>{const ie=q.reduce((Pe,ke)=>(Pe.total++,Pe[ke.status]=(Pe[ke.status]||0)+1,Pe),{total:0,pending:0,confirmed:0,completed:0,cancelled:0});f(ie)},j=async(q,ie)=>{try{let Pe;switch(ie){case"confirmed":Pe=await Mr.approveAppointment(q);break;case"completed":Pe=await Mr.completeAppointment(q);break;case"cancelled":M(q);return;default:l("Estado no válido");return}Pe.success&&(o(`Cita ${ie==="confirmed"?"confirmada":"actualizada"} exitosamente`),y())}catch(Pe){console.error("Error:",Pe),l("Error al actualizar la cita")}},T=async q=>{if(confirm("¿Está seguro de que desea eliminar este reporte de cita?"))try{(await Mr.deleteAppointment(q)).success&&(o("Reporte de cita eliminado exitosamente"),y())}catch(ie){console.error("Error:",ie),l("Error al eliminar el reporte de cita")}},M=q=>{w(q),v(!0)},V=()=>{v(!1),w(null),b("")},X=async()=>{try{const q=await Mr.cancelAppointment(N,_.trim()||void 0);q.success?(o("Cita cancelada exitosamente por administración."),y(),V()):l(q.message||"Error al cancelar la cita")}catch(q){console.error("Error:",q),l("Error al cancelar la cita")}},Y=async q=>{try{const ie=await Ie.get(`/appointments/${q}/cancellation-reason`);if(ie.success){const{reason:Pe,cancelledBy:ke,cancelledAt:We}=ie.data;alert(`Motivo de cancelación por ${ke==="user"?"el cliente":ke==="barber"?"el barbero":"administración"}:

${Pe}

Cancelada el: ${new Date(We).toLocaleString("es-ES")}`)}else l("No se pudo obtener el motivo de cancelación")}catch(ie){console.error("Error:",ie),l("No se pudo obtener el motivo de cancelación")}},te=q=>q.sort((ie,Pe)=>{const ke={pending:0,confirmed:1,completed:2,cancelled:3};return ke[ie.status]-ke[Pe.status]}),J=({title:q,value:ie,icon:Pe,gradient:ke,borderColor:We,textColor:ye})=>a.jsx("div",{className:`bg-gradient-to-br ${ke} backdrop-blur-xl rounded-lg p-3 border ${We} shadow-lg hover:shadow-xl transition-all duration-300 group`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs font-medium",children:q}),a.jsx("p",{className:`${ye} text-xl font-bold mt-1 group-hover:scale-105 transition-transform duration-200`,children:ie})]}),a.jsx("div",{className:`p-2 bg-gradient-to-br ${ke} rounded-lg border ${We}`,children:a.jsx(Pe,{className:`w-4 h-4 ${ye}`})})]})}),de=({appointment:q,onStatusChange:ie,onCancel:Pe,onViewReason:ke,onDelete:We})=>{var B,R,A,O,E,D;const ye=K=>{switch(K){case"pending":return a.jsx(li,{className:"w-4 h-4"});case"confirmed":return a.jsx(pi,{className:"w-4 h-4"});case"completed":return a.jsx(ii,{className:"w-4 h-4"});case"cancelled":return a.jsx(fs,{className:"w-4 h-4"});default:return a.jsx(li,{className:"w-4 h-4"})}},L=K=>{switch(K){case"pending":return"from-yellow-500/20 to-orange-500/20 border-yellow-500/30";case"confirmed":return"from-green-500/20 to-emerald-500/20 border-green-500/30";case"completed":return"from-purple-500/20 to-violet-500/20 border-purple-500/30";case"cancelled":return"from-red-500/20 to-pink-500/20 border-red-500/30";default:return"from-gray-500/20 to-gray-600/20 border-gray-500/30"}},re=K=>{switch(K){case"pending":return"Pendiente";case"confirmed":return"Confirmada";case"completed":return"Completada";case"cancelled":return"Cancelada";default:return"Desconocido"}};return a.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:`flex items-center space-x-1.5 px-2 py-1 rounded-md bg-gradient-to-r ${L(q.status)} border text-xs`,children:[ye(q.status),a.jsx("span",{className:"font-medium text-white",children:re(q.status)})]}),q.status==="pending"&&a.jsx("div",{className:"px-2 py-1 bg-amber-500/20 border border-amber-500/30 rounded-md",children:a.jsx("span",{className:"text-xs font-medium text-amber-300",children:"Atención"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(kr,{className:"w-3 h-3 text-blue-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Cliente"})]}),a.jsx("p",{className:"text-white text-sm font-medium truncate",children:((B=q.user)==null?void 0:B.name)||((R=q.client)==null?void 0:R.name)||"Sin nombre"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Sr,{className:"w-3 h-3 text-green-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Barbero"})]}),a.jsx("p",{className:"text-white text-sm font-medium truncate",children:((O=(A=q.barber)==null?void 0:A.user)==null?void 0:O.name)||((E=q.barber)==null?void 0:E.name)||"Sin asignar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Zm,{className:"w-3 h-3 text-purple-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Servicio"})]}),a.jsx("p",{className:"text-white text-sm font-medium truncate",children:((D=q.service)==null?void 0:D.name)||"Sin servicio"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Kt,{className:"w-3 h-3 text-orange-400"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Fecha"})]}),a.jsxs("div",{className:"text-white text-sm font-medium",children:[a.jsx("div",{children:Lr(new Date(q.date),"d MMM",{locale:Od})}),a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-400",children:[a.jsx(ea,{className:"w-3 h-3"}),a.jsx("span",{children:Lr(new Date(q.date),"HH:mm")})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-1.5 pt-3 border-t border-gray-700/50",children:[q.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>ie(q._id,"confirmed"),className:"flex items-center space-x-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-md hover:bg-green-500/30 transition-all duration-200 border border-green-500/30",title:"Confirmar cita",children:[a.jsx(ii,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Confirmar"})]}),a.jsxs("button",{onClick:()=>Pe(q._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Cancelar cita",children:[a.jsx(bn,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Cancelar"})]})]}),q.status==="confirmed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>ie(q._id,"completed"),className:"flex items-center space-x-1 px-2 py-1 bg-purple-500/20 text-purple-400 rounded-md hover:bg-purple-500/30 transition-all duration-200 border border-purple-500/30",title:"Marcar como completada",children:[a.jsx(ii,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Completar"})]}),a.jsxs("button",{onClick:()=>Pe(q._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Cancelar cita",children:[a.jsx(bn,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Cancelar"})]})]}),q.status==="cancelled"&&q.cancellationReason&&a.jsxs("button",{onClick:()=>ke(q._id),className:"flex items-center space-x-1 px-2 py-1 bg-blue-500/20 text-blue-400 rounded-md hover:bg-blue-500/30 transition-all duration-200 border border-blue-500/30",title:"Ver motivo de cancelación",children:[a.jsx(vo,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Ver Motivo"})]}),(q.status==="completed"||q.status==="cancelled")&&a.jsxs("button",{onClick:()=>We(q._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Eliminar reporte de cita",children:[a.jsx(Bo,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"Eliminar"})]})]})]})},pe=te(e.filter(q=>{var ie,Pe,ke,We;if(h.status!=="all"&&q.status!==h.status)return!1;if(h.search){const ye=((ie=q.user)==null?void 0:ie.name)||((Pe=q.client)==null?void 0:Pe.name)||"",L=((ke=q.barber)==null?void 0:ke.name)||"",re=((We=q.service)==null?void 0:We.name)||"",B=h.search.toLowerCase();return ye.toLowerCase().includes(B)||L.toLowerCase().includes(B)||re.toLowerCase().includes(B)}return!0}));return a.jsx(Ct,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-black",children:a.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30",children:a.jsx(xi,{className:"w-5 h-5 text-blue-400"})}),a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-300 via-purple-300 to-blue-200 bg-clip-text text-transparent",children:"Panel Administrativo"})]}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Gestión de Reservas y estadísticas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[a.jsx(J,{title:"Total",value:u.total,icon:Zm,gradient:"from-blue-500/20 to-cyan-500/20",borderColor:"border-blue-500/30",textColor:"text-blue-300"}),a.jsx(J,{title:"Pendientes",value:u.pending,icon:li,gradient:"from-yellow-500/20 to-orange-500/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-300"}),a.jsx(J,{title:"Confirmadas",value:u.confirmed,icon:pi,gradient:"from-green-500/20 to-emerald-500/20",borderColor:"border-green-500/30",textColor:"text-green-300"}),a.jsx(J,{title:"Completadas",value:u.completed,icon:ii,gradient:"from-purple-500/20 to-violet-500/20",borderColor:"border-purple-500/30",textColor:"text-purple-300"}),a.jsx(J,{title:"Canceladas",value:u.cancelled,icon:fs,gradient:"from-red-500/20 to-pink-500/20",borderColor:"border-red-500/30",textColor:"text-red-300"})]}),a.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(_d,{className:"w-4 h-4 text-blue-400"}),a.jsx("h2",{className:"text-sm font-semibold bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent",children:"Filtros y Búsqueda"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(kd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",value:h.search,onChange:q=>m(ie=>({...ie,search:q.target.value})),className:"w-full pl-9 pr-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200"})]}),a.jsxs("select",{value:h.status,onChange:q=>m(ie=>({...ie,status:q.target.value})),className:"px-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200",children:[a.jsx("option",{value:"all",children:"Todos los estados"}),a.jsx("option",{value:"pending",children:"Pendientes"}),a.jsx("option",{value:"confirmed",children:"Confirmadas"}),a.jsx("option",{value:"completed",children:"Completadas"}),a.jsx("option",{value:"cancelled",children:"Canceladas"})]}),a.jsxs("select",{value:h.date,onChange:q=>m(ie=>({...ie,date:q.target.value})),className:"px-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200",children:[a.jsx("option",{value:"all",children:"Todas las fechas"}),a.jsx("option",{value:"today",children:"Hoy"}),a.jsx("option",{value:"week",children:"Esta semana"}),a.jsx("option",{value:"month",children:"Este mes"})]})]})]}),a.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Kt,{className:"w-4 h-4 text-purple-400"}),a.jsxs("h2",{className:"text-sm font-semibold bg-gradient-to-r from-purple-300 to-purple-100 bg-clip-text text-transparent",children:["Lista de Citas (",pe.length,")"]})]}),t?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),a.jsx("span",{className:"ml-2 text-gray-400 text-sm",children:"Cargando citas..."})]}):pe.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Kt,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No hay citas que coincidan con los filtros"})]}):a.jsx("div",{className:"grid gap-3",children:pe.map(q=>a.jsx(de,{appointment:q,onStatusChange:j,onCancel:M,onViewReason:Y,onDelete:T},q._id))})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-3",children:a.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl rounded-lg p-4 border border-red-500/30 shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("div",{className:"p-1 rounded-lg bg-red-500/20 border border-red-500/30",children:a.jsx(fs,{className:"w-4 h-4 text-red-400"})}),a.jsx("h3",{className:"text-base font-semibold text-white",children:"Cancelar Cita"})]}),a.jsx("p",{className:"text-gray-300 mb-3 text-sm",children:"¿Estás seguro de que deseas cancelar esta cita? Esta acción no se puede deshacer."}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Motivo de cancelación (opcional)"}),a.jsx("textarea",{value:_,onChange:q=>b(q.target.value),placeholder:"Ingresa el motivo de la cancelación...",rows:2,className:"w-full px-2 py-1 bg-gray-700/50 border border-gray-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 resize-none text-sm"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:V,className:"flex-1 px-3 py-1 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-600/50 transition-all duration-200 border border-gray-600/50 text-sm",children:"Mantener Cita"}),a.jsx(St,{onClick:X,variant:"danger",className:"flex-1 px-3 py-1 text-sm",children:"Cancelar Cita"})]})]})})]})})})},F4=()=>{const{user:e}=Ut();if(!e)return a.jsx(Rr,{to:"/login"});switch(e.role){case"admin":return a.jsxs(vc,{children:[a.jsx(ut,{path:"/",element:a.jsx(ux,{})}),a.jsx(ut,{path:"/new",element:a.jsx(ux,{})}),a.jsx(ut,{path:"*",element:a.jsx(Rr,{to:"/appointment",replace:!0})})]});case"barber":return a.jsxs(vc,{children:[a.jsx(ut,{path:"/",element:a.jsx(cx,{})}),a.jsx(ut,{path:"/new",element:a.jsx(cx,{})}),a.jsx(ut,{path:"*",element:a.jsx(Rr,{to:"/appointment",replace:!0})})]});default:return a.jsxs(vc,{children:[a.jsx(ut,{path:"/",element:a.jsx(lx,{})}),a.jsx(ut,{path:"/new",element:a.jsx(lx,{})}),a.jsx(ut,{path:"*",element:a.jsx(Rr,{to:"/appointment",replace:!0})})]})}},Bt=({children:e,className:r="",gradient:t="primary",customGradient:s,as:o="span",...l})=>{const u={primary:"from-red-600 via-white to-blue-600",secondary:"from-blue-600 via-white to-red-600",metallic:"from-slate-400 via-red-500 via-white via-blue-500 to-slate-400",patriot:"from-red-700 via-gray-100 to-blue-700",classic:"from-red-800 via-yellow-100 via-white via-blue-100 to-blue-800",premium:"from-blue-800 via-red-600 via-gray-100 to-blue-800",vintage:"from-red-900 via-orange-100 via-white via-blue-100 to-blue-900",elegant:"from-red-500 via-gray-200 to-blue-500"},f=s||u[t]||u.primary;return a.jsx(o,{className:`
        text-transparent bg-clip-text bg-gradient-to-r ${f} 
        font-bold relative
        [text-shadow:0_2px_4px_rgba(0,0,0,0.1)]
        before:absolute before:inset-0 before:bg-gradient-to-r before:${f}
        before:bg-clip-text before:text-transparent before:opacity-20
        before:[filter:blur(0.5px)] before:-z-10
        ${r}
      `,...l,children:e})};function dx(){const{user:e}=Ut(),[r,t]=P.useState([]),[s,o]=P.useState({name:"",description:"",price:0,duration:30,category:"corte"}),[l,u]=P.useState(null),[f,h]=P.useState(""),[m,x]=P.useState(""),[v,N]=P.useState(!0),[w,_]=P.useState(null);P.useEffect(()=>{b()},[]);const b=async()=>{try{N(!0);const V=await Ie.get("/services");if(V.success){const X=V.data||[];t(X)}else throw new Error(V.message||"Error al cargar servicios")}catch(V){console.error("Error en fetchServices:",V),x(V.message||"Error al cargar servicios."),setTimeout(()=>x(""),2500)}finally{N(!1)}},y=V=>{const X=V.target.type==="number"?Number(V.target.value):V.target.value;o(Y=>({...Y,[V.target.name]:X}))},k=async V=>{V.preventDefault();try{console.log("Enviando formulario:",s);let X;if(l?(console.log("Actualizando servicio:",l._id),X=await Ie.put(`/services/${l._id}`,s)):(console.log("Creando nuevo servicio"),X=await Ie.post("/services",s)),console.log("Respuesta:",X),X.success)h(l?"✅ Servicio actualizado.":"✅ Servicio creado."),setTimeout(()=>h(""),2500),u(null),o({name:"",description:"",price:0,duration:30,category:"corte"}),b();else throw new Error(X.message||"Error al guardar servicio")}catch(X){console.error("Error en handleSubmit:",X),x(X.message||"Error al guardar servicio"),setTimeout(()=>x(""),2500)}},j=V=>{u(V),o({name:V.name,description:V.description,price:V.price,duration:V.duration,category:V.category}),_("form")},T=async V=>{if(!V){x("ID de servicio inválido"),setTimeout(()=>x(""),2500);return}if(window.confirm("¿Seguro que deseas eliminar este servicio?"))try{console.log("Eliminando servicio:",V);const X=await Ie.delete(`/services/${V}`);if(console.log("Respuesta de eliminación:",X),X.success)t(Y=>Y.filter(te=>te._id!==V)),h("✅ Servicio eliminado."),setTimeout(()=>h(""),2500),(l==null?void 0:l._id)===V&&(u(null),o({name:"",description:"",price:0,duration:30,category:"corte"}));else throw new Error(X.message||"Error al eliminar servicio")}catch(X){console.error("Error en handleDelete:",X),x(X.message||"Error al eliminar servicio"),setTimeout(()=>x(""),2500)}},M=()=>{o({name:"",description:"",price:0,duration:30,category:"corte"}),u(null),_("form")};return a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsx("div",{className:"relative z-10",children:a.jsx(Ct,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center py-8",children:a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:a.jsxs(Bt,{className:"text-4xl md:text-5xl font-bold",children:[a.jsx(rx,{className:"w-10 h-10 mx-auto mb-3"}),"Gestión de Servicios"]})})}),m&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[a.jsx(Ed,{className:"w-4 h-4"}),m]}),f&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4"}),f]}),a.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:[a.jsx("div",{className:"p-4 border-b border-white/10 flex justify-end",children:a.jsx(St,{onClick:M,className:"text-sm px-8 py-2 min-w-[180px]",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(yo,{className:"w-4 h-4"}),a.jsx("span",{children:"Nuevo Servicio"})]})})}),w==="form"&&a.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:a.jsx(Bt,{className:"text-lg font-semibold",children:l?"Editar Servicio":"Nuevo Servicio"})}),a.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(po,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Nombre"}),a.jsx("input",{name:"name",value:s.name,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",placeholder:"Ej: Corte de cabello",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Categoría"}),a.jsxs("select",{name:"category",value:s.category,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0,children:[a.jsx("option",{value:"corte",children:"Corte"}),a.jsx("option",{value:"barba",children:"Barba"}),a.jsx("option",{value:"combo",children:"Combo"}),a.jsx("option",{value:"tinte",children:"Tinte"}),a.jsx("option",{value:"tratamiento",children:"Tratamiento"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Precio ($)"}),a.jsx("input",{name:"price",type:"number",value:s.price,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Duración (min)"}),a.jsx("input",{name:"duration",type:"number",value:s.duration,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"15",max:"240",step:"15",required:!0})]}),a.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Descripción"}),a.jsx("textarea",{name:"description",value:s.description,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",rows:"3",placeholder:"Describe el servicio...",required:!0})]}),a.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex gap-3 pt-2",children:[a.jsx(St,{type:"submit",className:"text-sm px-4 py-2",children:l?"Actualizar":"Crear"}),a.jsx("button",{type:"button",onClick:()=>{u(null),o({name:"",description:"",price:0,duration:30,category:"corte"}),_(null)},className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),v?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando servicios..."})]}):r.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(rx,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No hay servicios registrados"})]}):a.jsx("div",{className:"divide-y divide-white/10",children:r.map(V=>a.jsx("div",{className:"px-4 py-4 hover:bg-white/5 transition-colors backdrop-blur-sm border-b border-white/5",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[a.jsx("div",{className:"flex items-start gap-4 flex-1",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold",children:a.jsx(Bt,{className:"text-lg font-semibold",children:V.name})}),a.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-3",children:V.description}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"w-4 h-4 text-green-400"}),a.jsxs("span",{className:"text-green-400 font-medium",children:["$",V.price]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ea,{className:"w-4 h-4 text-blue-400"}),a.jsxs("span",{className:"text-gray-300",children:[V.duration," min"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-gray-300 capitalize",children:V.category})})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(V),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors",title:"Editar",children:a.jsx(jp,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(V._id),className:"p-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",title:"Eliminar",children:a.jsx(Bo,{className:"w-4 h-4"})})]})]})},V._id))})]})]})})})]})}const O4=({title:e,description:r})=>a.jsxs("div",{className:"py-16 sm:py-20 px-4 relative bg-gradient-to-b from-black via-gray-900 to-black",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsx("div",{className:"container mx-auto relative z-10",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 border border-red-500/30 rounded-full text-sm font-medium uppercase tracking-wider backdrop-blur-sm",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-blue-400",children:"Nuestro Equipo"})})}),a.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 leading-tight relative",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400 relative z-10",children:e})}),a.jsx("p",{className:"text-xl leading-relaxed max-w-2xl mx-auto relative z-10",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-300 via-white to-gray-300",children:r})})]})})]}),M4=()=>a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500/20"}),a.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500 border-t-transparent animate-spin absolute top-0 left-0"})]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:"Cargando barberos..."}),a.jsx("p",{className:"text-gray-400 max-w-md",children:"Estamos preparando la mejor selección de profesionales para ti"})]})]})}),R4=({message:e})=>a.jsx(Ct,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsx("div",{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-red-900/50 to-red-800/30 backdrop-blur-sm border border-red-500/30 rounded-3xl p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Error al cargar"}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-medium hover:from-red-500 hover:to-red-400 transition-all duration-300",children:"Reintentar"})]})})})}),I4=({barber:e})=>{var u,f,h,m,x,v,N,w,_;const{user:r}=Ut();if(!e||!e.user)return console.error("Barbero inválido:",e),null;const t=r&&r.role==="user",o=(()=>{const b=new Date,y=b.toTimeString().slice(0,5),j=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][b.getDay()];if(!e.schedule||!e.schedule[j])return{available:!1,reason:"Sin horario definido"};const T=e.schedule[j];if(!T.available)return{available:!1,reason:"No trabaja hoy"};const M=T.start,V=T.end;return y<M?{available:!1,reason:`Abre a las ${M}`}:y>V?{available:!1,reason:`Cerró a las ${V}`}:{available:!0,reason:`Hasta las ${V}`}})(),l=e.isActive&&o.available;return a.jsxs("article",{className:"group relative overflow-hidden rounded-3xl transform hover:scale-[1.02] transition-all duration-500 bg-gradient-to-br from-gray-800/40 via-gray-900/60 to-black/40 backdrop-blur-sm border border-gray-700/50 hover:border-blue-500/50 shadow-2xl hover:shadow-blue-500/20 flex flex-col h-full",children:[a.jsxs("div",{className:"relative h-80 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-10"}),(u=e.photo)!=null&&u.url||(h=(f=e.user)==null?void 0:f.photo)!=null&&h.url?a.jsx("img",{src:((m=e.photo)==null?void 0:m.url)||((v=(x=e.user)==null?void 0:x.photo)==null?void 0:v.url),alt:(N=e.user)==null?void 0:N.name,className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-110"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 via-blue-900/50 to-gray-800 flex items-center justify-center",children:a.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur",children:a.jsx("svg",{className:"w-24 h-24 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),a.jsx("div",{className:"absolute top-6 left-6 z-20",children:a.jsx("div",{className:`flex items-center px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg backdrop-blur-sm transition-all duration-300 border
              ${l?"bg-emerald-500/90 border-emerald-400/30 group-hover:bg-emerald-400/90":"bg-red-500/90 border-red-400/30 group-hover:bg-red-400/90"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-white animate-pulse":"bg-white/80"}`}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-bold leading-tight",children:l?"Disponible":"No disponible"}),a.jsx("span",{className:"text-xs opacity-90 leading-tight",children:o.reason})]})]})})}),a.jsxs("div",{className:"absolute top-6 right-6 flex flex-col gap-3 z-20",children:[((w=e.rating)==null?void 0:w.average)>0&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/90 to-orange-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-semibold text-white shadow-lg flex items-center gap-2 group-hover:from-yellow-500/90 group-hover:to-orange-500/90 transition-all duration-300 border border-yellow-400/30",children:[a.jsx(hs,{className:"w-4 h-4 fill-current"}),a.jsx("span",{children:e.rating.average.toFixed(1)}),e.rating.count>0&&a.jsxs("span",{className:"text-xs text-yellow-100/75",children:["(",e.rating.count,")"]})]}),e.experience>0&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/90 to-purple-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg group-hover:from-blue-500/90 group-hover:to-purple-500/90 transition-all duration-300 flex items-center gap-2 border border-blue-400/30",children:[a.jsx(ud,{className:"w-4 h-4"}),a.jsxs("span",{children:[e.experience," años"]})]})]}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-gray-900/95 to-transparent z-20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 transition-all duration-300",children:a.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400 \r
                group-hover:from-blue-400 group-hover:via-white group-hover:to-red-400`,children:(_=e.user)==null?void 0:_.name})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-red-400 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-300 group-hover:text-gray-100 transition-colors duration-300 font-medium",children:e.specialty||"Barbero Profesional"})]})]})]}),a.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[a.jsx("div",{className:"flex-grow",children:e.services&&e.services.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2",children:[a.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-red-400 \r
                    group-hover:from-red-400 group-hover:to-blue-400 transition-all duration-300`,children:"Servicios destacados"}),a.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.services.slice(0,4).map((b,y)=>a.jsxs("div",{className:`px-4 py-2 bg-gradient-to-br from-gray-800/60 via-gray-700/40 to-gray-800/60 \r
                    border border-gray-600/30 rounded-xl text-sm backdrop-blur-sm\r
                    hover:from-gray-700/70 hover:via-gray-600/50 hover:to-gray-700/70 \r
                    hover:border-blue-500/40 transition-all cursor-default group/service\r
                    hover:shadow-lg hover:shadow-blue-500/10`,children:[a.jsx("div",{className:"font-bold mb-1 transition-all duration-300",children:a.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-white \r
                        group-hover/service:from-white group-hover/service:to-blue-400`,children:b.name})}),a.jsx("div",{className:"font-semibold",children:a.jsxs("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-400 \r
                        group-hover/service:from-emerald-300 group-hover/service:to-blue-300 \r
                        transition-all duration-300`,children:["$",b.price]})})]},`${e._id}-service-${b._id}-${y}`))}),e.services.length>4&&a.jsxs("p",{className:"text-sm text-center font-medium text-gray-400",children:["Y ",e.services.length-4," servicios más..."]})]})}),a.jsxs("div",{className:"flex gap-3 pt-4 mt-auto",children:[a.jsxs(lt,{to:`/barbers/${e._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-gray-800/60 via-gray-700/70 to-gray-800/60 \r
              hover:from-gray-700/70 hover:via-gray-600/80 hover:to-gray-700/70 rounded-xl font-bold text-center \r
              transition-all duration-300 border border-gray-600/30 hover:border-gray-500/50 backdrop-blur-sm\r
              flex items-center justify-center gap-2 group hover:shadow-lg hover:-translate-y-0.5\r
              hover:shadow-gray-500/20`,children:[a.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-200 \r
                group-hover:from-blue-400 group-hover:to-white transition-all duration-300`,children:"Ver Perfil"}),a.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-gray-300 group-hover:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t&&l&&a.jsxs(lt,{to:`/appointment?barberId=${e._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-blue-600/90 to-red-600/90 \r
                hover:from-blue-500/90 hover:to-red-500/90 rounded-xl font-bold text-center \r
                transition-all duration-300 border border-blue-500/50 hover:border-red-400/50 \r
                backdrop-blur-sm flex items-center justify-center gap-2 group\r
                hover:shadow-lg hover:-translate-y-0.5 hover:shadow-blue-500/20`,children:[a.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-100 \r
                  group-hover:from-white group-hover:to-red-100 transition-all duration-300`,children:"Reservar"}),a.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-white group-hover:text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})]})]})},L4=()=>{const[e,r]=P.useState([]),[t,s]=P.useState(!0),[o,l]=P.useState(null),[u,f]=P.useState(Date.now());if(P.useEffect(()=>{const m=async()=>{try{const v=Date.now(),N=await Ie.get(`/barbers?_t=${v}`);if(!N.success)throw new Error("La respuesta no fue exitosa");if(!Array.isArray(N.data))throw new Error("Los datos de barberos no son válidos");const w=N.data.filter(_=>_.user&&_.user.role==="barber"&&_.isActive);r(w),s(!1)}catch(v){l(v.message||"Error al cargar los barberos"),s(!1)}};m();const x=()=>{document.hidden||(console.log("📱 Página visible de nuevo, refrescando barberos..."),m())};return document.addEventListener("visibilitychange",x),()=>{document.removeEventListener("visibilitychange",x)}},[]),P.useEffect(()=>{const m=setInterval(()=>{f(Date.now())},6e4);return()=>clearInterval(m)},[]),t)return a.jsx(M4,{});if(o)return a.jsx("div",{className:"min-h-screen bg-gray-900 p-4",children:a.jsx(R4,{message:o})});const h=[...e].sort((m,x)=>{var v,N;return(((v=x.rating)==null?void 0:v.average)||0)-(((N=m.rating)==null?void 0:N.average)||0)});return a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(O4,{title:"Nuestros Barberos",description:"Conoce a nuestro equipo de profesionales expertos en el arte del cuidado masculino"}),a.jsxs("div",{className:"py-6 px-4 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-900/30 to-transparent"}),a.jsx("div",{className:"container mx-auto relative z-10",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:h.map(m=>a.jsx(I4,{barber:m},`${m._id}-${u}`))})})]})]})]})};function B4(){const[e,r]=P.useState(""),[t,s]=P.useState(""),[o,l]=P.useState(""),[u,f]=P.useState(!1),{login:h,error:m}=Ut(),{showError:x,showSuccess:v}=Tr(),N=Va(),w=async _=>{_.preventDefault(),l(""),f(!0);try{if(await h(e,t))v("¡Bienvenido! Has iniciado sesión correctamente"),N("/");else{const y=m||"Credenciales incorrectas. Por favor verifica tu email y contraseña.";x(y),l(y)}}catch{const y="Error al iniciar sesión. Por favor intenta nuevamente.";x(y),l(y)}finally{f(!1)}};return a.jsxs(Ct,{children:[a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4",children:a.jsx("div",{className:"w-full max-w-md relative",children:a.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 sm:p-10 border border-white/10 shadow-xl shadow-blue-500/10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/10 via-blue-600/10 to-red-600/10 rounded-2xl blur-xl transform rotate-3 scale-105 -z-10"}),a.jsxs("div",{className:"absolute top-0 left-0 right-0 h-20",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/20 via-blue-600/10 to-transparent"}),a.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),a.jsxs("div",{className:"text-center mb-8 relative",children:[a.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-full blur-xl transform group-hover:scale-110 transition-transform duration-500"}),a.jsx("img",{src:mi.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500",style:{filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.5))"},onError:_=>{_.target.onerror=null,_.target.src=mi.fallback()}})]}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-3",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Iniciar sesión"})}),a.jsx("p",{className:"text-base",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ingresa a tu cuenta para continuar"})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electrónico"})}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})}),a.jsx("input",{id:"email",type:"email",value:e,onChange:_=>r(_.target.value),required:!0,placeholder:"tu@email.com",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Contraseña"})}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8V7a4 4 0 00-8 0v4h8z"})})})}),a.jsx("input",{id:"password",type:"password",value:t,onChange:_=>s(_.target.value),required:!0,placeholder:"••••••••",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),o&&a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/50 to-red-700/50 rounded-xl blur-lg opacity-75"}),a.jsxs("div",{className:"relative bg-red-900/30 border border-red-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[a.jsx("svg",{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"bg-gradient-to-r from-red-200 to-red-300 bg-clip-text text-transparent",children:o})]})]}),a.jsx(St,{type:"submit",disabled:u,loading:u,loadingText:"Iniciando sesión...",variant:"primary",className:"w-full py-3",children:"Iniciar sesión"}),a.jsx("div",{className:"text-center relative",children:a.jsxs("div",{className:"inline-block",children:[a.jsx("span",{className:"text-sm",children:a.jsxs("span",{className:"bg-gradient-to-r from-gray-300 to-gray-400 bg-clip-text text-transparent",children:["¿No tienes cuenta?"," "]})}),a.jsxs(lt,{to:"/register",className:"relative inline-block font-medium group",children:[a.jsx("span",{className:"relative z-10 text-sm bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-bold hover:from-blue-300 hover:to-purple-300 transition-all duration-300",children:"Regístrate"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]})]})})})]})}function z4(){const[e,r]=P.useState({name:"",email:"",password:""}),[t,s]=P.useState(""),[o,l]=P.useState(""),[u,f]=P.useState(!1),{showError:h,showSuccess:m}=Tr(),x=Va(),v=w=>{r({...e,[w.target.name]:w.target.value})},N=async w=>{if(w.preventDefault(),s(""),l(""),f(!0),!/^[a-zA-ZÀ-ÿ\s]+$/.test(e.name)){const _="El nombre solo puede contener letras y espacios";s(_),h(_),f(!1);return}if(e.name.length<2||e.name.length>50){const _="El nombre debe tener entre 2 y 50 caracteres";s(_),h(_),f(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){const _="Debe proporcionar un email válido";s(_),h(_),f(!1);return}if(e.password.length<6){const _="La contraseña debe tener al menos 6 caracteres";s(_),h(_),f(!1);return}if(!/\d/.test(e.password)){const _="La contraseña debe contener al menos un número";s(_),h(_),f(!1);return}try{const _={name:e.name,email:e.email.toLowerCase(),password:e.password,role:"user"},b=await Oa.register(_);if(b.success===!1){const k=b.message||"Error en el registro";s(k),h(k),f(!1);return}const y="¡Registro exitoso! Redirigiendo al login...";l(y),m(y),b.token&&(localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify(b.user))),setTimeout(()=>{x("/login")},1e3)}catch(_){console.error("Error durante el registro:",_);let b="Error en el registro. Por favor, intenta de nuevo.";_.errors&&Array.isArray(_.errors)?b=_.errors[0].msg||"Error de validación":_.message&&(b=_.message),s(b),h(b)}finally{f(!1)}};return a.jsxs(Ct,{children:[a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4",children:a.jsx("div",{className:"w-full max-w-md relative",children:a.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 sm:p-10 border border-white/10 shadow-xl shadow-blue-500/10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/10 via-blue-600/10 to-red-600/10 rounded-2xl blur-xl transform rotate-3 scale-105 -z-10"}),a.jsxs("div",{className:"absolute top-0 left-0 right-0 h-20",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/20 via-blue-600/10 to-transparent"}),a.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),a.jsxs("div",{className:"text-center mb-8 relative",children:[a.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-full blur-xl transform group-hover:scale-110 transition-transform duration-500"}),a.jsx("img",{src:mi.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500",style:{filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.5))"},onError:w=>{w.target.onerror=null,w.target.src=mi.fallback()}})]}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-3",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Crear cuenta"})}),a.jsx("p",{className:"text-base",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Únete a nuestra comunidad"})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Nombre completo"})}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),a.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:v,required:!0,placeholder:"John Doe",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electrónico"})}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})}),a.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:v,required:!0,placeholder:"tu@email.com",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Contraseña"})}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:a.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8V7a4 4 0 00-8 0v4h8z"})})})}),a.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:v,required:!0,placeholder:"••••••••",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]}),a.jsx("p",{className:"mt-2 text-sm",children:a.jsx("span",{className:"bg-gradient-to-r from-gray-400 to-gray-500 bg-clip-text text-transparent",children:"Mínimo 6 caracteres, incluyendo al menos un número"})})]}),t&&a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/50 to-red-700/50 rounded-xl blur-lg opacity-75"}),a.jsxs("div",{className:"relative bg-red-900/30 border border-red-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[a.jsx("svg",{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"bg-gradient-to-r from-red-200 to-red-300 bg-clip-text text-transparent",children:t})]})]}),o&&a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-600/50 to-green-700/50 rounded-xl blur-lg opacity-75"}),a.jsxs("div",{className:"relative bg-green-900/30 border border-green-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[a.jsx("svg",{className:"h-5 w-5 text-green-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"bg-gradient-to-r from-green-200 to-green-300 bg-clip-text text-transparent",children:o})]})]}),a.jsx(St,{type:"submit",disabled:u,loading:u,loadingText:"Creando cuenta...",variant:"primary",className:"w-full py-3",children:"Crear cuenta"}),a.jsx("div",{className:"text-center relative",children:a.jsxs("div",{className:"inline-block",children:[a.jsx("span",{className:"text-sm",children:a.jsxs("span",{className:"bg-gradient-to-r from-gray-300 to-gray-400 bg-clip-text text-transparent",children:["¿Ya tienes cuenta?"," "]})}),a.jsxs(lt,{to:"/login",className:"relative inline-block font-medium group",children:[a.jsx("span",{className:"relative z-10 text-sm bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-bold hover:from-blue-300 hover:to-purple-300 transition-all duration-300",children:"Inicia sesión"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]})]})})})]})}function fx(){var v,N,w,_,b,y;const{id:e}=Q2(),[r,t]=P.useState(null),[s,o]=P.useState(!0),[l,u]=P.useState(null),[f,h]=P.useState(null),{user:m}=Ut();P.useEffect(()=>{x()},[e]);const x=async()=>{var k;try{o(!0),u(null);const j=await Ie.get(`/barbers/${e}`);if(j.success){if(console.log("Datos del barbero recibidos:",j.data),t(j.data),(m==null?void 0:m.role)==="admin")try{const T=await Ie.get(`/barbers/${e}/stats`);T.success&&h(T.data)}catch(T){console.warn("No se pudieron cargar las estadísticas:",T)}}else u("Error al cargar los datos del barbero")}catch(j){console.error("Error fetching barber data:",j),((k=j.response)==null?void 0:k.status)===404?u("Barbero no encontrado"):u("Error al conectar con el servidor")}finally{o(!1)}};return s?a.jsx(Ct,{children:a.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:a.jsx("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8 shadow-xl text-center",children:a.jsx("div",{className:"text-blue-400 mb-4",children:a.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-400/40 rounded-full animate-spin"})})})})}):l?a.jsx(Ct,{children:a.jsx("div",{className:"flex flex-col justify-center items-center min-h-[60vh] p-4",children:a.jsxs("div",{className:"bg-red-900/30 border border-red-500/50 rounded-2xl p-8 max-w-lg w-full text-center shadow-xl shadow-red-500/10",children:[a.jsx("div",{className:"bg-red-800/50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-4",children:l}),a.jsxs(lt,{to:"/barbers",className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50 text-white rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a la lista de barberos"]})]})})}):r?a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen relative",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsx("div",{className:"relative",children:(()=>{var T,M,V;const j=m&&r&&(m._id===((T=r.user)==null?void 0:T._id)||m._id===r._id)?m.profilePicture:((M=r==null?void 0:r.user)==null?void 0:M.photo)||(r==null?void 0:r.profilePicture);return j?a.jsx("img",{src:j,alt:((V=r==null?void 0:r.user)==null?void 0:V.name)||(r==null?void 0:r.name),className:"w-32 h-32 rounded-full object-cover shadow-xl"}):a.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center shadow-xl",children:a.jsx(kr,{className:"w-16 h-16 text-blue-400"})})})()}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Bt,{className:"text-4xl font-bold mb-2",children:((v=r==null?void 0:r.user)==null?void 0:v.name)||(r==null?void 0:r.name)||"Cargando..."}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ud,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{className:"text-gray-300 font-medium",children:"Barbero Profesional"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(((N=r==null?void 0:r.user)==null?void 0:N.email)||(r==null?void 0:r.email))&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(jd,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:((w=r==null?void 0:r.user)==null?void 0:w.email)||(r==null?void 0:r.email)})]}),(((_=r==null?void 0:r.user)==null?void 0:_.phone)||(r==null?void 0:r.phone))&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(Sd,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:((b=r==null?void 0:r.user)==null?void 0:b.phone)||(r==null?void 0:r.phone)})]}),(r==null?void 0:r.specialties)&&r.specialties.length>0&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(hs,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{children:r.specialties.join(", ")})]}),(r==null?void 0:r.experience)&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(ud,{className:"w-5 h-5 text-blue-400"}),a.jsxs("span",{children:[r.experience," años de experiencia"]})]})]})]})]}),(r==null?void 0:r.description)&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:[a.jsxs("h3",{className:"text-xl font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[a.jsx(kr,{className:"w-5 h-5"}),"Sobre mí"]}),a.jsx("p",{className:"text-gray-300 leading-relaxed bg-gray-800/20 rounded-xl p-4",children:r.description})]})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:a.jsxs(Bt,{children:[a.jsx(ea,{className:"w-6 h-6"}),"Horario de Atención"]})}),r!=null&&r.schedule?a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"grid grid-cols-7 gap-2 min-w-max",children:Object.entries(r.schedule).map(([k,j])=>{const T={monday:"LUN",tuesday:"MAR",wednesday:"MIÉ",thursday:"JUE",friday:"VIE",saturday:"SÁB",sunday:"DOM"};return a.jsxs("div",{className:"text-center min-w-[80px]",children:[a.jsx("div",{className:`p-2 rounded-t-lg font-semibold text-sm ${j.available?"bg-blue-500/20 text-blue-300 border-b-2 border-blue-500/50":"bg-gray-800/30 text-gray-500 border-b-2 border-gray-600/30"}`,children:T[k]}),a.jsx("div",{className:`p-3 rounded-b-lg text-xs leading-tight min-h-[60px] flex flex-col justify-center ${j.available?"bg-gray-700/30 text-gray-200 border border-t-0 border-gray-600/20":"bg-gray-900/30 text-gray-500 border border-t-0 border-gray-800/20"}`,children:j.available?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-medium",children:a.jsx(Bt,{className:"text-sm font-bold",children:j.start})}),a.jsx("div",{className:"text-gray-400",children:"a"}),a.jsx("div",{className:"font-medium",children:a.jsx(Bt,{className:"text-sm font-bold",children:j.end})})]}):a.jsx("div",{className:"text-center",children:"Cerrado"})})]},k)})})}):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(ea,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Horario no disponible"})]})]})}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:a.jsxs(Bt,{children:[a.jsx(Sr,{className:"w-6 h-6"}),"Servicios Disponibles"]})}),((y=r==null?void 0:r.services)==null?void 0:y.length)>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"flex gap-4 pb-2 w-max",children:r.services.map((k,j)=>a.jsx("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30 flex-shrink-0 min-w-[200px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium mb-2 text-sm",children:a.jsx(Bt,{className:"font-bold",children:k.name})}),a.jsxs("div",{className:"text-blue-400 font-bold bg-blue-500/10 px-3 py-2 rounded-full group-hover:bg-blue-500/20 transition-all duration-300 text-lg",children:["$",k.price]}),k.duration&&a.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[k.duration," min"]})]})},j))})}):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(Sr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay servicios disponibles"})]}),m&&m.role==="user"&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:a.jsxs(lt,{to:`/appointment?barberId=${r==null?void 0:r._id}`,className:"group w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25",children:[a.jsx(Kt,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),a.jsx("span",{className:"font-semibold",children:"Reservar Cita"})]})})]})}),(m==null?void 0:m.role)==="admin"&&a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:a.jsxs(Bt,{children:[a.jsx(xi,{className:"w-6 h-6"}),"Estadísticas"]})}),f?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Kt,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Total Citas"})]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:f.totalAppointments||0})]}),a.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ao,{className:"w-4 h-4 text-green-400"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Ingresos"})]}),a.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",f.totalRevenue||0]})]}),a.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Vc,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Este Mes"})]}),a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f.currentMonthAppointments||0})]}),a.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-yellow-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(hs,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Rating"})]}),a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:f.averageRating||"0.0"})]})]}),f.appointmentsByService&&f.appointmentsByService.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-4 flex items-center gap-2",children:[a.jsx(hs,{className:"w-5 h-5"}),"Servicios Populares"]}),a.jsx("div",{className:"space-y-3",children:f.appointmentsByService.map((k,j)=>a.jsx("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-200 group-hover:text-white",children:k.service}),a.jsxs("div",{className:"text-green-400 text-sm font-medium",children:["$",k.revenue]})]}),a.jsxs("span",{className:"text-blue-400 bg-blue-500/10 px-3 py-1 rounded-full text-sm",children:[k.count," citas"]})]})},j))})]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(xi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Estadísticas no disponibles"})]})]})})]})]})}):a.jsx(Ct,{children:a.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:a.jsxs("div",{className:"bg-yellow-500/20 backdrop-blur-sm border border-yellow-500/40 text-yellow-400 px-8 py-6 rounded-2xl relative max-w-md w-full shadow-xl text-center",children:[a.jsx("div",{className:"bg-yellow-800/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Barbero no encontrado"}),a.jsx("p",{className:"text-yellow-300 mb-4",children:"El barbero que buscas no existe o ha sido eliminado."}),a.jsx(lt,{to:"/barbers",className:"inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50 text-white rounded-lg transition-all duration-300",children:"Ver barberos disponibles"})]})})})}const U4=()=>{const{user:e}=Ut(),{showSuccess:r,showError:t,showInfo:s}=Tr(),{notifySale:o}=bp(),[l,u]=P.useState([]),[f,h]=P.useState([]),[m,x]=P.useState(!0),[v,N]=P.useState(""),[w,_]=P.useState([]),[b,y]=P.useState("product"),[k,j]=P.useState(null),[T,M]=P.useState(""),[V,X]=P.useState(""),[Y,te]=P.useState("all"),[J,de]=P.useState(!1),[pe,q]=P.useState(!1),ie=()=>(console.log("🔍 Datos del usuario:",e),console.log("🔍 Role:",e.role),console.log("🔍 user._id:",e._id),console.log("🔍 user.barberId:",e.barberId),e.role==="barber"?e.barberId?(console.log("✅ Usando user.barberId:",e.barberId),e.barberId):(console.log("⚠️ No hay barberId, usando user._id:",e._id),e._id):(console.log("👤 Usuario admin, usando user._id:",e._id),e._id));P.useEffect(()=>{Pe()},[]);const Pe=async()=>{x(!0),N("");try{console.log("🔄 Cargando datos iniciales...");const E=Date.now(),[D,K]=await Promise.all([Kn.getInventory({_t:E}),wd.getAllServices()]);console.log("📦 Respuesta de inventario:",D);let se=[];D!=null&&D.success&&(D!=null&&D.data)?se=Array.isArray(D.data)?D.data:[D.data]:Array.isArray(D)&&(se=D),console.log("📦 Productos procesados:",se.length);const ee=se.filter(_e=>{const Me=_e.currentStock||_e.stock||_e.quantity||0;return console.log(`📦 ${_e.name}: stock=${Me}`),_e&&Me>0});console.log("📦 Productos disponibles:",ee.length);let ne=[];K!=null&&K.success&&(K!=null&&K.data)?ne=Array.isArray(K.data)?K.data:[K.data]:Array.isArray(K)&&(ne=K);const fe=ne.filter(_e=>_e&&_e.isActive!==!1);u(ee),h(fe),console.log("✅ Datos cargados - Productos:",ee.length,"Servicios:",fe.length)}catch(E){console.error("❌ Error cargando datos:",E),N("Error al cargar los productos y servicios"),t("Error al cargar los datos iniciales")}finally{x(!1)}},ke=l.filter(E=>{var se,ee,ne;const D=((se=E.name)==null?void 0:se.toLowerCase().includes(V.toLowerCase()))||((ee=E.description)==null?void 0:ee.toLowerCase().includes(V.toLowerCase())),K=Y==="all"||((ne=E.category)==null?void 0:ne.toLowerCase())===Y.toLowerCase();return D&&K}),We=[...new Set(l.map(E=>E.category).filter(Boolean))],ye=(E,D=1)=>{const K=w.find(se=>se.id===E._id&&se.type==="product");if(K){const se=K.quantity+D,ee=E.quantity||E.stock||0;if(se>ee){t(`Solo hay ${ee} unidades disponibles`);return}_(w.map(ne=>ne.id===E._id&&ne.type==="product"?{...ne,quantity:se}:ne))}else{const se=E.quantity||E.stock||0;if(D>se){t(`Solo hay ${se} unidades disponibles`);return}_([...w,{id:E._id,type:"product",name:E.name,price:E.price,quantity:D,stock:se}])}s(`${E.name} agregado al carrito`)},L=()=>{if(!k||!T){t("Selecciona un servicio y establece el precio");return}const E=parseFloat(T);if(isNaN(E)||E<=0){t("Ingresa un precio válido");return}_([...w,{id:`walkin-${Date.now()}`,type:"walkIn",name:k.name,serviceId:k._id,price:E,quantity:1}]),j(null),M(""),s(`Servicio ${k.name} agregado`)},re=(E,D)=>{_(w.filter(K=>!(K.id===E&&K.type===D)))},B=(E,D,K)=>{if(K<=0){re(E,D);return}_(w.map(se=>se.id===E&&se.type===D?se.type==="product"&&K>se.stock?(t(`Solo hay ${se.stock} unidades disponibles`),se):{...se,quantity:K}:se))},R=w.reduce((E,D)=>E+D.price*D.quantity,0),A=async()=>{if(w.length===0){t("El carrito está vacío");return}de(!0);try{const E=w.filter(_e=>_e.type==="product"),D=w.filter(_e=>_e.type==="walkIn"),K=[];if(E.length>0){const _e={barberId:ie(),items:E.map(Me=>({productId:Me.id,quantity:Me.quantity,price:Me.price})),total:E.reduce((Me,Ke)=>Me+Ke.price*Ke.quantity,0),type:"product"};K.push(Da.createSale(_e))}if(D.length>0)for(const _e of D){const Me={barberId:ie(),serviceId:_e.serviceId,serviceName:_e.name,price:_e.price,total:_e.price,type:"walkIn"};K.push(Da.createWalkInSale(Me))}await Promise.all(K);const se=w.length,ee=w.filter(_e=>_e.type==="product").length,ne=w.filter(_e=>_e.type==="service").length;let fe=`✅ Venta completada exitosamente
`;fe+=`💰 Total: $${R.toLocaleString()}
`,fe+=`📦 Items vendidos: ${se}`,ee>0&&(fe+=`
🛍️ Productos: ${ee}`),ne>0&&(fe+=`
✂️ Servicios: ${ne}`),fe+=`
📊 Inventario actualizado automáticamente`,r(fe),q(!0),setTimeout(()=>q(!1),3e3),_([]),j(null),M(""),y("product"),o(),console.log("🔄 Recargando inventario para mostrar stock actualizado..."),setTimeout(async()=>{try{console.log("🔄 Iniciando recarga de inventario después de venta..."),await Pe(),console.log("✅ Inventario recargado exitosamente después de venta")}catch(_e){console.error("❌ Error recargando inventario:",_e)}},1500)}catch(E){console.error("Error procesando venta:",E),t("Error al procesar la venta")}finally{de(!1)}},O=E=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(E||0);return m?a.jsx(Ct,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Cargando productos y servicios..."})]})})}):a.jsx(Ct,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500/20 to-blue-500/20 rounded-2xl mb-4",children:a.jsx(bo,{className:"w-8 h-8 text-green-400"})}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.jsx(Bt,{children:"Punto de Venta"})}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Registra ventas de productos y servicios walk-in"}),e&&a.jsxs("div",{className:"mt-3 inline-flex items-center px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),"Barbero: ",e.name||e.email]})]}),v&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 text-red-300",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(bn,{className:"h-5 w-5 mr-2"}),v]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:()=>y("product"),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${b==="product"?"bg-blue-500/80 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:[a.jsx(_c,{className:"w-4 h-4 mr-2"}),"Productos"]}),a.jsxs("button",{onClick:()=>y("walkIn"),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${b==="walkIn"?"bg-blue-500/80 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:[a.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Servicios Walk-in"]})]})}),b==="product"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(kd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:V,onChange:E=>X(E.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsxs("select",{value:Y,onChange:E=>te(E.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[a.jsx("option",{value:"all",children:"Todas las categorías"}),We.map(E=>a.jsx("option",{value:E,children:E},E))]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:ke.length===0?a.jsxs("div",{className:"col-span-full text-center py-8",children:[a.jsx(_c,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400",children:V||Y!=="all"?"No se encontraron productos con los filtros aplicados":"No hay productos disponibles"})]}):ke.map(E=>a.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50 hover:border-blue-500/50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm",children:E.name}),E.description&&a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:E.description}),E.category&&a.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full",children:E.category})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-400 font-bold",children:O(E.price)}),a.jsxs("p",{className:"text-gray-500 text-xs",children:["Stock: ",E.quantity||E.stock||0]})]}),a.jsx("button",{onClick:()=>ye(E),disabled:(E.quantity||E.stock||0)===0,className:"p-2 bg-blue-500/80 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:a.jsx(yo,{className:"w-4 h-4"})})]})]})},E._id))})]}):a.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-700/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(Sr,{className:"w-5 h-5 mr-2 text-green-400"}),"Agregar Servicio Walk-in"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Servicio"}),a.jsxs("select",{value:(k==null?void 0:k._id)||"",onChange:E=>{const D=f.find(K=>K._id===E.target.value);j(D),M((D==null?void 0:D.price)||"")},className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecciona un servicio"}),f.map(E=>a.jsxs("option",{value:E._id,children:[E.name," - ",O(E.price)]},E._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Precio (puedes ajustarlo)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"number",value:T,onChange:E=>M(E.target.value),placeholder:"0",min:"0",step:"1000",className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("button",{onClick:L,disabled:!k||!T,className:"w-full py-2 bg-green-500/80 hover:bg-green-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center",children:[a.jsx(yo,{className:"w-4 h-4 mr-2"}),"Agregar al Carrito"]})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(bo,{className:"w-5 h-5 mr-2 text-green-400"}),"Carrito (",w.length,")"]}),w.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(bo,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400",children:"El carrito está vacío"})]}):a.jsxs("div",{className:"space-y-3",children:[w.map((E,D)=>a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-600/50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white text-sm font-medium truncate",children:E.name}),a.jsxs("p",{className:"text-gray-400 text-xs",children:[O(E.price),E.type==="product"&&` • Stock: ${E.stock}`]})]}),a.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[E.type==="product"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>B(E.id,E.type,E.quantity-1),className:"p-1 text-gray-400 hover:text-white",children:a.jsx(_p,{className:"w-3 h-3"})}),a.jsx("span",{className:"text-white text-sm w-8 text-center",children:E.quantity}),a.jsx("button",{onClick:()=>B(E.id,E.type,E.quantity+1),className:"p-1 text-gray-400 hover:text-white",children:a.jsx(yo,{className:"w-3 h-3"})})]}):a.jsx("span",{className:"text-white text-sm",children:"x1"}),a.jsx("button",{onClick:()=>re(E.id,E.type),className:"p-1 text-red-400 hover:text-red-300 ml-2",children:a.jsx(bn,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:E.type==="product"?"Producto":"Servicio Walk-in"}),a.jsx("span",{className:"text-green-400 font-semibold text-sm",children:O(E.price*E.quantity)})]})]},`${E.id}-${E.type}-${D}`)),a.jsx("div",{className:"border-t border-gray-600 pt-3 mt-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),a.jsx("span",{className:"text-lg font-bold text-green-400",children:O(R)})]})}),a.jsx("button",{onClick:A,disabled:J||w.length===0||pe,className:`w-full mt-4 py-3 rounded-lg transition-all duration-300 flex items-center justify-center font-semibold ${pe?"bg-green-600 text-white":J?"bg-blue-500 text-white":w.length===0?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-green-500/80 hover:bg-green-500 text-white hover:scale-105"}`,children:pe?a.jsxs(a.Fragment,{children:[a.jsx(ii,{className:"w-4 h-4 mr-2"}),"¡Venta Completada!"]}):J?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando Venta..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Procesar Venta"]})})]})]})})]})]})})};function W4(){const{user:e,token:r}=Ut(),{showSuccess:t,showError:s}=Tr(),[o,l]=P.useState([]),[u,f]=P.useState(!0),[h,m]=P.useState(null),[x,v]=P.useState(!1);P.useEffect(()=>{(async()=>{if((e==null?void 0:e.role)==="admin")try{const k=await Ie.get("/users"),j=await Ie.get("/barbers");if(!j.success||!Array.isArray(j.data))console.warn("Respuesta de barberos inválida:",j);else{const T=j.data.filter(M=>M.isActive&&M.user&&M.user.isActive);console.log("Barberos activos encontrados:",T.length)}if(!k.success||!Array.isArray(k.data))throw new Error("Respuesta de usuarios inválida");l(k.data||[])}catch(k){console.error("Error al cargar usuarios:",k),s("Error al cargar la lista de usuarios")}finally{f(!1)}})()},[e,r]);const N=async()=>{try{const y=await Ie.get("/barbers",!1);return!y.success||!Array.isArray(y.data)?(console.warn("Respuesta de barberos inválida en refresh:",y),[]):y.data.filter(j=>j.user&&j.user.role==="barber"&&j.user.isActive&&j.isActive)}catch(y){console.error("Error al refrescar barberos:",y)}},w=async(y,k)=>{try{await Ie.put(`/users/${y}/role`,{role:k}),k==="barber"&&(await Ie.get(`/barbers/by-user/${y}`),await new Promise(T=>setTimeout(T,1e3)),await N());const j=await Ie.get("/users");j.success&&Array.isArray(j.data)?l(j.data):console.warn("Respuesta de usuarios inválida después de cambio de rol:",j),t("Rol actualizado correctamente")}catch(j){console.error("Error al cambiar rol:",j),s(j.message||"Error al cambiar el rol del usuario")}},_=async y=>{const k=o.find(j=>j._id===y);m(k),v(!0)},b=async()=>{if(h)try{await Ie.delete(`/users/${h._id}`),l(o.filter(y=>y._id!==h._id)),t("Usuario eliminado correctamente")}catch(y){console.error("Error al eliminar usuario:",y),s(y.message||"Error al eliminar el usuario")}finally{v(!1),m(null)}};return(e==null?void 0:e.role)!=="admin"?null:a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 py-8 px-4",children:[a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-blue-600/20 w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-blue-400",children:"Gestión de roles de usuarios"}),a.jsx("p",{className:"mt-2 text-gray-400 text-sm sm:text-base",children:"Administra los roles y permisos de los usuarios de la plataforma"})]}),u?a.jsx("div",{className:"bg-gray-800/50 rounded-xl p-8 border border-gray-700",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"relative w-16 h-16",children:a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"w-full h-full border-4 border-blue-500/20 rounded-full"}),a.jsx("div",{className:"w-full h-full border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]})}),a.jsx("p",{className:"mt-4 text-lg text-blue-400",children:"Cargando usuarios..."})]})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm overflow-hidden border border-gray-700 rounded-xl shadow-xl",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3.5 text-left text-sm font-semibold text-blue-400",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Usuario"]})}),a.jsx("th",{className:"px-4 py-3.5 text-left text-sm font-semibold text-blue-400 hidden sm:table-cell",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),"Email"]})}),a.jsx("th",{className:"px-4 py-3.5 text-left text-sm font-semibold text-blue-400",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Rol"]})}),a.jsx("th",{className:"px-4 py-3.5 text-right text-sm font-semibold text-blue-400",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:o.map(y=>a.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-4 text-sm sm:text-base whitespace-nowrap text-white",children:y.name||y.email}),a.jsx("td",{className:"px-4 py-4 text-sm sm:text-base whitespace-nowrap text-gray-300 hidden sm:table-cell",children:y.email}),a.jsx("td",{className:"px-4 py-4 text-sm sm:text-base whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${y.role==="admin"?"bg-purple-900/50 text-purple-200 border border-purple-700":y.role==="barber"?"bg-blue-900/50 text-blue-200 border border-blue-700":"bg-green-900/50 text-green-200 border border-green-700"}`,children:y.role})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("select",{value:y.role,onChange:k=>w(y._id,k.target.value),className:"block w-32 px-3 py-1.5 text-sm text-white bg-gray-700/50 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"user",children:"Usuario"}),a.jsx("option",{value:"barber",children:"Barbero"}),a.jsx("option",{value:"admin",children:"Admin"})]}),y._id!==(e._id||e.id)&&y.role!=="admin"&&a.jsx("button",{onClick:()=>_(y._id),className:"inline-flex items-center p-1.5 border border-red-600/30 rounded-lg bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50",title:"Eliminar usuario",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},y._id))})]})})})}),x&&a.jsxs("div",{className:"fixed inset-0 z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{v(!1),m(null)}}),a.jsx("div",{className:"absolute inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-4",children:a.jsxs("div",{className:"relative bg-gray-800 border border-gray-700 rounded-xl shadow-xl w-full max-w-md transform transition-all animate-modal",children:[a.jsx("div",{className:"border-b border-gray-700 px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3 flex-shrink-0",children:a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-red-900/50 border border-red-700",children:a.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Confirmar eliminación"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Esta acción no se puede deshacer"})]})]})}),a.jsx("div",{className:"px-6 py-4",children:a.jsxs("p",{className:"text-gray-300",children:["¿Estás seguro que deseas eliminar al usuario"," ",a.jsx("span",{className:"font-semibold text-blue-400",children:(h==null?void 0:h.name)||(h==null?void 0:h.email)}),"?"]})}),a.jsx("div",{className:"border-t border-gray-700 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),m(null)},className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500/50 text-sm",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50 text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar usuario"]})]})})]})})})]})]}),a.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease;
        }

        @keyframes modal {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-modal {
          animation: modal 0.2s ease-out;
        }
      `})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ec={};Ec.version="0.18.5";var Mp=1252,$4=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Rp=function(e){$4.indexOf(e)!=-1&&(Mp=e)};function H4(){Rp(1252)}var Po=function(e){Rp(e)};function V4(){Po(1200),H4()}var uc=function(r){return String.fromCharCode(r)},hx=function(r){return String.fromCharCode(r)},Tc,La="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fo(e){for(var r="",t=0,s=0,o=0,l=0,u=0,f=0,h=0,m=0;m<e.length;)t=e.charCodeAt(m++),l=t>>2,s=e.charCodeAt(m++),u=(t&3)<<4|s>>4,o=e.charCodeAt(m++),f=(s&15)<<2|o>>6,h=o&63,isNaN(s)?f=h=64:isNaN(o)&&(h=64),r+=La.charAt(l)+La.charAt(u)+La.charAt(f)+La.charAt(h);return r}function ta(e){var r="",t=0,s=0,o=0,l=0,u=0,f=0,h=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<e.length;)l=La.indexOf(e.charAt(m++)),u=La.indexOf(e.charAt(m++)),t=l<<2|u>>4,r+=String.fromCharCode(t),f=La.indexOf(e.charAt(m++)),s=(u&15)<<4|f>>2,f!==64&&(r+=String.fromCharCode(s)),h=La.indexOf(e.charAt(m++)),o=(f&3)<<6|h,h!==64&&(r+=String.fromCharCode(o));return r}var dt=(function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node})(),aa=(function(){if(typeof Buffer!="undefined"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,t){return t?new Buffer(r,t):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}})();function gs(e){return dt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}function mx(e){return dt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}var gn=function(r){return dt?aa(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)&255})};function Gc(e){if(typeof ArrayBuffer=="undefined")return gn(e);for(var r=new ArrayBuffer(e.length),t=new Uint8Array(r),s=0;s!=e.length;++s)t[s]=e.charCodeAt(s)&255;return r}function Uo(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var r=[],t=0;t<e.length;++t)r[t]=String.fromCharCode(e[t]);return r.join("")}function G4(e){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(e)}var or=dt?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:aa(r)}))}:function(e){if(typeof Uint8Array!="undefined"){var r=0,t=0;for(r=0;r<e.length;++r)t+=e[r].length;var s=new Uint8Array(t),o=0;for(r=0,t=0;r<e.length;t+=o,++r)if(o=e[r].length,e[r]instanceof Uint8Array)s.set(e[r],t);else{if(typeof e[r]=="string")throw"wtf";s.set(new Uint8Array(e[r]),t)}return s}return[].concat.apply([],e.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function Y4(e){for(var r=[],t=0,s=e.length+250,o=gs(e.length+255),l=0;l<e.length;++l){var u=e.charCodeAt(l);if(u<128)o[t++]=u;else if(u<2048)o[t++]=192|u>>6&31,o[t++]=128|u&63;else if(u>=55296&&u<57344){u=(u&1023)+64;var f=e.charCodeAt(++l)&1023;o[t++]=240|u>>8&7,o[t++]=128|u>>2&63,o[t++]=128|f>>6&15|(u&3)<<4,o[t++]=128|f&63}else o[t++]=224|u>>12&15,o[t++]=128|u>>6&63,o[t++]=128|u&63;t>s&&(r.push(o.slice(0,t)),t=0,o=gs(65535),s=65530)}return r.push(o.slice(0,t)),or(r)}var wo=/\u0000/g,dc=/[\u0001-\u0006]/g;function ui(e){for(var r="",t=e.length-1;t>=0;)r+=e.charAt(t--);return r}function vn(e,r){var t=""+e;return t.length>=r?t:Ot("0",r-t.length)+t}function Md(e,r){var t=""+e;return t.length>=r?t:Ot(" ",r-t.length)+t}function Cc(e,r){var t=""+e;return t.length>=r?t:t+Ot(" ",r-t.length)}function X4(e,r){var t=""+Math.round(e);return t.length>=r?t:Ot("0",r-t.length)+t}function K4(e,r){var t=""+e;return t.length>=r?t:Ot("0",r-t.length)+t}var xx=Math.pow(2,32);function ei(e,r){if(e>xx||e<-xx)return X4(e,r);var t=Math.round(e);return K4(t,r)}function Ac(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var px=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Vu=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function q4(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},gx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Q4={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Dc(e,r,t){for(var s=e<0?-1:1,o=e*s,l=0,u=1,f=0,h=1,m=0,x=0,v=Math.floor(o);m<r&&(v=Math.floor(o),f=v*u+l,x=v*m+h,!(o-v<5e-8));)o=1/(o-v),l=u,u=f,h=m,m=x;if(x>r&&(m>r?(x=h,f=l):(x=m,f=u)),!t)return[0,s*f,x];var N=Math.floor(s*f/x);return[N,s*f-N*x,x]}function fc(e,r,t){if(e>2958465||e<0)return null;var s=e|0,o=Math.floor(86400*(e-s)),l=0,u=[],f={D:s,T:o,u:86400*(e-s)-o,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),r&&r.date1904&&(s+=1462),f.u>.9999&&(f.u=0,++o==86400&&(f.T=o=0,++s,++f.D)),s===60)u=t?[1317,10,29]:[1900,2,29],l=3;else if(s===0)u=t?[1317,8,29]:[1900,1,0],l=6;else{s>60&&--s;var h=new Date(1900,0,1);h.setDate(h.getDate()+s-1),u=[h.getFullYear(),h.getMonth()+1,h.getDate()],l=h.getDay(),s<60&&(l=(l+6)%7),t&&(l=a3(h,u))}return f.y=u[0],f.m=u[1],f.d=u[2],f.S=o%60,o=Math.floor(o/60),f.M=o%60,o=Math.floor(o/60),f.H=o,f.q=l,f}var Ip=new Date(1899,11,31,0,0,0),J4=Ip.getTime(),Z4=new Date(1900,2,1,0,0,0);function Lp(e,r){var t=e.getTime();return r?t-=1461*24*60*60*1e3:e>=Z4&&(t+=1440*60*1e3),(t-(J4+(e.getTimezoneOffset()-Ip.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Rd(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function e3(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function t3(e){var r=e<0?12:11,t=Rd(e.toFixed(12));return t.length<=r||(t=e.toPrecision(10),t.length<=r)?t:e.toExponential(5)}function r3(e){var r=Rd(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function n3(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;return r>=-4&&r<=-1?t=e.toPrecision(10+r):Math.abs(r)<=9?t=t3(e):r===10?t=e.toFixed(10).substr(0,12):t=r3(e),Rd(e3(t.toUpperCase()))}function fd(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):n3(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ua(14,Lp(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function a3(e,r){r[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}function s3(e,r,t,s){var o="",l=0,u=0,f=t.y,h,m=0;switch(e){case 98:f=t.y+543;case 121:switch(r.length){case 1:case 2:h=f%100,m=2;break;default:h=f%1e4,m=4;break}break;case 109:switch(r.length){case 1:case 2:h=t.m,m=r.length;break;case 3:return Vu[t.m-1][1];case 5:return Vu[t.m-1][0];default:return Vu[t.m-1][2]}break;case 100:switch(r.length){case 1:case 2:h=t.d,m=r.length;break;case 3:return px[t.q][0];default:return px[t.q][1]}break;case 104:switch(r.length){case 1:case 2:h=1+(t.H+11)%12,m=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:h=t.H,m=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:h=t.M,m=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return t.u===0&&(r=="s"||r=="ss")?vn(t.S,r.length):(s>=2?u=s===3?1e3:100:u=s===1?10:1,l=Math.round(u*(t.S+t.u)),l>=60*u&&(l=0),r==="s"?l===0?"0":""+l/u:(o=vn(l,2+s),r==="ss"?o.substr(0,2):"."+o.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r}m=r.length===3?1:2;break;case 101:h=f,m=1;break}var x=m>0?vn(h,m):"";return x}function Ba(e){var r=3;if(e.length<=r)return e;for(var t=e.length%r,s=e.substr(0,t);t!=e.length;t+=r)s+=(s.length>0?",":"")+e.substr(t,r);return s}var Bp=/%/g;function i3(e,r,t){var s=r.replace(Bp,""),o=r.length-s.length;return Qn(e,s,t*Math.pow(10,2*o))+Ot("%",o)}function o3(e,r,t){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return Qn(e,r.substr(0,s),t/Math.pow(10,3*(r.length-s)))}function zp(e,r){var t,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+zp(e,-r);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var l=Math.floor(Math.log(r)*Math.LOG10E)%o;if(l<0&&(l+=o),t=(r/Math.pow(10,l)).toPrecision(s+1+(o+l)%o),t.indexOf("e")===-1){var u=Math.floor(Math.log(r)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(u-t.length+l):t+="E+"+(u-l);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,o)+"."+t.substr(2+o),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,x){return h+m+x.substr(0,(o+l)%o)+"."+x.substr(l)+"E"})}else t=r.toExponential(s);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Up=/# (\?+)( ?)\/( ?)(\d+)/;function l3(e,r,t){var s=parseInt(e[4],10),o=Math.round(r*s),l=Math.floor(o/s),u=o-l*s,f=s;return t+(l===0?"":""+l)+" "+(u===0?Ot(" ",e[1].length+1+e[4].length):Md(u,e[1].length)+e[2]+"/"+e[3]+vn(f,e[4].length))}function c3(e,r,t){return t+(r===0?"":""+r)+Ot(" ",e[1].length+2+e[4].length)}var Wp=/^#*0*\.([0#]+)/,$p=/\).*[0#]/,Hp=/\(###\) ###\\?-####/;function Nr(e){for(var r="",t,s=0;s!=e.length;++s)switch(t=e.charCodeAt(s)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function vx(e,r){var t=Math.pow(10,r);return""+Math.round(e*t)/t}function yx(e,r){var t=e-Math.floor(e),s=Math.pow(10,r);return r<(""+Math.round(t*s)).length?0:Math.round(t*s)}function u3(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function d3(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function sn(e,r,t){if(e.charCodeAt(0)===40&&!r.match($p)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?sn("n",s,t):"("+sn("n",s,-t)+")"}if(r.charCodeAt(r.length-1)===44)return o3(e,r,t);if(r.indexOf("%")!==-1)return i3(e,r,t);if(r.indexOf("E")!==-1)return zp(r,t);if(r.charCodeAt(0)===36)return"$"+sn(e,r.substr(r.charAt(1)==" "?2:1),t);var o,l,u,f,h=Math.abs(t),m=t<0?"-":"";if(r.match(/^00+$/))return m+ei(h,r.length);if(r.match(/^[#?]+$/))return o=ei(t,0),o==="0"&&(o=""),o.length>r.length?o:Nr(r.substr(0,r.length-o.length))+o;if(l=r.match(Up))return l3(l,h,m);if(r.match(/^#+0+$/))return m+ei(h,r.length-r.indexOf("0"));if(l=r.match(Wp))return o=vx(t,l[1].length).replace(/^([^\.]+)$/,"$1."+Nr(l[1])).replace(/\.$/,"."+Nr(l[1])).replace(/\.(\d*)$/,function(_,b){return"."+b+Ot("0",Nr(l[1]).length-b.length)}),r.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),l=r.match(/^(0*)\.(#*)$/))return m+vx(h,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=r.match(/^#{1,3},##0(\.?)$/))return m+Ba(ei(h,0));if(l=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+sn(e,r,-t):Ba(""+(Math.floor(t)+u3(t,l[1].length)))+"."+vn(yx(t,l[1].length),l[1].length);if(l=r.match(/^#,#*,#0/))return sn(e,r.replace(/^#,#*,/,""),t);if(l=r.match(/^([0#]+)(\\?-([0#]+))+$/))return o=ui(sn(e,r.replace(/[\\-]/g,""),t)),u=0,ui(ui(r.replace(/\\/g,"")).replace(/[0#]/g,function(_){return u<o.length?o.charAt(u++):_==="0"?"0":""}));if(r.match(Hp))return o=sn(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var x="";if(l=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(l[4].length,7),f=Dc(h,Math.pow(10,u)-1,!1),o=""+m,x=Qn("n",l[1],f[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),o+=x+l[2]+"/"+l[3],x=Cc(f[2],u),x.length<l[4].length&&(x=Nr(l[4].substr(l[4].length-x.length))+x),o+=x,o;if(l=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(l[1].length,l[4].length),7),f=Dc(h,Math.pow(10,u)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Md(f[1],u)+l[2]+"/"+l[3]+Cc(f[2],u):Ot(" ",2*u+1+l[2].length+l[3].length));if(l=r.match(/^[#0?]+$/))return o=ei(t,0),r.length<=o.length?o:Nr(r.substr(0,r.length-o.length))+o;if(l=r.match(/^([#0?]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),u=o.indexOf(".");var v=r.indexOf(".")-u,N=r.length-o.length-v;return Nr(r.substr(0,v)+o+r.substr(r.length-N))}if(l=r.match(/^00,000\.([#0]*0)$/))return u=yx(t,l[1].length),t<0?"-"+sn(e,r,-t):Ba(d3(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?vn(0,3-_.length):"")+_})+"."+vn(u,l[1].length);switch(r){case"###,##0.00":return sn(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=Ba(ei(h,0));return w!=="0"?m+w:"";case"###,###.00":return sn(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return sn(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function f3(e,r,t){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return Qn(e,r.substr(0,s),t/Math.pow(10,3*(r.length-s)))}function h3(e,r,t){var s=r.replace(Bp,""),o=r.length-s.length;return Qn(e,s,t*Math.pow(10,2*o))+Ot("%",o)}function Vp(e,r){var t,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+Vp(e,-r);var o=e.indexOf(".");o===-1&&(o=e.indexOf("E"));var l=Math.floor(Math.log(r)*Math.LOG10E)%o;if(l<0&&(l+=o),t=(r/Math.pow(10,l)).toPrecision(s+1+(o+l)%o),!t.match(/[Ee]/)){var u=Math.floor(Math.log(r)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(u-t.length+l):t+="E+"+(u-l),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,m,x){return h+m+x.substr(0,(o+l)%o)+"."+x.substr(l)+"E"})}else t=r.toExponential(s);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function An(e,r,t){if(e.charCodeAt(0)===40&&!r.match($p)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?An("n",s,t):"("+An("n",s,-t)+")"}if(r.charCodeAt(r.length-1)===44)return f3(e,r,t);if(r.indexOf("%")!==-1)return h3(e,r,t);if(r.indexOf("E")!==-1)return Vp(r,t);if(r.charCodeAt(0)===36)return"$"+An(e,r.substr(r.charAt(1)==" "?2:1),t);var o,l,u,f,h=Math.abs(t),m=t<0?"-":"";if(r.match(/^00+$/))return m+vn(h,r.length);if(r.match(/^[#?]+$/))return o=""+t,t===0&&(o=""),o.length>r.length?o:Nr(r.substr(0,r.length-o.length))+o;if(l=r.match(Up))return c3(l,h,m);if(r.match(/^#+0+$/))return m+vn(h,r.length-r.indexOf("0"));if(l=r.match(Wp))return o=(""+t).replace(/^([^\.]+)$/,"$1."+Nr(l[1])).replace(/\.$/,"."+Nr(l[1])),o=o.replace(/\.(\d*)$/,function(_,b){return"."+b+Ot("0",Nr(l[1]).length-b.length)}),r.indexOf("0.")!==-1?o:o.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),l=r.match(/^(0*)\.(#*)$/))return m+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=r.match(/^#{1,3},##0(\.?)$/))return m+Ba(""+h);if(l=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+An(e,r,-t):Ba(""+t)+"."+Ot("0",l[1].length);if(l=r.match(/^#,#*,#0/))return An(e,r.replace(/^#,#*,/,""),t);if(l=r.match(/^([0#]+)(\\?-([0#]+))+$/))return o=ui(An(e,r.replace(/[\\-]/g,""),t)),u=0,ui(ui(r.replace(/\\/g,"")).replace(/[0#]/g,function(_){return u<o.length?o.charAt(u++):_==="0"?"0":""}));if(r.match(Hp))return o=An(e,"##########",t),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var x="";if(l=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(l[4].length,7),f=Dc(h,Math.pow(10,u)-1,!1),o=""+m,x=Qn("n",l[1],f[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),o+=x+l[2]+"/"+l[3],x=Cc(f[2],u),x.length<l[4].length&&(x=Nr(l[4].substr(l[4].length-x.length))+x),o+=x,o;if(l=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(l[1].length,l[4].length),7),f=Dc(h,Math.pow(10,u)-1,!0),m+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Md(f[1],u)+l[2]+"/"+l[3]+Cc(f[2],u):Ot(" ",2*u+1+l[2].length+l[3].length));if(l=r.match(/^[#0?]+$/))return o=""+t,r.length<=o.length?o:Nr(r.substr(0,r.length-o.length))+o;if(l=r.match(/^([#0]+)\.([#0]+)$/)){o=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),u=o.indexOf(".");var v=r.indexOf(".")-u,N=r.length-o.length-v;return Nr(r.substr(0,v)+o+r.substr(r.length-N))}if(l=r.match(/^00,000\.([#0]*0)$/))return t<0?"-"+An(e,r,-t):Ba(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?vn(0,3-_.length):"")+_})+"."+vn(0,l[1].length);switch(r){case"###,###":case"##,###":case"#,###":var w=Ba(""+h);return w!=="0"?m+w:"";default:if(r.match(/\.[0#?]*$/))return An(e,r.slice(0,r.lastIndexOf(".")),t)+Nr(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Qn(e,r,t){return(t|0)===t?An(e,r,t):sn(e,r,t)}function m3(e){for(var r=[],t=!1,s=0,o=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:t=!t;break;case 95:case 42:case 92:++s;break;case 59:r[r.length]=e.substr(o,s-o),o=s+1}if(r[r.length]=e.substr(o),t===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var Gp=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yp(e){for(var r=0,t="",s="";r<e.length;)switch(t=e.charAt(r)){case"G":Ac(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(s=t;e.charAt(r++)!=="]"&&r<e.length;)s+=e.charAt(r);if(s.match(Gp))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++r))>-1||t=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===t;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function x3(e,r,t,s){for(var o=[],l="",u=0,f="",h="t",m,x,v,N="H";u<e.length;)switch(f=e.charAt(u)){case"G":if(!Ac(e,u))throw new Error("unrecognized character "+f+" in "+e);o[o.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";(v=e.charCodeAt(++u))!==34&&u<e.length;)l+=String.fromCharCode(v);o[o.length]={t:"t",v:l},++u;break;case"\\":var w=e.charAt(++u),_=w==="("||w===")"?w:"t";o[o.length]={t:_,v:w},++u;break;case"_":o[o.length]={t:"t",v:" "},u+=2;break;case"@":o[o.length]={t:"T",v:r},++u;break;case"B":case"b":if(e.charAt(u+1)==="1"||e.charAt(u+1)==="2"){if(m==null&&(m=fc(r,t,e.charAt(u+1)==="2"),m==null))return"";o[o.length]={t:"X",v:e.substr(u,2)},h=f,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||m==null&&(m=fc(r,t),m==null))return"";for(l=f;++u<e.length&&e.charAt(u).toLowerCase()===f;)l+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=N),o[o.length]={t:f,v:l},h=f;break;case"A":case"a":case"上":var b={t:f,v:f};if(m==null&&(m=fc(r,t)),e.substr(u,3).toUpperCase()==="A/P"?(m!=null&&(b.v=m.H>=12?"P":"A"),b.t="T",N="h",u+=3):e.substr(u,5).toUpperCase()==="AM/PM"?(m!=null&&(b.v=m.H>=12?"PM":"AM"),b.t="T",u+=5,N="h"):e.substr(u,5).toUpperCase()==="上午/下午"?(m!=null&&(b.v=m.H>=12?"下午":"上午"),b.t="T",u+=5,N="h"):(b.t="t",++u),m==null&&b.t==="T")return"";o[o.length]=b,h=f;break;case"[":for(l=f;e.charAt(u++)!=="]"&&u<e.length;)l+=e.charAt(u);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(Gp)){if(m==null&&(m=fc(r,t),m==null))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yp(e)||(o[o.length]={t:"t",v:l}));break;case".":if(m!=null){for(l=f;++u<e.length&&(f=e.charAt(u))==="0";)l+=f;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=f;++u<e.length&&"0#?.,E+-%".indexOf(f=e.charAt(u))>-1;)l+=f;o[o.length]={t:"n",v:l};break;case"?":for(l=f;e.charAt(++u)===f;)l+=f;o[o.length]={t:f,v:l},h=f;break;case"*":++u,(e.charAt(u)==" "||e.charAt(u)=="*")&&++u;break;case"(":case")":o[o.length]={t:s===1?"t":f,v:f},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=f;u<e.length&&"0123456789".indexOf(e.charAt(++u))>-1;)l+=e.charAt(u);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:f,v:f},++u;break;case"$":o[o.length]={t:"t",v:"$"},++u;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+e);o[o.length]={t:"t",v:f},++u;break}var y=0,k=0,j;for(u=o.length-1,h="t";u>=0;--u)switch(o[u].t){case"h":case"H":o[u].t=N,h="h",y<1&&(y=1);break;case"s":(j=o[u].v.match(/\.0+$/))&&(k=Math.max(k,j[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":h=o[u].t;break;case"m":h==="s"&&(o[u].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&o[u].v.match(/[Hh]/)&&(y=1),y<2&&o[u].v.match(/[Mm]/)&&(y=2),y<3&&o[u].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var T="",M;for(u=0;u<o.length;++u)switch(o[u].t){case"t":case"T":case" ":case"D":break;case"X":o[u].v="",o[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[u].v=s3(o[u].t.charCodeAt(0),o[u].v,m,k),o[u].t="t";break;case"n":case"?":for(M=u+1;o[M]!=null&&((f=o[M].t)==="?"||f==="D"||(f===" "||f==="t")&&o[M+1]!=null&&(o[M+1].t==="?"||o[M+1].t==="t"&&o[M+1].v==="/")||o[u].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(o[M].v==="/"||o[M].v===" "&&o[M+1]!=null&&o[M+1].t=="?"));)o[u].v+=o[M].v,o[M]={v:"",t:";"},++M;T+=o[u].v,u=M-1;break;case"G":o[u].t="t",o[u].v=fd(r,t);break}var V="",X,Y;if(T.length>0){T.charCodeAt(0)==40?(X=r<0&&T.charCodeAt(0)===45?-r:r,Y=Qn("n",T,X)):(X=r<0&&s>1?-r:r,Y=Qn("n",T,X),X<0&&o[0]&&o[0].t=="t"&&(Y=Y.substr(1),o[0].v="-"+o[0].v)),M=Y.length-1;var te=o.length;for(u=0;u<o.length;++u)if(o[u]!=null&&o[u].t!="t"&&o[u].v.indexOf(".")>-1){te=u;break}var J=o.length;if(te===o.length&&Y.indexOf("E")===-1){for(u=o.length-1;u>=0;--u)o[u]==null||"n?".indexOf(o[u].t)===-1||(M>=o[u].v.length-1?(M-=o[u].v.length,o[u].v=Y.substr(M+1,o[u].v.length)):M<0?o[u].v="":(o[u].v=Y.substr(0,M+1),M=-1),o[u].t="t",J=u);M>=0&&J<o.length&&(o[J].v=Y.substr(0,M+1)+o[J].v)}else if(te!==o.length&&Y.indexOf("E")===-1){for(M=Y.indexOf(".")-1,u=te;u>=0;--u)if(!(o[u]==null||"n?".indexOf(o[u].t)===-1)){for(x=o[u].v.indexOf(".")>-1&&u===te?o[u].v.indexOf(".")-1:o[u].v.length-1,V=o[u].v.substr(x+1);x>=0;--x)M>=0&&(o[u].v.charAt(x)==="0"||o[u].v.charAt(x)==="#")&&(V=Y.charAt(M--)+V);o[u].v=V,o[u].t="t",J=u}for(M>=0&&J<o.length&&(o[J].v=Y.substr(0,M+1)+o[J].v),M=Y.indexOf(".")+1,u=te;u<o.length;++u)if(!(o[u]==null||"n?(".indexOf(o[u].t)===-1&&u!==te)){for(x=o[u].v.indexOf(".")>-1&&u===te?o[u].v.indexOf(".")+1:0,V=o[u].v.substr(0,x);x<o[u].v.length;++x)M<Y.length&&(V+=Y.charAt(M++));o[u].v=V,o[u].t="t",J=u}}}for(u=0;u<o.length;++u)o[u]!=null&&"n?".indexOf(o[u].t)>-1&&(X=s>1&&r<0&&u>0&&o[u-1].v==="-"?-r:r,o[u].v=Qn(o[u].t,o[u].v,X),o[u].t="t");var de="";for(u=0;u!==o.length;++u)o[u]!=null&&(de+=o[u].v);return de}var bx=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wx(e,r){if(r==null)return!1;var t=parseFloat(r[2]);switch(r[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0;break}return!1}function p3(e,r){var t=m3(e),s=t.length,o=t[s-1].indexOf("@");if(s<4&&o>-1&&--s,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!="number")return[4,t.length===4||o>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=o>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=o>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=o>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var l=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[s,l];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var u=t[0].match(bx),f=t[1].match(bx);return wx(r,u)?[s,t[0]]:wx(r,f)?[s,t[1]]:[s,t[u!=null&&f!=null?2:1]]}return[s,l]}function Ua(e,r,t){t==null&&(t={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&t.dateNF?s=t.dateNF:s=e;break;case"number":e==14&&t.dateNF?s=t.dateNF:s=(t.table!=null?t.table:Mt)[e],s==null&&(s=t.table&&t.table[gx[e]]||Mt[gx[e]]),s==null&&(s=Q4[e]||"General");break}if(Ac(s,0))return fd(r,t);r instanceof Date&&(r=Lp(r,t.date1904));var o=p3(s,r);if(Ac(o[1]))return fd(r,t);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return x3(o[1],r,t,o[0])}function Xp(e,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(Mt[t]==null){r<0&&(r=t);continue}if(Mt[t]==e){r=t;break}}r<0&&(r=391)}return Mt[r]=e,r}function Yc(e){for(var r=0;r!=392;++r)e[r]!==void 0&&Xp(e[r],r)}function Xc(){Mt=q4()}var Kp=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function g3(e){var r=typeof e=="number"?Mt[e]:e;return r=r.replace(Kp,"(\\d+)"),new RegExp("^"+r+"$")}function v3(e,r,t){var s=-1,o=-1,l=-1,u=-1,f=-1,h=-1;(r.match(Kp)||[]).forEach(function(v,N){var w=parseInt(t[N+1],10);switch(v.toLowerCase().charAt(0)){case"y":s=w;break;case"d":l=w;break;case"h":u=w;break;case"s":h=w;break;case"m":u>=0?f=w:o=w;break}}),h>=0&&f==-1&&o>=0&&(f=o,o=-1);var m=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(o>=1?o:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var x=("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return u==-1&&f==-1&&h==-1?m:s==-1&&o==-1&&l==-1?x:m+"T"+x}var y3=(function(){var e={};e.version="1.2.0";function r(){for(var Y=0,te=new Array(256),J=0;J!=256;++J)Y=J,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,Y=Y&1?-306674912^Y>>>1:Y>>>1,te[J]=Y;return typeof Int32Array!="undefined"?new Int32Array(te):te}var t=r();function s(Y){var te=0,J=0,de=0,pe=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(de=0;de!=256;++de)pe[de]=Y[de];for(de=0;de!=256;++de)for(J=Y[de],te=256+de;te<4096;te+=256)J=pe[te]=J>>>8^Y[J&255];var q=[];for(de=1;de!=16;++de)q[de-1]=typeof Int32Array!="undefined"?pe.subarray(de*256,de*256+256):pe.slice(de*256,de*256+256);return q}var o=s(t),l=o[0],u=o[1],f=o[2],h=o[3],m=o[4],x=o[5],v=o[6],N=o[7],w=o[8],_=o[9],b=o[10],y=o[11],k=o[12],j=o[13],T=o[14];function M(Y,te){for(var J=te^-1,de=0,pe=Y.length;de<pe;)J=J>>>8^t[(J^Y.charCodeAt(de++))&255];return~J}function V(Y,te){for(var J=te^-1,de=Y.length-15,pe=0;pe<de;)J=T[Y[pe++]^J&255]^j[Y[pe++]^J>>8&255]^k[Y[pe++]^J>>16&255]^y[Y[pe++]^J>>>24]^b[Y[pe++]]^_[Y[pe++]]^w[Y[pe++]]^N[Y[pe++]]^v[Y[pe++]]^x[Y[pe++]]^m[Y[pe++]]^h[Y[pe++]]^f[Y[pe++]]^u[Y[pe++]]^l[Y[pe++]]^t[Y[pe++]];for(de+=15;pe<de;)J=J>>>8^t[(J^Y[pe++])&255];return~J}function X(Y,te){for(var J=te^-1,de=0,pe=Y.length,q=0,ie=0;de<pe;)q=Y.charCodeAt(de++),q<128?J=J>>>8^t[(J^q)&255]:q<2048?(J=J>>>8^t[(J^(192|q>>6&31))&255],J=J>>>8^t[(J^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,ie=Y.charCodeAt(de++)&1023,J=J>>>8^t[(J^(240|q>>8&7))&255],J=J>>>8^t[(J^(128|q>>2&63))&255],J=J>>>8^t[(J^(128|ie>>6&15|(q&3)<<4))&255],J=J>>>8^t[(J^(128|ie&63))&255]):(J=J>>>8^t[(J^(224|q>>12&15))&255],J=J>>>8^t[(J^(128|q>>6&63))&255],J=J>>>8^t[(J^(128|q&63))&255]);return~J}return e.table=t,e.bstr=M,e.buf=V,e.str=X,e})(),vt=(function(){var r={};r.version="1.2.1";function t(C,z){for(var F=C.split("/"),I=z.split("/"),U=0,W=0,ce=Math.min(F.length,I.length);U<ce;++U){if(W=F[U].length-I[U].length)return W;if(F[U]!=I[U])return F[U]<I[U]?-1:1}return F.length-I.length}function s(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:s(C.slice(0,-1));var z=C.lastIndexOf("/");return z===-1?C:C.slice(0,z+1)}function o(C){if(C.charAt(C.length-1)=="/")return o(C.slice(0,-1));var z=C.lastIndexOf("/");return z===-1?C:C.slice(z+1)}function l(C,z){typeof z=="string"&&(z=new Date(z));var F=z.getHours();F=F<<6|z.getMinutes(),F=F<<5|z.getSeconds()>>>1,C.write_shift(2,F);var I=z.getFullYear()-1980;I=I<<4|z.getMonth()+1,I=I<<5|z.getDate(),C.write_shift(2,I)}function u(C){var z=C.read_shift(2)&65535,F=C.read_shift(2)&65535,I=new Date,U=F&31;F>>>=5;var W=F&15;F>>>=4,I.setMilliseconds(0),I.setFullYear(F+1980),I.setMonth(W-1),I.setDate(U);var ce=z&31;z>>>=5;var be=z&63;return z>>>=6,I.setHours(z),I.setMinutes(be),I.setSeconds(ce<<1),I}function f(C){Yr(C,0);for(var z={},F=0;C.l<=C.length-4;){var I=C.read_shift(2),U=C.read_shift(2),W=C.l+U,ce={};switch(I){case 21589:F=C.read_shift(1),F&1&&(ce.mtime=C.read_shift(4)),U>5&&(F&2&&(ce.atime=C.read_shift(4)),F&4&&(ce.ctime=C.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}C.l=W,z[I]=ce}return z}var h;function m(){return h||(h={})}function x(C,z){if(C[0]==80&&C[1]==75)return Ts(C,z);if((C[0]|32)==109&&(C[1]|32)==105)return nl(C,z);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var F=3,I=512,U=0,W=0,ce=0,be=0,le=0,ue=[],he=C.slice(0,512);Yr(he,0);var Ee=v(he);switch(F=Ee[0],F){case 3:I=512;break;case 4:I=4096;break;case 0:if(Ee[1]==0)return Ts(C,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+F)}I!==512&&(he=C.slice(0,I),Yr(he,28));var Re=C.slice(0,I);N(he,F);var Be=he.read_shift(4,"i");if(F===3&&Be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Be);he.l+=4,ce=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),be=he.read_shift(4,"i"),U=he.read_shift(4,"i"),le=he.read_shift(4,"i"),W=he.read_shift(4,"i");for(var Ae=-1,Ce=0;Ce<109&&(Ae=he.read_shift(4,"i"),!(Ae<0));++Ce)ue[Ce]=Ae;var Ze=w(C,I);y(le,W,Ze,I,ue);var yt=j(Ze,ce,ue,I);yt[ce].name="!Directory",U>0&&be!==ie&&(yt[be].name="!MiniFAT"),yt[ue[0]].name="!FAT",yt.fat_addrs=ue,yt.ssz=I;var bt={},Rt=[],Qa=[],ca=[];T(ce,yt,Ze,Rt,U,bt,Qa,be),_(Qa,ca,Rt),Rt.shift();var jn={FileIndex:Qa,FullPaths:ca};return z&&z.raw&&(jn.raw={header:Re,sectors:Ze}),jn}function v(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(Pe,"Header Signature: "),C.l+=16;var z=C.read_shift(2,"u");return[C.read_shift(2,"u"),z]}function N(C,z){var F=9;switch(C.l+=2,F=C.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+F);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+F);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+F)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function w(C,z){for(var F=Math.ceil(C.length/z)-1,I=[],U=1;U<F;++U)I[U-1]=C.slice(U*z,(U+1)*z);return I[F-1]=C.slice(F*z),I}function _(C,z,F){for(var I=0,U=0,W=0,ce=0,be=0,le=F.length,ue=[],he=[];I<le;++I)ue[I]=he[I]=I,z[I]=F[I];for(;be<he.length;++be)I=he[be],U=C[I].L,W=C[I].R,ce=C[I].C,ue[I]===I&&(U!==-1&&ue[U]!==U&&(ue[I]=ue[U]),W!==-1&&ue[W]!==W&&(ue[I]=ue[W])),ce!==-1&&(ue[ce]=I),U!==-1&&I!=ue[I]&&(ue[U]=ue[I],he.lastIndexOf(U)<be&&he.push(U)),W!==-1&&I!=ue[I]&&(ue[W]=ue[I],he.lastIndexOf(W)<be&&he.push(W));for(I=1;I<le;++I)ue[I]===I&&(W!==-1&&ue[W]!==W?ue[I]=ue[W]:U!==-1&&ue[U]!==U&&(ue[I]=ue[U]));for(I=1;I<le;++I)if(C[I].type!==0){if(be=I,be!=ue[be])do be=ue[be],z[I]=z[be]+"/"+z[I];while(be!==0&&ue[be]!==-1&&be!=ue[be]);ue[I]=-1}for(z[0]+="/",I=1;I<le;++I)C[I].type!==2&&(z[I]+="/")}function b(C,z,F){for(var I=C.start,U=C.size,W=[],ce=I;F&&U>0&&ce>=0;)W.push(z.slice(ce*q,ce*q+q)),U-=q,ce=ds(F,ce*4);return W.length===0?ge(0):or(W).slice(0,C.size)}function y(C,z,F,I,U){var W=ie;if(C===ie){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var ce=F[C],be=(I>>>2)-1;if(!ce)return;for(var le=0;le<be&&(W=ds(ce,le*4))!==ie;++le)U.push(W);y(ds(ce,I-4),z-1,F,I,U)}}function k(C,z,F,I,U){var W=[],ce=[];U||(U=[]);var be=I-1,le=0,ue=0;for(le=z;le>=0;){U[le]=!0,W[W.length]=le,ce.push(C[le]);var he=F[Math.floor(le*4/I)];if(ue=le*4&be,I<4+ue)throw new Error("FAT boundary crossed: "+le+" 4 "+I);if(!C[he])break;le=ds(C[he],ue)}return{nodes:W,data:Cx([ce])}}function j(C,z,F,I){var U=C.length,W=[],ce=[],be=[],le=[],ue=I-1,he=0,Ee=0,Re=0,Be=0;for(he=0;he<U;++he)if(be=[],Re=he+z,Re>=U&&(Re-=U),!ce[Re]){le=[];var Ae=[];for(Ee=Re;Ee>=0;){Ae[Ee]=!0,ce[Ee]=!0,be[be.length]=Ee,le.push(C[Ee]);var Ce=F[Math.floor(Ee*4/I)];if(Be=Ee*4&ue,I<4+Be)throw new Error("FAT boundary crossed: "+Ee+" 4 "+I);if(!C[Ce]||(Ee=ds(C[Ce],Be),Ae[Ee]))break}W[Re]={nodes:be,data:Cx([le])}}return W}function T(C,z,F,I,U,W,ce,be){for(var le=0,ue=I.length?2:0,he=z[C].data,Ee=0,Re=0,Be;Ee<he.length;Ee+=128){var Ae=he.slice(Ee,Ee+128);Yr(Ae,64),Re=Ae.read_shift(2),Be=Ud(Ae,0,Re-ue),I.push(Be);var Ce={name:Be,type:Ae.read_shift(1),color:Ae.read_shift(1),L:Ae.read_shift(4,"i"),R:Ae.read_shift(4,"i"),C:Ae.read_shift(4,"i"),clsid:Ae.read_shift(16),state:Ae.read_shift(4,"i"),start:0,size:0},Ze=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);Ze!==0&&(Ce.ct=M(Ae,Ae.l-8));var yt=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);yt!==0&&(Ce.mt=M(Ae,Ae.l-8)),Ce.start=Ae.read_shift(4,"i"),Ce.size=Ae.read_shift(4,"i"),Ce.size<0&&Ce.start<0&&(Ce.size=Ce.type=0,Ce.start=ie,Ce.name=""),Ce.type===5?(le=Ce.start,U>0&&le!==ie&&(z[le].name="!StreamData")):Ce.size>=4096?(Ce.storage="fat",z[Ce.start]===void 0&&(z[Ce.start]=k(F,Ce.start,z.fat_addrs,z.ssz)),z[Ce.start].name=Ce.name,Ce.content=z[Ce.start].data.slice(0,Ce.size)):(Ce.storage="minifat",Ce.size<0?Ce.size=0:le!==ie&&Ce.start!==ie&&z[le]&&(Ce.content=b(Ce,z[le].data,(z[be]||{}).data))),Ce.content&&Yr(Ce.content,0),W[Be]=Ce,ce.push(Ce)}}function M(C,z){return new Date((Kr(C,z+4)/1e7*Math.pow(2,32)+Kr(C,z)/1e7-11644473600)*1e3)}function V(C,z){return m(),x(h.readFileSync(C),z)}function X(C,z){var F=z&&z.type;switch(F||dt&&Buffer.isBuffer(C)&&(F="buffer"),F||"base64"){case"file":return V(C,z);case"base64":return x(gn(ta(C)),z);case"binary":return x(gn(C),z)}return x(C,z)}function Y(C,z){var F=z||{},I=F.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=I+"/",C.FileIndex[0]={name:I,type:5}),F.CLSID&&(C.FileIndex[0].clsid=F.CLSID),te(C)}function te(C){var z="Sh33tJ5";if(!vt.find(C,"/"+z)){var F=ge(4);F[0]=55,F[1]=F[3]=50,F[2]=54,C.FileIndex.push({name:z,type:2,content:F,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+z),J(C)}}function J(C,z){Y(C);for(var F=!1,I=!1,U=C.FullPaths.length-1;U>=0;--U){var W=C.FileIndex[U];switch(W.type){case 0:I?F=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:I=!0,isNaN(W.R*W.L*W.C)&&(F=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(F=!0);break;default:F=!0;break}}if(!(!F&&!z)){var ce=new Date(1987,1,19),be=0,le=Object.create?Object.create(null):{},ue=[];for(U=0;U<C.FullPaths.length;++U)le[C.FullPaths[U]]=!0,C.FileIndex[U].type!==0&&ue.push([C.FullPaths[U],C.FileIndex[U]]);for(U=0;U<ue.length;++U){var he=s(ue[U][0]);I=le[he],I||(ue.push([he,{name:o(he).replace("/",""),type:1,clsid:We,ct:ce,mt:ce,content:null}]),le[he]=!0)}for(ue.sort(function(Be,Ae){return t(Be[0],Ae[0])}),C.FullPaths=[],C.FileIndex=[],U=0;U<ue.length;++U)C.FullPaths[U]=ue[U][0],C.FileIndex[U]=ue[U][1];for(U=0;U<ue.length;++U){var Ee=C.FileIndex[U],Re=C.FullPaths[U];if(Ee.name=o(Re).replace("/",""),Ee.L=Ee.R=Ee.C=-(Ee.color=1),Ee.size=Ee.content?Ee.content.length:0,Ee.start=0,Ee.clsid=Ee.clsid||We,U===0)Ee.C=ue.length>1?1:-1,Ee.size=0,Ee.type=5;else if(Re.slice(-1)=="/"){for(be=U+1;be<ue.length&&s(C.FullPaths[be])!=Re;++be);for(Ee.C=be>=ue.length?-1:be,be=U+1;be<ue.length&&s(C.FullPaths[be])!=s(Re);++be);Ee.R=be>=ue.length?-1:be,Ee.type=1}else s(C.FullPaths[U+1]||"")==s(Re)&&(Ee.R=U+1),Ee.type=2}}}function de(C,z){var F=z||{};if(F.fileType=="mad")return Ka(C,F);switch(J(C),F.fileType){case"zip":return la(C,F)}var I=(function(Be){for(var Ae=0,Ce=0,Ze=0;Ze<Be.FileIndex.length;++Ze){var yt=Be.FileIndex[Ze];if(yt.content){var bt=yt.content.length;bt>0&&(bt<4096?Ae+=bt+63>>6:Ce+=bt+511>>9)}}for(var Rt=Be.FullPaths.length+3>>2,Qa=Ae+7>>3,ca=Ae+127>>7,jn=Qa+Ce+Rt+ca,qt=jn+127>>7,Ai=qt<=109?0:Math.ceil((qt-109)/127);jn+qt+Ai+127>>7>qt;)Ai=++qt<=109?0:Math.ceil((qt-109)/127);var It=[1,Ai,qt,ca,Rt,Ce,Ae,0];return Be.FileIndex[0].size=Ae<<6,It[7]=(Be.FileIndex[0].start=It[0]+It[1]+It[2]+It[3]+It[4]+It[5])+(It[6]+7>>3),It})(C),U=ge(I[7]<<9),W=0,ce=0;{for(W=0;W<8;++W)U.write_shift(1,ke[W]);for(W=0;W<8;++W)U.write_shift(2,0);for(U.write_shift(2,62),U.write_shift(2,3),U.write_shift(2,65534),U.write_shift(2,9),U.write_shift(2,6),W=0;W<3;++W)U.write_shift(2,0);for(U.write_shift(4,0),U.write_shift(4,I[2]),U.write_shift(4,I[0]+I[1]+I[2]+I[3]-1),U.write_shift(4,0),U.write_shift(4,4096),U.write_shift(4,I[3]?I[0]+I[1]+I[2]-1:ie),U.write_shift(4,I[3]),U.write_shift(-4,I[1]?I[0]-1:ie),U.write_shift(4,I[1]),W=0;W<109;++W)U.write_shift(-4,W<I[2]?I[1]+W:-1)}if(I[1])for(ce=0;ce<I[1];++ce){for(;W<236+ce*127;++W)U.write_shift(-4,W<I[2]?I[1]+W:-1);U.write_shift(-4,ce===I[1]-1?ie:ce+1)}var be=function(Be){for(ce+=Be;W<ce-1;++W)U.write_shift(-4,W+1);Be&&(++W,U.write_shift(-4,ie))};for(ce=W=0,ce+=I[1];W<ce;++W)U.write_shift(-4,ye.DIFSECT);for(ce+=I[2];W<ce;++W)U.write_shift(-4,ye.FATSECT);be(I[3]),be(I[4]);for(var le=0,ue=0,he=C.FileIndex[0];le<C.FileIndex.length;++le)he=C.FileIndex[le],he.content&&(ue=he.content.length,!(ue<4096)&&(he.start=ce,be(ue+511>>9)));for(be(I[6]+7>>3);U.l&511;)U.write_shift(-4,ye.ENDOFCHAIN);for(ce=W=0,le=0;le<C.FileIndex.length;++le)he=C.FileIndex[le],he.content&&(ue=he.content.length,!(!ue||ue>=4096)&&(he.start=ce,be(ue+63>>6)));for(;U.l&511;)U.write_shift(-4,ye.ENDOFCHAIN);for(W=0;W<I[4]<<2;++W){var Ee=C.FullPaths[W];if(!Ee||Ee.length===0){for(le=0;le<17;++le)U.write_shift(4,0);for(le=0;le<3;++le)U.write_shift(4,-1);for(le=0;le<12;++le)U.write_shift(4,0);continue}he=C.FileIndex[W],W===0&&(he.start=he.size?he.start-1:ie);var Re=W===0&&F.root||he.name;if(ue=2*(Re.length+1),U.write_shift(64,Re,"utf16le"),U.write_shift(2,ue),U.write_shift(1,he.type),U.write_shift(1,he.color),U.write_shift(-4,he.L),U.write_shift(-4,he.R),U.write_shift(-4,he.C),he.clsid)U.write_shift(16,he.clsid,"hex");else for(le=0;le<4;++le)U.write_shift(4,0);U.write_shift(4,he.state||0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,0),U.write_shift(4,he.start),U.write_shift(4,he.size),U.write_shift(4,0)}for(W=1;W<C.FileIndex.length;++W)if(he=C.FileIndex[W],he.size>=4096)if(U.l=he.start+1<<9,dt&&Buffer.isBuffer(he.content))he.content.copy(U,U.l,0,he.size),U.l+=he.size+511&-512;else{for(le=0;le<he.size;++le)U.write_shift(1,he.content[le]);for(;le&511;++le)U.write_shift(1,0)}for(W=1;W<C.FileIndex.length;++W)if(he=C.FileIndex[W],he.size>0&&he.size<4096)if(dt&&Buffer.isBuffer(he.content))he.content.copy(U,U.l,0,he.size),U.l+=he.size+63&-64;else{for(le=0;le<he.size;++le)U.write_shift(1,he.content[le]);for(;le&63;++le)U.write_shift(1,0)}if(dt)U.l=U.length;else for(;U.l<U.length;)U.write_shift(1,0);return U}function pe(C,z){var F=C.FullPaths.map(function(le){return le.toUpperCase()}),I=F.map(function(le){var ue=le.split("/");return ue[ue.length-(le.slice(-1)=="/"?2:1)]}),U=!1;z.charCodeAt(0)===47?(U=!0,z=F[0].slice(0,-1)+z):U=z.indexOf("/")!==-1;var W=z.toUpperCase(),ce=U===!0?F.indexOf(W):I.indexOf(W);if(ce!==-1)return C.FileIndex[ce];var be=!W.match(dc);for(W=W.replace(wo,""),be&&(W=W.replace(dc,"!")),ce=0;ce<F.length;++ce)if((be?F[ce].replace(dc,"!"):F[ce]).replace(wo,"")==W||(be?I[ce].replace(dc,"!"):I[ce]).replace(wo,"")==W)return C.FileIndex[ce];return null}var q=64,ie=-2,Pe="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],We="00000000000000000000000000000000",ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ie,FREESECT:-1,HEADER_SIGNATURE:Pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:We,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(C,z,F){m();var I=de(C,F);h.writeFileSync(z,I)}function re(C){for(var z=new Array(C.length),F=0;F<C.length;++F)z[F]=String.fromCharCode(C[F]);return z.join("")}function B(C,z){var F=de(C,z);switch(z&&z.type||"buffer"){case"file":return m(),h.writeFileSync(z.filename,F),F;case"binary":return typeof F=="string"?F:re(F);case"base64":return Fo(typeof F=="string"?F:re(F));case"buffer":if(dt)return Buffer.isBuffer(F)?F:aa(F);case"array":return typeof F=="string"?gn(F):F}return F}var R;function A(C){try{var z=C.InflateRaw,F=new z;if(F._processChunk(new Uint8Array([3,0]),F._finishFlushFlag),F.bytesRead)R=C;else throw new Error("zlib does not expose bytesRead")}catch(I){console.error("cannot use native zlib: "+(I.message||I))}}function O(C,z){if(!R)return ks(C,z);var F=R.InflateRaw,I=new F,U=I._processChunk(C.slice(C.l),I._finishFlushFlag);return C.l+=I.bytesRead,U}function E(C){return R?R.deflateRawSync(C):sa(C)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(C){var z=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(z>>16|z>>8|z)&255}for(var ne=typeof Uint8Array!="undefined",fe=ne?new Uint8Array(256):[],_e=0;_e<256;++_e)fe[_e]=ee(_e);function Me(C,z){var F=fe[C&255];return z<=8?F>>>8-z:(F=F<<8|fe[C>>8&255],z<=16?F>>>16-z:(F=F<<8|fe[C>>16&255],F>>>24-z))}function Ke(C,z){var F=z&7,I=z>>>3;return(C[I]|(F<=6?0:C[I+1]<<8))>>>F&3}function Ve(C,z){var F=z&7,I=z>>>3;return(C[I]|(F<=5?0:C[I+1]<<8))>>>F&7}function xe(C,z){var F=z&7,I=z>>>3;return(C[I]|(F<=4?0:C[I+1]<<8))>>>F&15}function je(C,z){var F=z&7,I=z>>>3;return(C[I]|(F<=3?0:C[I+1]<<8))>>>F&31}function H(C,z){var F=z&7,I=z>>>3;return(C[I]|(F<=1?0:C[I+1]<<8))>>>F&127}function ve(C,z,F){var I=z&7,U=z>>>3,W=(1<<F)-1,ce=C[U]>>>I;return F<8-I||(ce|=C[U+1]<<8-I,F<16-I)||(ce|=C[U+2]<<16-I,F<24-I)||(ce|=C[U+3]<<24-I),ce&W}function Ge(C,z,F){var I=z&7,U=z>>>3;return I<=5?C[U]|=(F&7)<<I:(C[U]|=F<<I&255,C[U+1]=(F&7)>>8-I),z+3}function nt(C,z,F){var I=z&7,U=z>>>3;return F=(F&1)<<I,C[U]|=F,z+1}function tt(C,z,F){var I=z&7,U=z>>>3;return F<<=I,C[U]|=F&255,F>>>=8,C[U+1]=F,z+8}function et(C,z,F){var I=z&7,U=z>>>3;return F<<=I,C[U]|=F&255,F>>>=8,C[U+1]=F&255,C[U+2]=F>>>8,z+16}function vr(C,z){var F=C.length,I=2*F>z?2*F:z+5,U=0;if(F>=z)return C;if(dt){var W=mx(I);if(C.copy)C.copy(W);else for(;U<C.length;++U)W[U]=C[U];return W}else if(ne){var ce=new Uint8Array(I);if(ce.set)ce.set(C);else for(;U<F;++U)ce[U]=C[U];return ce}return C.length=I,C}function dr(C){for(var z=new Array(C),F=0;F<C;++F)z[F]=0;return z}function _n(C,z,F){var I=1,U=0,W=0,ce=0,be=0,le=C.length,ue=ne?new Uint16Array(32):dr(32);for(W=0;W<32;++W)ue[W]=0;for(W=le;W<F;++W)C[W]=0;le=C.length;var he=ne?new Uint16Array(le):dr(le);for(W=0;W<le;++W)ue[U=C[W]]++,I<U&&(I=U),he[W]=0;for(ue[0]=0,W=1;W<=I;++W)ue[W+16]=be=be+ue[W-1]<<1;for(W=0;W<le;++W)be=C[W],be!=0&&(he[W]=ue[be+16]++);var Ee=0;for(W=0;W<le;++W)if(Ee=C[W],Ee!=0)for(be=Me(he[W],I)>>I-Ee,ce=(1<<I+4-Ee)-1;ce>=0;--ce)z[be|ce<<Ee]=Ee&15|W<<4;return I}var Ss=ne?new Uint16Array(512):dr(512),Ya=ne?new Uint16Array(32):dr(32);if(!ne){for(var Jr=0;Jr<512;++Jr)Ss[Jr]=0;for(Jr=0;Jr<32;++Jr)Ya[Jr]=0}(function(){for(var C=[],z=0;z<32;z++)C.push(5);_n(C,Ya,32);var F=[];for(z=0;z<=143;z++)F.push(8);for(;z<=255;z++)F.push(9);for(;z<=279;z++)F.push(7);for(;z<=287;z++)F.push(8);_n(F,Ss,288)})();var qo=(function(){for(var z=ne?new Uint8Array(32768):[],F=0,I=0;F<se.length-1;++F)for(;I<se[F+1];++I)z[I]=F;for(;I<32768;++I)z[I]=29;var U=ne?new Uint8Array(259):[];for(F=0,I=0;F<K.length-1;++F)for(;I<K[F+1];++I)U[I]=F;function W(be,le){for(var ue=0;ue<be.length;){var he=Math.min(65535,be.length-ue),Ee=ue+he==be.length;for(le.write_shift(1,+Ee),le.write_shift(2,he),le.write_shift(2,~he&65535);he-- >0;)le[le.l++]=be[ue++]}return le.l}function ce(be,le){for(var ue=0,he=0,Ee=ne?new Uint16Array(32768):[];he<be.length;){var Re=Math.min(65535,be.length-he);if(Re<10){for(ue=Ge(le,ue,+(he+Re==be.length)),ue&7&&(ue+=8-(ue&7)),le.l=ue/8|0,le.write_shift(2,Re),le.write_shift(2,~Re&65535);Re-- >0;)le[le.l++]=be[he++];ue=le.l*8;continue}ue=Ge(le,ue,+(he+Re==be.length)+2);for(var Be=0;Re-- >0;){var Ae=be[he];Be=(Be<<5^Ae)&32767;var Ce=-1,Ze=0;if((Ce=Ee[Be])&&(Ce|=he&-32768,Ce>he&&(Ce-=32768),Ce<he))for(;be[Ce+Ze]==be[he+Ze]&&Ze<250;)++Ze;if(Ze>2){Ae=U[Ze],Ae<=22?ue=tt(le,ue,fe[Ae+1]>>1)-1:(tt(le,ue,3),ue+=5,tt(le,ue,fe[Ae-23]>>5),ue+=3);var yt=Ae<8?0:Ae-4>>2;yt>0&&(et(le,ue,Ze-K[Ae]),ue+=yt),Ae=z[he-Ce],ue=tt(le,ue,fe[Ae]>>3),ue-=3;var bt=Ae<4?0:Ae-2>>1;bt>0&&(et(le,ue,he-Ce-se[Ae]),ue+=bt);for(var Rt=0;Rt<Ze;++Rt)Ee[Be]=he&32767,Be=(Be<<5^be[he])&32767,++he;Re-=Ze-1}else Ae<=143?Ae=Ae+48:ue=nt(le,ue,1),ue=tt(le,ue,fe[Ae]),Ee[Be]=he&32767,++he}ue=tt(le,ue,0)-1}return le.l=(ue+7)/8|0,le.l}return function(le,ue){return le.length<8?W(le,ue):ce(le,ue)}})();function sa(C){var z=ge(50+Math.floor(C.length*1.1)),F=qo(C,z);return z.slice(0,F)}var ia=ne?new Uint16Array(32768):dr(32768),Qo=ne?new Uint16Array(32768):dr(32768),ji=ne?new Uint16Array(128):dr(128),Si=1,Jo=1;function ki(C,z){var F=je(C,z)+257;z+=5;var I=je(C,z)+1;z+=5;var U=xe(C,z)+4;z+=4;for(var W=0,ce=ne?new Uint8Array(19):dr(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ue=ne?new Uint8Array(8):dr(8),he=ne?new Uint8Array(8):dr(8),Ee=ce.length,Re=0;Re<U;++Re)ce[D[Re]]=W=Ve(C,z),le<W&&(le=W),ue[W]++,z+=3;var Be=0;for(ue[0]=0,Re=1;Re<=le;++Re)he[Re]=Be=Be+ue[Re-1]<<1;for(Re=0;Re<Ee;++Re)(Be=ce[Re])!=0&&(be[Re]=he[Be]++);var Ae=0;for(Re=0;Re<Ee;++Re)if(Ae=ce[Re],Ae!=0){Be=fe[be[Re]]>>8-Ae;for(var Ce=(1<<7-Ae)-1;Ce>=0;--Ce)ji[Be|Ce<<Ae]=Ae&7|Re<<3}var Ze=[];for(le=1;Ze.length<F+I;)switch(Be=ji[H(C,z)],z+=Be&7,Be>>>=3){case 16:for(W=3+Ke(C,z),z+=2,Be=Ze[Ze.length-1];W-- >0;)Ze.push(Be);break;case 17:for(W=3+Ve(C,z),z+=3;W-- >0;)Ze.push(0);break;case 18:for(W=11+H(C,z),z+=7;W-- >0;)Ze.push(0);break;default:Ze.push(Be),le<Be&&(le=Be);break}var yt=Ze.slice(0,F),bt=Ze.slice(F);for(Re=F;Re<286;++Re)yt[Re]=0;for(Re=I;Re<30;++Re)bt[Re]=0;return Si=_n(yt,ia,286),Jo=_n(bt,Qo,30),z}function Ei(C,z){if(C[0]==3&&!(C[1]&3))return[gs(z),2];for(var F=0,I=0,U=mx(z||1<<18),W=0,ce=U.length>>>0,be=0,le=0;(I&1)==0;){if(I=Ve(C,F),F+=3,I>>>1)I>>1==1?(be=9,le=5):(F=ki(C,F),be=Si,le=Jo);else{F&7&&(F+=8-(F&7));var ue=C[F>>>3]|C[(F>>>3)+1]<<8;if(F+=32,ue>0)for(!z&&ce<W+ue&&(U=vr(U,W+ue),ce=U.length);ue-- >0;)U[W++]=C[F>>>3],F+=8;continue}for(;;){!z&&ce<W+32767&&(U=vr(U,W+32767),ce=U.length);var he=ve(C,F,be),Ee=I>>>1==1?Ss[he]:ia[he];if(F+=Ee&15,Ee>>>=4,(Ee>>>8&255)===0)U[W++]=Ee;else{if(Ee==256)break;Ee-=257;var Re=Ee<8?0:Ee-4>>2;Re>5&&(Re=0);var Be=W+K[Ee];Re>0&&(Be+=ve(C,F,Re),F+=Re),he=ve(C,F,le),Ee=I>>>1==1?Ya[he]:Qo[he],F+=Ee&15,Ee>>>=4;var Ae=Ee<4?0:Ee-2>>1,Ce=se[Ee];for(Ae>0&&(Ce+=ve(C,F,Ae),F+=Ae),!z&&ce<Be&&(U=vr(U,Be+100),ce=U.length);W<Be;)U[W]=U[W-Ce],++W}}}return z?[U,F+7>>>3]:[U.slice(0,W),F+7>>>3]}function ks(C,z){var F=C.slice(C.l||0),I=Ei(F,z);return C.l+=I[1],I[0]}function Es(C,z){if(C)typeof console!="undefined"&&console.error(z);else throw new Error(z)}function Ts(C,z){var F=C;Yr(F,0);var I=[],U=[],W={FileIndex:I,FullPaths:U};Y(W,{root:z.root});for(var ce=F.length-4;(F[ce]!=80||F[ce+1]!=75||F[ce+2]!=5||F[ce+3]!=6)&&ce>=0;)--ce;F.l=ce+4,F.l+=4;var be=F.read_shift(2);F.l+=6;var le=F.read_shift(4);for(F.l=le,ce=0;ce<be;++ce){F.l+=20;var ue=F.read_shift(4),he=F.read_shift(4),Ee=F.read_shift(2),Re=F.read_shift(2),Be=F.read_shift(2);F.l+=8;var Ae=F.read_shift(4),Ce=f(F.slice(F.l+Ee,F.l+Ee+Re));F.l+=Ee+Re+Be;var Ze=F.l;F.l=Ae+4,oa(F,ue,he,W,Ce),F.l=Ze}return W}function oa(C,z,F,I,U){C.l+=2;var W=C.read_shift(2),ce=C.read_shift(2),be=u(C);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var le=C.read_shift(4),ue=C.read_shift(4),he=C.read_shift(4),Ee=C.read_shift(2),Re=C.read_shift(2),Be="",Ae=0;Ae<Ee;++Ae)Be+=String.fromCharCode(C[C.l++]);if(Re){var Ce=f(C.slice(C.l,C.l+Re));(Ce[21589]||{}).mt&&(be=Ce[21589].mt),((U||{})[21589]||{}).mt&&(be=U[21589].mt)}C.l+=Re;var Ze=C.slice(C.l,C.l+ue);switch(ce){case 8:Ze=O(C,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var yt=!1;W&8&&(le=C.read_shift(4),le==134695760&&(le=C.read_shift(4),yt=!0),ue=C.read_shift(4),he=C.read_shift(4)),ue!=z&&Es(yt,"Bad compressed size: "+z+" != "+ue),he!=F&&Es(yt,"Bad uncompressed size: "+F+" != "+he),Bn(I,Be,Ze,{unsafe:!0,mt:be})}function la(C,z){var F=z||{},I=[],U=[],W=ge(1),ce=F.compression?8:0,be=0,le=0,ue=0,he=0,Ee=0,Re=C.FullPaths[0],Be=Re,Ae=C.FileIndex[0],Ce=[],Ze=0;for(le=1;le<C.FullPaths.length;++le)if(Be=C.FullPaths[le].slice(Re.length),Ae=C.FileIndex[le],!(!Ae.size||!Ae.content||Be=="Sh33tJ5")){var yt=he,bt=ge(Be.length);for(ue=0;ue<Be.length;++ue)bt.write_shift(1,Be.charCodeAt(ue)&127);bt=bt.slice(0,bt.l),Ce[Ee]=y3.buf(Ae.content,0);var Rt=Ae.content;ce==8&&(Rt=E(Rt)),W=ge(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,be),W.write_shift(2,ce),Ae.mt?l(W,Ae.mt):W.write_shift(4,0),W.write_shift(-4,Ce[Ee]),W.write_shift(4,Rt.length),W.write_shift(4,Ae.content.length),W.write_shift(2,bt.length),W.write_shift(2,0),he+=W.length,I.push(W),he+=bt.length,I.push(bt),he+=Rt.length,I.push(Rt),W=ge(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,be),W.write_shift(2,ce),W.write_shift(4,0),W.write_shift(-4,Ce[Ee]),W.write_shift(4,Rt.length),W.write_shift(4,Ae.content.length),W.write_shift(2,bt.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,yt),Ze+=W.l,U.push(W),Ze+=bt.length,U.push(bt),++Ee}return W=ge(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Ee),W.write_shift(2,Ee),W.write_shift(4,Ze),W.write_shift(4,he),W.write_shift(2,0),or([or(I),or(U),W])}var Xa={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zo(C,z){if(C.ctype)return C.ctype;var F=C.name||"",I=F.match(/\.([^\.]+)$/);return I&&Xa[I[1]]||z&&(I=(F=z).match(/[\.\\]([^\.\\])+$/),I&&Xa[I[1]])?Xa[I[1]]:"application/octet-stream"}function el(C){for(var z=Fo(C),F=[],I=0;I<z.length;I+=76)F.push(z.slice(I,I+76));return F.join(`\r
`)+`\r
`}function tl(C){var z=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var he=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(he.length==1?"0"+he:he)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var F=[],I=z.split(`\r
`),U=0;U<I.length;++U){var W=I[U];if(W.length==0){F.push("");continue}for(var ce=0;ce<W.length;){var be=76,le=W.slice(ce,ce+be);le.charAt(be-1)=="="?be--:le.charAt(be-2)=="="?be-=2:le.charAt(be-3)=="="&&(be-=3),le=W.slice(ce,ce+be),ce+=be,ce<W.length&&(le+="="),F.push(le)}}return F.join(`\r
`)}function rl(C){for(var z=[],F=0;F<C.length;++F){for(var I=C[F];F<=C.length&&I.charAt(I.length-1)=="=";)I=I.slice(0,I.length-1)+C[++F];z.push(I)}for(var U=0;U<z.length;++U)z[U]=z[U].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return gn(z.join(`\r
`))}function Ti(C,z,F){for(var I="",U="",W="",ce,be=0;be<10;++be){var le=z[be];if(!le||le.match(/^\s*$/))break;var ue=le.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":I=ue[2].trim();break;case"content-type":W=ue[2].trim();break;case"content-transfer-encoding":U=ue[2].trim();break}}switch(++be,U.toLowerCase()){case"base64":ce=gn(ta(z.slice(be).join("")));break;case"quoted-printable":ce=rl(z.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+U)}var he=Bn(C,I.slice(F.length),ce,{unsafe:!0});W&&(he.ctype=W)}function nl(C,z){if(re(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var F=z&&z.root||"",I=(dt&&Buffer.isBuffer(C)?C.toString("binary"):re(C)).split(`\r
`),U=0,W="";for(U=0;U<I.length;++U)if(W=I[U],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),F||(F=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,F.length)!=F))for(;F.length>0&&(F=F.slice(0,F.length-1),F=F.slice(0,F.lastIndexOf("/")+1),W.slice(0,F.length)!=F););var ce=(I[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var be="--"+(ce[1]||""),le=[],ue=[],he={FileIndex:le,FullPaths:ue};Y(he);var Ee,Re=0;for(U=0;U<I.length;++U){var Be=I[U];Be!==be&&Be!==be+"--"||(Re++&&Ti(he,I.slice(Ee,U),F),Ee=U)}return he}function Ka(C,z){var F=z||{},I=F.boundary||"SheetJS";I="------="+I;for(var U=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+I.slice(2)+'"',"","",""],W=C.FullPaths[0],ce=W,be=C.FileIndex[0],le=1;le<C.FullPaths.length;++le)if(ce=C.FullPaths[le].slice(W.length),be=C.FileIndex[le],!(!be.size||!be.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var ue=be.content,he=dt&&Buffer.isBuffer(ue)?ue.toString("binary"):re(ue),Ee=0,Re=Math.min(1024,he.length),Be=0,Ae=0;Ae<=Re;++Ae)(Be=he.charCodeAt(Ae))>=32&&Be<128&&++Ee;var Ce=Ee>=Re*4/5;U.push(I),U.push("Content-Location: "+(F.root||"file:///C:/SheetJS/")+ce),U.push("Content-Transfer-Encoding: "+(Ce?"quoted-printable":"base64")),U.push("Content-Type: "+Zo(be,ce)),U.push(""),U.push(Ce?tl(he):el(he))}return U.push(I+`--\r
`),U.join(`\r
`)}function Ci(C){var z={};return Y(z,C),z}function Bn(C,z,F,I){var U=I&&I.unsafe;U||Y(C);var W=!U&&vt.find(C,z);if(!W){var ce=C.FullPaths[0];z.slice(0,ce.length)==ce?ce=z:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+z).replace("//","/")),W={name:o(z),type:2},C.FileIndex.push(W),C.FullPaths.push(ce),U||vt.utils.cfb_gc(C)}return W.content=F,W.size=F?F.length:0,I&&(I.CLSID&&(W.clsid=I.CLSID),I.mt&&(W.mt=I.mt),I.ct&&(W.ct=I.ct)),W}function t0(C,z){Y(C);var F=vt.find(C,z);if(F){for(var I=0;I<C.FileIndex.length;++I)if(C.FileIndex[I]==F)return C.FileIndex.splice(I,1),C.FullPaths.splice(I,1),!0}return!1}function qa(C,z,F){Y(C);var I=vt.find(C,z);if(I){for(var U=0;U<C.FileIndex.length;++U)if(C.FileIndex[U]==I)return C.FileIndex[U].name=o(F),C.FullPaths[U]=F,!0}return!1}function Cs(C){J(C,!0)}return r.find=pe,r.read=X,r.parse=x,r.write=B,r.writeFile=L,r.utils={cfb_new:Ci,cfb_add:Bn,cfb_del:t0,cfb_mov:qa,cfb_gc:Cs,ReadShift:_o,CheckField:hg,prep_blob:Yr,bconcat:or,use_zlib:A,_deflateRaw:sa,_inflateRaw:ks,consts:ye},r})();function b3(e){return typeof e=="string"?Gc(e):Array.isArray(e)?G4(e):e}function Wo(e,r,t){if(typeof Deno!="undefined"){if(t&&typeof r=="string")switch(t){case"utf8":r=new TextEncoder(t).encode(r);break;case"binary":r=Gc(r);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,r)}var s=t=="utf8"?Mo(r):r;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(s,e);if(typeof Blob!="undefined"){var o=new Blob([b3(s)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(o,e);if(typeof saveAs!="undefined")return saveAs(o,e);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(o);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:e,saveAs:!0});var u=document.createElement("a");if(u.download!=null)return u.download=e,u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var f=File(e);return f.open("w"),f.encoding="binary",Array.isArray(r)&&(r=Uo(r)),f.write(r),f.close(),r}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+e)}function ur(e){for(var r=Object.keys(e),t=[],s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(e,r[s])&&t.push(r[s]);return t}function Nx(e,r){for(var t=[],s=ur(e),o=0;o!==s.length;++o)t[e[s[o]][r]]==null&&(t[e[s[o]][r]]=s[o]);return t}function Id(e){for(var r=[],t=ur(e),s=0;s!==t.length;++s)r[e[t[s]]]=t[s];return r}function Kc(e){for(var r=[],t=ur(e),s=0;s!==t.length;++s)r[e[t[s]]]=parseInt(t[s],10);return r}function w3(e){for(var r=[],t=ur(e),s=0;s!==t.length;++s)r[e[t[s]]]==null&&(r[e[t[s]]]=[]),r[e[t[s]]].push(t[s]);return r}var Pc=new Date(1899,11,30,0,0,0);function zr(e,r){var t=e.getTime(),s=Pc.getTime()+(e.getTimezoneOffset()-Pc.getTimezoneOffset())*6e4;return(t-s)/(1440*60*1e3)}var qp=new Date,N3=Pc.getTime()+(qp.getTimezoneOffset()-Pc.getTimezoneOffset())*6e4,_x=qp.getTimezoneOffset();function Qp(e){var r=new Date;return r.setTime(e*24*60*60*1e3+N3),r.getTimezoneOffset()!==_x&&r.setTime(r.getTime()+(r.getTimezoneOffset()-_x)*6e4),r}var jx=new Date("2017-02-19T19:06:09.000Z"),Jp=isNaN(jx.getFullYear())?new Date("2/19/17"):jx,_3=Jp.getFullYear()==2017;function Er(e,r){var t=new Date(e);if(_3)return r>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):r<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(e instanceof Date)return e;if(Jp.getFullYear()==1917&&!isNaN(t.getFullYear())){var s=t.getFullYear();return e.indexOf(""+s)>-1||t.setFullYear(t.getFullYear()+100),t}var o=e.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+o[0],+o[1]-1,+o[2],+o[3]||0,+o[4]||0,+o[5]||0);return e.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function qc(e,r){if(dt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder!="undefined")try{var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(l){return t[l]||l})}catch{}for(var s=[],o=0;o!=e.length;++o)s.push(String.fromCharCode(e[o]));return s.join("")}function Ur(e){if(typeof JSON!="undefined"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=Ur(e[t]));return r}function Ot(e,r){for(var t="";t.length<r;)t+=e;return t}function Jn(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var t=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(r=Number(s))||(s=s.replace(/[(](.*)[)]/,function(o,l){return t=-t,l}),!isNaN(r=Number(s)))?r/t:r}var j3=["january","february","march","april","may","june","july","august","september","october","november","december"];function Oo(e){var r=new Date(e),t=new Date(NaN),s=r.getYear(),o=r.getMonth(),l=r.getDate();if(isNaN(l))return t;var u=e.toLowerCase();if(u.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(u=u.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),u.length>3&&j3.indexOf(u)==-1)return t}else if(u.match(/[a-z]/))return t;return s<0||s>8099?t:(o>0||l>1)&&s!=101?r:e.match(/[^-0-9:,\/\\]/)?t:r}function rt(e,r,t){if(e.FullPaths){if(typeof t=="string"){var s;return dt?s=aa(t):s=Y4(t),vt.utils.cfb_add(e,r,s)}vt.utils.cfb_add(e,r,t)}else e.file(r,t)}function Ld(){return vt.utils.cfb_new()}var Vt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,S3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Bd=Id(S3),zd=/[&<>'"]/g,k3=/[\u0000-\u0008\u000b-\u001f]/g;function pt(e){var r=e+"";return r.replace(zd,function(t){return Bd[t]}).replace(k3,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Sx(e){return pt(e).replace(/ /g,"_x0020_")}var Zp=/[\u0000-\u001f]/g;function E3(e){var r=e+"";return r.replace(zd,function(t){return Bd[t]}).replace(/\n/g,"<br/>").replace(Zp,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function T3(e){var r=e+"";return r.replace(zd,function(t){return Bd[t]}).replace(Zp,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function C3(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function A3(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Gu(e){for(var r="",t=0,s=0,o=0,l=0,u=0,f=0;t<e.length;){if(s=e.charCodeAt(t++),s<128){r+=String.fromCharCode(s);continue}if(o=e.charCodeAt(t++),s>191&&s<224){u=(s&31)<<6,u|=o&63,r+=String.fromCharCode(u);continue}if(l=e.charCodeAt(t++),s<240){r+=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63);continue}u=e.charCodeAt(t++),f=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536,r+=String.fromCharCode(55296+(f>>>10&1023)),r+=String.fromCharCode(56320+(f&1023))}return r}function kx(e){var r=gs(2*e.length),t,s,o=1,l=0,u=0,f;for(s=0;s<e.length;s+=o)o=1,(f=e.charCodeAt(s))<128?t=f:f<224?(t=(f&31)*64+(e.charCodeAt(s+1)&63),o=2):f<240?(t=(f&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),o=3):(o=4,t=(f&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),t-=65536,u=55296+(t>>>10&1023),t=56320+(t&1023)),u!==0&&(r[l++]=u&255,r[l++]=u>>>8,u=0),r[l++]=t%256,r[l++]=t>>>8;return r.slice(0,l).toString("ucs2")}function Ex(e){return aa(e,"binary").toString("utf8")}var hc="foo bar bazâð£",No=dt&&(Ex(hc)==Gu(hc)&&Ex||kx(hc)==Gu(hc)&&kx)||Gu,Mo=dt?function(e){return aa(e,"utf8").toString("binary")}:function(e){for(var r=[],t=0,s=0,o=0;t<e.length;)switch(s=e.charCodeAt(t++),!0){case s<128:r.push(String.fromCharCode(s));break;case s<2048:r.push(String.fromCharCode(192+(s>>6))),r.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,o=e.charCodeAt(t++)-56320+(s<<10),r.push(String.fromCharCode(240+(o>>18&7))),r.push(String.fromCharCode(144+(o>>12&63))),r.push(String.fromCharCode(128+(o>>6&63))),r.push(String.fromCharCode(128+(o&63)));break;default:r.push(String.fromCharCode(224+(s>>12))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)))}return r.join("")},D3=(function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(t){for(var s=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),o=0;o<e.length;++o)s=s.replace(e[o][0],e[o][1]);return s}})(),eg=/(^\s|\s$|\n)/;function lr(e,r){return"<"+e+(r.match(eg)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function Ro(e){return ur(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function Fe(e,r,t){return"<"+e+(t!=null?Ro(t):"")+(r!=null?(r.match(eg)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function hd(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(r)throw t}return""}function P3(e,r){switch(typeof e){case"string":var t=Fe("vt:lpwstr",pt(e));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Fe((e|0)==e?"vt:i4":"vt:r8",pt(String(e)));case"boolean":return Fe("vt:bool",e?"true":"false")}if(e instanceof Date)return Fe("vt:filetime",hd(e));throw new Error("Unable to serialize "+e)}var er={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bi=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function F3(e,r){for(var t=1-2*(e[r+7]>>>7),s=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),o=e[r+6]&15,l=5;l>=0;--l)o=o*256+e[r+l];return s==2047?o==0?t*(1/0):NaN:(s==0?s=-1022:(s-=1023,o+=Math.pow(2,52)),t*Math.pow(2,s-52)*o)}function O3(e,r,t){var s=(r<0||1/r==-1/0?1:0)<<7,o=0,l=0,u=s?-r:r;isFinite(u)?u==0?o=l=0:(o=Math.floor(Math.log(u)/Math.LN2),l=u*Math.pow(2,52-o),o<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?o=-1022:(l-=Math.pow(2,52),o+=1023)):(o=2047,l=isNaN(r)?26985:0);for(var f=0;f<=5;++f,l/=256)e[t+f]=l&255;e[t+6]=(o&15)<<4|l&15,e[t+7]=o>>4|s}var Tx=function(e){for(var r=[],t=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var o=0,l=e[0][s].length;o<l;o+=t)r.push.apply(r,e[0][s].slice(o,o+t));return r},Cx=dt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:aa(r)})):Tx(e)}:Tx,Ax=function(e,r,t){for(var s=[],o=r;o<t;o+=2)s.push(String.fromCharCode(go(e,o)));return s.join("").replace(wo,"")},Ud=dt?function(e,r,t){return Buffer.isBuffer(e)?e.toString("utf16le",r,t).replace(wo,""):Ax(e,r,t)}:Ax,Dx=function(e,r,t){for(var s=[],o=r;o<r+t;++o)s.push(("0"+e[o].toString(16)).slice(-2));return s.join("")},tg=dt?function(e,r,t){return Buffer.isBuffer(e)?e.toString("hex",r,r+t):Dx(e,r,t)}:Dx,Px=function(e,r,t){for(var s=[],o=r;o<t;o++)s.push(String.fromCharCode(si(e,o)));return s.join("")},$o=dt?function(r,t,s){return Buffer.isBuffer(r)?r.toString("utf8",t,s):Px(r,t,s)}:Px,rg=function(e,r){var t=Kr(e,r);return t>0?$o(e,r+4,r+4+t-1):""},ng=rg,ag=function(e,r){var t=Kr(e,r);return t>0?$o(e,r+4,r+4+t-1):""},sg=ag,ig=function(e,r){var t=2*Kr(e,r);return t>0?$o(e,r+4,r+4+t-1):""},og=ig,lg=function(r,t){var s=Kr(r,t);return s>0?Ud(r,t+4,t+4+s):""},cg=lg,ug=function(e,r){var t=Kr(e,r);return t>0?$o(e,r+4,r+4+t):""},dg=ug,fg=function(e,r){return F3(e,r)},Fc=fg,Wd=function(r){return Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array};dt&&(ng=function(r,t){if(!Buffer.isBuffer(r))return rg(r,t);var s=r.readUInt32LE(t);return s>0?r.toString("utf8",t+4,t+4+s-1):""},sg=function(r,t){if(!Buffer.isBuffer(r))return ag(r,t);var s=r.readUInt32LE(t);return s>0?r.toString("utf8",t+4,t+4+s-1):""},og=function(r,t){if(!Buffer.isBuffer(r))return ig(r,t);var s=2*r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+s-1)},cg=function(r,t){if(!Buffer.isBuffer(r))return lg(r,t);var s=r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+s)},dg=function(r,t){if(!Buffer.isBuffer(r))return ug(r,t);var s=r.readUInt32LE(t);return r.toString("utf8",t+4,t+4+s)},Fc=function(r,t){return Buffer.isBuffer(r)?r.readDoubleLE(t):fg(r,t)},Wd=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array});var si=function(e,r){return e[r]},go=function(e,r){return e[r+1]*256+e[r]},M3=function(e,r){var t=e[r+1]*256+e[r];return t<32768?t:(65535-t+1)*-1},Kr=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},ds=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},R3=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function _o(e,r){var t="",s,o,l=[],u,f,h,m;switch(r){case"dbcs":if(m=this.l,dt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(h=0;h<e;++h)t+=String.fromCharCode(go(this,m)),m+=2;e*=2;break;case"utf8":t=$o(this,this.l,this.l+e);break;case"utf16le":e*=2,t=Ud(this,this.l,this.l+e);break;case"wstr":return _o.call(this,e,"dbcs");case"lpstr-ansi":t=ng(this,this.l),e=4+Kr(this,this.l);break;case"lpstr-cp":t=sg(this,this.l),e=4+Kr(this,this.l);break;case"lpwstr":t=og(this,this.l),e=4+2*Kr(this,this.l);break;case"lpp4":e=4+Kr(this,this.l),t=cg(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Kr(this,this.l),t=dg(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,t="";(u=si(this,this.l+e++))!==0;)l.push(uc(u));t=l.join("");break;case"_wstr":for(e=0,t="";(u=go(this,this.l+e))!==0;)l.push(uc(u)),e+=2;e+=2,t=l.join("");break;case"dbcs-cont":for(t="",m=this.l,h=0;h<e;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return u=si(this,m),this.l=m+1,f=_o.call(this,e-h,u?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(uc(go(this,m))),m+=2}t=l.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(t="",m=this.l,h=0;h!=e;++h){if(this.lens&&this.lens.indexOf(m)!==-1)return u=si(this,m),this.l=m+1,f=_o.call(this,e-h,u?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(uc(si(this,m))),m+=1}t=l.join("");break;default:switch(e){case 1:return s=si(this,this.l),this.l++,s;case 2:return s=(r==="i"?M3:go)(this,this.l),this.l+=2,s;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(s=(e>0?ds:R3)(this,this.l),this.l+=4,s):(o=Kr(this,this.l),this.l+=4,o);case 8:case-8:if(r==="f")return e==8?o=Fc(this,this.l):o=Fc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,o;e=8;case 16:t=tg(this,this.l,e);break}}return this.l+=e,t}var I3=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24&255},L3=function(e,r,t){e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},B3=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255};function z3(e,r,t){var s=0,o=0;if(t==="dbcs"){for(o=0;o!=r.length;++o)B3(this,r.charCodeAt(o),this.l+2*o);s=2*r.length}else if(t==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),o=0;o!=r.length;++o)this[this.l+o]=r.charCodeAt(o)&255;s=r.length}else if(t==="hex"){for(;o<e;++o)this[this.l++]=parseInt(r.slice(2*o,2*o+2),16)||0;return this}else if(t==="utf16le"){var l=Math.min(this.l+e,this.length);for(o=0;o<Math.min(r.length,e);++o){var u=r.charCodeAt(o);this[this.l++]=u&255,this[this.l++]=u>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=r&255;break;case 2:s=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:s=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:s=4,I3(this,r,this.l);break;case 8:if(s=8,t==="f"){O3(this,r,this.l);break}case 16:break;case-4:s=4,L3(this,r,this.l);break}return this.l+=s,this}function hg(e,r){var t=tg(this,this.l,e.length>>1);if(t!==e)throw new Error(r+"Expected "+e+" saw "+t);this.l+=e.length>>1}function Yr(e,r){e.l=r,e.read_shift=_o,e.chk=hg,e.write_shift=z3}function In(e,r){e.l+=r}function ge(e){var r=gs(e);return Yr(r,0),r}function Br(){var e=[],r=dt?256:2048,t=function(m){var x=ge(m);return Yr(x,0),x},s=t(r),o=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},l=function(m){return s&&m<s.length-s.l?s:(o(),s=t(Math.max(m+1,r)))},u=function(){return o(),or(e)},f=function(m){o(),s=m,s.l==null&&(s.l=s.length),l(r)};return{next:l,push:f,end:u,_bufs:e}}function we(e,r,t,s){var o=+r,l;if(!isNaN(o)){s||(s=Fk[o].p||(t||[]).length||0),l=1+(o>=128?1:0)+1,s>=128&&++l,s>=16384&&++l,s>=2097152&&++l;var u=e.next(l);o<=127?u.write_shift(1,o):(u.write_shift(1,(o&127)+128),u.write_shift(1,o>>7));for(var f=0;f!=4;++f)if(s>=128)u.write_shift(1,(s&127)+128),s>>=7;else{u.write_shift(1,s);break}s>0&&Wd(t)&&e.push(t)}}function jo(e,r,t){var s=Ur(e);if(r.s?(s.cRel&&(s.c+=r.s.c),s.rRel&&(s.r+=r.s.r)):(s.cRel&&(s.c+=r.c),s.rRel&&(s.r+=r.r)),!t||t.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function Fx(e,r,t){var s=Ur(e);return s.s=jo(s.s,r.s,t),s.e=jo(s.e,r.s,t),s}function So(e,r){if(e.cRel&&e.c<0)for(e=Ur(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=Ur(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var t=gt(e);return!e.cRel&&e.cRel!=null&&(t=$3(t)),!e.rRel&&e.rRel!=null&&(t=U3(t)),t}function Yu(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+pr(e.s.c)+":"+(e.e.cRel?"":"$")+pr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+cr(e.s.r)+":"+(e.e.rRel?"":"$")+cr(e.e.r):So(e.s,r.biff)+":"+So(e.e,r.biff)}function $d(e){return parseInt(W3(e),10)-1}function cr(e){return""+(e+1)}function U3(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function W3(e){return e.replace(/\$(\d+)$/,"$1")}function Hd(e){for(var r=H3(e),t=0,s=0;s!==r.length;++s)t=26*t+r.charCodeAt(s)-64;return t-1}function pr(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function $3(e){return e.replace(/^([A-Z])/,"$$$1")}function H3(e){return e.replace(/^\$([A-Z])/,"$1")}function V3(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function tr(e){for(var r=0,t=0,s=0;s<e.length;++s){var o=e.charCodeAt(s);o>=48&&o<=57?r=10*r+(o-48):o>=65&&o<=90&&(t=26*t+(o-64))}return{c:t-1,r:r-1}}function gt(e){for(var r=e.c+1,t="";r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(e.r+1)}function Qr(e){var r=e.indexOf(":");return r==-1?{s:tr(e),e:tr(e)}:{s:tr(e.slice(0,r)),e:tr(e.slice(r+1))}}function Ht(e,r){return typeof r=="undefined"||typeof r=="number"?Ht(e.s,e.e):(typeof e!="string"&&(e=gt(e)),typeof r!="string"&&(r=gt(r)),e==r?e:e+":"+r)}function kt(e){var r={s:{c:0,r:0},e:{c:0,r:0}},t=0,s=0,o=0,l=e.length;for(t=0;s<l&&!((o=e.charCodeAt(s)-64)<1||o>26);++s)t=26*t+o;for(r.s.c=--t,t=0;s<l&&!((o=e.charCodeAt(s)-48)<0||o>9);++s)t=10*t+o;if(r.s.r=--t,s===l||o!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++s,t=0;s!=l&&!((o=e.charCodeAt(s)-64)<1||o>26);++s)t=26*t+o;for(r.e.c=--t,t=0;s!=l&&!((o=e.charCodeAt(s)-48)<0||o>9);++s)t=10*t+o;return r.e.r=--t,r}function Ox(e,r){var t=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Ua(e.z,t?zr(r):r)}catch{}try{return e.w=Ua((e.XF||{}).numFmtId||(t?14:0),t?zr(r):r)}catch{return""+r}}function ra(e,r,t){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),e.t=="e"?Ho[e.v]||e.v:r==null?Ox(e,e.v):Ox(e,r))}function bs(e,r){var t=r&&r.sheet?r.sheet:"Sheet1",s={};return s[t]=e,{SheetNames:[t],Sheets:s}}function mg(e,r,t){var s=t||{},o=e?Array.isArray(e):s.dense,l=e||(o?[]:{}),u=0,f=0;if(l&&s.origin!=null){if(typeof s.origin=="number")u=s.origin;else{var h=typeof s.origin=="string"?tr(s.origin):s.origin;u=h.r,f=h.c}l["!ref"]||(l["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var x=kt(l["!ref"]);m.s.c=x.s.c,m.s.r=x.s.r,m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),u==-1&&(m.e.r=u=x.e.r+1)}for(var v=0;v!=r.length;++v)if(r[v]){if(!Array.isArray(r[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var N=0;N!=r[v].length;++N)if(typeof r[v][N]!="undefined"){var w={v:r[v][N]},_=u+v,b=f+N;if(m.s.r>_&&(m.s.r=_),m.s.c>b&&(m.s.c=b),m.e.r<_&&(m.e.r=_),m.e.c<b&&(m.e.c=b),r[v][N]&&typeof r[v][N]=="object"&&!Array.isArray(r[v][N])&&!(r[v][N]instanceof Date))w=r[v][N];else if(Array.isArray(w.v)&&(w.f=r[v][N][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(s.nullError)w.t="e",w.v=0;else if(s.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=s.dateNF||Mt[14],s.cellDates?(w.t="d",w.w=Ua(w.z,zr(w.v))):(w.t="n",w.v=zr(w.v),w.w=Ua(w.z,w.v))):w.t="s";if(o)l[_]||(l[_]=[]),l[_][b]&&l[_][b].z&&(w.z=l[_][b].z),l[_][b]=w;else{var y=gt({c:b,r:_});l[y]&&l[y].z&&(w.z=l[y].z),l[y]=w}}}return m.s.c<1e7&&(l["!ref"]=Ht(m)),l}function wi(e,r){return mg(null,e,r)}function G3(e){return e.read_shift(4,"i")}function yn(e,r){return r||(r=ge(4)),r.write_shift(4,e),r}function gr(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function rr(e,r){var t=!1;return r==null&&(t=!0,r=ge(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}function Y3(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function X3(e,r){return r||(r=ge(4)),r.write_shift(2,0),r.write_shift(2,0),r}function Vd(e,r){var t=e.l,s=e.read_shift(1),o=gr(e),l=[],u={t:o,h:o};if((s&1)!==0){for(var f=e.read_shift(4),h=0;h!=f;++h)l.push(Y3(e));u.r=l}else u.r=[{ich:0,ifnt:0}];return e.l=t+r,u}function K3(e,r){var t=!1;return r==null&&(t=!0,r=ge(15+4*e.t.length)),r.write_shift(1,0),rr(e.t,r),t?r.slice(0,r.l):r}var q3=Vd;function Q3(e,r){var t=!1;return r==null&&(t=!0,r=ge(23+4*e.t.length)),r.write_shift(1,1),rr(e.t,r),r.write_shift(4,1),X3({},r),t?r.slice(0,r.l):r}function ln(e){var r=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:t}}function ws(e,r){return r==null&&(r=ge(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function Ns(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function _s(e,r){return r==null&&(r=ge(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var J3=gr,xg=rr;function Gd(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function Oc(e,r){var t=!1;return r==null&&(t=!0,r=ge(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}var Z3=gr,md=Gd,Yd=Oc;function pg(e){var r=e.slice(e.l,e.l+4),t=r[0]&1,s=r[0]&2;e.l+=4;var o=s===0?Fc([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):ds(r,0)>>2;return t?o/100:o}function gg(e,r){r==null&&(r=ge(4));var t=0,s=0,o=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:o==(o|0)&&o>=-536870912&&o<1<<29&&(s=1,t=1),s)r.write_shift(-4,((t?o:e)<<2)+(t+2));else throw new Error("unsupported RkNumber "+e)}function vg(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function eN(e,r){return r||(r=ge(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var js=vg,Ni=eN;function _i(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function vs(e,r){return(r||ge(8)).write_shift(8,e,"f")}function tN(e){var r={},t=e.read_shift(1),s=t>>>1,o=e.read_shift(1),l=e.read_shift(2,"i"),u=e.read_shift(1),f=e.read_shift(1),h=e.read_shift(1);switch(e.l++,s){case 0:r.auto=1;break;case 1:r.index=o;var m=uN[o];m&&(r.rgb=Vx(m));break;case 2:r.rgb=Vx([u,f,h]);break;case 3:r.theme=o;break}return l!=0&&(r.tint=l>0?l/32767:l/32768),r}function Mc(e,r){if(r||(r=ge(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),r.write_shift(2,t),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),r.write_shift(1,parseInt(s.slice(0,2),16)),r.write_shift(1,parseInt(s.slice(2,4),16)),r.write_shift(1,parseInt(s.slice(4,6),16)),r.write_shift(1,255)}return r}function rN(e){var r=e.read_shift(1);e.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function nN(e,r){r||(r=ge(2));var t=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,t),r.write_shift(1,0),r}var yg=2,Gr=3,mc=11,Rc=19,xc=64,aN=65,sN=71,iN=4108,oN=4126,ir=80,Mx={1:{n:"CodePage",t:yg},2:{n:"Category",t:ir},3:{n:"PresentationFormat",t:ir},4:{n:"ByteCount",t:Gr},5:{n:"LineCount",t:Gr},6:{n:"ParagraphCount",t:Gr},7:{n:"SlideCount",t:Gr},8:{n:"NoteCount",t:Gr},9:{n:"HiddenCount",t:Gr},10:{n:"MultimediaClipCount",t:Gr},11:{n:"ScaleCrop",t:mc},12:{n:"HeadingPairs",t:iN},13:{n:"TitlesOfParts",t:oN},14:{n:"Manager",t:ir},15:{n:"Company",t:ir},16:{n:"LinksUpToDate",t:mc},17:{n:"CharacterCount",t:Gr},19:{n:"SharedDoc",t:mc},22:{n:"HyperlinksChanged",t:mc},23:{n:"AppVersion",t:Gr,p:"version"},24:{n:"DigSig",t:aN},26:{n:"ContentType",t:ir},27:{n:"ContentStatus",t:ir},28:{n:"Language",t:ir},29:{n:"Version",t:ir},255:{},2147483648:{n:"Locale",t:Rc},2147483651:{n:"Behavior",t:Rc},1919054434:{}},Rx={1:{n:"CodePage",t:yg},2:{n:"Title",t:ir},3:{n:"Subject",t:ir},4:{n:"Author",t:ir},5:{n:"Keywords",t:ir},6:{n:"Comments",t:ir},7:{n:"Template",t:ir},8:{n:"LastAuthor",t:ir},9:{n:"RevNumber",t:ir},10:{n:"EditTime",t:xc},11:{n:"LastPrinted",t:xc},12:{n:"CreatedDate",t:xc},13:{n:"ModifiedDate",t:xc},14:{n:"PageCount",t:Gr},15:{n:"WordCount",t:Gr},16:{n:"CharCount",t:Gr},17:{n:"Thumbnail",t:sN},18:{n:"Application",t:ir},19:{n:"DocSecurity",t:Gr},255:{},2147483648:{n:"Locale",t:Rc},2147483651:{n:"Behavior",t:Rc},1919054434:{}};function lN(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var cN=lN([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uN=Ur(cN),Ho={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function bg(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wg(e,r){var t=w3(dN),s=[],o;s[s.length]=Vt,s[s.length]=Fe("Types",null,{xmlns:er.CT,"xmlns:xsd":er.xsd,"xmlns:xsi":er.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Fe("Default",null,{Extension:h[0],ContentType:h[1]})}));var l=function(h){e[h]&&e[h].length>0&&(o=e[h][0],s[s.length]=Fe("Override",null,{PartName:(o[0]=="/"?"":"/")+o,ContentType:pc[h][r.bookType]||pc[h].xlsx}))},u=function(h){(e[h]||[]).forEach(function(m){s[s.length]=Fe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:pc[h][r.bookType]||pc[h].xlsx})})},f=function(h){(e[h]||[]).forEach(function(m){s[s.length]=Fe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:t[h][0]})})};return l("workbooks"),u("sheets"),u("charts"),f("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),u("metadata"),f("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var ct={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ng(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function di(e){var r=[Vt,Fe("Relationships",null,{xmlns:er.RELS})];return ur(e["!id"]).forEach(function(t){r[r.length]=Fe("Relationship",null,e["!id"][t])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function xt(e,r,t,s,o,l){if(o||(o={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,o.Id="rId"+r,o.Type=s,o.Target=t,[ct.HLINK,ct.XPATH,ct.XMISS].indexOf(o.Type)>-1&&(o.TargetMode="External"),e["!id"][o.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][o.Id]=o,e[("/"+o.Target).replace("//","/")]=o,r}function fN(e){var r=[Vt];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<e.length;++t)r.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function Ix(e,r,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function hN(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function mN(e){var r=[Vt];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=e.length;++t)r.push(Ix(e[t][0],e[t][1])),r.push(hN("",e[t][0]));return r.push(Ix("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function _g(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ec.version+"</meta:generator></office:meta></office:document-meta>"}var ms=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Xu(e,r,t,s,o){o[e]!=null||r==null||r===""||(o[e]=r,r=pt(r),s[s.length]=t?Fe(e,r,t):lr(e,r))}function jg(e,r){var t=r||{},s=[Vt,Fe("cp:coreProperties",null,{"xmlns:cp":er.CORE_PROPS,"xmlns:dc":er.dc,"xmlns:dcterms":er.dcterms,"xmlns:dcmitype":er.dcmitype,"xmlns:xsi":er.xsi})],o={};if(!e&&!t.Props)return s.join("");e&&(e.CreatedDate!=null&&Xu("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:hd(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,o),e.ModifiedDate!=null&&Xu("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:hd(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,o));for(var l=0;l!=ms.length;++l){var u=ms[l],f=t.Props&&t.Props[u[1]]!=null?t.Props[u[1]]:e?e[u[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&Xu(u[0],f,null,s,o)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var fi=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Sg=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function kg(e){var r=[],t=Fe;return e||(e={}),e.Application="SheetJS",r[r.length]=Vt,r[r.length]=Fe("Properties",null,{xmlns:er.EXT_PROPS,"xmlns:vt":er.vt}),fi.forEach(function(s){if(e[s[1]]!==void 0){var o;switch(s[2]){case"string":o=pt(String(e[s[1]]));break;case"bool":o=e[s[1]]?"true":"false";break}o!==void 0&&(r[r.length]=t(s[0],o))}}),r[r.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+pt(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function Eg(e){var r=[Vt,Fe("Properties",null,{xmlns:er.CUST_PROPS,"xmlns:vt":er.vt})];if(!e)return r.join("");var t=1;return ur(e).forEach(function(o){++t,r[r.length]=Fe("property",P3(e[o]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:pt(o)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var Lx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xN(e,r){var t=[];return ur(Lx).map(function(s){for(var o=0;o<ms.length;++o)if(ms[o][1]==s)return ms[o];for(o=0;o<fi.length;++o)if(fi[o][1]==s)return fi[o];throw s}).forEach(function(s){if(e[s[1]]!=null){var o=r&&r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e[s[1]];switch(s[2]){case"date":o=new Date(o).toISOString().replace(/\.\d*Z/,"Z");break}typeof o=="number"?o=String(o):o===!0||o===!1?o=o?"1":"0":o instanceof Date&&(o=new Date(o).toISOString().replace(/\.\d*Z/,"")),t.push(lr(Lx[s[1]]||s[1],o))}}),Fe("DocumentProperties",t.join(""),{xmlns:Xr.o})}function pN(e,r){var t=["Worksheets","SheetNames"],s="CustomDocumentProperties",o=[];return e&&ur(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)){for(var u=0;u<ms.length;++u)if(l==ms[u][1])return;for(u=0;u<fi.length;++u)if(l==fi[u][1])return;for(u=0;u<t.length;++u)if(l==t[u])return;var f=e[l],h="string";typeof f=="number"?(h="float",f=String(f)):f===!0||f===!1?(h="boolean",f=f?"1":"0"):f=String(f),o.push(Fe(Sx(l),f,{"dt:dt":h}))}}),r&&ur(r).forEach(function(l){if(Object.prototype.hasOwnProperty.call(r,l)&&!(e&&Object.prototype.hasOwnProperty.call(e,l))){var u=r[l],f="string";typeof u=="number"?(f="float",u=String(u)):u===!0||u===!1?(f="boolean",u=u?"1":"0"):u instanceof Date?(f="dateTime.tz",u=u.toISOString()):u=String(u),o.push(Fe(Sx(l),u,{"dt:dt":f}))}}),"<"+s+' xmlns="'+Xr.o+'">'+o.join("")+"</"+s+">"}function gN(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,t=r.getTime()/1e3+11644473600,s=t%Math.pow(2,32),o=(t-s)/Math.pow(2,32);s*=1e7,o*=1e7;var l=s/Math.pow(2,32)|0;l>0&&(s=s%Math.pow(2,32),o+=l);var u=ge(8);return u.write_shift(4,s),u.write_shift(4,o),u}function Bx(e,r){var t=ge(4),s=ge(4);switch(t.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,r);break;case 5:s=ge(8),s.write_shift(8,r,"f");break;case 11:s.write_shift(4,r?1:0);break;case 64:s=gN(r);break;case 31:case 80:for(s=ge(4+2*(r.length+1)+(r.length%2?0:2)),s.write_shift(4,r.length+1),s.write_shift(0,r,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return or([t,s])}var Tg=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vN(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function zx(e,r,t){var s=ge(8),o=[],l=[],u=8,f=0,h=ge(8),m=ge(8);if(h.write_shift(4,2),h.write_shift(4,1200),m.write_shift(4,1),l.push(h),o.push(m),u+=8+h.length,!r){m=ge(8),m.write_shift(4,0),o.unshift(m);var x=[ge(4)];for(x[0].write_shift(4,e.length),f=0;f<e.length;++f){var v=e[f][0];for(h=ge(8+2*(v.length+1)+(v.length%2?0:2)),h.write_shift(4,f+2),h.write_shift(4,v.length+1),h.write_shift(0,v,"dbcs");h.l!=h.length;)h.write_shift(1,0);x.push(h)}h=or(x),l.unshift(h),u+=8+h.length}for(f=0;f<e.length;++f)if(!(r&&!r[e[f][0]])&&!(Tg.indexOf(e[f][0])>-1||Sg.indexOf(e[f][0])>-1)&&e[f][1]!=null){var N=e[f][1],w=0;if(r){w=+r[e[f][0]];var _=t[w];if(_.p=="version"&&typeof N=="string"){var b=N.split(".");N=(+b[0]<<16)+(+b[1]||0)}h=Bx(_.t,N)}else{var y=vN(N);y==-1&&(y=31,N=String(N)),h=Bx(y,N)}l.push(h),m=ge(8),m.write_shift(4,r?w:2+f),o.push(m),u+=8+h.length}var k=8*(l.length+1);for(f=0;f<l.length;++f)o[f].write_shift(4,k),k+=l[f].length;return s.write_shift(4,u),s.write_shift(4,l.length),or([s].concat(o).concat(l))}function Ux(e,r,t,s,o,l){var u=ge(o?68:48),f=[u];u.write_shift(2,65534),u.write_shift(2,0),u.write_shift(4,842412599),u.write_shift(16,vt.utils.consts.HEADER_CLSID,"hex"),u.write_shift(4,o?2:1),u.write_shift(16,r,"hex"),u.write_shift(4,o?68:48);var h=zx(e,t,s);if(f.push(h),o){var m=zx(o,null,null);u.write_shift(16,l,"hex"),u.write_shift(4,68+h.length),f.push(m)}return or(f)}function yN(e,r){r||(r=ge(e));for(var t=0;t<e;++t)r.write_shift(1,0);return r}function bN(e,r){return e.read_shift(r)===1}function _r(e,r){return r||(r=ge(2)),r.write_shift(2,+!!e),r}function Cg(e){return e.read_shift(2,"u")}function on(e,r){return r||(r=ge(2)),r.write_shift(2,e),r}function Ag(e,r,t){return t||(t=ge(2)),t.write_shift(1,r=="e"?+e:+!!e),t.write_shift(1,r=="e"?1:0),t}function Dg(e,r,t){var s=e.read_shift(t&&t.biff>=12?2:1),o="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var l=e.read_shift(1);l&&(o="dbcs-cont")}else t.biff==12&&(o="wstr");t.biff>=2&&t.biff<=5&&(o="cpstr");var u=s?e.read_shift(s,o):"";return u}function wN(e){var r=e.t||"",t=ge(3);t.write_shift(2,r.length),t.write_shift(1,1);var s=ge(2*r.length);s.write_shift(2*r.length,r,"utf16le");var o=[t,s];return or(o)}function NN(e,r,t){var s;if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(r,"cpstr");if(t.biff>=12)return e.read_shift(r,"dbcs-cont")}var o=e.read_shift(1);return o===0?s=e.read_shift(r,"sbcs-cont"):s=e.read_shift(r,"dbcs-cont"),s}function _N(e,r,t){var s=e.read_shift(t&&t.biff==2?1:2);return s===0?(e.l++,""):NN(e,s,t)}function jN(e,r,t){if(t.biff>5)return _N(e,r,t);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Pg(e,r,t){return t||(t=ge(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function Wx(e,r){r||(r=ge(6+e.length*2)),r.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)r.write_shift(2,e.charCodeAt(t));return r.write_shift(2,0),r}function SN(e){var r=ge(512),t=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var o=s.indexOf("#"),l=o>-1?31:23;switch(s.charAt(0)){case"#":l=28;break;case".":l&=-3;break}r.write_shift(4,2),r.write_shift(4,l);var u=[8,6815827,6619237,4849780,83];for(t=0;t<u.length;++t)r.write_shift(4,u[t]);if(l==28)s=s.slice(1),Wx(s,r);else if(l&2){for(u="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<u.length;++t)r.write_shift(1,parseInt(u[t],16));var f=o>-1?s.slice(0,o):s;for(r.write_shift(4,2*(f.length+1)),t=0;t<f.length;++t)r.write_shift(2,f.charCodeAt(t));r.write_shift(2,0),l&8&&Wx(o>-1?s.slice(o+1):"",r)}else{for(u="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<u.length;++t)r.write_shift(1,parseInt(u[t],16));for(var h=0;s.slice(h*3,h*3+3)=="../"||s.slice(h*3,h*3+3)=="..\\";)++h;for(r.write_shift(2,h),r.write_shift(4,s.length-3*h+1),t=0;t<s.length-3*h;++t)r.write_shift(1,s.charCodeAt(t+3*h)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),t=0;t<6;++t)r.write_shift(4,0)}return r.slice(0,r.l)}function ys(e,r,t,s){return s||(s=ge(6)),s.write_shift(2,e),s.write_shift(2,r),s.write_shift(2,t||0),s}function kN(e,r,t){var s=t.biff>8?4:2,o=e.read_shift(s),l=e.read_shift(s,"i"),u=e.read_shift(s,"i");return[o,l,u]}function EN(e){var r=e.read_shift(2),t=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2);return{s:{c:s,r},e:{c:o,r:t}}}function Fg(e,r){return r||(r=ge(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function Xd(e,r,t){var s=1536,o=16;switch(t.bookType){case"biff8":break;case"biff5":s=1280,o=8;break;case"biff4":s=4,o=6;break;case"biff3":s=3,o=6;break;case"biff2":s=2,o=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=ge(o);return l.write_shift(2,s),l.write_shift(2,r),o>4&&l.write_shift(2,29282),o>6&&l.write_shift(2,1997),o>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function TN(e,r){var t=!r||r.biff==8,s=ge(t?112:54);for(s.write_shift(r.biff==8?2:1,7),t&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(t?0:536870912));s.l<s.length;)s.write_shift(1,t?0:32);return s}function CN(e,r){var t=!r||r.biff>=8?2:1,s=ge(8+t*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),r.biff>=8&&s.write_shift(1,1),s.write_shift(t*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var o=s.slice(0,s.l);return o.l=s.l,o}function AN(e,r){var t=ge(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var s=[],o=0;o<e.length;++o)s[o]=wN(e[o]);var l=or([t].concat(s));return l.parts=[t.length].concat(s.map(function(u){return u.length})),l}function DN(){var e=ge(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function PN(e){var r=ge(18),t=1718;return e&&e.RTL&&(t|=64),r.write_shift(2,t),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function FN(e,r){var t=e.name||"Arial",s=r&&r.biff==5,o=s?15+t.length:16+2*t.length,l=ge(o);return l.write_shift(2,e.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,t.length),s||l.write_shift(1,1),l.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le"),l}function ON(e,r,t,s){var o=ge(10);return ys(e,r,s,o),o.write_shift(4,t),o}function MN(e,r,t,s,o){var l=!o||o.biff==8,u=ge(8+ +l+(1+l)*t.length);return ys(e,r,s,u),u.write_shift(2,t.length),l&&u.write_shift(1,1),u.write_shift((1+l)*t.length,t,l?"utf16le":"sbcs"),u}function RN(e,r,t,s){var o=t&&t.biff==5;s||(s=ge(o?3+r.length:5+2*r.length)),s.write_shift(2,e),s.write_shift(o?1:2,r.length),o||s.write_shift(1,1),s.write_shift((o?1:2)*r.length,r,o?"sbcs":"utf16le");var l=s.length>s.l?s.slice(0,s.l):s;return l.l==null&&(l.l=l.length),l}function IN(e,r){var t=r.biff==8||!r.biff?4:2,s=ge(2*t+6);return s.write_shift(t,e.s.r),s.write_shift(t,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function $x(e,r,t,s){var o=t&&t.biff==5;s||(s=ge(o?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,r<<4));var l=0;return e.numFmtId>0&&o&&(l|=1024),s.write_shift(4,l),s.write_shift(4,0),o||s.write_shift(4,0),s.write_shift(2,0),s}function LN(e){var r=ge(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function BN(e,r,t,s,o,l){var u=ge(8);return ys(e,r,s,u),Ag(t,l,u),u}function zN(e,r,t,s){var o=ge(14);return ys(e,r,s,o),vs(t,o),o}function UN(e,r,t){if(t.biff<8)return WN(e,r,t);for(var s=[],o=e.l+r,l=e.read_shift(t.biff>8?4:2);l--!==0;)s.push(kN(e,t.biff>8?12:6,t));if(e.l!=o)throw new Error("Bad ExternSheet: "+e.l+" != "+o);return s}function WN(e,r,t){e[e.l+1]==3&&e[e.l]++;var s=Dg(e,r,t);return s.charCodeAt(0)==3?s.slice(1):s}function $N(e){var r=ge(2+e.length*8);r.write_shift(2,e.length);for(var t=0;t<e.length;++t)Fg(e[t],r);return r}function HN(e){var r=ge(24),t=tr(e[0]);r.write_shift(2,t.r),r.write_shift(2,t.r),r.write_shift(2,t.c),r.write_shift(2,t.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),o=0;o<16;++o)r.write_shift(1,parseInt(s[o],16));return or([r,SN(e[1])])}function VN(e){var r=e[1].Tooltip,t=ge(10+2*(r.length+1));t.write_shift(2,2048);var s=tr(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var o=0;o<r.length;++o)t.write_shift(2,r.charCodeAt(o));return t.write_shift(2,0),t}function GN(e){return e||(e=ge(4)),e.write_shift(2,1),e.write_shift(2,1),e}function YN(e,r,t){if(!t.cellStyles)return In(e,r);var s=t&&t.biff>=12?4:2,o=e.read_shift(s),l=e.read_shift(s),u=e.read_shift(s),f=e.read_shift(s),h=e.read_shift(2);s==2&&(e.l+=2);var m={s:o,e:l,w:u,ixfe:f,flags:h};return(t.biff>=5||!t.biff)&&(m.level=h>>8&7),m}function XN(e,r){var t=ge(12);t.write_shift(2,r),t.write_shift(2,r),t.write_shift(2,e.width*256),t.write_shift(2,0);var s=0;return e.hidden&&(s|=1),t.write_shift(1,s),s=e.level||0,t.write_shift(1,s),t.write_shift(2,0),t}function KN(e){for(var r=ge(2*e),t=0;t<e;++t)r.write_shift(2,t+1);return r}function qN(e,r,t){var s=ge(15);return Go(s,e,r),s.write_shift(8,t,"f"),s}function QN(e,r,t){var s=ge(9);return Go(s,e,r),s.write_shift(2,t),s}var JN=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=Id({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(f,h){var m=[],x=gs(1);switch(h.type){case"base64":x=gn(ta(f));break;case"binary":x=gn(f);break;case"buffer":case"array":x=f;break}Yr(x,0);var v=x.read_shift(1),N=!!(v&136),w=!1,_=!1;switch(v){case 2:break;case 3:break;case 48:w=!0,N=!0;break;case 49:w=!0,N=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var b=0,y=521;v==2&&(b=x.read_shift(2)),x.l+=3,v!=2&&(b=x.read_shift(4)),b>1048576&&(b=1e6),v!=2&&(y=x.read_shift(2));var k=x.read_shift(2),j=h.codepage||1252;v!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(j=e[x[x.l]]),x.l+=1,x.l+=2),_&&(x.l+=36);for(var T=[],M={},V=Math.min(x.length,v==2?521:y-10-(w?264:0)),X=_?32:11;x.l<V&&x[x.l]!=13;)switch(M={},M.name=Tc.utils.decode(j,x.slice(x.l,x.l+X)).replace(/[\u0000\r\n].*$/g,""),x.l+=X,M.type=String.fromCharCode(x.read_shift(1)),v!=2&&!_&&(M.offset=x.read_shift(4)),M.len=x.read_shift(1),v==2&&(M.offset=x.read_shift(2)),M.dec=x.read_shift(1),M.name.length&&T.push(M),v!=2&&(x.l+=_?13:14),M.type){case"B":(!w||M.len!=8)&&h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(x[x.l]!==13&&(x.l=y-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=y;var Y=0,te=0;for(m[0]=[],te=0;te!=T.length;++te)m[0][te]=T[te].name;for(;b-- >0;){if(x[x.l]===42){x.l+=k;continue}for(++x.l,m[++Y]=[],te=0,te=0;te!=T.length;++te){var J=x.slice(x.l,x.l+T[te].len);x.l+=T[te].len,Yr(J,0);var de=Tc.utils.decode(j,J);switch(T[te].type){case"C":de.trim().length&&(m[Y][te]=de.replace(/\s+$/,""));break;case"D":de.length===8?m[Y][te]=new Date(+de.slice(0,4),+de.slice(4,6)-1,+de.slice(6,8)):m[Y][te]=de;break;case"F":m[Y][te]=parseFloat(de.trim());break;case"+":case"I":m[Y][te]=_?J.read_shift(-4,"i")^2147483648:J.read_shift(4,"i");break;case"L":switch(de.trim().toUpperCase()){case"Y":case"T":m[Y][te]=!0;break;case"N":case"F":m[Y][te]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+de+"|")}break;case"M":if(!N)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));m[Y][te]="##MEMO##"+(_?parseInt(de.trim(),10):J.read_shift(4));break;case"N":de=de.replace(/\u0000/g,"").trim(),de&&de!="."&&(m[Y][te]=+de||0);break;case"@":m[Y][te]=new Date(J.read_shift(-8,"f")-621356832e5);break;case"T":m[Y][te]=new Date((J.read_shift(4)-2440588)*864e5+J.read_shift(4));break;case"Y":m[Y][te]=J.read_shift(4,"i")/1e4+J.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[Y][te]=-J.read_shift(-8,"f");break;case"B":if(w&&T[te].len==8){m[Y][te]=J.read_shift(8,"f");break}case"G":case"P":J.l+=T[te].len;break;case"0":if(T[te].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[te].type)}}}if(v!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),h.DBF=T,m}function s(f,h){var m=h||{};m.dateNF||(m.dateNF="yyyymmdd");var x=wi(t(f,m),m);return x["!cols"]=m.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete m.DBF,x}function o(f,h){try{return bs(s(f,h),h)}catch(m){if(h&&h.WTF)throw m}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function u(f,h){var m=h||{};if(+m.codepage>=0&&Po(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var x=Br(),v=Uc(f,{header:1,raw:!0,cellDates:!0}),N=v[0],w=v.slice(1),_=f["!cols"]||[],b=0,y=0,k=0,j=1;for(b=0;b<N.length;++b){if(((_[b]||{}).DBF||{}).name){N[b]=_[b].DBF.name,++k;continue}if(N[b]!=null){if(++k,typeof N[b]=="number"&&(N[b]=N[b].toString(10)),typeof N[b]!="string")throw new Error("DBF Invalid column name "+N[b]+" |"+typeof N[b]+"|");if(N.indexOf(N[b])!==b){for(y=0;y<1024;++y)if(N.indexOf(N[b]+"_"+y)==-1){N[b]+="_"+y;break}}}}var T=kt(f["!ref"]),M=[],V=[],X=[];for(b=0;b<=T.e.c-T.s.c;++b){var Y="",te="",J=0,de=[];for(y=0;y<w.length;++y)w[y][b]!=null&&de.push(w[y][b]);if(de.length==0||N[b]==null){M[b]="?";continue}for(y=0;y<de.length;++y){switch(typeof de[y]){case"number":te="B";break;case"string":te="C";break;case"boolean":te="L";break;case"object":te=de[y]instanceof Date?"D":"C";break;default:te="C"}J=Math.max(J,String(de[y]).length),Y=Y&&Y!=te?"C":te}J>250&&(J=250),te=((_[b]||{}).DBF||{}).type,te=="C"&&_[b].DBF.len>J&&(J=_[b].DBF.len),Y=="B"&&te=="N"&&(Y="N",X[b]=_[b].DBF.dec,J=_[b].DBF.len),V[b]=Y=="C"||te=="N"?J:l[Y]||0,j+=V[b],M[b]=Y}var pe=x.next(32);for(pe.write_shift(4,318902576),pe.write_shift(4,w.length),pe.write_shift(2,296+32*k),pe.write_shift(2,j),b=0;b<4;++b)pe.write_shift(4,0);for(pe.write_shift(4,0|(+r[Mp]||3)<<8),b=0,y=0;b<N.length;++b)if(N[b]!=null){var q=x.next(32),ie=(N[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,ie,"sbcs"),q.write_shift(1,M[b]=="?"?"C":M[b],"sbcs"),q.write_shift(4,y),q.write_shift(1,V[b]||l[M[b]]||0),q.write_shift(1,X[b]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),y+=V[b]||l[M[b]]||0}var Pe=x.next(264);for(Pe.write_shift(4,13),b=0;b<65;++b)Pe.write_shift(4,0);for(b=0;b<w.length;++b){var ke=x.next(j);for(ke.write_shift(1,0),y=0;y<N.length;++y)if(N[y]!=null)switch(M[y]){case"L":ke.write_shift(1,w[b][y]==null?63:w[b][y]?84:70);break;case"B":ke.write_shift(8,w[b][y]||0,"f");break;case"N":var We="0";for(typeof w[b][y]=="number"&&(We=w[b][y].toFixed(X[y]||0)),k=0;k<V[y]-We.length;++k)ke.write_shift(1,32);ke.write_shift(1,We,"sbcs");break;case"D":w[b][y]?(ke.write_shift(4,("0000"+w[b][y].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(w[b][y].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+w[b][y].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var ye=String(w[b][y]!=null?w[b][y]:"").slice(0,V[y]);for(ke.write_shift(1,ye,"sbcs"),k=0;k<V[y]-ye.length;++k)ke.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:o,to_sheet:s,from_sheet:u}})(),ZN=(function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+ur(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(N,w){var _=e[w];return typeof _=="number"?hx(_):_},s=function(N,w,_){var b=w.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?N:hx(b)};e["|"]=254;function o(N,w){switch(w.type){case"base64":return l(ta(N),w);case"binary":return l(N,w);case"buffer":return l(dt&&Buffer.isBuffer(N)?N.toString("binary"):Uo(N),w);case"array":return l(qc(N),w)}throw new Error("Unrecognized type "+w.type)}function l(N,w){var _=N.split(/[\n\r]+/),b=-1,y=-1,k=0,j=0,T=[],M=[],V=null,X={},Y=[],te=[],J=[],de=0,pe;for(+w.codepage>=0&&Po(+w.codepage);k!==_.length;++k){de=0;var q=_[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(r,t),ie=q.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),Pe=ie[0],ke;if(q.length>0)switch(Pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ie[1].charAt(0)=="P"&&M.push(q.slice(3).replace(/;;/g,";"));break;case"C":var We=!1,ye=!1,L=!1,re=!1,B=-1,R=-1;for(j=1;j<ie.length;++j)switch(ie[j].charAt(0)){case"A":break;case"X":y=parseInt(ie[j].slice(1))-1,ye=!0;break;case"Y":for(b=parseInt(ie[j].slice(1))-1,ye||(y=0),pe=T.length;pe<=b;++pe)T[pe]=[];break;case"K":ke=ie[j].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(Jn(ke))?isNaN(Oo(ke).getDate())||(ke=Er(ke)):(ke=Jn(ke),V!==null&&Yp(V)&&(ke=Qp(ke))),We=!0;break;case"E":re=!0;var A=Q5(ie[j].slice(1),{r:b,c:y});T[b][y]=[T[b][y],A];break;case"S":L=!0,T[b][y]=[T[b][y],"S5S"];break;case"G":break;case"R":B=parseInt(ie[j].slice(1))-1;break;case"C":R=parseInt(ie[j].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+q)}if(We&&(T[b][y]&&T[b][y].length==2?T[b][y][0]=ke:T[b][y]=ke,V=null),L){if(re)throw new Error("SYLK shared formula cannot have own formula");var O=B>-1&&T[B][R];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");T[b][y][1]=J5(O[1],{r:b-B,c:y-R})}break;case"F":var E=0;for(j=1;j<ie.length;++j)switch(ie[j].charAt(0)){case"X":y=parseInt(ie[j].slice(1))-1,++E;break;case"Y":for(b=parseInt(ie[j].slice(1))-1,pe=T.length;pe<=b;++pe)T[pe]=[];break;case"M":de=parseInt(ie[j].slice(1))/20;break;case"F":break;case"G":break;case"P":V=M[parseInt(ie[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(J=ie[j].slice(1).split(" "),pe=parseInt(J[0],10);pe<=parseInt(J[1],10);++pe)de=parseInt(J[2],10),te[pe-1]=de===0?{hidden:!0}:{wch:de},Kd(te[pe-1]);break;case"C":y=parseInt(ie[j].slice(1))-1,te[y]||(te[y]={});break;case"R":b=parseInt(ie[j].slice(1))-1,Y[b]||(Y[b]={}),de>0?(Y[b].hpt=de,Y[b].hpx=Lg(de)):de===0&&(Y[b].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+q)}E<1&&(V=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+q)}}return Y.length>0&&(X["!rows"]=Y),te.length>0&&(X["!cols"]=te),w&&w.sheetRows&&(T=T.slice(0,w.sheetRows)),[T,X]}function u(N,w){var _=o(N,w),b=_[0],y=_[1],k=wi(b,w);return ur(y).forEach(function(j){k[j]=y[j]}),k}function f(N,w){return bs(u(N,w),w)}function h(N,w,_,b){var y="C;Y"+(_+1)+";X"+(b+1)+";K";switch(N.t){case"n":y+=N.v||0,N.f&&!N.F&&(y+=";E"+Qd(N.f,{r:_,c:b}));break;case"b":y+=N.v?"TRUE":"FALSE";break;case"e":y+=N.w||N.v;break;case"d":y+='"'+(N.w||N.v)+'"';break;case"s":y+='"'+N.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function m(N,w){w.forEach(function(_,b){var y="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Ic(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Lc(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&N.push(y)})}function x(N,w){w.forEach(function(_,b){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*Bc(_.hpx)+";"),y.length>2&&N.push(y+"R"+(b+1))})}function v(N,w){var _=["ID;PWXL;N;E"],b=[],y=kt(N["!ref"]),k,j=Array.isArray(N),T=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),N["!cols"]&&m(_,N["!cols"]),N["!rows"]&&x(_,N["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var M=y.s.r;M<=y.e.r;++M)for(var V=y.s.c;V<=y.e.c;++V){var X=gt({r:M,c:V});k=j?(N[M]||[])[V]:N[X],!(!k||k.v==null&&(!k.f||k.F))&&b.push(h(k,N,M,V))}return _.join(T)+T+b.join(T)+T+"E"+T}return{to_workbook:f,to_sheet:u,from_sheet:v}})(),e5=(function(){function e(l,u){switch(u.type){case"base64":return r(ta(l),u);case"binary":return r(l,u);case"buffer":return r(dt&&Buffer.isBuffer(l)?l.toString("binary"):Uo(l),u);case"array":return r(qc(l),u)}throw new Error("Unrecognized type "+u.type)}function r(l,u){for(var f=l.split(`
`),h=-1,m=-1,x=0,v=[];x!==f.length;++x){if(f[x].trim()==="BOT"){v[++h]=[],m=0;continue}if(!(h<0)){var N=f[x].trim().split(","),w=N[0],_=N[1];++x;for(var b=f[x]||"";(b.match(/["]/g)||[]).length&1&&x<f.length-1;)b+=`
`+f[++x];switch(b=b.trim(),+w){case-1:if(b==="BOT"){v[++h]=[],m=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?v[h][m]=!0:b==="FALSE"?v[h][m]=!1:isNaN(Jn(_))?isNaN(Oo(_).getDate())?v[h][m]=_:v[h][m]=Er(_):v[h][m]=Jn(_),++m;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),v[h][m++]=b!==""?b:null;break}if(b==="EOD")break}}return u&&u.sheetRows&&(v=v.slice(0,u.sheetRows)),v}function t(l,u){return wi(e(l,u),u)}function s(l,u){return bs(t(l,u),u)}var o=(function(){var l=function(h,m,x,v,N){h.push(m),h.push(x+","+v),h.push('"'+N.replace(/"/g,'""')+'"')},u=function(h,m,x,v){h.push(m+","+x),h.push(m==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(h){var m=[],x=kt(h["!ref"]),v,N=Array.isArray(h);l(m,"TABLE",0,1,"sheetjs"),l(m,"VECTORS",0,x.e.r-x.s.r+1,""),l(m,"TUPLES",0,x.e.c-x.s.c+1,""),l(m,"DATA",0,0,"");for(var w=x.s.r;w<=x.e.r;++w){u(m,-1,0,"BOT");for(var _=x.s.c;_<=x.e.c;++_){var b=gt({r:w,c:_});if(v=N?(h[w]||[])[_]:h[b],!v){u(m,1,0,"");continue}switch(v.t){case"n":var y=v.w;!y&&v.v!=null&&(y=v.v),y==null?v.f&&!v.F?u(m,1,0,"="+v.f):u(m,1,0,""):u(m,0,y,"V");break;case"b":u(m,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":u(m,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Ua(v.z||Mt[14],zr(Er(v.v)))),u(m,0,v.w,"V");break;default:u(m,1,0,"")}}}u(m,-1,0,"EOD");var k=`\r
`,j=m.join(k);return j}})();return{to_workbook:s,to_sheet:t,from_sheet:o}})(),Og=(function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(v,N){for(var w=v.split(`
`),_=-1,b=-1,y=0,k=[];y!==w.length;++y){var j=w[y].trim().split(":");if(j[0]==="cell"){var T=tr(j[1]);if(k.length<=T.r)for(_=k.length;_<=T.r;++_)k[_]||(k[_]=[]);switch(_=T.r,b=T.c,j[2]){case"t":k[_][b]=e(j[3]);break;case"v":k[_][b]=+j[3];break;case"vtf":var M=j[j.length-1];case"vtc":switch(j[3]){case"nl":k[_][b]=!!+j[4];break;default:k[_][b]=+j[4];break}j[2]=="vtf"&&(k[_][b]=[k[_][b],M])}}}return N&&N.sheetRows&&(k=k.slice(0,N.sheetRows)),k}function s(v,N){return wi(t(v,N),N)}function o(v,N){return bs(s(v,N),N)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),u=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function m(v){if(!v||!v["!ref"])return"";for(var N=[],w=[],_,b="",y=Qr(v["!ref"]),k=Array.isArray(v),j=y.s.r;j<=y.e.r;++j)for(var T=y.s.c;T<=y.e.c;++T)if(b=gt({r:j,c:T}),_=k?(v[j]||[])[T]:v[b],!(!_||_.v==null||_.t==="z")){switch(w=["cell",b,"t"],_.t){case"s":case"str":w.push(r(_.v));break;case"n":_.f?(w[2]="vtf",w[3]="n",w[4]=_.v,w[5]=r(_.f)):(w[2]="v",w[3]=_.v);break;case"b":w[2]="vt"+(_.f?"f":"c"),w[3]="nl",w[4]=_.v?"1":"0",w[5]=r(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var M=zr(Er(_.v));w[2]="vtc",w[3]="nd",w[4]=""+M,w[5]=_.w||Ua(_.z||Mt[14],M);break;case"e":continue}N.push(w.join(":"))}return N.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),N.push("valueformat:1:text-wiki"),N.join(`
`)}function x(v){return[l,u,f,u,m(v),h].join(`
`)}return{to_workbook:o,to_sheet:s,from_sheet:x}})(),t5=(function(){function e(x,v,N,w,_){_.raw?v[N][w]=x:x===""||(x==="TRUE"?v[N][w]=!0:x==="FALSE"?v[N][w]=!1:isNaN(Jn(x))?isNaN(Oo(x).getDate())?v[N][w]=x:v[N][w]=Er(x):v[N][w]=Jn(x))}function r(x,v){var N=v||{},w=[];if(!x||x.length===0)return w;for(var _=x.split(/[\r\n]/),b=_.length-1;b>=0&&_[b].length===0;)--b;for(var y=10,k=0,j=0;j<=b;++j)k=_[j].indexOf(" "),k==-1?k=_[j].length:k++,y=Math.max(y,k);for(j=0;j<=b;++j){w[j]=[];var T=0;for(e(_[j].slice(0,y).trim(),w,j,T,N),T=1;T<=(_[j].length-y)/10+1;++T)e(_[j].slice(y+(T-1)*10,y+T*10).trim(),w,j,T,N)}return N.sheetRows&&(w=w.slice(0,N.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function o(x){for(var v={},N=!1,w=0,_=0;w<x.length;++w)(_=x.charCodeAt(w))==34?N=!N:!N&&_ in t&&(v[_]=(v[_]||0)+1);_=[];for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&_.push([v[w],w]);if(!_.length){v=s;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&_.push([v[w],w])}return _.sort(function(b,y){return b[0]-y[0]||s[b[1]]-s[y[1]]}),t[_.pop()[1]]||44}function l(x,v){var N=v||{},w="",_=N.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(w=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(w=x.charAt(4),x=x.slice(6)):w=o(x.slice(0,1024)):N&&N.FS?w=N.FS:w=o(x.slice(0,1024));var y=0,k=0,j=0,T=0,M=0,V=w.charCodeAt(0),X=!1,Y=0,te=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var J=N.dateNF!=null?g3(N.dateNF):null;function de(){var pe=x.slice(T,M),q={};if(pe.charAt(0)=='"'&&pe.charAt(pe.length-1)=='"'&&(pe=pe.slice(1,-1).replace(/""/g,'"')),pe.length===0)q.t="z";else if(N.raw)q.t="s",q.v=pe;else if(pe.trim().length===0)q.t="s",q.v=pe;else if(pe.charCodeAt(0)==61)pe.charCodeAt(1)==34&&pe.charCodeAt(pe.length-1)==34?(q.t="s",q.v=pe.slice(2,-1).replace(/""/g,'"')):Z5(pe)?(q.t="n",q.f=pe.slice(1)):(q.t="s",q.v=pe);else if(pe=="TRUE")q.t="b",q.v=!0;else if(pe=="FALSE")q.t="b",q.v=!1;else if(!isNaN(j=Jn(pe)))q.t="n",N.cellText!==!1&&(q.w=pe),q.v=j;else if(!isNaN(Oo(pe).getDate())||J&&pe.match(J)){q.z=N.dateNF||Mt[14];var ie=0;J&&pe.match(J)&&(pe=v3(pe,N.dateNF,pe.match(J)||[]),ie=1),N.cellDates?(q.t="d",q.v=Er(pe,ie)):(q.t="n",q.v=zr(Er(pe,ie))),N.cellText!==!1&&(q.w=Ua(q.z,q.v instanceof Date?zr(q.v):q.v)),N.cellNF||delete q.z}else q.t="s",q.v=pe;if(q.t=="z"||(N.dense?(_[y]||(_[y]=[]),_[y][k]=q):_[gt({c:k,r:y})]=q),T=M+1,te=x.charCodeAt(T),b.e.c<k&&(b.e.c=k),b.e.r<y&&(b.e.r=y),Y==V)++k;else if(k=0,++y,N.sheetRows&&N.sheetRows<=y)return!0}e:for(;M<x.length;++M)switch(Y=x.charCodeAt(M)){case 34:te===34&&(X=!X);break;case V:case 10:case 13:if(!X&&de())break e;break}return M-T>0&&de(),_["!ref"]=Ht(b),_}function u(x,v){return!(v&&v.PRN)||v.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?l(x,v):wi(r(x,v),v)}function f(x,v){var N="",w=v.type=="string"?[0,0,0,0]:hE(x,v);switch(v.type){case"base64":N=ta(x);break;case"binary":N=x;break;case"buffer":v.codepage==65001?N=x.toString("utf8"):v.codepage&&typeof Tc!="undefined"||(N=dt&&Buffer.isBuffer(x)?x.toString("binary"):Uo(x));break;case"array":N=qc(x);break;case"string":N=x;break;default:throw new Error("Unrecognized type "+v.type)}return w[0]==239&&w[1]==187&&w[2]==191?N=No(N.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?N=No(N):v.type=="binary",N.slice(0,19)=="socialcalc:version:"?Og.to_sheet(v.type=="string"?N:No(N),v):u(N,v)}function h(x,v){return bs(f(x,v),v)}function m(x){for(var v=[],N=kt(x["!ref"]),w,_=Array.isArray(x),b=N.s.r;b<=N.e.r;++b){for(var y=[],k=N.s.c;k<=N.e.c;++k){var j=gt({r:b,c:k});if(w=_?(x[b]||[])[k]:x[j],!w||w.v==null){y.push("          ");continue}for(var T=(w.w||(ra(w),w.w)||"").slice(0,10);T.length<10;)T+=" ";y.push(T+(k===0?" ":""))}v.push(y.join(""))}return v.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:m}})(),Hx=(function(){function e(A,O,E){if(A){Yr(A,A.l||0);for(var D=E.Enum||B;A.l<A.length;){var K=A.read_shift(2),se=D[K]||D[65535],ee=A.read_shift(2),ne=A.l+ee,fe=se.f&&se.f(A,ee,E);if(A.l=ne,O(fe,se,K))return}}}function r(A,O){switch(O.type){case"base64":return t(gn(ta(A)),O);case"binary":return t(gn(A),O);case"buffer":case"array":return t(A,O)}throw"Unsupported type "+O.type}function t(A,O){if(!A)return A;var E=O||{},D=E.dense?[]:{},K="Sheet1",se="",ee=0,ne={},fe=[],_e=[],Me={s:{r:0,c:0},e:{r:0,c:0}},Ke=E.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)E.Enum=B,e(A,function(H,ve,Ge){switch(Ge){case 0:E.vers=H,H>=4096&&(E.qpro=!0);break;case 6:Me=H;break;case 204:H&&(se=H);break;case 222:se=H;break;case 15:case 51:E.qpro||(H[1].v=H[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(H[2]&112)==112&&(H[2]&15)>1&&(H[2]&15)<15&&(H[1].z=E.dateNF||Mt[14],E.cellDates&&(H[1].t="d",H[1].v=Qp(H[1].v))),E.qpro&&H[3]>ee&&(D["!ref"]=Ht(Me),ne[K]=D,fe.push(K),D=E.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},ee=H[3],K=se||"Sheet"+(ee+1),se="");var nt=E.dense?(D[H[0].r]||[])[H[0].c]:D[gt(H[0])];if(nt){nt.t=H[1].t,nt.v=H[1].v,H[1].z!=null&&(nt.z=H[1].z),H[1].f!=null&&(nt.f=H[1].f);break}E.dense?(D[H[0].r]||(D[H[0].r]=[]),D[H[0].r][H[0].c]=H[1]):D[gt(H[0])]=H[1];break}},E);else if(A[2]==26||A[2]==14)E.Enum=R,A[2]==14&&(E.qpro=!0,A.l=0),e(A,function(H,ve,Ge){switch(Ge){case 204:K=H;break;case 22:H[1].v=H[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(H[3]>ee&&(D["!ref"]=Ht(Me),ne[K]=D,fe.push(K),D=E.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},ee=H[3],K="Sheet"+(ee+1)),Ke>0&&H[0].r>=Ke)break;E.dense?(D[H[0].r]||(D[H[0].r]=[]),D[H[0].r][H[0].c]=H[1]):D[gt(H[0])]=H[1],Me.e.c<H[0].c&&(Me.e.c=H[0].c),Me.e.r<H[0].r&&(Me.e.r=H[0].r);break;case 27:H[14e3]&&(_e[H[14e3][0]]=H[14e3][1]);break;case 1537:_e[H[0]]=H[1],H[0]==ee&&(K=H[1]);break}},E);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(D["!ref"]=Ht(Me),ne[se||K]=D,fe.push(se||K),!_e.length)return{SheetNames:fe,Sheets:ne};for(var Ve={},xe=[],je=0;je<_e.length;++je)ne[fe[je]]?(xe.push(_e[je]||fe[je]),Ve[_e[je]]=ne[_e[je]]||ne[fe[je]]):(xe.push(_e[je]),Ve[_e[je]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ve}}function s(A,O){var E=O||{};if(+E.codepage>=0&&Po(+E.codepage),E.type=="string")throw new Error("Cannot write WK1 to JS string");var D=Br(),K=kt(A["!ref"]),se=Array.isArray(A),ee=[];Oe(D,0,l(1030)),Oe(D,6,h(K));for(var ne=Math.min(K.e.r,8191),fe=K.s.r;fe<=ne;++fe)for(var _e=cr(fe),Me=K.s.c;Me<=K.e.c;++Me){fe===K.s.r&&(ee[Me]=pr(Me));var Ke=ee[Me]+_e,Ve=se?(A[fe]||[])[Me]:A[Ke];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")(Ve.v|0)==Ve.v&&Ve.v>=-32768&&Ve.v<=32767?Oe(D,13,w(fe,Me,Ve.v)):Oe(D,14,b(fe,Me,Ve.v));else{var xe=ra(Ve);Oe(D,15,v(fe,Me,xe.slice(0,239)))}}return Oe(D,1),D.end()}function o(A,O){var E=O||{};if(+E.codepage>=0&&Po(+E.codepage),E.type=="string")throw new Error("Cannot write WK3 to JS string");var D=Br();Oe(D,0,u(A));for(var K=0,se=0;K<A.SheetNames.length;++K)(A.Sheets[A.SheetNames[K]]||{})["!ref"]&&Oe(D,27,re(A.SheetNames[K],se++));var ee=0;for(K=0;K<A.SheetNames.length;++K){var ne=A.Sheets[A.SheetNames[K]];if(!(!ne||!ne["!ref"])){for(var fe=kt(ne["!ref"]),_e=Array.isArray(ne),Me=[],Ke=Math.min(fe.e.r,8191),Ve=fe.s.r;Ve<=Ke;++Ve)for(var xe=cr(Ve),je=fe.s.c;je<=fe.e.c;++je){Ve===fe.s.r&&(Me[je]=pr(je));var H=Me[je]+xe,ve=_e?(ne[Ve]||[])[je]:ne[H];if(!(!ve||ve.t=="z"))if(ve.t=="n")Oe(D,23,de(Ve,je,ee,ve.v));else{var Ge=ra(ve);Oe(D,22,Y(Ve,je,ee,Ge.slice(0,239)))}}++ee}}return Oe(D,1),D.end()}function l(A){var O=ge(2);return O.write_shift(2,A),O}function u(A){var O=ge(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var E=0,D=0,K=0,se=0;se<A.SheetNames.length;++se){var ee=A.SheetNames[se],ne=A.Sheets[ee];if(!(!ne||!ne["!ref"])){++K;var fe=Qr(ne["!ref"]);E<fe.e.r&&(E=fe.e.r),D<fe.e.c&&(D=fe.e.c)}}return E>8191&&(E=8191),O.write_shift(2,E),O.write_shift(1,K),O.write_shift(1,D),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function f(A,O,E){var D={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&E.qpro?(D.s.c=A.read_shift(1),A.l++,D.s.r=A.read_shift(2),D.e.c=A.read_shift(1),A.l++,D.e.r=A.read_shift(2),D):(D.s.c=A.read_shift(2),D.s.r=A.read_shift(2),O==12&&E.qpro&&(A.l+=2),D.e.c=A.read_shift(2),D.e.r=A.read_shift(2),O==12&&E.qpro&&(A.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function h(A){var O=ge(8);return O.write_shift(2,A.s.c),O.write_shift(2,A.s.r),O.write_shift(2,A.e.c),O.write_shift(2,A.e.r),O}function m(A,O,E){var D=[{c:0,r:0},{t:"n",v:0},0,0];return E.qpro&&E.vers!=20768?(D[0].c=A.read_shift(1),D[3]=A.read_shift(1),D[0].r=A.read_shift(2),A.l+=2):(D[2]=A.read_shift(1),D[0].c=A.read_shift(2),D[0].r=A.read_shift(2)),D}function x(A,O,E){var D=A.l+O,K=m(A,O,E);if(K[1].t="s",E.vers==20768){A.l++;var se=A.read_shift(1);return K[1].v=A.read_shift(se,"utf8"),K}return E.qpro&&A.l++,K[1].v=A.read_shift(D-A.l,"cstr"),K}function v(A,O,E){var D=ge(7+E.length);D.write_shift(1,255),D.write_shift(2,O),D.write_shift(2,A),D.write_shift(1,39);for(var K=0;K<D.length;++K){var se=E.charCodeAt(K);D.write_shift(1,se>=128?95:se)}return D.write_shift(1,0),D}function N(A,O,E){var D=m(A,O,E);return D[1].v=A.read_shift(2,"i"),D}function w(A,O,E){var D=ge(7);return D.write_shift(1,255),D.write_shift(2,O),D.write_shift(2,A),D.write_shift(2,E,"i"),D}function _(A,O,E){var D=m(A,O,E);return D[1].v=A.read_shift(8,"f"),D}function b(A,O,E){var D=ge(13);return D.write_shift(1,255),D.write_shift(2,O),D.write_shift(2,A),D.write_shift(8,E,"f"),D}function y(A,O,E){var D=A.l+O,K=m(A,O,E);if(K[1].v=A.read_shift(8,"f"),E.qpro)A.l=D;else{var se=A.read_shift(2);M(A.slice(A.l,A.l+se),K),A.l+=se}return K}function k(A,O,E){var D=O&32768;return O&=-32769,O=(D?A:0)+(O>=8192?O-16384:O),(D?"":"$")+(E?pr(O):cr(O))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(A,O){Yr(A,0);for(var E=[],D=0,K="",se="",ee="",ne="";A.l<A.length;){var fe=A[A.l++];switch(fe){case 0:E.push(A.read_shift(8,"f"));break;case 1:se=k(O[0].c,A.read_shift(2),!0),K=k(O[0].r,A.read_shift(2),!1),E.push(se+K);break;case 2:{var _e=k(O[0].c,A.read_shift(2),!0),Me=k(O[0].r,A.read_shift(2),!1);se=k(O[0].c,A.read_shift(2),!0),K=k(O[0].r,A.read_shift(2),!1),E.push(_e+Me+":"+se+K)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:E.push("("+E.pop()+")");break;case 5:E.push(A.read_shift(2));break;case 6:{for(var Ke="";fe=A[A.l++];)Ke+=String.fromCharCode(fe);E.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:E.push("-"+E.pop());break;case 23:E.push("+"+E.pop());break;case 22:E.push("NOT("+E.pop()+")");break;case 20:case 21:ne=E.pop(),ee=E.pop(),E.push(["AND","OR"][fe-20]+"("+ee+","+ne+")");break;default:if(fe<32&&T[fe])ne=E.pop(),ee=E.pop(),E.push(ee+T[fe]+ne);else if(j[fe]){if(D=j[fe][1],D==69&&(D=A[A.l++]),D>E.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+E.join("|")+"|");return}var Ve=E.slice(-D);E.length-=D,E.push(j[fe][0]+"("+Ve.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}E.length==1?O[1].f=""+E[0]:console.error("WK1 bad formula parse |"+E.join("|")+"|")}function V(A){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=A.read_shift(2),O[3]=A[A.l++],O[0].c=A[A.l++],O}function X(A,O){var E=V(A);return E[1].t="s",E[1].v=A.read_shift(O-4,"cstr"),E}function Y(A,O,E,D){var K=ge(6+D.length);K.write_shift(2,A),K.write_shift(1,E),K.write_shift(1,O),K.write_shift(1,39);for(var se=0;se<D.length;++se){var ee=D.charCodeAt(se);K.write_shift(1,ee>=128?95:ee)}return K.write_shift(1,0),K}function te(A,O){var E=V(A);E[1].v=A.read_shift(2);var D=E[1].v>>1;if(E[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return E[1].v=D,E}function J(A,O){var E=V(A),D=A.read_shift(4),K=A.read_shift(4),se=A.read_shift(2);if(se==65535)return D===0&&K===3221225472?(E[1].t="e",E[1].v=15):D===0&&K===3489660928?(E[1].t="e",E[1].v=42):E[1].v=0,E;var ee=se&32768;return se=(se&32767)-16446,E[1].v=(1-ee*2)*(K*Math.pow(2,se+32)+D*Math.pow(2,se)),E}function de(A,O,E,D){var K=ge(14);if(K.write_shift(2,A),K.write_shift(1,E),K.write_shift(1,O),D==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var se=0,ee=0,ne=0,fe=0;return D<0&&(se=1,D=-D),ee=Math.log2(D)|0,D/=Math.pow(2,ee-31),fe=D>>>0,(fe&2147483648)==0&&(D/=2,++ee,fe=D>>>0),D-=fe,fe|=2147483648,fe>>>=0,D*=Math.pow(2,32),ne=D>>>0,K.write_shift(4,ne),K.write_shift(4,fe),ee+=16383+(se?32768:0),K.write_shift(2,ee),K}function pe(A,O){var E=J(A);return A.l+=O-14,E}function q(A,O){var E=V(A),D=A.read_shift(4);return E[1].v=D>>6,E}function ie(A,O){var E=V(A),D=A.read_shift(8,"f");return E[1].v=D,E}function Pe(A,O){var E=ie(A);return A.l+=O-10,E}function ke(A,O){return A[A.l+O-1]==0?A.read_shift(O,"cstr"):""}function We(A,O){var E=A[A.l++];E>O-1&&(E=O-1);for(var D="";D.length<E;)D+=String.fromCharCode(A[A.l++]);return D}function ye(A,O,E){if(!(!E.qpro||O<21)){var D=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var K=A.read_shift(O-21,"cstr");return[D,K]}}function L(A,O){for(var E={},D=A.l+O;A.l<D;){var K=A.read_shift(2);if(K==14e3){for(E[K]=[0,""],E[K][0]=A.read_shift(2);A[A.l];)E[K][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return E}function re(A,O){var E=ge(5+A.length);E.write_shift(2,14e3),E.write_shift(2,O);for(var D=0;D<A.length;++D){var K=A.charCodeAt(D);E[E.l++]=K>127?95:K}return E[E.l++]=0,E}var B={0:{n:"BOF",f:Cg},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:N},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:We},65535:{n:""}},R={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:X},23:{n:"NUMBER17",f:J},24:{n:"NUMBER18",f:te},25:{n:"FORMULA19",f:pe},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:ie},40:{n:"FORMULA28",f:Pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:o,to_workbook:r}})(),r5=/^\s|\s$|[\t\n\r]/;function Mg(e,r){if(!r.bookSST)return"";var t=[Vt];t[t.length]=Fe("sst",null,{xmlns:bi[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var o=e[s],l="<si>";o.r?l+=o.r:(l+="<t",o.t||(o.t=""),o.t.match(r5)&&(l+=' xml:space="preserve"'),l+=">"+pt(o.t)+"</t>"),l+="</si>",t[t.length]=l}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function n5(e){return[e.read_shift(4),e.read_shift(4)]}function a5(e,r){return r||(r=ge(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var s5=K3;function i5(e){var r=Br();we(r,159,a5(e));for(var t=0;t<e.length;++t)we(r,19,s5(e[t]));return we(r,160),r.end()}function o5(e){for(var r=[],t=e.split(""),s=0;s<t.length;++s)r[s]=t[s].charCodeAt(0);return r}function Rg(e){var r=0,t,s=o5(e),o=s.length+1,l,u,f,h,m;for(t=gs(o),t[0]=s.length,l=1;l!=o;++l)t[l]=s[l-1];for(l=o-1;l>=0;--l)u=t[l],f=(r&16384)===0?0:1,h=r<<1&32767,m=f|h,r=m^u;return r^52811}var l5=(function(){function e(o,l){switch(l.type){case"base64":return r(ta(o),l);case"binary":return r(o,l);case"buffer":return r(dt&&Buffer.isBuffer(o)?o.toString("binary"):Uo(o),l);case"array":return r(qc(o),l)}throw new Error("Unrecognized type "+l.type)}function r(o,l){var u=l||{},f=u.dense?[]:{},h=o.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(x,v){Array.isArray(f)&&(f[v]=[]);for(var N=/\\\w+\b/g,w=0,_,b=-1;_=N.exec(x);){switch(_[0]){case"\\cell":var y=x.slice(w,N.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++b,y.length){var k={v:y,t:"s"};Array.isArray(f)?f[v][b]=k:f[gt({r:v,c:b})]=k}break}w=N.lastIndex}b>m.e.c&&(m.e.c=b)}),f["!ref"]=Ht(m),f}function t(o,l){return bs(e(o,l),l)}function s(o){for(var l=["{\\rtf1\\ansi"],u=kt(o["!ref"]),f,h=Array.isArray(o),m=u.s.r;m<=u.e.r;++m){l.push("\\trowd\\trautofit1");for(var x=u.s.c;x<=u.e.c;++x)l.push("\\cellx"+(x+1));for(l.push("\\pard\\intbl"),x=u.s.c;x<=u.e.c;++x){var v=gt({r:m,c:x});f=h?(o[m]||[])[x]:o[v],!(!f||f.v==null&&(!f.f||f.F))&&(l.push(" "+(f.w||(ra(f),f.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:s}})();function Vx(e){for(var r=0,t=1;r!=3;++r)t=t*256+(e[r]>255?255:e[r]<0?0:e[r]);return t.toString(16).toUpperCase().slice(1)}var c5=6,Zn=c5;function Ic(e){return Math.floor((e+Math.round(128/Zn)/256)*Zn)}function Lc(e){return Math.floor((e-5)/Zn*100+.5)/100}function xd(e){return Math.round((e*Zn+5)/Zn*256)/256}function Kd(e){e.width?(e.wpx=Ic(e.width),e.wch=Lc(e.wpx),e.MDW=Zn):e.wpx?(e.wch=Lc(e.wpx),e.width=xd(e.wch),e.MDW=Zn):typeof e.wch=="number"&&(e.width=xd(e.wch),e.wpx=Ic(e.width),e.MDW=Zn),e.customWidth&&delete e.customWidth}var u5=96,Ig=u5;function Bc(e){return e*96/Ig}function Lg(e){return e*Ig/96}function d5(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var s=t[0];s<=t[1];++s)e[s]!=null&&(r[r.length]=Fe("numFmt",null,{numFmtId:s,formatCode:pt(e[s])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=Fe("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function f5(e){var r=[];return r[r.length]=Fe("cellXfs",null),e.forEach(function(t){r[r.length]=Fe("xf",null,t)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=Fe("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function Bg(e,r){var t=[Vt,Fe("styleSheet",null,{xmlns:bi[0],"xmlns:vt":er.vt})],s;return e.SSF&&(s=d5(e.SSF))!=null&&(t[t.length]=s),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=f5(r.cellXfs))&&(t[t.length]=s),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function h5(e,r){var t=e.read_shift(2),s=gr(e);return[t,s]}function m5(e,r,t){t||(t=ge(6+4*r.length)),t.write_shift(2,e),rr(r,t);var s=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),s}function x5(e,r,t){var s={};s.sz=e.read_shift(2)/20;var o=rN(e);o.fItalic&&(s.italic=1),o.fCondense&&(s.condense=1),o.fExtend&&(s.extend=1),o.fShadow&&(s.shadow=1),o.fOutline&&(s.outline=1),o.fStrikeout&&(s.strike=1);var l=e.read_shift(2);switch(l===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var u=e.read_shift(1);u!=0&&(s.underline=u);var f=e.read_shift(1);f>0&&(s.family=f);var h=e.read_shift(1);switch(h>0&&(s.charset=h),e.l++,s.color=tN(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=gr(e),s}function p5(e,r){r||(r=ge(153)),r.write_shift(2,e.sz*20),nN(e,r),r.write_shift(2,e.bold?700:400);var t=0;e.vertAlign=="superscript"?t=1:e.vertAlign=="subscript"&&(t=2),r.write_shift(2,t),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),Mc(e.color,r);var s=0;return s=2,r.write_shift(1,s),rr(e.name,r),r.length>r.l?r.slice(0,r.l):r}var g5=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ku,v5=In;function Gx(e,r){r||(r=ge(84)),Ku||(Ku=Id(g5));var t=Ku[e.patternType];t==null&&(t=40),r.write_shift(4,t);var s=0;if(t!=40)for(Mc({auto:1},r),Mc({auto:1},r);s<12;++s)r.write_shift(4,0);else{for(;s<4;++s)r.write_shift(4,0);for(;s<12;++s)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function y5(e,r){var t=e.l+r,s=e.read_shift(2),o=e.read_shift(2);return e.l=t,{ixfe:s,numFmtId:o}}function zg(e,r,t){t||(t=ge(16)),t.write_shift(2,r||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var s=0;return t.write_shift(1,s),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function mo(e,r){return r||(r=ge(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var b5=In;function w5(e,r){return r||(r=ge(51)),r.write_shift(1,0),mo(null,r),mo(null,r),mo(null,r),mo(null,r),mo(null,r),r.length>r.l?r.slice(0,r.l):r}function N5(e,r){return r||(r=ge(52)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Oc(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function _5(e,r,t){var s=ge(2052);return s.write_shift(4,e),Oc(r,s),Oc(t,s),s.length>s.l?s.slice(0,s.l):s}function j5(e,r){if(r){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var o=s[0];o<=s[1];++o)r[o]!=null&&++t}),t!=0&&(we(e,615,yn(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var o=s[0];o<=s[1];++o)r[o]!=null&&we(e,44,m5(o,r[o]))}),we(e,616))}}function S5(e){var r=1;we(e,611,yn(r)),we(e,43,p5({sz:12,color:{theme:1},name:"Calibri",family:2})),we(e,612)}function k5(e){var r=2;we(e,603,yn(r)),we(e,45,Gx({patternType:"none"})),we(e,45,Gx({patternType:"gray125"})),we(e,604)}function E5(e){var r=1;we(e,613,yn(r)),we(e,46,w5()),we(e,614)}function T5(e){var r=1;we(e,626,yn(r)),we(e,47,zg({numFmtId:0},65535)),we(e,627)}function C5(e,r){we(e,617,yn(r.length)),r.forEach(function(t){we(e,47,zg(t,0))}),we(e,618)}function A5(e){var r=1;we(e,619,yn(r)),we(e,48,N5({xfId:0,name:"Normal"})),we(e,620)}function D5(e){var r=0;we(e,505,yn(r)),we(e,506)}function P5(e){var r=0;we(e,508,_5(r,"TableStyleMedium9","PivotStyleMedium4")),we(e,509)}function F5(e,r){var t=Br();return we(t,278),j5(t,e.SSF),S5(t),k5(t),E5(t),T5(t),C5(t,r.cellXfs),A5(t),D5(t),P5(t),we(t,279),t.end()}function Ug(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var t=[Vt];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function O5(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:gr(e)}}function M5(e){var r=ge(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),rr(e.name,r),r.slice(0,r.l)}function R5(e){for(var r=[],t=e.read_shift(4);t-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function I5(e){var r=ge(4+8*e.length);r.write_shift(4,e.length);for(var t=0;t<e.length;++t)r.write_shift(4,e[t][0]),r.write_shift(4,e[t][1]);return r}function L5(e,r){var t=ge(8+2*r.length);return t.write_shift(4,e),rr(r,t),t.slice(0,t.l)}function B5(e){return e.l+=4,e.read_shift(4)!=0}function z5(e,r){var t=ge(8);return t.write_shift(4,e),t.write_shift(4,1),t}function U5(){var e=Br();return we(e,332),we(e,334,yn(1)),we(e,335,M5({name:"XLDAPR",version:12e4,flags:3496657072})),we(e,336),we(e,339,L5(1,"XLDAPR")),we(e,52),we(e,35,yn(514)),we(e,4096,yn(0)),we(e,4097,on(1)),we(e,36),we(e,53),we(e,340),we(e,337,z5(1)),we(e,51,I5([[1,0]])),we(e,338),we(e,333),e.end()}function Wg(){var e=[Vt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function W5(e){var r={};r.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),r.r=gt(t);var s=e.read_shift(1);return s&2&&(r.l="1"),s&8&&(r.a="1"),r}var oi=1024;function $g(e,r){for(var t=[21600,21600],s=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),o=[Fe("xml",null,{"xmlns:v":Xr.v,"xmlns:o":Xr.o,"xmlns:x":Xr.x,"xmlns:mv":Xr.mv}).replace(/\/>/,">"),Fe("o:shapelayout",Fe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Fe("v:shapetype",[Fe("v:stroke",null,{joinstyle:"miter"}),Fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:s})];oi<e*1e3;)oi+=1e3;return r.forEach(function(l){var u=tr(l[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var h=f.type=="gradient"?Fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=Fe("v:fill",h,f),x={on:"t",obscured:"t"};++oi,o=o.concat(["<v:shape"+Ro({id:"_x0000_s"+oi,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,Fe("v:shadow",null,x),Fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",lr("x:Anchor",[u.c+1,0,u.r+1,0,u.c+3,20,u.r+5,20].join(",")),lr("x:AutoFill","False"),lr("x:Row",String(u.r)),lr("x:Column",String(u.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),o.push("</xml>"),o.join("")}function Hg(e){var r=[Vt,Fe("comments",null,{xmlns:bi[0]})],t=[];return r.push("<authors>"),e.forEach(function(s){s[1].forEach(function(o){var l=pt(o.a);t.indexOf(l)==-1&&(t.push(l),r.push("<author>"+l+"</author>")),o.T&&o.ID&&t.indexOf("tc="+o.ID)==-1&&(t.push("tc="+o.ID),r.push("<author>tc="+o.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(s){var o=0,l=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?o=t.indexOf("tc="+s[1][0].ID):s[1].forEach(function(h){h.a&&(o=t.indexOf(pt(h.a))),l.push(h.t||"")}),r.push('<comment ref="'+s[0]+'" authorId="'+o+'"><text>'),l.length<=1)r.push(lr("t",pt(l[0]||"")));else{for(var u=`Comment:
    `+l[0]+`
`,f=1;f<l.length;++f)u+=`Reply:
    `+l[f]+`
`;r.push(lr("t",pt(u)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function $5(e,r,t){var s=[Vt,Fe("ThreadedComments",null,{xmlns:er.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(o){var l="";(o[1]||[]).forEach(function(u,f){if(!u.T){delete u.ID;return}u.a&&r.indexOf(u.a)==-1&&r.push(u.a);var h={ref:o[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};f==0?l=h.id:h.parentId=l,u.ID=h.id,u.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(u.a)).slice(-12)+"}"),s.push(Fe("threadedComment",lr("text",u.t||""),h))})}),s.push("</ThreadedComments>"),s.join("")}function H5(e){var r=[Vt,Fe("personList",null,{xmlns:er.TCMNT,"xmlns:x":bi[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,s){r.push(Fe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:t,providerId:"None"}))}),r.push("</personList>"),r.join("")}function V5(e){var r={};r.iauthor=e.read_shift(4);var t=js(e);return r.rfx=t.s,r.ref=gt(t.s),e.l+=16,r}function G5(e,r){return r==null&&(r=ge(36)),r.write_shift(4,e[1].iauthor),Ni(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var Y5=gr;function X5(e){return rr(e.slice(0,54))}function K5(e){var r=Br(),t=[];return we(r,628),we(r,630),e.forEach(function(s){s[1].forEach(function(o){t.indexOf(o.a)>-1||(t.push(o.a.slice(0,54)),we(r,632,X5(o.a)))})}),we(r,631),we(r,633),e.forEach(function(s){s[1].forEach(function(o){o.iauthor=t.indexOf(o.a);var l={s:tr(s[0]),e:tr(s[0])};we(r,635,G5([l,o])),o.t&&o.t.length>0&&we(r,637,Q3(o)),we(r,636),delete o.iauthor})}),we(r,634),we(r,629),r.end()}function q5(e,r){r.FullPaths.forEach(function(t,s){if(s!=0){var o=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");o.slice(-1)!=="/"&&vt.utils.cfb_add(e,o,r.FileIndex[s].content)}})}var Vg=["xlsb","xlsm","xlam","biff8","xla"],Q5=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function t(s,o,l,u){var f=!1,h=!1;l.length==0?h=!0:l.charAt(0)=="["&&(h=!0,l=l.slice(1,-1)),u.length==0?f=!0:u.charAt(0)=="["&&(f=!0,u=u.slice(1,-1));var m=l.length>0?parseInt(l,10)|0:0,x=u.length>0?parseInt(u,10)|0:0;return f?x+=r.c:--x,h?m+=r.r:--m,o+(f?"":"$")+pr(x)+(h?"":"$")+cr(m)}return function(o,l){return r=l,o.replace(e,t)}})(),qd=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Qd=(function(){return function(r,t){return r.replace(qd,function(s,o,l,u,f,h){var m=Hd(u)-(l?0:t.c),x=$d(h)-(f?0:t.r),v=x==0?"":f?x+1:"["+x+"]",N=m==0?"":l?m+1:"["+m+"]";return o+"R"+v+"C"+N})}})();function J5(e,r){return e.replace(qd,function(t,s,o,l,u,f){return s+(o=="$"?o+l:pr(Hd(l)+r.c))+(u=="$"?u+f:cr($d(f)+r.r))})}function Z5(e){return e.length!=1}function $t(e){e.l+=1}function Wa(e,r){var t=e.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Gg(e,r,t){var s=2;if(t){if(t.biff>=2&&t.biff<=5)return Yg(e);t.biff==12&&(s=4)}var o=e.read_shift(s),l=e.read_shift(s),u=Wa(e),f=Wa(e);return{s:{r:o,c:u[0],cRel:u[1],rRel:u[2]},e:{r:l,c:f[0],cRel:f[1],rRel:f[2]}}}function Yg(e){var r=Wa(e),t=Wa(e),s=e.read_shift(1),o=e.read_shift(1);return{s:{r:r[0],c:s,cRel:r[1],rRel:r[2]},e:{r:t[0],c:o,cRel:t[1],rRel:t[2]}}}function e_(e,r,t){if(t.biff<8)return Yg(e);var s=e.read_shift(t.biff==12?4:2),o=e.read_shift(t.biff==12?4:2),l=Wa(e),u=Wa(e);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:u[0],cRel:u[1],rRel:u[2]}}}function Xg(e,r,t){if(t&&t.biff>=2&&t.biff<=5)return t_(e);var s=e.read_shift(t&&t.biff==12?4:2),o=Wa(e);return{r:s,c:o[0],cRel:o[1],rRel:o[2]}}function t_(e){var r=Wa(e),t=e.read_shift(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function r_(e){var r=e.read_shift(2),t=e.read_shift(2);return{r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function n_(e,r,t){var s=t&&t.biff?t.biff:8;if(s>=2&&s<=5)return a_(e);var o=e.read_shift(s>=12?4:2),l=e.read_shift(2),u=(l&16384)>>14,f=(l&32768)>>15;if(l&=16383,f==1)for(;o>524287;)o-=1048576;if(u==1)for(;l>8191;)l=l-16384;return{r:o,c:l,cRel:u,rRel:f}}function a_(e){var r=e.read_shift(2),t=e.read_shift(1),s=(r&32768)>>15,o=(r&16384)>>14;return r&=16383,s==1&&r>=8192&&(r=r-16384),o==1&&t>=128&&(t=t-256),{r,c:t,cRel:o,rRel:s}}function s_(e,r,t){var s=(e[e.l++]&96)>>5,o=Gg(e,t.biff>=2&&t.biff<=5?6:8,t);return[s,o]}function i_(e,r,t){var s=(e[e.l++]&96)>>5,o=e.read_shift(2,"i"),l=8;if(t)switch(t.biff){case 5:e.l+=12,l=6;break;case 12:l=12;break}var u=Gg(e,l,t);return[s,o,u]}function o_(e,r,t){var s=(e[e.l++]&96)>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[s]}function l_(e,r,t){var s=(e[e.l++]&96)>>5,o=e.read_shift(2),l=8;if(t)switch(t.biff){case 5:e.l+=12,l=6;break;case 12:l=12;break}return e.l+=l,[s,o]}function c_(e,r,t){var s=(e[e.l++]&96)>>5,o=e_(e,r-1,t);return[s,o]}function u_(e,r,t){var s=(e[e.l++]&96)>>5;return e.l+=t.biff==2?6:t.biff==12?14:7,[s]}function Yx(e){var r=e[e.l+1]&1,t=1;return e.l+=4,[r,t]}function d_(e,r,t){e.l+=2;for(var s=e.read_shift(t&&t.biff==2?1:2),o=[],l=0;l<=s;++l)o.push(e.read_shift(t&&t.biff==2?1:2));return o}function f_(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(t&&t.biff==2?1:2)]}function h_(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(t&&t.biff==2?1:2)]}function m_(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function x_(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=t&&t.biff==2?3:4,[s]}function Kg(e){var r=e.read_shift(1),t=e.read_shift(1);return[r,t]}function p_(e){return e.read_shift(2),Kg(e)}function g_(e){return e.read_shift(2),Kg(e)}function v_(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var o=Xg(e,0,t);return[s,o]}function y_(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var o=n_(e,0,t);return[s,o]}function b_(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(2);t&&t.biff==5&&(e.l+=12);var l=Xg(e,0,t);return[s,o,l]}function w_(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var o=e.read_shift(t&&t.biff<=3?1:2);return[wj[o],Jg[o],s]}function N_(e,r,t){var s=e[e.l++],o=e.read_shift(1),l=t&&t.biff<=3?[s==88?-1:0,e.read_shift(1)]:__(e);return[o,(l[0]===0?Jg:bj)[l[1]]]}function __(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function j_(e,r,t){e.l+=t&&t.biff==2?3:4}function S_(e,r,t){if(e.l++,t&&t.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),o=e.read_shift(t&&t.biff==2?1:2);return[s,o]}function k_(e){return e.l++,Ho[e.read_shift(1)]}function E_(e){return e.l++,e.read_shift(2)}function T_(e){return e.l++,e.read_shift(1)!==0}function C_(e){return e.l++,_i(e)}function A_(e,r,t){return e.l++,Dg(e,r-1,t)}function D_(e,r){var t=[e.read_shift(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=bN(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:t[1]=Ho[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=_i(e);break;case 2:t[1]=jN(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function P_(e,r,t){for(var s=e.read_shift(t.biff==12?4:2),o=[],l=0;l!=s;++l)o.push((t.biff==12?js:EN)(e));return o}function F_(e,r,t){var s=0,o=0;t.biff==12?(s=e.read_shift(4),o=e.read_shift(4)):(o=1+e.read_shift(1),s=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--s,--o==0&&(o=256));for(var l=0,u=[];l!=s&&(u[l]=[]);++l)for(var f=0;f!=o;++f)u[l][f]=D_(e,t.biff);return u}function O_(e,r,t){var s=e.read_shift(1)>>>5&3,o=!t||t.biff>=8?4:2,l=e.read_shift(o);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,l]}function M_(e,r,t){if(t.biff==5)return R_(e);var s=e.read_shift(1)>>>5&3,o=e.read_shift(2),l=e.read_shift(4);return[s,o,l]}function R_(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[r,t,s]}function I_(e,r,t){var s=e.read_shift(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var o=e.read_shift(t&&t.biff==2?1:2);return[s,o]}function L_(e,r,t){var s=e.read_shift(1)>>>5&3,o=e.read_shift(t&&t.biff==2?1:2);return[s,o]}function B_(e,r,t){var s=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,t.biff==12&&(e.l+=2),[s]}function z_(e,r,t){var s=(e[e.l++]&96)>>5,o=e.read_shift(2),l=4;if(t)switch(t.biff){case 5:l=15;break;case 12:l=6;break}return e.l+=l,[s,o]}var U_=In,W_=In,$_=In;function Vo(e,r,t){return e.l+=2,[r_(e)]}function Jd(e){return e.l+=6,[]}var H_=Vo,V_=Jd,G_=Jd,Y_=Vo;function qg(e){return e.l+=2,[Cg(e),e.read_shift(2)&1]}var X_=Vo,K_=qg,q_=Jd,Q_=Vo,J_=Vo,Z_=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ej(e){e.l+=2;var r=e.read_shift(2),t=e.read_shift(2),s=e.read_shift(4),o=e.read_shift(2),l=e.read_shift(2),u=Z_[t>>2&31];return{ixti:r,coltype:t&3,rt:u,idx:s,c:o,C:l}}function tj(e){return e.l+=2,[e.read_shift(4)]}function rj(e,r,t){return e.l+=5,e.l+=2,e.l+=t.biff==2?1:4,["PTGSHEET"]}function nj(e,r,t){return e.l+=t.biff==2?4:5,["PTGENDSHEET"]}function aj(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function sj(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function ij(e){return e.l+=4,[0,0]}var Xx={1:{n:"PtgExp",f:S_},2:{n:"PtgTbl",f:$_},3:{n:"PtgAdd",f:$t},4:{n:"PtgSub",f:$t},5:{n:"PtgMul",f:$t},6:{n:"PtgDiv",f:$t},7:{n:"PtgPower",f:$t},8:{n:"PtgConcat",f:$t},9:{n:"PtgLt",f:$t},10:{n:"PtgLe",f:$t},11:{n:"PtgEq",f:$t},12:{n:"PtgGe",f:$t},13:{n:"PtgGt",f:$t},14:{n:"PtgNe",f:$t},15:{n:"PtgIsect",f:$t},16:{n:"PtgUnion",f:$t},17:{n:"PtgRange",f:$t},18:{n:"PtgUplus",f:$t},19:{n:"PtgUminus",f:$t},20:{n:"PtgPercent",f:$t},21:{n:"PtgParen",f:$t},22:{n:"PtgMissArg",f:$t},23:{n:"PtgStr",f:A_},26:{n:"PtgSheet",f:rj},27:{n:"PtgEndSheet",f:nj},28:{n:"PtgErr",f:k_},29:{n:"PtgBool",f:T_},30:{n:"PtgInt",f:E_},31:{n:"PtgNum",f:C_},32:{n:"PtgArray",f:u_},33:{n:"PtgFunc",f:w_},34:{n:"PtgFuncVar",f:N_},35:{n:"PtgName",f:O_},36:{n:"PtgRef",f:v_},37:{n:"PtgArea",f:s_},38:{n:"PtgMemArea",f:I_},39:{n:"PtgMemErr",f:U_},40:{n:"PtgMemNoMem",f:W_},41:{n:"PtgMemFunc",f:L_},42:{n:"PtgRefErr",f:B_},43:{n:"PtgAreaErr",f:o_},44:{n:"PtgRefN",f:y_},45:{n:"PtgAreaN",f:c_},46:{n:"PtgMemAreaN",f:aj},47:{n:"PtgMemNoMemN",f:sj},57:{n:"PtgNameX",f:M_},58:{n:"PtgRef3d",f:b_},59:{n:"PtgArea3d",f:i_},60:{n:"PtgRefErr3d",f:z_},61:{n:"PtgAreaErr3d",f:l_},255:{}},oj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lj={1:{n:"PtgElfLel",f:qg},2:{n:"PtgElfRw",f:Q_},3:{n:"PtgElfCol",f:H_},6:{n:"PtgElfRwV",f:J_},7:{n:"PtgElfColV",f:Y_},10:{n:"PtgElfRadical",f:X_},11:{n:"PtgElfRadicalS",f:q_},13:{n:"PtgElfColS",f:V_},15:{n:"PtgElfColSV",f:G_},16:{n:"PtgElfRadicalLel",f:K_},25:{n:"PtgList",f:ej},29:{n:"PtgSxName",f:tj},255:{}},cj={0:{n:"PtgAttrNoop",f:ij},1:{n:"PtgAttrSemi",f:x_},2:{n:"PtgAttrIf",f:h_},4:{n:"PtgAttrChoose",f:d_},8:{n:"PtgAttrGoto",f:f_},16:{n:"PtgAttrSum",f:j_},32:{n:"PtgAttrBaxcel",f:Yx},33:{n:"PtgAttrBaxcel",f:Yx},64:{n:"PtgAttrSpace",f:p_},65:{n:"PtgAttrSpaceSemi",f:g_},128:{n:"PtgAttrIfError",f:m_},255:{}};function uj(e,r,t,s){if(s.biff<8)return In(e,r);for(var o=e.l+r,l=[],u=0;u!==t.length;++u)switch(t[u][0]){case"PtgArray":t[u][1]=F_(e,0,s),l.push(t[u][1]);break;case"PtgMemArea":t[u][2]=P_(e,t[u][1],s),l.push(t[u][2]);break;case"PtgExp":s&&s.biff==12&&(t[u][1][1]=e.read_shift(4),l.push(t[u][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[u][0]}return r=o-e.l,r!==0&&l.push(In(e,r)),l}function dj(e,r,t){for(var s=e.l+r,o,l,u=[];s!=e.l;)r=s-e.l,l=e[e.l],o=Xx[l]||Xx[oj[l]],(l===24||l===25)&&(o=(l===24?lj:cj)[e[e.l+1]]),!o||!o.f?In(e,r):u.push([o.n,o.f(e,r,t)]);return u}function fj(e){for(var r=[],t=0;t<e.length;++t){for(var s=e[t],o=[],l=0;l<s.length;++l){var u=s[l];if(u)switch(u[0]){case 2:o.push('"'+u[1].replace(/"/g,'""')+'"');break;default:o.push(u[1])}else o.push("")}r.push(o.join(","))}return r.join(";")}var hj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mj(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Qg(e,r,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[r];if(t.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!s)return"SH33TJSERR1";var o="";if(t.biff>8)switch(e[s[0]][0]){case 357:return o=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?o:o+":"+e.SheetNames[s[2]];case 358:return t.SID!=null?e.SheetNames[t.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return o=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?o:o+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return e[s[0]][0][3]?(o=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?o:o+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function Kx(e,r,t){var s=Qg(e,r,t);return s=="#REF"?s:mj(s,t)}function gi(e,r,t,s,o){var l=o&&o.biff||8,u={s:{c:0,r:0}},f=[],h,m,x,v=0,N=0,w,_="";if(!e[0]||!e[0][0])return"";for(var b=-1,y="",k=0,j=e[0].length;k<j;++k){var T=e[0][k];switch(T[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),m=f.pop(),b>=0){switch(e[0][b][1][0]){case 0:y=Ot(" ",e[0][b][1][1]);break;case 1:y=Ot("\r",e[0][b][1][1]);break;default:if(y="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}m=m+y,b=-1}f.push(m+hj[T[0]]+h);break;case"PtgIsect":h=f.pop(),m=f.pop(),f.push(m+" "+h);break;case"PtgUnion":h=f.pop(),m=f.pop(),f.push(m+","+h);break;case"PtgRange":h=f.pop(),m=f.pop(),f.push(m+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=jo(T[1][1],u,o),f.push(So(x,l));break;case"PtgRefN":x=t?jo(T[1][1],t,o):T[1][1],f.push(So(x,l));break;case"PtgRef3d":v=T[1][1],x=jo(T[1][2],u,o),_=Kx(s,v,o),f.push(_+"!"+So(x,l));break;case"PtgFunc":case"PtgFuncVar":var M=T[1][0],V=T[1][1];M||(M=0),M&=127;var X=M==0?[]:f.slice(-M);f.length-=M,V==="User"&&(V=X.shift()),f.push(V+"("+X.join(",")+")");break;case"PtgBool":f.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(T[1]);break;case"PtgNum":f.push(String(T[1]));break;case"PtgStr":f.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(T[1]);break;case"PtgAreaN":w=Fx(T[1][1],t?{s:t}:u,o),f.push(Yu(w,o));break;case"PtgArea":w=Fx(T[1][1],u,o),f.push(Yu(w,o));break;case"PtgArea3d":v=T[1][1],w=T[1][2],_=Kx(s,v,o),f.push(_+"!"+Yu(w,o));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":N=T[1][2];var Y=(s.names||[])[N-1]||(s[0]||[])[N],te=Y?Y.Name:"SH33TJSNAME"+String(N);te&&te.slice(0,6)=="_xlfn."&&!o.xlfn&&(te=te.slice(6)),f.push(te);break;case"PtgNameX":var J=T[1][1];N=T[1][2];var de;if(o.biff<=5)J<0&&(J=-J),s[J]&&(de=s[J][N]);else{var pe="";if(((s[J]||[])[0]||[])[0]==14849||(((s[J]||[])[0]||[])[0]==1025?s[J][N]&&s[J][N].itab>0&&(pe=s.SheetNames[s[J][N].itab-1]+"!"):pe=s.SheetNames[N-1]+"!"),s[J]&&s[J][N])pe+=s[J][N].Name;else if(s[0]&&s[0][N])pe+=s[0][N].Name;else{var q=(Qg(s,J,o)||"").split(";;");q[N-1]?pe=q[N-1]:pe+="SH33TJSERRX"}f.push(pe);break}de||(de={Name:"SH33TJSERRY"}),f.push(de.Name);break;case"PtgParen":var ie="(",Pe=")";if(b>=0){switch(y="",e[0][b][1][0]){case 2:ie=Ot(" ",e[0][b][1][1])+ie;break;case 3:ie=Ot("\r",e[0][b][1][1])+ie;break;case 4:Pe=Ot(" ",e[0][b][1][1])+Pe;break;case 5:Pe=Ot("\r",e[0][b][1][1])+Pe;break;default:if(o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}f.push(ie+f.pop()+Pe);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":x={c:T[1][1],r:T[1][0]};var ke={c:t.c,r:t.r};if(s.sharedf[gt(x)]){var We=s.sharedf[gt(x)];f.push(gi(We,u,ke,s,o))}else{var ye=!1;for(h=0;h!=s.arrayf.length;++h)if(m=s.arrayf[h],!(x.c<m[0].s.c||x.c>m[0].e.c)&&!(x.r<m[0].s.r||x.r>m[0].e.r)){f.push(gi(m[1],u,ke,s,o)),ye=!0;break}ye||f.push(T[1])}break;case"PtgArray":f.push("{"+fj(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(o.biff!=3&&b>=0&&L.indexOf(e[0][k][0])==-1){T=e[0][b];var re=!0;switch(T[1][0]){case 4:re=!1;case 0:y=Ot(" ",T[1][1]);break;case 5:re=!1;case 1:y=Ot("\r",T[1][1]);break;default:if(y="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}f.push((re?y:"")+f.pop()+(re?"":y)),b=-1}}if(f.length>1&&o.WTF)throw new Error("bad formula stack");return f[0]}function xj(e){if(e==null){var r=ge(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return vs(e);return vs(0)}function pj(e,r,t,s,o){var l=ys(r,t,o),u=xj(e.v),f=ge(6),h=33;f.write_shift(2,h),f.write_shift(4,0);for(var m=ge(e.bf.length),x=0;x<e.bf.length;++x)m[x]=e.bf[x];var v=or([l,u,f,m]);return v}function Qc(e,r,t){var s=e.read_shift(4),o=dj(e,s,t),l=e.read_shift(4),u=l>0?uj(e,l,o,t):null;return[o,u]}var gj=Qc,Jc=Qc,vj=Qc,yj=Qc,bj={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Jg={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wj={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Nj(e){var r="of:="+e.replace(qd,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function _j(e){return e.replace(/\./,"!")}var ko=typeof Map!="undefined";function Zd(e,r,t){var s=0,o=e.length;if(t){if(ko?t.has(r):Object.prototype.hasOwnProperty.call(t,r)){for(var l=ko?t.get(r):t[r];s<l.length;++s)if(e[l[s]].t===r)return e.Count++,l[s]}}else for(;s<o;++s)if(e[s].t===r)return e.Count++,s;return e[o]={t:r},e.Count++,e.Unique++,t&&(ko?(t.has(r)||t.set(r,[]),t.get(r).push(o)):(Object.prototype.hasOwnProperty.call(t,r)||(t[r]=[]),t[r].push(o))),o}function Zc(e,r){var t={min:e+1,max:e+1},s=-1;return r.MDW&&(Zn=r.MDW),r.width!=null?t.customWidth=1:r.wpx!=null?s=Lc(r.wpx):r.wch!=null&&(s=r.wch),s>-1?(t.width=xd(s),t.customWidth=1):r.width!=null&&(t.width=r.width),r.hidden&&(t.hidden=!0),r.level!=null&&(t.outlineLevel=t.level=r.level),t}function Zg(e,r){if(e){var t=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=t[0]),e.right==null&&(e.right=t[1]),e.top==null&&(e.top=t[2]),e.bottom==null&&(e.bottom=t[3]),e.header==null&&(e.header=t[4]),e.footer==null&&(e.footer=t[5])}}function Ga(e,r,t){var s=t.revssf[r.z!=null?r.z:"General"],o=60,l=e.length;if(s==null&&t.ssf){for(;o<392;++o)if(t.ssf[o]==null){Xp(r.z,o),t.ssf[o]=r.z,t.revssf[r.z]=s=o;break}}for(o=0;o!=l;++o)if(e[o].numFmtId===s)return o;return e[l]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function jj(e,r,t){if(e&&e["!ref"]){var s=kt(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}function Sj(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)r+='<mergeCell ref="'+Ht(e[t])+'"/>';return r+"</mergeCells>"}function kj(e,r,t,s,o){var l=!1,u={},f=null;if(s.bookType!=="xlsx"&&r.vbaraw){var h=r.SheetNames[t];try{r.Workbook&&(h=r.Workbook.Sheets[t].CodeName||h)}catch{}l=!0,u.codeName=Mo(pt(h))}if(e&&e["!outline"]){var m={summaryBelow:1,summaryRight:1};e["!outline"].above&&(m.summaryBelow=0),e["!outline"].left&&(m.summaryRight=0),f=(f||"")+Fe("outlinePr",null,m)}!l&&!f||(o[o.length]=Fe("sheetPr",f,u))}var Ej=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Tj=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Cj(e){var r={sheet:1};return Ej.forEach(function(t){e[t]!=null&&e[t]&&(r[t]="1")}),Tj.forEach(function(t){e[t]!=null&&!e[t]&&(r[t]="0")}),e.password&&(r.password=Rg(e.password).toString(16).toUpperCase()),Fe("sheetProtection",null,r)}function Aj(e){return Zg(e),Fe("pageMargins",null,e)}function Dj(e,r){for(var t=["<cols>"],s,o=0;o!=r.length;++o)(s=r[o])&&(t[t.length]=Fe("col",null,Zc(o,s)));return t[t.length]="</cols>",t.join("")}function Pj(e,r,t,s){var o=typeof e.ref=="string"?e.ref:Ht(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Qr(o);u.s.r==u.e.r&&(u.e.r=Qr(r["!ref"]).e.r,o=Ht(u));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==s){h.Ref="'"+t.SheetNames[s]+"'!"+o;break}}return f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+o}),Fe("autoFilter",null,{ref:o})}function Fj(e,r,t,s){var o={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(o.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Fe("sheetViews",Fe("sheetView",null,o),{})}function Oj(e,r,t,s){if(e.c&&t["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var o="",l=e.t,u=e.v;if(e.t!=="z")switch(e.t){case"b":o=e.v?"1":"0";break;case"n":o=""+e.v;break;case"e":o=Ho[e.v];break;case"d":s&&s.cellDates?o=Er(e.v,-1).toISOString():(e=Ur(e),e.t="n",o=""+(e.v=zr(Er(e.v)))),typeof e.z=="undefined"&&(e.z=Mt[14]);break;default:o=e.v;break}var f=lr("v",pt(o)),h={r},m=Ga(s.cellXfs,e,s);switch(m!==0&&(h.s=m),e.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){f=lr("v",""+Zd(s.Strings,e.v,s.revStrings)),h.t="s";break}h.t="str";break}if(e.t!=l&&(e.t=l,e.v=u),typeof e.f=="string"&&e.f){var x=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;f=Fe("f",pt(e.f),x)+(e.v!=null?f:"")}return e.l&&t["!links"].push([r,e.l]),e.D&&(h.cm=1),Fe("c",f,h)}function Mj(e,r,t,s){var o=[],l=[],u=kt(e["!ref"]),f="",h,m="",x=[],v=0,N=0,w=e["!rows"],_=Array.isArray(e),b={r:m},y,k=-1;for(N=u.s.c;N<=u.e.c;++N)x[N]=pr(N);for(v=u.s.r;v<=u.e.r;++v){for(l=[],m=cr(v),N=u.s.c;N<=u.e.c;++N){h=x[N]+m;var j=_?(e[v]||[])[N]:e[h];j!==void 0&&(f=Oj(j,h,e,r))!=null&&l.push(f)}(l.length>0||w&&w[v])&&(b={r:m},w&&w[v]&&(y=w[v],y.hidden&&(b.hidden=1),k=-1,y.hpx?k=Bc(y.hpx):y.hpt&&(k=y.hpt),k>-1&&(b.ht=k,b.customHeight=1),y.level&&(b.outlineLevel=y.level)),o[o.length]=Fe("row",l.join(""),b))}if(w)for(;v<w.length;++v)w&&w[v]&&(b={r:v+1},y=w[v],y.hidden&&(b.hidden=1),k=-1,y.hpx?k=Bc(y.hpx):y.hpt&&(k=y.hpt),k>-1&&(b.ht=k,b.customHeight=1),y.level&&(b.outlineLevel=y.level),o[o.length]=Fe("row","",b));return o.join("")}function e1(e,r,t,s){var o=[Vt,Fe("worksheet",null,{xmlns:bi[0],"xmlns:r":er.r})],l=t.SheetNames[e],u=0,f="",h=t.Sheets[l];h==null&&(h={});var m=h["!ref"]||"A1",x=kt(m);if(x.e.c>16383||x.e.r>1048575){if(r.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575),m=Ht(x)}s||(s={}),h["!comments"]=[];var v=[];kj(h,t,e,r,o),o[o.length]=Fe("dimension",null,{ref:m}),o[o.length]=Fj(h,r,e,t),r.sheetFormat&&(o[o.length]=Fe("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(o[o.length]=Dj(h,h["!cols"])),o[u=o.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(f=Mj(h,r),f.length>0&&(o[o.length]=f)),o.length>u+1&&(o[o.length]="</sheetData>",o[u]=o[u].replace("/>",">")),h["!protect"]&&(o[o.length]=Cj(h["!protect"])),h["!autofilter"]!=null&&(o[o.length]=Pj(h["!autofilter"],h,t,e)),h["!merges"]!=null&&h["!merges"].length>0&&(o[o.length]=Sj(h["!merges"]));var N=-1,w,_=-1;return h["!links"].length>0&&(o[o.length]="<hyperlinks>",h["!links"].forEach(function(b){b[1].Target&&(w={ref:b[0]},b[1].Target.charAt(0)!="#"&&(_=xt(s,-1,pt(b[1].Target).replace(/#.*$/,""),ct.HLINK),w["r:id"]="rId"+_),(N=b[1].Target.indexOf("#"))>-1&&(w.location=pt(b[1].Target.slice(N+1))),b[1].Tooltip&&(w.tooltip=pt(b[1].Tooltip)),o[o.length]=Fe("hyperlink",null,w))}),o[o.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(o[o.length]=Aj(h["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(o[o.length]=lr("ignoredErrors",Fe("ignoredError",null,{numberStoredAsText:1,sqref:m}))),v.length>0&&(_=xt(s,-1,"../drawings/drawing"+(e+1)+".xml",ct.DRAW),o[o.length]=Fe("drawing",null,{"r:id":"rId"+_}),h["!drawing"]=v),h["!comments"].length>0&&(_=xt(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ct.VML),o[o.length]=Fe("legacyDrawing",null,{"r:id":"rId"+_}),h["!legacy"]=_),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function Rj(e,r){var t={},s=e.l+r;t.r=e.read_shift(4),e.l+=4;var o=e.read_shift(2);e.l+=1;var l=e.read_shift(1);return e.l=s,l&7&&(t.level=l&7),l&16&&(t.hidden=!0),l&32&&(t.hpt=o/20),t}function Ij(e,r,t){var s=ge(145),o=(t["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var l=320;o.hpx?l=Bc(o.hpx)*20:o.hpt&&(l=o.hpt*20),s.write_shift(2,l),s.write_shift(1,0);var u=0;o.level&&(u|=o.level),o.hidden&&(u|=16),(o.hpx||o.hpt)&&(u|=32),s.write_shift(1,u),s.write_shift(1,0);var f=0,h=s.l;s.l+=4;for(var m={r:e,c:0},x=0;x<16;++x)if(!(r.s.c>x+1<<10||r.e.c<x<<10)){for(var v=-1,N=-1,w=x<<10;w<x+1<<10;++w){m.c=w;var _=Array.isArray(t)?(t[m.r]||[])[m.c]:t[gt(m)];_&&(v<0&&(v=w),N=w)}v<0||(++f,s.write_shift(4,v),s.write_shift(4,N))}var b=s.l;return s.l=h,s.write_shift(4,f),s.l=b,s.length>s.l?s.slice(0,s.l):s}function Lj(e,r,t,s){var o=Ij(s,t,r);(o.length>17||(r["!rows"]||[])[s])&&we(e,0,o)}var Bj=js,zj=Ni;function Uj(){}function Wj(e,r){var t={},s=e[e.l];return++e.l,t.above=!(s&64),t.left=!(s&128),e.l+=18,t.name=J3(e),t}function $j(e,r,t){t==null&&(t=ge(84+4*e.length));var s=192;r&&(r.above&&(s&=-65),r.left&&(s&=-129)),t.write_shift(1,s);for(var o=1;o<3;++o)t.write_shift(1,0);return Mc({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),xg(e,t),t.slice(0,t.l)}function Hj(e){var r=ln(e);return[r]}function Vj(e,r,t){return t==null&&(t=ge(8)),ws(r,t)}function Gj(e){var r=Ns(e);return[r]}function Yj(e,r,t){return t==null&&(t=ge(4)),_s(r,t)}function Xj(e){var r=ln(e),t=e.read_shift(1);return[r,t,"b"]}function Kj(e,r,t){return t==null&&(t=ge(9)),ws(r,t),t.write_shift(1,e.v?1:0),t}function qj(e){var r=Ns(e),t=e.read_shift(1);return[r,t,"b"]}function Qj(e,r,t){return t==null&&(t=ge(5)),_s(r,t),t.write_shift(1,e.v?1:0),t}function Jj(e){var r=ln(e),t=e.read_shift(1);return[r,t,"e"]}function Zj(e,r,t){return t==null&&(t=ge(9)),ws(r,t),t.write_shift(1,e.v),t}function eS(e){var r=Ns(e),t=e.read_shift(1);return[r,t,"e"]}function tS(e,r,t){return t==null&&(t=ge(8)),_s(r,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}function rS(e){var r=ln(e),t=e.read_shift(4);return[r,t,"s"]}function nS(e,r,t){return t==null&&(t=ge(12)),ws(r,t),t.write_shift(4,r.v),t}function aS(e){var r=Ns(e),t=e.read_shift(4);return[r,t,"s"]}function sS(e,r,t){return t==null&&(t=ge(8)),_s(r,t),t.write_shift(4,r.v),t}function iS(e){var r=ln(e),t=_i(e);return[r,t,"n"]}function oS(e,r,t){return t==null&&(t=ge(16)),ws(r,t),vs(e.v,t),t}function lS(e){var r=Ns(e),t=_i(e);return[r,t,"n"]}function cS(e,r,t){return t==null&&(t=ge(12)),_s(r,t),vs(e.v,t),t}function uS(e){var r=ln(e),t=pg(e);return[r,t,"n"]}function dS(e,r,t){return t==null&&(t=ge(12)),ws(r,t),gg(e.v,t),t}function fS(e){var r=Ns(e),t=pg(e);return[r,t,"n"]}function hS(e,r,t){return t==null&&(t=ge(8)),_s(r,t),gg(e.v,t),t}function mS(e){var r=ln(e),t=Vd(e);return[r,t,"is"]}function xS(e){var r=ln(e),t=gr(e);return[r,t,"str"]}function pS(e,r,t){return t==null&&(t=ge(12+4*e.v.length)),ws(r,t),rr(e.v,t),t.length>t.l?t.slice(0,t.l):t}function gS(e){var r=Ns(e),t=gr(e);return[r,t,"str"]}function vS(e,r,t){return t==null&&(t=ge(8+4*e.v.length)),_s(r,t),rr(e.v,t),t.length>t.l?t.slice(0,t.l):t}function yS(e,r,t){var s=e.l+r,o=ln(e);o.r=t["!row"];var l=e.read_shift(1),u=[o,l,"b"];if(t.cellFormula){e.l+=2;var f=Jc(e,s-e.l,t);u[3]=gi(f,null,o,t.supbooks,t)}else e.l=s;return u}function bS(e,r,t){var s=e.l+r,o=ln(e);o.r=t["!row"];var l=e.read_shift(1),u=[o,l,"e"];if(t.cellFormula){e.l+=2;var f=Jc(e,s-e.l,t);u[3]=gi(f,null,o,t.supbooks,t)}else e.l=s;return u}function wS(e,r,t){var s=e.l+r,o=ln(e);o.r=t["!row"];var l=_i(e),u=[o,l,"n"];if(t.cellFormula){e.l+=2;var f=Jc(e,s-e.l,t);u[3]=gi(f,null,o,t.supbooks,t)}else e.l=s;return u}function NS(e,r,t){var s=e.l+r,o=ln(e);o.r=t["!row"];var l=gr(e),u=[o,l,"str"];if(t.cellFormula){e.l+=2;var f=Jc(e,s-e.l,t);u[3]=gi(f,null,o,t.supbooks,t)}else e.l=s;return u}var _S=js,jS=Ni;function SS(e,r){return r==null&&(r=ge(4)),r.write_shift(4,e),r}function kS(e,r){var t=e.l+r,s=js(e),o=Gd(e),l=gr(e),u=gr(e),f=gr(e);e.l=t;var h={rfx:s,relId:o,loc:l,display:f};return u&&(h.Tooltip=u),h}function ES(e,r){var t=ge(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ni({s:tr(e[0]),e:tr(e[0])},t),Yd("rId"+r,t);var s=e[1].Target.indexOf("#"),o=s==-1?"":e[1].Target.slice(s+1);return rr(o||"",t),rr(e[1].Tooltip||"",t),rr("",t),t.slice(0,t.l)}function TS(){}function CS(e,r,t){var s=e.l+r,o=vg(e),l=e.read_shift(1),u=[o];if(u[2]=l,t.cellFormula){var f=gj(e,s-e.l,t);u[1]=f}else e.l=s;return u}function AS(e,r,t){var s=e.l+r,o=js(e),l=[o];if(t.cellFormula){var u=yj(e,s-e.l,t);l[1]=u,e.l=s}else e.l=s;return l}function DS(e,r,t){t==null&&(t=ge(18));var s=Zc(e,r);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,(s.width||10)*256),t.write_shift(4,0);var o=0;return r.hidden&&(o|=1),typeof s.width=="number"&&(o|=2),r.level&&(o|=r.level<<8),t.write_shift(2,o),t}var t1=["left","right","top","bottom","header","footer"];function PS(e){var r={};return t1.forEach(function(t){r[t]=_i(e)}),r}function FS(e,r){return r==null&&(r=ge(48)),Zg(e),t1.forEach(function(t){vs(e[t],r)}),r}function OS(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function MS(e,r,t){t==null&&(t=ge(30));var s=924;return(((r||{}).Views||[])[0]||{}).RTL&&(s|=32),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function RS(e){var r=ge(24);return r.write_shift(4,4),r.write_shift(4,1),Ni(e,r),r}function IS(e,r){return r==null&&(r=ge(66)),r.write_shift(2,e.password?Rg(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?r.write_shift(4,e[t[0]]!=null&&!e[t[0]]?1:0):r.write_shift(4,e[t[0]]!=null&&e[t[0]]?0:1)}),r}function LS(){}function BS(){}function zS(e,r,t,s,o,l,u){if(r.v===void 0)return!1;var f="";switch(r.t){case"b":f=r.v?"1":"0";break;case"d":r=Ur(r),r.z=r.z||Mt[14],r.v=zr(Er(r.v)),r.t="n";break;case"n":case"e":f=""+r.v;break;default:f=r.v;break}var h={r:t,c:s};switch(h.s=Ga(o.cellXfs,r,o),r.l&&l["!links"].push([gt(h),r.l]),r.c&&l["!comments"].push([gt(h),r.c]),r.t){case"s":case"str":return o.bookSST?(f=Zd(o.Strings,r.v,o.revStrings),h.t="s",h.v=f,u?we(e,18,sS(r,h)):we(e,7,nS(r,h))):(h.t="str",u?we(e,17,vS(r,h)):we(e,6,pS(r,h))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?u?we(e,13,hS(r,h)):we(e,2,dS(r,h)):u?we(e,16,cS(r,h)):we(e,5,oS(r,h)),!0;case"b":return h.t="b",u?we(e,15,Qj(r,h)):we(e,4,Kj(r,h)),!0;case"e":return h.t="e",u?we(e,14,tS(r,h)):we(e,3,Zj(r,h)),!0}return u?we(e,12,Yj(r,h)):we(e,1,Vj(r,h)),!0}function US(e,r,t,s){var o=kt(r["!ref"]||"A1"),l,u="",f=[];we(e,145);var h=Array.isArray(r),m=o.e.r;r["!rows"]&&(m=Math.max(o.e.r,r["!rows"].length-1));for(var x=o.s.r;x<=m;++x){u=cr(x),Lj(e,r,o,x);var v=!1;if(x<=o.e.r)for(var N=o.s.c;N<=o.e.c;++N){x===o.s.r&&(f[N]=pr(N)),l=f[N]+u;var w=h?(r[x]||[])[N]:r[l];if(!w){v=!1;continue}v=zS(e,w,x,N,s,r,v)}}we(e,146)}function WS(e,r){!r||!r["!merges"]||(we(e,177,SS(r["!merges"].length)),r["!merges"].forEach(function(t){we(e,176,jS(t))}),we(e,178))}function $S(e,r){!r||!r["!cols"]||(we(e,390),r["!cols"].forEach(function(t,s){t&&we(e,60,DS(s,t))}),we(e,391))}function HS(e,r){!r||!r["!ref"]||(we(e,648),we(e,649,RS(kt(r["!ref"]))),we(e,650))}function VS(e,r,t){r["!links"].forEach(function(s){if(s[1].Target){var o=xt(t,-1,s[1].Target.replace(/#.*$/,""),ct.HLINK);we(e,494,ES(s,o))}}),delete r["!links"]}function GS(e,r,t,s){if(r["!comments"].length>0){var o=xt(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ct.VML);we(e,551,Yd("rId"+o)),r["!legacy"]=o}}function YS(e,r,t,s){if(r["!autofilter"]){var o=r["!autofilter"],l=typeof o.ref=="string"?o.ref:Ht(o.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var u=t.Workbook.Names,f=Qr(l);f.s.r==f.e.r&&(f.e.r=Qr(r["!ref"]).e.r,l=Ht(f));for(var h=0;h<u.length;++h){var m=u[h];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==s){m.Ref="'"+t.SheetNames[s]+"'!"+l;break}}h==u.length&&u.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+l}),we(e,161,Ni(kt(l))),we(e,162)}}function XS(e,r,t){we(e,133),we(e,137,MS(r,t)),we(e,138),we(e,134)}function KS(e,r){r["!protect"]&&we(e,535,IS(r["!protect"]))}function qS(e,r,t,s){var o=Br(),l=t.SheetNames[e],u=t.Sheets[l]||{},f=l;try{t&&t.Workbook&&(f=t.Workbook.Sheets[e].CodeName||f)}catch{}var h=kt(u["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(r.WTF)throw new Error("Range "+(u["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return u["!links"]=[],u["!comments"]=[],we(o,129),(t.vbaraw||u["!outline"])&&we(o,147,$j(f,u["!outline"])),we(o,148,zj(h)),XS(o,u,t.Workbook),$S(o,u),US(o,u,e,r),KS(o,u),YS(o,u,t,e),WS(o,u),VS(o,u,s),u["!margins"]&&we(o,476,FS(u["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&HS(o,u),GS(o,u,e,s),we(o,130),o.end()}function QS(e,r){e.l+=10;var t=gr(e);return{name:t}}var JS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ZS(e){return!e.Workbook||!e.Workbook.WBProps?"false":A3(e.Workbook.WBProps.date1904)?"true":"false"}var ek="][*?/\\".split("");function r1(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return ek.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function tk(e,r,t){e.forEach(function(s,o){r1(s);for(var l=0;l<o;++l)if(s==e[l])throw new Error("Duplicate Sheet Name: "+s);if(t){var u=r&&r[o]&&r[o].CodeName||s;if(u.charCodeAt(0)==95&&u.length>22)throw new Error("Bad Code Name: Worksheet"+u)}})}function rk(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];tk(e.SheetNames,r,!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)jj(e.Sheets[e.SheetNames[t]],e.SheetNames[t],t)}function n1(e){var r=[Vt];r[r.length]=Fe("workbook",null,{xmlns:bi[0],"xmlns:r":er.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(JS.forEach(function(f){e.Workbook.WBProps[f[0]]!=null&&e.Workbook.WBProps[f[0]]!=f[1]&&(s[f[0]]=e.Workbook.WBProps[f[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),r[r.length]=Fe("workbookPr",null,s);var o=e.Workbook&&e.Workbook.Sheets||[],l=0;if(o&&o[0]&&o[0].Hidden){for(r[r.length]="<bookViews>",l=0;l!=e.SheetNames.length&&!(!o[l]||!o[l].Hidden);++l);l==e.SheetNames.length&&(l=0),r[r.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",l=0;l!=e.SheetNames.length;++l){var u={name:pt(e.SheetNames[l].slice(0,31))};if(u.sheetId=""+(l+1),u["r:id"]="rId"+(l+1),o[l])switch(o[l].Hidden){case 1:u.state="hidden";break;case 2:u.state="veryHidden";break}r[r.length]=Fe("sheet",null,u)}return r[r.length]="</sheets>",t&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(f){var h={name:f.Name};f.Comment&&(h.comment=f.Comment),f.Sheet!=null&&(h.localSheetId=""+f.Sheet),f.Hidden&&(h.hidden="1"),f.Ref&&(r[r.length]=Fe("definedName",pt(f.Ref),h))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function nk(e,r){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=md(e),t.name=gr(e),t}function ak(e,r){return r||(r=ge(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),Yd(e.strRelID,r),rr(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function sk(e,r){var t={},s=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var o=r>8?gr(e):"";return o.length>0&&(t.CodeName=o),t.autoCompressPictures=!!(s&65536),t.backupFile=!!(s&64),t.checkCompatibility=!!(s&4096),t.date1904=!!(s&1),t.filterPrivacy=!!(s&8),t.hidePivotFieldList=!!(s&1024),t.promptedSolutions=!!(s&16),t.publishItems=!!(s&2048),t.refreshAllConnections=!!(s&262144),t.saveExternalLinkValues=!!(s&128),t.showBorderUnselectedTables=!!(s&4),t.showInkAnnotation=!!(s&32),t.showObjects=["all","placeholders","none"][s>>13&3],t.showPivotChartFilter=!!(s&32768),t.updateLinks=["userSet","never","always"][s>>8&3],t}function ik(e,r){r||(r=ge(72));var t=0;return e&&e.filterPrivacy&&(t|=8),r.write_shift(4,t),r.write_shift(4,0),xg(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function ok(e,r,t){var s=e.l+r;e.l+=4,e.l+=1;var o=e.read_shift(4),l=Z3(e),u=vj(e,0,t),f=Gd(e);e.l=s;var h={Name:l,Ptg:u};return o<268435455&&(h.Sheet=o),f&&(h.Comment=f),h}function lk(e,r){we(e,143);for(var t=0;t!=r.SheetNames.length;++t){var s=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t]&&r.Workbook.Sheets[t].Hidden||0,o={Hidden:s,iTabID:t+1,strRelID:"rId"+(t+1),name:r.SheetNames[t]};we(e,156,ak(o))}we(e,144)}function ck(e,r){r||(r=ge(127));for(var t=0;t!=4;++t)r.write_shift(4,0);return rr("SheetJS",r),rr(Ec.version,r),rr(Ec.version,r),rr("7262",r),r.length>r.l?r.slice(0,r.l):r}function uk(e,r){r||(r=ge(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var t=120;return r.write_shift(1,t),r.length>r.l?r.slice(0,r.l):r}function dk(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var t=r.Workbook.Sheets,s=0,o=-1,l=-1;s<t.length;++s)!t[s]||!t[s].Hidden&&o==-1?o=s:t[s].Hidden==1&&l==-1&&(l=s);l>o||(we(e,135),we(e,158,uk(o)),we(e,136))}}function fk(e,r){var t=Br();return we(t,131),we(t,128,ck()),we(t,153,ik(e.Workbook&&e.Workbook.WBProps||null)),dk(t,e),lk(t,e),we(t,132),t.end()}function hk(e,r,t){return(r.slice(-4)===".bin"?fk:n1)(e)}function mk(e,r,t,s,o){return(r.slice(-4)===".bin"?qS:e1)(e,t,s,o)}function xk(e,r,t){return(r.slice(-4)===".bin"?F5:Bg)(e,t)}function pk(e,r,t){return(r.slice(-4)===".bin"?i5:Mg)(e,t)}function gk(e,r,t){return(r.slice(-4)===".bin"?K5:Hg)(e)}function vk(e){return(e.slice(-4)===".bin"?U5:Wg)()}function yk(e,r){var t=[];return e.Props&&t.push(xN(e.Props,r)),e.Custprops&&t.push(pN(e.Props,e.Custprops)),t.join("")}function bk(){return""}function wk(e,r){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(s,o){var l=[];l.push(Fe("NumberFormat",null,{"ss:Format":pt(Mt[s.numFmtId])}));var u={"ss:ID":"s"+(21+o)};t.push(Fe("Style",l.join(""),u))}),Fe("Styles",t.join(""))}function a1(e){return Fe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Qd(e.Ref,{r:0,c:0})})}function Nk(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,t=[],s=0;s<r.length;++s){var o=r[s];o.Sheet==null&&(o.Name.match(/^_xlfn\./)||t.push(a1(o)))}return Fe("Names",t.join(""))}function _k(e,r,t,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var o=s.Workbook.Names,l=[],u=0;u<o.length;++u){var f=o[u];f.Sheet==t&&(f.Name.match(/^_xlfn\./)||l.push(a1(f)))}return l.join("")}function jk(e,r,t,s){if(!e)return"";var o=[];if(e["!margins"]&&(o.push("<PageSetup>"),e["!margins"].header&&o.push(Fe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&o.push(Fe("Footer",null,{"x:Margin":e["!margins"].footer})),o.push(Fe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),o.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[t])if(s.Workbook.Sheets[t].Hidden)o.push(Fe("Visible",s.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<t&&!(s.Workbook.Sheets[l]&&!s.Workbook.Sheets[l].Hidden);++l);l==t&&o.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&o.push("<DisplayRightToLeft/>"),e["!protect"]&&(o.push(lr("ProtectContents","True")),e["!protect"].objects&&o.push(lr("ProtectObjects","True")),e["!protect"].scenarios&&o.push(lr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?o.push(lr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&o.push(lr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(u){e["!protect"][u[0]]&&o.push("<"+u[1]+"/>")})),o.length==0?"":Fe("WorksheetOptions",o.join(""),{xmlns:Xr.x})}function Sk(e){return e.map(function(r){var t=C3(r.t||""),s=Fe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Fe("Comment",s,{"ss:Author":r.a})}).join("")}function kk(e,r,t,s,o,l,u){if(!e||e.v==null&&e.f==null)return"";var f={};if(e.f&&(f["ss:Formula"]="="+pt(Qd(e.f,u))),e.F&&e.F.slice(0,r.length)==r){var h=tr(e.F.slice(r.length+1));f["ss:ArrayRange"]="RC:R"+(h.r==u.r?"":"["+(h.r-u.r)+"]")+"C"+(h.c==u.c?"":"["+(h.c-u.c)+"]")}if(e.l&&e.l.Target&&(f["ss:HRef"]=pt(e.l.Target),e.l.Tooltip&&(f["x:HRefScreenTip"]=pt(e.l.Tooltip))),t["!merges"])for(var m=t["!merges"],x=0;x!=m.length;++x)m[x].s.c!=u.c||m[x].s.r!=u.r||(m[x].e.c>m[x].s.c&&(f["ss:MergeAcross"]=m[x].e.c-m[x].s.c),m[x].e.r>m[x].s.r&&(f["ss:MergeDown"]=m[x].e.r-m[x].s.r));var v="",N="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":v="Number",N=String(e.v);break;case"b":v="Boolean",N=e.v?"1":"0";break;case"e":v="Error",N=Ho[e.v];break;case"d":v="DateTime",N=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Mt[14]);break;case"s":v="String",N=T3(e.v||"");break}var w=Ga(s.cellXfs,e,s);f["ss:StyleID"]="s"+(21+w),f["ss:Index"]=u.c+1;var _=e.v!=null?N:"",b=e.t=="z"?"":'<Data ss:Type="'+v+'">'+_+"</Data>";return(e.c||[]).length>0&&(b+=Sk(e.c)),Fe("Cell",b,f)}function Ek(e,r){var t='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=Lg(r.hpt)),r.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Tk(e,r,t,s){if(!e["!ref"])return"";var o=kt(e["!ref"]),l=e["!merges"]||[],u=0,f=[];e["!cols"]&&e["!cols"].forEach(function(y,k){Kd(y);var j=!!y.width,T=Zc(k,y),M={"ss:Index":k+1};j&&(M["ss:Width"]=Ic(T.width)),y.hidden&&(M["ss:Hidden"]="1"),f.push(Fe("Column",null,M))});for(var h=Array.isArray(e),m=o.s.r;m<=o.e.r;++m){for(var x=[Ek(m,(e["!rows"]||[])[m])],v=o.s.c;v<=o.e.c;++v){var N=!1;for(u=0;u!=l.length;++u)if(!(l[u].s.c>v)&&!(l[u].s.r>m)&&!(l[u].e.c<v)&&!(l[u].e.r<m)){(l[u].s.c!=v||l[u].s.r!=m)&&(N=!0);break}if(!N){var w={r:m,c:v},_=gt(w),b=h?(e[m]||[])[v]:e[_];x.push(kk(b,_,e,r,t,s,w))}}x.push("</Row>"),x.length>2&&f.push(x.join(""))}return f.join("")}function Ck(e,r,t){var s=[],o=t.SheetNames[e],l=t.Sheets[o],u=l?_k(l,r,e,t):"";return u.length>0&&s.push("<Names>"+u+"</Names>"),u=l?Tk(l,r,e,t):"",u.length>0&&s.push("<Table>"+u+"</Table>"),s.push(jk(l,r,e,t)),s.join("")}function Ak(e,r){r||(r={}),e.SSF||(e.SSF=Ur(Mt)),e.SSF&&(Xc(),Yc(e.SSF),r.revssf=Kc(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],Ga(r.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(yk(e,r)),t.push(bk()),t.push(""),t.push("");for(var s=0;s<e.SheetNames.length;++s)t.push(Fe("Worksheet",Ck(s,r,e),{"ss:Name":pt(e.SheetNames[s])}));return t[2]=wk(e,r),t[3]=Nk(e),Vt+Fe("Workbook",t.join(""),{xmlns:Xr.ss,"xmlns:o":Xr.o,"xmlns:x":Xr.x,"xmlns:ss":Xr.ss,"xmlns:dt":Xr.dt,"xmlns:html":Xr.html})}var qu={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Dk(e,r){var t=[],s=[],o=[],l=0,u,f=Nx(Mx,"n"),h=Nx(Rx,"n");if(e.Props)for(u=ur(e.Props),l=0;l<u.length;++l)(Object.prototype.hasOwnProperty.call(f,u[l])?t:Object.prototype.hasOwnProperty.call(h,u[l])?s:o).push([u[l],e.Props[u[l]]]);if(e.Custprops)for(u=ur(e.Custprops),l=0;l<u.length;++l)Object.prototype.hasOwnProperty.call(e.Props||{},u[l])||(Object.prototype.hasOwnProperty.call(f,u[l])?t:Object.prototype.hasOwnProperty.call(h,u[l])?s:o).push([u[l],e.Custprops[u[l]]]);var m=[];for(l=0;l<o.length;++l)Tg.indexOf(o[l][0])>-1||Sg.indexOf(o[l][0])>-1||o[l][1]!=null&&m.push(o[l]);s.length&&vt.utils.cfb_add(r,"/SummaryInformation",Ux(s,qu.SI,h,Rx)),(t.length||m.length)&&vt.utils.cfb_add(r,"/DocumentSummaryInformation",Ux(t,qu.DSI,f,Mx,m.length?m:null,qu.UDI))}function Pk(e,r){var t=r||{},s=vt.utils.cfb_new({root:"R"}),o="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":o="/Workbook",t.biff=8;break;case"biff5":o="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return vt.utils.cfb_add(s,o,s1(e,t)),t.biff==8&&(e.Props||e.Custprops)&&Dk(e,s),t.biff==8&&e.vbaraw&&q5(s,vt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Fk={0:{f:Rj},1:{f:Hj},2:{f:uS},3:{f:Jj},4:{f:Xj},5:{f:iS},6:{f:xS},7:{f:rS},8:{f:NS},9:{f:wS},10:{f:yS},11:{f:bS},12:{f:Gj},13:{f:fS},14:{f:eS},15:{f:qj},16:{f:lS},17:{f:gS},18:{f:aS},19:{f:Vd},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ok},40:{},42:{},43:{f:x5},44:{f:h5},45:{f:v5},46:{f:b5},47:{f:y5},48:{},49:{f:G3},50:{},51:{f:R5},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:YN},62:{f:mS},63:{f:W5},64:{f:LS},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:In,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:OS},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Wj},148:{f:Bj,p:16},151:{f:TS},152:{},153:{f:sk},154:{},155:{},156:{f:nk},157:{},158:{},159:{T:1,f:n5},160:{T:-1},161:{T:1,f:js},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_S},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:O5},336:{T:-1},337:{f:B5,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:md},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CS},427:{f:AS},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:PS},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Uj},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:kS},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:md},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Y5},633:{T:1},634:{T:-1},635:{T:1,f:V5},636:{T:-1},637:{f:q3},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:QS},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:BS},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Oe(e,r,t,s){var o=r;if(!isNaN(o)){var l=s||(t||[]).length||0,u=e.next(4);u.write_shift(2,o),u.write_shift(2,l),l>0&&Wd(t)&&e.push(t)}}function Ok(e,r,t,s){var o=(t||[]).length||0;if(o<=8224)return Oe(e,r,t,o);var l=r;if(!isNaN(l)){for(var u=t.parts||[],f=0,h=0,m=0;m+(u[f]||8224)<=8224;)m+=u[f]||8224,f++;var x=e.next(4);for(x.write_shift(2,l),x.write_shift(2,m),e.push(t.slice(h,h+m)),h+=m;h<o;){for(x=e.next(4),x.write_shift(2,60),m=0;m+(u[f]||8224)<=8224;)m+=u[f]||8224,f++;x.write_shift(2,m),e.push(t.slice(h,h+m)),h+=m}}}function Go(e,r,t){return e||(e=ge(7)),e.write_shift(2,r),e.write_shift(2,t),e.write_shift(2,0),e.write_shift(1,0),e}function Mk(e,r,t,s){var o=ge(9);return Go(o,e,r),Ag(t,s||"b",o),o}function Rk(e,r,t){var s=ge(8+2*t.length);return Go(s,e,r),s.write_shift(1,t.length),s.write_shift(t.length,t,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function Ik(e,r,t,s){if(r.v!=null)switch(r.t){case"d":case"n":var o=r.t=="d"?zr(Er(r.v)):r.v;o==(o|0)&&o>=0&&o<65536?Oe(e,2,QN(t,s,o)):Oe(e,3,qN(t,s,o));return;case"b":case"e":Oe(e,5,Mk(t,s,r.v,r.t));return;case"s":case"str":Oe(e,4,Rk(t,s,(r.v||"").slice(0,255)));return}Oe(e,1,Go(null,t,s))}function Lk(e,r,t,s){var o=Array.isArray(r),l=kt(r["!ref"]||"A1"),u,f="",h=[];if(l.e.c>255||l.e.r>16383){if(s.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),u=Ht(l)}for(var m=l.s.r;m<=l.e.r;++m){f=cr(m);for(var x=l.s.c;x<=l.e.c;++x){m===l.s.r&&(h[x]=pr(x)),u=h[x]+f;var v=o?(r[m]||[])[x]:r[u];v&&Ik(e,v,m,x)}}}function Bk(e,r){for(var t=r||{},s=Br(),o=0,l=0;l<e.SheetNames.length;++l)e.SheetNames[l]==t.sheet&&(o=l);if(o==0&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Oe(s,t.biff==4?1033:t.biff==3?521:9,Xd(e,16,t)),Lk(s,e.Sheets[e.SheetNames[o]],o,t),Oe(s,10),s.end()}function zk(e,r,t){Oe(e,49,FN({sz:12,name:"Arial"},t))}function Uk(e,r,t){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var o=s[0];o<=s[1];++o)r[o]!=null&&Oe(e,1054,RN(o,r[o],t))})}function Wk(e,r){var t=ge(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Oe(e,2151,t),t=ge(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),Fg(kt(r["!ref"]||"A1"),t),t.write_shift(4,4),Oe(e,2152,t)}function $k(e,r){for(var t=0;t<16;++t)Oe(e,224,$x({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(s){Oe(e,224,$x(s,0,r))})}function Hk(e,r){for(var t=0;t<r["!links"].length;++t){var s=r["!links"][t];Oe(e,440,HN(s)),s[1].Tooltip&&Oe(e,2048,VN(s))}delete r["!links"]}function Vk(e,r){if(r){var t=0;r.forEach(function(s,o){++t<=256&&s&&Oe(e,125,XN(Zc(o,s),o))})}}function Gk(e,r,t,s,o){var l=16+Ga(o.cellXfs,r,o);if(r.v==null&&!r.bf){Oe(e,513,ys(t,s,l));return}if(r.bf)Oe(e,6,pj(r,t,s,o,l));else switch(r.t){case"d":case"n":var u=r.t=="d"?zr(Er(r.v)):r.v;Oe(e,515,zN(t,s,u,l));break;case"b":case"e":Oe(e,517,BN(t,s,r.v,l,o,r.t));break;case"s":case"str":if(o.bookSST){var f=Zd(o.Strings,r.v,o.revStrings);Oe(e,253,ON(t,s,f,l))}else Oe(e,516,MN(t,s,(r.v||"").slice(0,255),l,o));break;default:Oe(e,513,ys(t,s,l))}}function Yk(e,r,t){var s=Br(),o=t.SheetNames[e],l=t.Sheets[o]||{},u=(t||{}).Workbook||{},f=(u.Sheets||[])[e]||{},h=Array.isArray(l),m=r.biff==8,x,v="",N=[],w=kt(l["!ref"]||"A1"),_=m?65536:16384;if(w.e.c>255||w.e.r>=_){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,_-1)}Oe(s,2057,Xd(t,16,r)),Oe(s,13,on(1)),Oe(s,12,on(100)),Oe(s,15,_r(!0)),Oe(s,17,_r(!1)),Oe(s,16,vs(.001)),Oe(s,95,_r(!0)),Oe(s,42,_r(!1)),Oe(s,43,_r(!1)),Oe(s,130,on(1)),Oe(s,128,LN()),Oe(s,131,_r(!1)),Oe(s,132,_r(!1)),m&&Vk(s,l["!cols"]),Oe(s,512,IN(w,r)),m&&(l["!links"]=[]);for(var b=w.s.r;b<=w.e.r;++b){v=cr(b);for(var y=w.s.c;y<=w.e.c;++y){b===w.s.r&&(N[y]=pr(y)),x=N[y]+v;var k=h?(l[b]||[])[y]:l[x];k&&(Gk(s,k,b,y,r),m&&k.l&&l["!links"].push([x,k.l]))}}var j=f.CodeName||f.name||o;return m&&Oe(s,574,PN((u.Views||[])[0])),m&&(l["!merges"]||[]).length&&Oe(s,229,$N(l["!merges"])),m&&Hk(s,l),Oe(s,442,Pg(j)),m&&Wk(s,l),Oe(s,10),s.end()}function Xk(e,r,t){var s=Br(),o=(e||{}).Workbook||{},l=o.Sheets||[],u=o.WBProps||{},f=t.biff==8,h=t.biff==5;if(Oe(s,2057,Xd(e,5,t)),t.bookType=="xla"&&Oe(s,135),Oe(s,225,f?on(1200):null),Oe(s,193,yN(2)),h&&Oe(s,191),h&&Oe(s,192),Oe(s,226),Oe(s,92,TN("SheetJS",t)),Oe(s,66,on(f?1200:1252)),f&&Oe(s,353,on(0)),f&&Oe(s,448),Oe(s,317,KN(e.SheetNames.length)),f&&e.vbaraw&&Oe(s,211),f&&e.vbaraw){var m=u.CodeName||"ThisWorkbook";Oe(s,442,Pg(m))}Oe(s,156,on(17)),Oe(s,25,_r(!1)),Oe(s,18,_r(!1)),Oe(s,19,on(0)),f&&Oe(s,431,_r(!1)),f&&Oe(s,444,on(0)),Oe(s,61,DN()),Oe(s,64,_r(!1)),Oe(s,141,on(0)),Oe(s,34,_r(ZS(e)=="true")),Oe(s,14,_r(!0)),f&&Oe(s,439,_r(!1)),Oe(s,218,on(0)),zk(s,e,t),Uk(s,e.SSF,t),$k(s,t),f&&Oe(s,352,_r(!1));var x=s.end(),v=Br();f&&Oe(v,140,GN()),f&&t.Strings&&Ok(v,252,AN(t.Strings)),Oe(v,10);var N=v.end(),w=Br(),_=0,b=0;for(b=0;b<e.SheetNames.length;++b)_+=(f?12:11)+(f?2:1)*e.SheetNames[b].length;var y=x.length+_+N.length;for(b=0;b<e.SheetNames.length;++b){var k=l[b]||{};Oe(w,133,CN({pos:y,hs:k.Hidden||0,dt:0,name:e.SheetNames[b]},t)),y+=r[b].length}var j=w.end();if(_!=j.length)throw new Error("BS8 "+_+" != "+j.length);var T=[];return x.length&&T.push(x),j.length&&T.push(j),N.length&&T.push(N),or(T)}function Kk(e,r){var t=r||{},s=[];e&&!e.SSF&&(e.SSF=Ur(Mt)),e&&e.SSF&&(Xc(),Yc(e.SSF),t.revssf=Kc(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ef(t),t.cellXfs=[],Ga(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var o=0;o<e.SheetNames.length;++o)s[s.length]=Yk(o,t,e);return s.unshift(Xk(e,s,t)),or(s)}function s1(e,r){for(var t=0;t<=e.SheetNames.length;++t){var s=e.Sheets[e.SheetNames[t]];if(!(!s||!s["!ref"])){var o=Qr(s["!ref"]);o.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var l=r||{};switch(l.biff||2){case 8:case 5:return Kk(e,r);case 4:case 3:case 2:return Bk(e,r)}throw new Error("invalid type "+l.bookType+" for BIFF")}function qk(e,r,t,s){for(var o=e["!merges"]||[],l=[],u=r.s.c;u<=r.e.c;++u){for(var f=0,h=0,m=0;m<o.length;++m)if(!(o[m].s.r>t||o[m].s.c>u)&&!(o[m].e.r<t||o[m].e.c<u)){if(o[m].s.r<t||o[m].s.c<u){f=-1;break}f=o[m].e.r-o[m].s.r+1,h=o[m].e.c-o[m].s.c+1;break}if(!(f<0)){var x=gt({r:t,c:u}),v=s.dense?(e[t]||[])[u]:e[x],N=v&&v.v!=null&&(v.h||E3(v.w||(ra(v),v.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),s.editable?N='<span contenteditable="true">'+N+"</span>":v&&(w["data-t"]=v&&v.t||"z",v.v!=null&&(w["data-v"]=v.v),v.z!=null&&(w["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(N='<a href="'+v.l.Target+'">'+N+"</a>")),w.id=(s.id||"sjs")+"-"+x,l.push(Fe("td",N,w))}}var _="<tr>";return _+l.join("")+"</tr>"}var Qk='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jk="</body></html>";function Zk(e,r,t){var s=[];return s.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function i1(e,r){var t=r||{},s=t.header!=null?t.header:Qk,o=t.footer!=null?t.footer:Jk,l=[s],u=Qr(e["!ref"]);t.dense=Array.isArray(e),l.push(Zk(e,u,t));for(var f=u.s.r;f<=u.e.r;++f)l.push(qk(e,u,f,t));return l.push("</table>"+o),l.join("")}function o1(e,r,t){var s=t||{},o=0,l=0;if(s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var u=typeof s.origin=="string"?tr(s.origin):s.origin;o=u.r,l=u.c}var f=r.getElementsByTagName("tr"),h=Math.min(s.sheetRows||1e7,f.length),m={s:{r:0,c:0},e:{r:o,c:l}};if(e["!ref"]){var x=Qr(e["!ref"]);m.s.r=Math.min(m.s.r,x.s.r),m.s.c=Math.min(m.s.c,x.s.c),m.e.r=Math.max(m.e.r,x.e.r),m.e.c=Math.max(m.e.c,x.e.c),o==-1&&(m.e.r=o=x.e.r+1)}var v=[],N=0,w=e["!rows"]||(e["!rows"]=[]),_=0,b=0,y=0,k=0,j=0,T=0;for(e["!cols"]||(e["!cols"]=[]);_<f.length&&b<h;++_){var M=f[_];if(qx(M)){if(s.display)continue;w[b]={hidden:!0}}var V=M.children;for(y=k=0;y<V.length;++y){var X=V[y];if(!(s.display&&qx(X))){var Y=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):D3(X.innerHTML),te=X.getAttribute("data-z")||X.getAttribute("z");for(N=0;N<v.length;++N){var J=v[N];J.s.c==k+l&&J.s.r<b+o&&b+o<=J.e.r&&(k=J.e.c+1-l,N=-1)}T=+X.getAttribute("colspan")||1,((j=+X.getAttribute("rowspan")||1)>1||T>1)&&v.push({s:{r:b+o,c:k+l},e:{r:b+o+(j||1)-1,c:k+l+(T||1)-1}});var de={t:"s",v:Y},pe=X.getAttribute("data-t")||X.getAttribute("t")||"";Y!=null&&(Y.length==0?de.t=pe||"z":s.raw||Y.trim().length==0||pe=="s"||(Y==="TRUE"?de={t:"b",v:!0}:Y==="FALSE"?de={t:"b",v:!1}:isNaN(Jn(Y))?isNaN(Oo(Y).getDate())||(de={t:"d",v:Er(Y)},s.cellDates||(de={t:"n",v:zr(de.v)}),de.z=s.dateNF||Mt[14]):de={t:"n",v:Jn(Y)})),de.z===void 0&&te!=null&&(de.z=te);var q="",ie=X.getElementsByTagName("A");if(ie&&ie.length)for(var Pe=0;Pe<ie.length&&!(ie[Pe].hasAttribute("href")&&(q=ie[Pe].getAttribute("href"),q.charAt(0)!="#"));++Pe);q&&q.charAt(0)!="#"&&(de.l={Target:q}),s.dense?(e[b+o]||(e[b+o]=[]),e[b+o][k+l]=de):e[gt({c:k+l,r:b+o})]=de,m.e.c<k+l&&(m.e.c=k+l),k+=T}}++b}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),m.e.r=Math.max(m.e.r,b-1+o),e["!ref"]=Ht(m),b>=h&&(e["!fullref"]=Ht((m.e.r=f.length-_+b-1+o,m))),e}function l1(e,r){var t=r||{},s=t.dense?[]:{};return o1(s,e,r)}function eE(e,r){return bs(l1(e,r),r)}function qx(e){var r="",t=tE(e);return t&&(r=t(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function tE(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var rE=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+Ro({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Vt+r}})(),Qx=(function(){var e=function(l){return pt(l).replace(/  +/g,function(u){return'<text:s text:c="'+u.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,s=function(l,u,f){var h=[];h.push('      <table:table table:name="'+pt(u.SheetNames[f])+`" table:style-name="ta1">
`);var m=0,x=0,v=Qr(l["!ref"]||"A1"),N=l["!merges"]||[],w=0,_=Array.isArray(l);if(l["!cols"])for(x=0;x<=v.e.c;++x)h.push("        <table:table-column"+(l["!cols"][x]?' table:style-name="co'+l["!cols"][x].ods+'"':"")+`></table:table-column>
`);var b="",y=l["!rows"]||[];for(m=0;m<v.s.r;++m)b=y[m]?' table:style-name="ro'+y[m].ods+'"':"",h.push("        <table:table-row"+b+`></table:table-row>
`);for(;m<=v.e.r;++m){for(b=y[m]?' table:style-name="ro'+y[m].ods+'"':"",h.push("        <table:table-row"+b+`>
`),x=0;x<v.s.c;++x)h.push(r);for(;x<=v.e.c;++x){var k=!1,j={},T="";for(w=0;w!=N.length;++w)if(!(N[w].s.c>x)&&!(N[w].s.r>m)&&!(N[w].e.c<x)&&!(N[w].e.r<m)){(N[w].s.c!=x||N[w].s.r!=m)&&(k=!0),j["table:number-columns-spanned"]=N[w].e.c-N[w].s.c+1,j["table:number-rows-spanned"]=N[w].e.r-N[w].s.r+1;break}if(k){h.push(t);continue}var M=gt({r:m,c:x}),V=_?(l[m]||[])[x]:l[M];if(V&&V.f&&(j["table:formula"]=pt(Nj(V.f)),V.F&&V.F.slice(0,M.length)==M)){var X=Qr(V.F);j["table:number-matrix-columns-spanned"]=X.e.c-X.s.c+1,j["table:number-matrix-rows-spanned"]=X.e.r-X.s.r+1}if(!V){h.push(r);continue}switch(V.t){case"b":T=V.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=V.v?"true":"false";break;case"n":T=V.w||String(V.v||0),j["office:value-type"]="float",j["office:value"]=V.v||0;break;case"s":case"str":T=V.v==null?"":V.v,j["office:value-type"]="string";break;case"d":T=V.w||Er(V.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Er(V.v).toISOString(),j["table:style-name"]="ce1";break;default:h.push(r);continue}var Y=e(T);if(V.l&&V.l.Target){var te=V.l.Target;te=te.charAt(0)=="#"?"#"+_j(te.slice(1)):te,te.charAt(0)!="#"&&!te.match(/^\w+:/)&&(te="../"+te),Y=Fe("text:a",Y,{"xlink:href":te.replace(/&/g,"&amp;")})}h.push("          "+Fe("table:table-cell",Fe("text:p",Y,{}),j)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},o=function(l,u){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var f=0;u.SheetNames.map(function(m){return u.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var x=0;x<m["!cols"].length;++x)if(m["!cols"][x]){var v=m["!cols"][x];if(v.width==null&&v.wpx==null&&v.wch==null)continue;Kd(v),v.ods=f;var N=m["!cols"][x].wpx+"px";l.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+N+`"/>
`),l.push(`  </style:style>
`),++f}}});var h=0;u.SheetNames.map(function(m){return u.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var x=0;x<m["!rows"].length;++x)if(m["!rows"][x]){m["!rows"][x].ods=h;var v=m["!rows"][x].hpx+"px";l.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),l.push(`  </style:style>
`),++h}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(u,f){var h=[Vt],m=Ro({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),x=Ro({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(h.push("<office:document"+m+x+`>
`),h.push(_g().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+m+`>
`),o(h,u),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var v=0;v!=u.SheetNames.length;++v)h.push(s(u.Sheets[u.SheetNames[v]],u,v));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),f.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function c1(e,r){if(r.bookType=="fods")return Qx(e,r);var t=Ld(),s="",o=[],l=[];return s="mimetype",rt(t,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",rt(t,s,Qx(e,r)),o.push([s,"text/xml"]),l.push([s,"ContentFile"]),s="styles.xml",rt(t,s,rE(e,r)),o.push([s,"text/xml"]),l.push([s,"StylesFile"]),s="meta.xml",rt(t,s,Vt+_g()),o.push([s,"text/xml"]),l.push([s,"MetadataFile"]),s="manifest.rdf",rt(t,s,mN(l)),o.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",rt(t,s,fN(o)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nE(e){return typeof TextEncoder!="undefined"?new TextEncoder().encode(e):gn(Mo(e))}function aE(e,r){e:for(var t=0;t<=e.length-r.length;++t){for(var s=0;s<r.length;++s)if(e[t+s]!=r[s])continue e;return!0}return!1}function $a(e){var r=e.reduce(function(o,l){return o+l.length},0),t=new Uint8Array(r),s=0;return e.forEach(function(o){t.set(o,s),s+=o.length}),t}function sE(e,r,t){var s=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,o=t/Math.pow(10,s-6176);e[r+15]|=s>>7,e[r+14]|=(s&127)<<1;for(var l=0;o>=1;++l,o/=256)e[r+l]=o&255;e[r+15]|=t>=0?0:128}function Io(e,r){var t=r?r[0]:0,s=e[t]&127;e:if(e[t++]>=128&&(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,28),++t,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,35),++t,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,42),++t,e[t++]<128)))break e;return r&&(r[0]=t),s}function ht(e){var r=new Uint8Array(7);r[0]=e&127;var t=1;e:if(e>127){if(r[t-1]|=128,r[t]=e>>7&127,++t,e<=16383||(r[t-1]|=128,r[t]=e>>14&127,++t,e<=2097151)||(r[t-1]|=128,r[t]=e>>21&127,++t,e<=268435455)||(r[t-1]|=128,r[t]=e/256>>>21&127,++t,e<=34359738367)||(r[t-1]|=128,r[t]=e/65536>>>21&127,++t,e<=4398046511103))break e;r[t-1]|=128,r[t]=e/16777216>>>21&127,++t}return r.slice(0,t)}function hi(e){var r=0,t=e[r]&127;e:if(e[r++]>=128){if(t|=(e[r]&127)<<7,e[r++]<128||(t|=(e[r]&127)<<14,e[r++]<128)||(t|=(e[r]&127)<<21,e[r++]<128))break e;t|=(e[r]&127)<<28}return t}function Xt(e){for(var r=[],t=[0];t[0]<e.length;){var s=t[0],o=Io(e,t),l=o&7;o=Math.floor(o/8);var u=0,f;if(o==0)break;switch(l){case 0:{for(var h=t[0];e[t[0]++]>=128;);f=e.slice(h,t[0])}break;case 5:u=4,f=e.slice(t[0],t[0]+u),t[0]+=u;break;case 1:u=8,f=e.slice(t[0],t[0]+u),t[0]+=u;break;case 2:u=Io(e,t),f=e.slice(t[0],t[0]+u),t[0]+=u;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(o," at offset ").concat(s))}var m={data:f,type:l};r[o]==null?r[o]=[m]:r[o].push(m)}return r}function sr(e){var r=[];return e.forEach(function(t,s){t.forEach(function(o){o.data&&(r.push(ht(s*8+o.type)),o.type==2&&r.push(ht(o.data.length)),r.push(o.data))})}),$a(r)}function xn(e){for(var r,t=[],s=[0];s[0]<e.length;){var o=Io(e,s),l=Xt(e.slice(s[0],s[0]+o));s[0]+=o;var u={id:hi(l[1][0].data),messages:[]};l[2].forEach(function(f){var h=Xt(f.data),m=hi(h[3][0].data);u.messages.push({meta:h,data:e.slice(s[0],s[0]+m)}),s[0]+=m}),(r=l[3])!=null&&r[0]&&(u.merge=hi(l[3][0].data)>>>0>0),t.push(u)}return t}function ti(e){var r=[];return e.forEach(function(t){var s=[];s[1]=[{data:ht(t.id),type:0}],s[2]=[],t.merge!=null&&(s[3]=[{data:ht(+!!t.merge),type:0}]);var o=[];t.messages.forEach(function(u){o.push(u.data),u.meta[3]=[{type:0,data:ht(u.data.length)}],s[2].push({data:sr(u.meta),type:2})});var l=sr(s);r.push(ht(l.length)),r.push(l),o.forEach(function(u){return r.push(u)})}),$a(r)}function iE(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],s=Io(r,t),o=[];t[0]<r.length;){var l=r[t[0]]&3;if(l==0){var u=r[t[0]++]>>2;if(u<60)++u;else{var f=u-59;u=r[t[0]],f>1&&(u|=r[t[0]+1]<<8),f>2&&(u|=r[t[0]+2]<<16),f>3&&(u|=r[t[0]+3]<<24),u>>>=0,u++,t[0]+=f}o.push(r.slice(t[0],t[0]+u)),t[0]+=u;continue}else{var h=0,m=0;if(l==1?(m=(r[t[0]]>>2&7)+4,h=(r[t[0]++]&224)<<3,h|=r[t[0]++]):(m=(r[t[0]++]>>2)+1,l==2?(h=r[t[0]]|r[t[0]+1]<<8,t[0]+=2):(h=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0,t[0]+=4)),o=[$a(o)],h==0)throw new Error("Invalid offset 0");if(h>o[0].length)throw new Error("Invalid offset beyond length");if(m>=h)for(o.push(o[0].slice(-h)),m-=h;m>=o[o.length-1].length;)o.push(o[o.length-1]),m-=o[o.length-1].length;o.push(o[0].slice(-h,-h+m))}}var x=$a(o);if(x.length!=s)throw new Error("Unexpected length: ".concat(x.length," != ").concat(s));return x}function pn(e){for(var r=[],t=0;t<e.length;){var s=e[t++],o=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3,r.push(iE(s,e.slice(t,t+o))),t+=o}if(t!==e.length)throw new Error("data is not a valid framed stream!");return $a(r)}function ri(e){for(var r=[],t=0;t<e.length;){var s=Math.min(e.length-t,268435455),o=new Uint8Array(4);r.push(o);var l=ht(s),u=l.length;r.push(l),s<=60?(u++,r.push(new Uint8Array([s-1<<2]))):s<=256?(u+=2,r.push(new Uint8Array([240,s-1&255]))):s<=65536?(u+=3,r.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(u+=4,r.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(u+=5,r.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),r.push(e.slice(t,t+s)),u+=s,o[0]=0,o[1]=u&255,o[2]=u>>8&255,o[3]=u>>16&255,t+=s}return $a(r)}function Qu(e,r){var t=new Uint8Array(32),s=zc(t),o=12,l=0;switch(t[0]=5,e.t){case"n":t[1]=2,sE(t,o,e.v),l|=1,o+=16;break;case"b":t[1]=6,s.setFloat64(o,e.v?1:0,!0),l|=2,o+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[1]=3,s.setUint32(o,r.indexOf(e.v),!0),l|=8,o+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,l,!0),t.slice(0,o)}function Ju(e,r){var t=new Uint8Array(32),s=zc(t),o=12,l=0;switch(t[0]=3,e.t){case"n":t[2]=2,s.setFloat64(o,e.v,!0),l|=32,o+=8;break;case"b":t[2]=6,s.setFloat64(o,e.v?1:0,!0),l|=32,o+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[2]=3,s.setUint32(o,r.indexOf(e.v),!0),l|=16,o+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,l,!0),t.slice(0,o)}function Aa(e){var r=Xt(e);return Io(r[1][0].data)}function oE(e,r,t){var s,o,l,u;if(!((s=e[6])!=null&&s[0])||!((o=e[7])!=null&&o[0]))throw"Mutation only works on post-BNC storages!";var f=((u=(l=e[8])==null?void 0:l[0])==null?void 0:u.data)&&hi(e[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var h=0,m=zc(e[7][0].data),x=0,v=[],N=zc(e[4][0].data),w=0,_=[],b=0;b<r.length;++b){if(r[b]==null){m.setUint16(b*2,65535,!0),N.setUint16(b*2,65535);continue}m.setUint16(b*2,x,!0),N.setUint16(b*2,w,!0);var y,k;switch(typeof r[b]){case"string":y=Qu({t:"s",v:r[b]},t),k=Ju({t:"s",v:r[b]},t);break;case"number":y=Qu({t:"n",v:r[b]},t),k=Ju({t:"n",v:r[b]},t);break;case"boolean":y=Qu({t:"b",v:r[b]},t),k=Ju({t:"b",v:r[b]},t);break;default:throw new Error("Unsupported value "+r[b])}v.push(y),x+=y.length,_.push(k),w+=k.length,++h}for(e[2][0].data=ht(h);b<e[7][0].data.length/2;++b)m.setUint16(b*2,65535,!0),N.setUint16(b*2,65535,!0);return e[6][0].data=$a(v),e[3][0].data=$a(_),h}function lE(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Qr(t["!ref"]);s.s.r=s.s.c=0;var o=!1;s.e.c>9&&(o=!0,s.e.c=9),s.e.r>49&&(o=!0,s.e.r=49),o&&console.error("The Numbers writer is currently limited to ".concat(Ht(s)));var l=Uc(t,{range:s,header:1}),u=["~Sh33tJ5~"];l.forEach(function(O){return O.forEach(function(E){typeof E=="string"&&u.push(E)})});var f={},h=[],m=vt.read(r.numbers,{type:"base64"});m.FileIndex.map(function(O,E){return[O,m.FullPaths[E]]}).forEach(function(O){var E=O[0],D=O[1];if(E.type==2&&E.name.match(/\.iwa/)){var K=E.content,se=pn(K),ee=xn(se);ee.forEach(function(ne){h.push(ne.id),f[ne.id]={deps:[],location:D,type:hi(ne.messages[0].meta[1][0].data)}})}}),h.sort(function(O,E){return O-E});var x=h.filter(function(O){return O>1}).map(function(O){return[O,ht(O)]});m.FileIndex.map(function(O,E){return[O,m.FullPaths[E]]}).forEach(function(O){var E=O[0];if(O[1],!!E.name.match(/\.iwa/)){var D=xn(pn(E.content));D.forEach(function(K){K.messages.forEach(function(se){x.forEach(function(ee){K.messages.some(function(ne){return hi(ne.meta[1][0].data)!=11006&&aE(ne.data,ee[1])})&&f[ee[0]].deps.push(K.id)})})})}});for(var v=vt.find(m,f[1].location),N=xn(pn(v.content)),w,_=0;_<N.length;++_){var b=N[_];b.id==1&&(w=b)}var y=Aa(Xt(w.messages[0].data)[1][0].data);for(v=vt.find(m,f[y].location),N=xn(pn(v.content)),_=0;_<N.length;++_)b=N[_],b.id==y&&(w=b);for(y=Aa(Xt(w.messages[0].data)[2][0].data),v=vt.find(m,f[y].location),N=xn(pn(v.content)),_=0;_<N.length;++_)b=N[_],b.id==y&&(w=b);for(y=Aa(Xt(w.messages[0].data)[2][0].data),v=vt.find(m,f[y].location),N=xn(pn(v.content)),_=0;_<N.length;++_)b=N[_],b.id==y&&(w=b);var k=Xt(w.messages[0].data);{k[6][0].data=ht(s.e.r+1),k[7][0].data=ht(s.e.c+1);var j=Aa(k[46][0].data),T=vt.find(m,f[j].location),M=xn(pn(T.content));{for(var V=0;V<M.length&&M[V].id!=j;++V);if(M[V].id!=j)throw"Bad ColumnRowUIDMapArchive";var X=Xt(M[V].messages[0].data);X[1]=[],X[2]=[],X[3]=[];for(var Y=0;Y<=s.e.c;++Y){var te=[];te[1]=te[2]=[{type:0,data:ht(Y+420690)}],X[1].push({type:2,data:sr(te)}),X[2].push({type:0,data:ht(Y)}),X[3].push({type:0,data:ht(Y)})}X[4]=[],X[5]=[],X[6]=[];for(var J=0;J<=s.e.r;++J)te=[],te[1]=te[2]=[{type:0,data:ht(J+726270)}],X[4].push({type:2,data:sr(te)}),X[5].push({type:0,data:ht(J)}),X[6].push({type:0,data:ht(J)});M[V].messages[0].data=sr(X)}T.content=ri(ti(M)),T.size=T.content.length,delete k[46];var de=Xt(k[4][0].data);{de[7][0].data=ht(s.e.r+1);var pe=Xt(de[1][0].data),q=Aa(pe[2][0].data);T=vt.find(m,f[q].location),M=xn(pn(T.content));{if(M[0].id!=q)throw"Bad HeaderStorageBucket";var ie=Xt(M[0].messages[0].data);for(J=0;J<l.length;++J){var Pe=Xt(ie[2][0].data);Pe[1][0].data=ht(J),Pe[4][0].data=ht(l[J].length),ie[2][J]={type:ie[2][0].type,data:sr(Pe)}}M[0].messages[0].data=sr(ie)}T.content=ri(ti(M)),T.size=T.content.length;var ke=Aa(de[2][0].data);T=vt.find(m,f[ke].location),M=xn(pn(T.content));{if(M[0].id!=ke)throw"Bad HeaderStorageBucket";for(ie=Xt(M[0].messages[0].data),Y=0;Y<=s.e.c;++Y)Pe=Xt(ie[2][0].data),Pe[1][0].data=ht(Y),Pe[4][0].data=ht(s.e.r+1),ie[2][Y]={type:ie[2][0].type,data:sr(Pe)};M[0].messages[0].data=sr(ie)}T.content=ri(ti(M)),T.size=T.content.length;var We=Aa(de[4][0].data);(function(){for(var O=vt.find(m,f[We].location),E=xn(pn(O.content)),D,K=0;K<E.length;++K){var se=E[K];se.id==We&&(D=se)}var ee=Xt(D.messages[0].data);{ee[3]=[];var ne=[];u.forEach(function(Me,Ke){ne[1]=[{type:0,data:ht(Ke)}],ne[2]=[{type:0,data:ht(1)}],ne[3]=[{type:2,data:nE(Me)}],ee[3].push({type:2,data:sr(ne)})})}D.messages[0].data=sr(ee);var fe=ti(E),_e=ri(fe);O.content=_e,O.size=O.content.length})();var ye=Xt(de[3][0].data);{var L=ye[1][0];delete ye[2];var re=Xt(L.data);{var B=Aa(re[2][0].data);(function(){for(var O=vt.find(m,f[B].location),E=xn(pn(O.content)),D,K=0;K<E.length;++K){var se=E[K];se.id==B&&(D=se)}var ee=Xt(D.messages[0].data);{delete ee[6],delete ye[7];var ne=new Uint8Array(ee[5][0].data);ee[5]=[];for(var fe=0,_e=0;_e<=s.e.r;++_e){var Me=Xt(ne);fe+=oE(Me,l[_e],u),Me[1][0].data=ht(_e),ee[5].push({data:sr(Me),type:2})}ee[1]=[{type:0,data:ht(s.e.c+1)}],ee[2]=[{type:0,data:ht(s.e.r+1)}],ee[3]=[{type:0,data:ht(fe)}],ee[4]=[{type:0,data:ht(s.e.r+1)}]}D.messages[0].data=sr(ee);var Ke=ti(E),Ve=ri(Ke);O.content=Ve,O.size=O.content.length})()}L.data=sr(re)}de[3][0].data=sr(ye)}k[4][0].data=sr(de)}w.messages[0].data=sr(k);var R=ti(N),A=ri(R);return v.content=A,v.size=v.content.length,m}function cE(e){return function(t){for(var s=0;s!=e.length;++s){var o=e[s];t[o[0]]===void 0&&(t[o[0]]=o[1]),o[2]==="n"&&(t[o[0]]=Number(t[o[0]]))}}}function ef(e){cE([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function uE(e,r){return r.bookType=="ods"?c1(e,r):r.bookType=="numbers"?lE(e,r):r.bookType=="xlsb"?dE(e,r):fE(e,r)}function dE(e,r){oi=1024,e&&!e.SSF&&(e.SSF=Ur(Mt)),e&&e.SSF&&(Xc(),Yc(e.SSF),r.revssf=Kc(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,ko?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t=r.bookType=="xlsb"?"bin":"xml",s=Vg.indexOf(r.bookType)>-1,o=bg();ef(r=r||{});var l=Ld(),u="",f=0;if(r.cellXfs=[],Ga(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),u="docProps/core.xml",rt(l,u,jg(e.Props,r)),o.coreprops.push(u),xt(r.rels,2,u,ct.CORE_PROPS),u="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(e.SheetNames[m]);e.Props.SheetNames=h}for(e.Props.Worksheets=e.Props.SheetNames.length,rt(l,u,kg(e.Props)),o.extprops.push(u),xt(r.rels,3,u,ct.EXT_PROPS),e.Custprops!==e.Props&&ur(e.Custprops||{}).length>0&&(u="docProps/custom.xml",rt(l,u,Eg(e.Custprops)),o.custprops.push(u),xt(r.rels,4,u,ct.CUST_PROPS)),f=1;f<=e.SheetNames.length;++f){var x={"!id":{}},v=e.Sheets[e.SheetNames[f-1]],N=(v||{})["!type"]||"sheet";switch(N){case"chart":default:u="xl/worksheets/sheet"+f+"."+t,rt(l,u,mk(f-1,u,r,e,x)),o.sheets.push(u),xt(r.wbrels,-1,"worksheets/sheet"+f+"."+t,ct.WS[0])}if(v){var w=v["!comments"],_=!1,b="";w&&w.length>0&&(b="xl/comments"+f+"."+t,rt(l,b,gk(w,b)),o.comments.push(b),xt(x,-1,"../comments"+f+"."+t,ct.CMNT),_=!0),v["!legacy"]&&_&&rt(l,"xl/drawings/vmlDrawing"+f+".vml",$g(f,v["!comments"])),delete v["!comments"],delete v["!legacy"]}x["!id"].rId1&&rt(l,Ng(u),di(x))}return r.Strings!=null&&r.Strings.length>0&&(u="xl/sharedStrings."+t,rt(l,u,pk(r.Strings,u,r)),o.strs.push(u),xt(r.wbrels,-1,"sharedStrings."+t,ct.SST)),u="xl/workbook."+t,rt(l,u,hk(e,u)),o.workbooks.push(u),xt(r.rels,1,u,ct.WB),u="xl/theme/theme1.xml",rt(l,u,Ug(e.Themes,r)),o.themes.push(u),xt(r.wbrels,-1,"theme/theme1.xml",ct.THEME),u="xl/styles."+t,rt(l,u,xk(e,u,r)),o.styles.push(u),xt(r.wbrels,-1,"styles."+t,ct.STY),e.vbaraw&&s&&(u="xl/vbaProject.bin",rt(l,u,e.vbaraw),o.vba.push(u),xt(r.wbrels,-1,"vbaProject.bin",ct.VBA)),u="xl/metadata."+t,rt(l,u,vk(u)),o.metadata.push(u),xt(r.wbrels,-1,"metadata."+t,ct.XLMETA),rt(l,"[Content_Types].xml",wg(o,r)),rt(l,"_rels/.rels",di(r.rels)),rt(l,"xl/_rels/workbook."+t+".rels",di(r.wbrels)),delete r.revssf,delete r.ssf,l}function fE(e,r){oi=1024,e&&!e.SSF&&(e.SSF=Ur(Mt)),e&&e.SSF&&(Xc(),Yc(e.SSF),r.revssf=Kc(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,ko?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t="xml",s=Vg.indexOf(r.bookType)>-1,o=bg();ef(r=r||{});var l=Ld(),u="",f=0;if(r.cellXfs=[],Ga(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),u="docProps/core.xml",rt(l,u,jg(e.Props,r)),o.coreprops.push(u),xt(r.rels,2,u,ct.CORE_PROPS),u="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&h.push(e.SheetNames[m]);e.Props.SheetNames=h}e.Props.Worksheets=e.Props.SheetNames.length,rt(l,u,kg(e.Props)),o.extprops.push(u),xt(r.rels,3,u,ct.EXT_PROPS),e.Custprops!==e.Props&&ur(e.Custprops||{}).length>0&&(u="docProps/custom.xml",rt(l,u,Eg(e.Custprops)),o.custprops.push(u),xt(r.rels,4,u,ct.CUST_PROPS));var x=["SheetJ5"];for(r.tcid=0,f=1;f<=e.SheetNames.length;++f){var v={"!id":{}},N=e.Sheets[e.SheetNames[f-1]],w=(N||{})["!type"]||"sheet";switch(w){case"chart":default:u="xl/worksheets/sheet"+f+"."+t,rt(l,u,e1(f-1,r,e,v)),o.sheets.push(u),xt(r.wbrels,-1,"worksheets/sheet"+f+"."+t,ct.WS[0])}if(N){var _=N["!comments"],b=!1,y="";if(_&&_.length>0){var k=!1;_.forEach(function(j){j[1].forEach(function(T){T.T==!0&&(k=!0)})}),k&&(y="xl/threadedComments/threadedComment"+f+"."+t,rt(l,y,$5(_,x,r)),o.threadedcomments.push(y),xt(v,-1,"../threadedComments/threadedComment"+f+"."+t,ct.TCMNT)),y="xl/comments"+f+"."+t,rt(l,y,Hg(_)),o.comments.push(y),xt(v,-1,"../comments"+f+"."+t,ct.CMNT),b=!0}N["!legacy"]&&b&&rt(l,"xl/drawings/vmlDrawing"+f+".vml",$g(f,N["!comments"])),delete N["!comments"],delete N["!legacy"]}v["!id"].rId1&&rt(l,Ng(u),di(v))}return r.Strings!=null&&r.Strings.length>0&&(u="xl/sharedStrings."+t,rt(l,u,Mg(r.Strings,r)),o.strs.push(u),xt(r.wbrels,-1,"sharedStrings."+t,ct.SST)),u="xl/workbook."+t,rt(l,u,n1(e)),o.workbooks.push(u),xt(r.rels,1,u,ct.WB),u="xl/theme/theme1.xml",rt(l,u,Ug(e.Themes,r)),o.themes.push(u),xt(r.wbrels,-1,"theme/theme1.xml",ct.THEME),u="xl/styles."+t,rt(l,u,Bg(e,r)),o.styles.push(u),xt(r.wbrels,-1,"styles."+t,ct.STY),e.vbaraw&&s&&(u="xl/vbaProject.bin",rt(l,u,e.vbaraw),o.vba.push(u),xt(r.wbrels,-1,"vbaProject.bin",ct.VBA)),u="xl/metadata."+t,rt(l,u,Wg()),o.metadata.push(u),xt(r.wbrels,-1,"metadata."+t,ct.XLMETA),x.length>1&&(u="xl/persons/person.xml",rt(l,u,H5(x)),o.people.push(u),xt(r.wbrels,-1,"persons/person.xml",ct.PEOPLE)),rt(l,"[Content_Types].xml",wg(o,r)),rt(l,"_rels/.rels",di(r.rels)),rt(l,"xl/_rels/workbook."+t+".rels",di(r.wbrels)),delete r.revssf,delete r.ssf,l}function hE(e,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=ta(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function u1(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return Wo(r.file,vt.write(e,{type:dt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return vt.write(e,r)}function mE(e,r){var t=Ur(r||{}),s=uE(e,t);return xE(s,t)}function xE(e,r){var t={},s=dt?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(r.compression&&(t.compression="DEFLATE"),r.password)t.type=s;else switch(r.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":t.type=s;break;default:throw new Error("Unrecognized type "+r.type)}var o=e.FullPaths?vt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!r.compression}):e.generate(t);if(typeof Deno!="undefined"&&typeof o=="string"){if(r.type=="binary"||r.type=="base64")return o;o=new Uint8Array(Gc(o))}return r.password&&typeof encrypt_agile!="undefined"?u1(encrypt_agile(o,r.password),r):r.type==="file"?Wo(r.file,o):r.type=="string"?No(o):o}function pE(e,r){var t=r||{},s=Pk(e,t);return u1(s,t)}function Dn(e,r,t){t||(t="");var s=t+e;switch(r.type){case"base64":return Fo(Mo(s));case"binary":return Mo(s);case"string":return e;case"file":return Wo(r.file,s,"utf8");case"buffer":return dt?aa(s,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(s):Dn(s,{type:"binary"}).split("").map(function(o){return o.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function gE(e,r){switch(r.type){case"base64":return Fo(e);case"binary":return e;case"string":return e;case"file":return Wo(r.file,e,"binary");case"buffer":return dt?aa(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function gc(e,r){switch(r.type){case"string":case"base64":case"binary":for(var t="",s=0;s<e.length;++s)t+=String.fromCharCode(e[s]);return r.type=="base64"?Fo(t):r.type=="string"?No(t):t;case"file":return Wo(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function d1(e,r){V4(),rk(e);var t=Ur(r||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var s=d1(e,t);return t.type="array",Gc(s)}var o=0;if(t.sheet&&(typeof t.sheet=="number"?o=t.sheet:o=e.SheetNames.indexOf(t.sheet),!e.SheetNames[o]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Dn(Ak(e,t),t);case"slk":case"sylk":return Dn(ZN.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"htm":case"html":return Dn(i1(e.Sheets[e.SheetNames[o]],t),t);case"txt":return gE(f1(e.Sheets[e.SheetNames[o]],t),t);case"csv":return Dn(tf(e.Sheets[e.SheetNames[o]],t),t,"\uFEFF");case"dif":return Dn(e5.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"dbf":return gc(JN.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"prn":return Dn(t5.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"rtf":return Dn(l5.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"eth":return Dn(Og.from_sheet(e.Sheets[e.SheetNames[o]],t),t);case"fods":return Dn(c1(e,t),t);case"wk1":return gc(Hx.sheet_to_wk1(e.Sheets[e.SheetNames[o]],t),t);case"wk3":return gc(Hx.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),gc(s1(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),pE(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return mE(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function vE(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function yE(e,r,t){var s={};return s.type="file",s.file=r,vE(s),d1(e,s)}function bE(e,r,t,s,o,l,u,f){var h=cr(t),m=f.defval,x=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),v=!0,N=o===1?[]:{};if(o!==1)if(Object.defineProperty)try{Object.defineProperty(N,"__rowNum__",{value:t,enumerable:!1})}catch{N.__rowNum__=t}else N.__rowNum__=t;if(!u||e[t])for(var w=r.s.c;w<=r.e.c;++w){var _=u?e[t][w]:e[s[w]+h];if(_===void 0||_.t===void 0){if(m===void 0)continue;l[w]!=null&&(N[l[w]]=m);continue}var b=_.v;switch(_.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(l[w]!=null){if(b==null)if(_.t=="e"&&b===null)N[l[w]]=null;else if(m!==void 0)N[l[w]]=m;else if(x&&b===null)N[l[w]]=null;else continue;else N[l[w]]=x&&(_.t!=="n"||_.t==="n"&&f.rawNumbers!==!1)?b:ra(_,b,f);b!=null&&(v=!1)}}return{row:N,isempty:v}}function Uc(e,r){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},s=0,o=1,l=[],u=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},m=r||{},x=m.range!=null?m.range:e["!ref"];switch(m.header===1?s=1:m.header==="A"?s=2:Array.isArray(m.header)?s=3:m.header==null&&(s=0),typeof x){case"string":h=kt(x);break;case"number":h=kt(e["!ref"]),h.s.r=x;break;default:h=x}s>0&&(o=0);var v=cr(h.s.r),N=[],w=[],_=0,b=0,y=Array.isArray(e),k=h.s.r,j=0,T={};y&&!e[k]&&(e[k]=[]);var M=m.skipHidden&&e["!cols"]||[],V=m.skipHidden&&e["!rows"]||[];for(j=h.s.c;j<=h.e.c;++j)if(!(M[j]||{}).hidden)switch(N[j]=pr(j),t=y?e[k][j]:e[N[j]+v],s){case 1:l[j]=j-h.s.c;break;case 2:l[j]=N[j];break;case 3:l[j]=m.header[j-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),f=u=ra(t,null,m),b=T[u]||0,!b)T[u]=1;else{do f=u+"_"+b++;while(T[f]);T[u]=b,T[f]=1}l[j]=f}for(k=h.s.r+o;k<=h.e.r;++k)if(!(V[k]||{}).hidden){var X=bE(e,h,k,N,s,l,y,m);(X.isempty===!1||(s===1?m.blankrows!==!1:m.blankrows))&&(w[_++]=X.row)}return w.length=_,w}var Jx=/"/g;function wE(e,r,t,s,o,l,u,f){for(var h=!0,m=[],x="",v=cr(t),N=r.s.c;N<=r.e.c;++N)if(s[N]){var w=f.dense?(e[t]||[])[N]:e[s[N]+v];if(w==null)x="";else if(w.v!=null){h=!1,x=""+(f.rawNumbers&&w.t=="n"?w.v:ra(w,null,f));for(var _=0,b=0;_!==x.length;++_)if((b=x.charCodeAt(_))===o||b===l||b===34||f.forceQuotes){x='"'+x.replace(Jx,'""')+'"';break}x=="ID"&&(x='"ID"')}else w.f!=null&&!w.F?(h=!1,x="="+w.f,x.indexOf(",")>=0&&(x='"'+x.replace(Jx,'""')+'"')):x="";m.push(x)}return f.blankrows===!1&&h?null:m.join(u)}function tf(e,r){var t=[],s=r==null?{}:r;if(e==null||e["!ref"]==null)return"";var o=kt(e["!ref"]),l=s.FS!==void 0?s.FS:",",u=l.charCodeAt(0),f=s.RS!==void 0?s.RS:`
`,h=f.charCodeAt(0),m=new RegExp((l=="|"?"\\|":l)+"+$"),x="",v=[];s.dense=Array.isArray(e);for(var N=s.skipHidden&&e["!cols"]||[],w=s.skipHidden&&e["!rows"]||[],_=o.s.c;_<=o.e.c;++_)(N[_]||{}).hidden||(v[_]=pr(_));for(var b=0,y=o.s.r;y<=o.e.r;++y)(w[y]||{}).hidden||(x=wE(e,o,y,v,u,h,l,s),x!=null&&(s.strip&&(x=x.replace(m,"")),(x||s.blankrows!==!1)&&t.push((b++?f:"")+x)));return delete s.dense,t.join("")}function f1(e,r){r||(r={}),r.FS="	",r.RS=`
`;var t=tf(e,r);return t}function NE(e){var r="",t,s="";if(e==null||e["!ref"]==null)return[];var o=kt(e["!ref"]),l="",u=[],f,h=[],m=Array.isArray(e);for(f=o.s.c;f<=o.e.c;++f)u[f]=pr(f);for(var x=o.s.r;x<=o.e.r;++x)for(l=cr(x),f=o.s.c;f<=o.e.c;++f)if(r=u[f]+l,t=m?(e[x]||[])[f]:e[r],s="",t!==void 0){if(t.F!=null){if(r=t.F,!t.f)continue;s=t.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(t.f!=null)s=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)s=""+t.v;else if(t.t=="b")s=t.v?"TRUE":"FALSE";else if(t.w!==void 0)s="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?s="'"+t.v:s=""+t.v}}h[h.length]=r+"="+s}return h}function h1(e,r,t){var s=t||{},o=+!s.skipHeader,l=e||{},u=0,f=0;if(l&&s.origin!=null)if(typeof s.origin=="number")u=s.origin;else{var h=typeof s.origin=="string"?tr(s.origin):s.origin;u=h.r,f=h.c}var m,x={s:{c:0,r:0},e:{c:f,r:u+r.length-1+o}};if(l["!ref"]){var v=kt(l["!ref"]);x.e.c=Math.max(x.e.c,v.e.c),x.e.r=Math.max(x.e.r,v.e.r),u==-1&&(u=v.e.r+1,x.e.r=u+r.length-1+o)}else u==-1&&(u=0,x.e.r=r.length-1+o);var N=s.header||[],w=0;r.forEach(function(b,y){ur(b).forEach(function(k){(w=N.indexOf(k))==-1&&(N[w=N.length]=k);var j=b[k],T="z",M="",V=gt({c:f+w,r:u+y+o});m=Lo(l,V),j&&typeof j=="object"&&!(j instanceof Date)?l[V]=j:(typeof j=="number"?T="n":typeof j=="boolean"?T="b":typeof j=="string"?T="s":j instanceof Date?(T="d",s.cellDates||(T="n",j=zr(j)),M=s.dateNF||Mt[14]):j===null&&s.nullError&&(T="e",j=0),m?(m.t=T,m.v=j,delete m.w,delete m.R,M&&(m.z=M)):l[V]=m={t:T,v:j},M&&(m.z=M))})}),x.e.c=Math.max(x.e.c,f+N.length-1);var _=cr(u);if(o)for(w=0;w<N.length;++w)l[pr(w+f)+_]={t:"s",v:N[w]};return l["!ref"]=Ht(x),l}function _E(e,r){return h1(null,e,r)}function Lo(e,r,t){if(typeof r=="string"){if(Array.isArray(e)){var s=tr(r);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?Lo(e,gt(r)):Lo(e,gt({r,c:t||0}))}function jE(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=e.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function SE(){return{SheetNames:[],Sheets:{}}}function kE(e,r,t,s){var o=1;if(!t)for(;o<=65535&&e.SheetNames.indexOf(t="Sheet"+o)!=-1;++o,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(t)>=0){var l=t.match(/(^.*?)(\d+)$/);o=l&&+l[2]||0;var u=l&&l[1]||t;for(++o;o<=65535&&e.SheetNames.indexOf(t=u+o)!=-1;++o);}if(r1(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=r,t}function EE(e,r,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=jE(e,r);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[s].Hidden=t}function TE(e,r){return e.z=r,e}function m1(e,r,t){return r?(e.l={Target:r},t&&(e.l.Tooltip=t)):delete e.l,e}function CE(e,r,t){return m1(e,"#"+r,t)}function AE(e,r,t){e.c||(e.c=[]),e.c.push({t:r,a:t||"SheetJS"})}function DE(e,r,t,s){for(var o=typeof r!="string"?r:kt(r),l=typeof r=="string"?r:Ht(r),u=o.s.r;u<=o.e.r;++u)for(var f=o.s.c;f<=o.e.c;++f){var h=Lo(e,u,f);h.t="n",h.F=l,delete h.v,u==o.s.r&&f==o.s.c&&(h.f=t,s&&(h.D=!0))}return e}var Zu={encode_col:pr,encode_row:cr,encode_cell:gt,encode_range:Ht,decode_col:Hd,decode_row:$d,split_cell:V3,decode_cell:tr,decode_range:Qr,format_cell:ra,sheet_add_aoa:mg,sheet_add_json:h1,sheet_add_dom:o1,aoa_to_sheet:wi,json_to_sheet:_E,table_to_sheet:l1,table_to_book:eE,sheet_to_csv:tf,sheet_to_txt:f1,sheet_to_json:Uc,sheet_to_html:i1,sheet_to_formulae:NE,sheet_to_row_object_array:Uc,sheet_get_cell:Lo,book_new:SE,book_append_sheet:kE,book_set_sheet_visibility:EE,cell_set_number_format:TE,cell_set_hyperlink:m1,cell_set_internal_link:CE,cell_add_comment:AE,sheet_set_array_formula:DE,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const PE=({isOpen:e,onClose:r,inventory:t=[],onSnapshotCreated:s,onInventoryReset:o})=>{const{user:l}=Ut(),{showSuccess:u,showError:f,showWarning:h}=Tr(),[m,x]=P.useState({items:[]}),[v,N]=P.useState(!1),[w,_]=P.useState(!1);P.useEffect(()=>{if(e&&t.length>0){const T=t.map(M=>{const V=M.initialStock||0,X=M.entries||0,Y=M.exits||0,te=M.sales||0,J=V+X-Y-te,de=M.stock||M.currentStock||M.quantity||0,pe=M.realStock||de;return{productId:M._id,productName:M.name||"Sin nombre",category:M.category||"Sin categoría",initialStock:V,entries:X,exits:Y,sales:te,expectedStock:J,realStock:pe,difference:pe-J}});x({items:T})}},[e,t]);const b=async()=>{try{console.log("🔄 Reiniciando inventario después del snapshot...");const T=m.items.map(M=>{const V=t.find(X=>X._id===M.productId);return V?{productId:M.productId,name:V.name,code:V.code,category:V.category,price:V.price,description:V.description,minStock:V.minStock,unit:V.unit,initialStock:M.realStock,entries:0,exits:0,sales:0,realStock:M.realStock,stock:M.realStock}:null}).filter(Boolean);console.log("📦 Datos para reiniciar inventario:",T);for(const M of T)await Kn.updateInventoryItem(M.productId,{name:M.name,code:M.code,category:M.category,price:M.price,description:M.description,minStock:M.minStock,unit:M.unit,initialStock:M.initialStock,entries:M.entries,exits:M.exits,sales:M.sales,realStock:M.realStock,stock:M.stock});console.log("✅ Inventario reiniciado exitosamente")}catch(T){throw console.error("❌ Error al reiniciar inventario:",T),f("Error al reiniciar el inventario: "+T.message),T}},y=async()=>{try{if(_(!0),m.items.length===0){h("No hay productos para guardar en el snapshot");return}console.log("📸 Guardando snapshot de inventario:",m),(await yc.createSnapshot(m)).success&&(console.log("✅ Snapshot guardado, ahora reiniciando inventario..."),await b(),u("Inventario guardado y reiniciado exitosamente"),s&&s(),o&&o(),r())}catch(T){console.error("❌ Error al guardar snapshot o reiniciar inventario:",T),f(T.message||"Error al guardar el snapshot de inventario")}finally{_(!1)}},k=T=>T>0?{icon:a.jsx(Vc,{className:"w-4 h-4 text-green-400"}),text:`+${T}`,className:"text-green-400 bg-green-900/30"}:T<0?{icon:a.jsx(Ib,{className:"w-4 h-4 text-red-400"}),text:T.toString(),className:"text-red-400 bg-red-900/30"}:{icon:a.jsx(_p,{className:"w-4 h-4 text-gray-400"}),text:"0",className:"text-gray-400 bg-gray-900/30"},j=m.items.reduce((T,M)=>T+M.difference,0);return e?a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
          }
          
          .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 3px;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.6), 0 0 12px rgba(59, 130, 246, 0.4);
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #f3f4f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.8), 0 0 16px rgba(59, 130, 246, 0.5);
          }
          
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #ffffff transparent;
          }
        `}),a.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",onClick:r,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}})]}),a.jsx("div",{className:"relative z-10 flex min-h-full items-center justify-center p-4",children:a.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 w-full max-w-6xl h-[90vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hc,{className:"w-6 h-6 text-blue-400"}),a.jsxs("div",{children:[a.jsx(Bt,{className:"text-xl font-semibold",children:"Guardar Inventario"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Registra el estado actual del inventario"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-300",children:["Total diferencia:",a.jsxs("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${j>0?"text-green-300 bg-green-900/30":j<0?"text-red-300 bg-red-900/30":"text-gray-300 bg-gray-900/30"}`,children:[j>0?"+":"",j]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:a.jsx(bn,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-white/5 sticky top-0 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Inicial"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Entradas"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Salidas"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Ventas"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock Sistema"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock Real"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Diferencia"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:m.items.map((T,M)=>{const V=k(T.difference);return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"font-medium text-white",children:T.productName}),a.jsx("div",{className:"text-xs text-gray-400 capitalize",children:T.category})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-gray-300",children:T.initialStock})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-green-400",children:T.entries})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-red-400",children:T.exits})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-orange-400",children:T.sales})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-purple-400",children:T.expectedStock})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"font-medium text-blue-400",children:T.realStock})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:a.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${V.className}`,children:[V.icon,V.text]})})]},T.productId)})})]})})}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-white/10 bg-white/5 backdrop-blur-sm",children:[a.jsxs("div",{className:"text-sm text-gray-300",children:[m.items.length," productos • Registro del ",new Date().toLocaleDateString("es-ES")]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(St,{onClick:r,variant:"secondary",className:"px-4 py-2 text-gray-200",children:"Cancelar"}),a.jsx(St,{onClick:y,disabled:w||m.items.length===0,className:"inline-flex items-center justify-center gap-2 px-4 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:w?"Guardando...":"Guardar Inventario"})]})})]})]})]})})]}):null},FE=({isOpen:e,onClose:r})=>{const[t,s]=P.useState([]),[o,l]=P.useState(!1),[u,f]=P.useState({}),[h,m]=P.useState({}),{showSuccess:x,showError:v}=Tr();P.useEffect(()=>{e&&N()},[e]);const N=async()=>{try{l(!0);const k=await yc.getSnapshots({limit:50,page:1});s(k.data||[])}catch(k){console.error("Error al cargar inventarios guardados:",k),v("Error al cargar los inventarios guardados")}finally{l(!1)}},w=async k=>{try{f(X=>({...X,[k._id]:!0}));const j=await yc.downloadSnapshot(k._id),T=window.URL.createObjectURL(j),M=document.createElement("a");M.href=T;const V=new Date(k.date).toLocaleDateString("es-ES").replace(/\//g,"-");M.download=`inventario-guardado-${V}.xlsx`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(T),x("Inventario descargado exitosamente")}catch(j){console.error("Error al descargar inventario:",j),v("Error al descargar el inventario")}finally{f(j=>({...j,[k._id]:!1}))}},_=async k=>{if(window.confirm("¿Estás seguro de que quieres eliminar este inventario guardado? Esta acción no se puede deshacer."))try{m(j=>({...j,[k._id]:!0})),await yc.deleteSnapshot(k._id),s(j=>j.filter(T=>T._id!==k._id)),x("Inventario eliminado exitosamente")}catch(j){console.error("Error al eliminar inventario:",j),v("Error al eliminar el inventario")}finally{m(j=>({...j,[k._id]:!1}))}},b=k=>new Date(k).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=k=>k===0?{text:"0",color:"text-gray-600"}:k>0?{text:`+${k}`,color:"text-green-600"}:{text:k.toString(),color:"text-red-600"};return e?a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
          }
          
          .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 3px;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.6), 0 0 12px rgba(59, 130, 246, 0.4);
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #f3f4f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.8), 0 0 16px rgba(59, 130, 246, 0.5);
          }
          
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #ffffff transparent;
          }
        `}),a.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",onClick:r,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}})]}),a.jsx("div",{className:"relative z-10 flex min-h-full items-center justify-center p-4 py-8",children:a.jsxs("div",{className:"relative w-full max-w-4xl max-h-[85vh] bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 flex flex-col",onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nc,{className:"h-8 w-8 text-blue-400"}),a.jsxs("div",{children:[a.jsx(Bt,{className:"text-lg font-medium",children:"Inventarios Guardados"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Historial de inventarios registrados"})]})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(bn,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden p-6 pt-2",children:[o&&a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),a.jsx("span",{className:"ml-2 text-gray-300",children:"Cargando inventarios..."})]}),!o&&t.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Nc,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"No hay inventarios guardados"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Aún no se han registrado inventarios."})]}),!o&&t.length>0&&a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(k=>{var V;const j=y(k.totalDifference),T=u[k._id],M=h[k._id];return a.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsx(Kt,{className:"h-4 w-4 mr-1"}),b(k.date)]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsx(kr,{className:"h-4 w-4 mr-1"}),((V=k.createdBy)==null?void 0:V.name)||"Usuario"]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(xi,{className:"h-4 w-4 mr-1 text-blue-400"}),a.jsxs("span",{className:"text-white font-medium",children:[k.totalItems," productos"]})]}),a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:"text-white font-medium mr-1",children:"Diferencia:"}),a.jsx("span",{className:`font-semibold ${j.color==="text-gray-600"?"text-gray-300":j.color==="text-green-600"?"text-green-300":"text-red-300"}`,children:j.text})]})]}),k.notes&&a.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',k.notes,'"']})]}),a.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[a.jsx(St,{onClick:()=>w(k),disabled:T,className:"inline-flex items-center justify-center px-3 py-2 text-sm leading-4 font-medium",children:T?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Descargando..."})]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nd,{className:"h-4 w-4 mr-2 flex-shrink-0"}),a.jsx("span",{children:"Descargar"})]})}),a.jsx("button",{onClick:()=>_(k),disabled:M,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Eliminar inventario",children:M?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-400"}):a.jsx(Bo,{className:"h-4 w-4"})})]})]})},k._id)})})]}),a.jsx("div",{className:"flex justify-end p-6 border-t border-white/10",children:a.jsx(St,{type:"button",onClick:r,variant:"secondary",className:"px-4 py-2 text-sm font-medium",children:"Cerrar"})})]})})]}):null},OE=()=>{const{user:e}=Ut(),{refreshTrigger:r,needsRefresh:t,markRefreshed:s}=bp(),[o,l]=P.useState([]),[u,f]=P.useState(!0),[h,m]=P.useState(""),[x,v]=P.useState(""),[N,w]=P.useState(null),[_,b]=P.useState(""),[y,k]=P.useState(null),[j,T]=P.useState({name:"",code:"",category:"insumos",initialStock:"",entries:"",exits:"",minStock:"",realStock:"",price:"",description:""}),[M,V]=P.useState(null),[X,Y]=P.useState(null),[te,J]=P.useState({type:"entry",quantity:"",reason:"",notes:""}),[de,pe]=P.useState({quantity:"1"}),[q,ie]=P.useState({realStock:"",entries:"",exits:"",notes:""}),[Pe,ke]=P.useState(!1),[We,ye]=P.useState(!1),L=["cannabicos","gorras","insumos","productos_pelo","lociones","ceras","geles","maquinas","accesorios","otros"];P.useEffect(()=>{re()},[]),P.useEffect(()=>{console.log("🔄 InventoryAdmin: useEffect trigger -",{refreshTrigger:r,lastRefreshTime:N,needsRefresh:t(N)}),t(N)&&(console.log("🔄 InventoryAdmin: Detectada venta nueva, recargando..."),re())},[r,N,t]),P.useEffect(()=>{console.log("🔄 InventoryAdmin: Componente montado, verificando si necesita recarga..."),t(N)&&(console.log("🔄 InventoryAdmin: Necesita recarga al montar, ejecutando..."),re())},[]);const re=async()=>{try{f(!0),console.log("🔄 InventoryAdmin: Cargando inventario...");const xe=Date.now(),je=await Kn.getInventory({_t:xe});let H=[];je&&je.data&&Array.isArray(je.data)?H=je.data:je&&Array.isArray(je.success)&&(H=je.success),l(H),w(s()),console.log("✅ InventoryAdmin: Inventario cargado, productos:",H.length)}catch(xe){console.error("❌ InventoryAdmin: Error al cargar inventario:",xe),m("Error al cargar el inventario"),l([])}finally{f(!1)}},B=async xe=>{xe.preventDefault();try{const je={...j,initialStock:j.initialStock?parseInt(j.initialStock,10):0,entries:j.entries?parseInt(j.entries,10):0,exits:j.exits?parseInt(j.exits,10):0,stock:j.initialStock?parseInt(j.initialStock,10):0,minStock:j.minStock?parseInt(j.minStock,10):0,realStock:j.realStock?parseInt(j.realStock,10):void 0,price:j.price?parseFloat(j.price):0};M?(await Kn.updateInventoryItem(M._id,je),v("Producto actualizado exitosamente")):(await Kn.createInventoryItem(je),v("Producto creado exitosamente")),R(),k(null),re(),setTimeout(()=>v(""),3e3)}catch(je){console.error("Error al guardar producto:",je),m(je.message||"Error al guardar el producto"),setTimeout(()=>m(""),3e3)}},R=()=>{T({name:"",code:"",category:"insumos",initialStock:"",entries:"",exits:"",minStock:"",realStock:"",price:"",description:""}),V(null)},A=xe=>{var je,H,ve,Ge,nt,tt;T({name:xe.name,code:xe.code||"",category:xe.category,initialStock:((je=xe.initialStock)==null?void 0:je.toString())||"",entries:((H=xe.entries)==null?void 0:H.toString())||"",exits:((ve=xe.exits)==null?void 0:ve.toString())||"",minStock:((Ge=xe.minStock)==null?void 0:Ge.toString())||"",realStock:((nt=xe.realStock)==null?void 0:nt.toString())||"",price:((tt=xe.price)==null?void 0:tt.toString())||"",description:xe.description||""}),V(xe),k("form")},O=async xe=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await Kn.deleteInventoryItem(xe),v("Producto eliminado exitosamente"),re(),setTimeout(()=>v(""),3e3)}catch(je){console.error("Error al eliminar producto:",je),m("Error al eliminar el producto"),setTimeout(()=>m(""),3e3)}},E=()=>{R(),k("form")},D=xe=>{Y(xe),J({type:"entry",quantity:"",reason:"",notes:""}),k("movement")},K=xe=>{Y(xe),pe({quantity:"1"}),k("sale")},se=xe=>{Y(xe),ie({realStock:xe.realStock||xe.stock||"",entries:"",exits:"",notes:""}),k("count")},ee=()=>{ke(!1),re()},ne=xe=>{const je=xe.realStock||xe.stock||xe.currentStock||xe.quantity||0,H=xe.minStock||0;return je<=0?{status:"out",label:"Sin stock",color:"text-red-400",bgColor:"bg-red-500/10"}:je<=H?{status:"low",label:"Stock bajo",color:"text-yellow-400",bgColor:"bg-yellow-500/10"}:{status:"good",label:"Stock normal",color:"text-green-400",bgColor:"bg-green-500/10"}},fe=Array.isArray(o)?o.filter(xe=>xe.name.toLowerCase().includes(_.toLowerCase())||xe.category.toLowerCase().includes(_.toLowerCase())):[],_e=async xe=>{xe.preventDefault();try{const je=parseInt(te.quantity),H=X.stock||X.currentStock||X.quantity||0;let ve,Ge=X.entries||0,nt=X.exits||0;te.type==="entry"?(ve=H+je,Ge+=je):(ve=Math.max(0,H-je),nt+=je);const tt={...X,stock:ve,entries:Ge,exits:nt,quantity:ve};await Kn.updateInventoryItem(X._id,tt),v(`Movimiento registrado exitosamente: ${te.type==="entry"?"Entrada":"Salida"} de ${je} unidades`),J({type:"entry",quantity:"",reason:"",notes:""}),k(null),re(),setTimeout(()=>v(""),3e3)}catch(je){console.error("Error al registrar movimiento:",je),m("Error al registrar el movimiento"),setTimeout(()=>m(""),3e3)}},Me=async xe=>{xe.preventDefault();try{const je=parseInt(de.quantity),H=X.stock||X.currentStock||X.quantity||0;if(je>H){m("No hay suficiente stock para realizar esta venta"),setTimeout(()=>m(""),3e3);return}const ve={productId:X._id,quantity:je,barberId:e._id,customerName:`Venta directa - ${e.name}`,notes:`Venta registrada por ${e.name} desde inventario`};if(!(await fetch("/api/v1/sales",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ve)})).ok)throw new Error("Error al registrar la venta");const nt=H-je,tt=(X.exits||0)+je,et=(X.sales||0)+je,vr={...X,stock:nt,exits:tt,sales:et,quantity:nt};await Kn.updateInventoryItem(X._id,vr),v(`Venta registrada exitosamente: ${je} unidades`),pe({quantity:"1"}),k(null),re(),setTimeout(()=>v(""),3e3)}catch(je){console.error("Error al registrar venta:",je),m("Error al registrar la venta"),setTimeout(()=>m(""),3e3)}},Ke=async xe=>{xe.preventDefault();try{const je=parseInt(q.realStock)||0,H=parseInt(q.entries)||0,ve=parseInt(q.exits)||0,Ge={...X,realStock:je,entries:(X.entries||0)+H,exits:(X.exits||0)+ve,notes:q.notes};await Kn.updateInventoryItem(X._id,Ge),v(`Conteo registrado exitosamente para ${X.name}`),ie({realStock:"",entries:"",exits:"",notes:""}),k(null),re(),setTimeout(()=>v(""),3e3)}catch(je){console.error("Error al registrar conteo:",je),m("Error al registrar el conteo"),setTimeout(()=>m(""),3e3)}},Ve=()=>{try{const xe=fe.map(et=>({Código:et.code||"",Nombre:et.name||"",Categoría:et.category?et.category.replace("_"," ").toUpperCase():"","Stock Inicial":et.initialStock||0,Entradas:et.entries||0,Salidas:et.exits||0,"Stock Actual":et.stock||et.currentStock||et.quantity||0,"Stock Mínimo":et.minStock||0,Precio:et.price?`$${et.price.toLocaleString("es-CO")}`:"$0",Estado:(et.stock||et.currentStock||et.quantity||0)<=(et.minStock||0)?"Stock Bajo":"Normal",Descripción:et.description||""})),je=Zu.json_to_sheet(xe),H=et=>Math.max(...et.map(vr=>(vr||"").toString().length)),ve=Object.keys(xe[0]||{}).map(et=>({wch:Math.min(Math.max(H(xe.map(vr=>vr[et])),et.length),50)}));je["!cols"]=ve;const Ge=Zu.book_new();Zu.book_append_sheet(Ge,je,"Inventario");const nt=new Date,tt=`inventario_${nt.getFullYear()}-${(nt.getMonth()+1).toString().padStart(2,"0")}-${nt.getDate().toString().padStart(2,"0")}.xlsx`;yE(Ge,tt),v(`Inventario exportado exitosamente: ${tt}`),setTimeout(()=>v(""),3e3)}catch(xe){console.error("Error al exportar inventario:",xe),m("Error al exportar el inventario"),setTimeout(()=>m(""),3e3)}};return a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(Ct,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center py-8",children:a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:a.jsxs(Bt,{className:"text-4xl md:text-5xl font-bold",children:[a.jsx(Wu,{className:"w-10 h-10 mx-auto mb-3"}),"Gestión de Inventario"]})})}),h&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[a.jsx(Ed,{className:"w-4 h-4"}),h]}),x&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4"}),x]}),a.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex gap-3",children:[(e==null?void 0:e.role)==="admin"&&a.jsx(St,{onClick:E,className:"text-sm px-8 py-2 min-w-[180px]",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(yo,{className:"w-4 h-4"}),a.jsx("span",{children:"Nuevo Producto"})]})}),(e==null?void 0:e.role)==="admin"&&a.jsxs("button",{onClick:Ve,className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30 rounded-lg transition-colors text-sm",disabled:fe.length===0,children:[a.jsx(Nd,{className:"w-4 h-4"}),a.jsx("span",{children:"Exportar Excel"})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs("button",{onClick:()=>ke(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 border border-blue-500/30 rounded-lg transition-colors text-sm",disabled:fe.length===0,children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:"Guardar Inventario"})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs("button",{onClick:()=>ye(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 border border-purple-500/30 rounded-lg transition-colors text-sm",children:[a.jsx(Kt,{className:"w-4 h-4"}),a.jsx("span",{children:"Ver Inventarios"})]})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(kd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:_,onChange:xe=>b(xe.target.value),className:"w-full pl-9 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:border-blue-500/50 text-sm backdrop-blur-sm"})]})]}),y==="form"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:a.jsx(Bt,{className:"text-lg font-semibold",children:M?"Editar Producto":"Nuevo Producto"})}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(po,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",value:j.name,onChange:xe=>T({...j,name:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Código"}),a.jsx("input",{type:"text",value:j.code,onChange:xe=>T({...j,code:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",placeholder:"Ej: PRD001",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Categoría"}),a.jsx("select",{value:j.category,onChange:xe=>T({...j,category:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",children:L.map(xe=>a.jsx("option",{value:xe,children:xe.replace("_"," ").toUpperCase()},xe))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Stock Inicial"}),a.jsx("input",{type:"number",value:j.initialStock,onChange:xe=>T({...j,initialStock:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Stock Mínimo"}),a.jsx("input",{type:"number",value:j.minStock,onChange:xe=>T({...j,minStock:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0"})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Stock Real (Conteo)"}),a.jsx("input",{type:"number",value:j.realStock||"",onChange:xe=>T({...j,realStock:xe.target.value}),className:"w-full px-3 py-2 bg-blue-500/10 border border-blue-500/30 rounded-lg text-blue-300 text-sm backdrop-blur-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400",min:"0",placeholder:"Stock físico contado"}),a.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:"Stock físico verificado por conteo manual"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Precio"}),a.jsx("input",{type:"number",step:"0.01",value:j.price,onChange:xe=>T({...j,price:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Descripción"}),a.jsx("input",{type:"text",value:j.description,onChange:xe=>T({...j,description:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm"})]}),a.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex gap-3 pt-2",children:[a.jsx(St,{type:"submit",className:"text-sm px-4 py-2",children:M?"Actualizar":"Crear"}),a.jsx("button",{type:"button",onClick:()=>{R(),k(null)},className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),y==="movement"&&X&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:a.jsxs(Bt,{className:"text-lg font-semibold",children:["Movimiento - ",X.name]})}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(po,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:_e,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Tipo"}),a.jsxs("select",{value:te.type,onChange:xe=>J({...te,type:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",children:[a.jsx("option",{value:"entry",children:"Entrada"}),a.jsx("option",{value:"exit",children:"Salida"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:te.quantity,onChange:xe=>J({...te,quantity:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Motivo"}),a.jsx("input",{type:"text",value:te.reason,onChange:xe=>J({...te,reason:xe.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0})]}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx(St,{type:"submit",className:"text-sm px-4 py-2",children:"Registrar"}),a.jsx("button",{type:"button",onClick:()=>k(null),className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),y==="sale"&&X&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:a.jsxs(Bt,{className:"text-lg font-semibold",children:["Venta - ",X.name]})}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("span",{className:"text-3xl font-bold text-green-400",children:["$",X.price||0]}),a.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"por unidad"})]})]}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-white transition-colors lg:self-start",children:a.jsx(po,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cantidad"}),a.jsx("input",{type:"number",value:de.quantity,onChange:xe=>pe({...de,quantity:xe.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center font-semibold",min:"1",max:X.stock||X.currentStock||X.quantity||0,required:!0}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-center",children:["Stock disponible: ",X.stock||X.currentStock||X.quantity||0]})]}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Total a Pagar"}),a.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-xl p-4 text-center",children:a.jsxs("span",{className:"text-4xl font-bold text-green-400",children:["$",((parseFloat(de.quantity)||0)*(parseFloat(X.price)||0)).toFixed(2)]})})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(St,{type:"submit",className:"flex-1 text-base py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Wu,{className:"w-5 h-5"}),a.jsx("span",{children:"Registrar Venta"})]})}),a.jsx("button",{type:"button",onClick:()=>k(null),className:"px-6 py-3 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-base backdrop-blur-sm",children:"Cancelar"})]})]})]}),y==="count"&&X&&a.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:a.jsxs(Bt,{className:"text-lg font-semibold",children:["Conteo de Stock - ",X.name]})}),a.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[a.jsxs("div",{children:["Stock Esperado: ",a.jsx("span",{className:"text-purple-400 font-medium",children:X.initialStock+(X.entries||0)-(X.exits||0)-(X.sales||0)})]}),a.jsxs("div",{children:["Stock Actual: ",a.jsx("span",{className:"text-blue-400 font-medium",children:X.realStock||X.stock||0})]})]})]}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-white transition-colors lg:self-start",children:a.jsx(po,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Contado"}),a.jsx("input",{type:"number",value:q.realStock,onChange:xe=>ie({...q,realStock:xe.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center font-semibold",min:"0",placeholder:"Ingrese stock real",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entradas"}),a.jsx("input",{type:"number",value:q.entries,onChange:xe=>ie({...q,entries:xe.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center",min:"0",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Salidas"}),a.jsx("input",{type:"number",value:q.exits,onChange:xe=>ie({...q,exits:xe.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center",min:"0",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notas (Opcional)"}),a.jsx("textarea",{value:q.notes,onChange:xe=>ie({...q,notes:xe.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white backdrop-blur-sm",rows:"3",placeholder:"Observaciones del conteo..."})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(St,{type:"submit",className:"flex-1 text-base py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(tx,{className:"w-5 h-5"}),a.jsx("span",{children:"Guardar Conteo"})]})}),a.jsx("button",{type:"button",onClick:()=>k(null),className:"px-6 py-3 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-base backdrop-blur-sm",children:"Cancelar"})]})]})]}),a.jsx("div",{className:"px-4 py-2 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:a.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-gray-300",children:[a.jsx("div",{className:"col-span-2",children:"PRODUCTO"}),a.jsx("div",{className:"col-span-1 text-center",children:"INICIAL"}),a.jsx("div",{className:"col-span-1 text-center",children:"ENTRADAS"}),a.jsx("div",{className:"col-span-1 text-center",children:"SALIDAS"}),a.jsx("div",{className:"col-span-1 text-center",children:"VENTAS"}),a.jsx("div",{className:"col-span-1 text-center",children:"ESPERADO"}),a.jsx("div",{className:"col-span-1 text-center",children:"REAL"}),a.jsx("div",{className:"col-span-1 text-center",children:"DIFERENCIA"}),a.jsx("div",{className:"col-span-1 text-center",children:"ESTADO"}),a.jsx("div",{className:"col-span-2 text-center",children:"ACCIONES"})]})}),u?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando..."})]}):fe.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Wu,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No hay productos en el inventario"})]}):a.jsx("div",{className:"divide-y divide-white/10",children:fe.map(xe=>{var _n;const je=ne(xe),H=xe.stock||xe.currentStock||xe.quantity||0,ve=xe.initialStock||0,Ge=xe.entries||0,nt=xe.exits||0,tt=xe.sales||0;xe.minStock;const et=xe.realStock||H,vr=ve+Ge-nt-tt,dr=et-vr;return a.jsx("div",{className:"px-4 py-2 hover:bg-white/5 transition-colors backdrop-blur-sm border-b border-white/5",children:a.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center text-sm",children:[a.jsx("div",{className:"col-span-2",children:a.jsxs("div",{children:[a.jsx(Bt,{className:"font-medium text-sm",children:xe.name}),a.jsx("p",{className:"text-xs text-gray-400 capitalize",children:(_n=xe.category)==null?void 0:_n.replace("_"," ")})]})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-gray-300 font-medium",children:ve})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-green-400 font-medium",children:Ge})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-red-400 font-medium",children:nt})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-orange-400 font-medium",children:tt})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-purple-400 font-medium",children:vr})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:"text-blue-400 font-medium",children:et})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:`font-medium ${dr>=0?"text-green-400":"text-red-400"}`,children:dr})}),a.jsx("div",{className:"col-span-1 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${je.bgColor} ${je.color}`,children:je.status==="out"?"Sin":je.status==="low"?"Bajo":"OK"})}),a.jsx("div",{className:"col-span-2 flex justify-center gap-1",children:(e==null?void 0:e.role)==="admin"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>A(xe),className:"p-1.5 bg-blue-600/20 text-blue-400 rounded-md hover:bg-blue-600/30 transition-colors",title:"Editar",children:a.jsx(jp,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>D(xe),className:"p-1.5 bg-purple-600/20 text-purple-400 rounded-md hover:bg-purple-600/30 transition-colors",title:"Movimiento",children:a.jsx(Sb,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>K(xe),className:"p-1.5 bg-green-600/20 text-green-400 rounded-md hover:bg-green-600/30 transition-colors",title:"Venta",children:a.jsx(bo,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>O(xe._id),className:"p-1.5 bg-red-600/20 text-red-400 rounded-md hover:bg-red-600/30 transition-colors",title:"Eliminar",children:a.jsx(Bo,{className:"w-3.5 h-3.5"})})]}):a.jsx("button",{onClick:()=>se(xe),className:"p-1.5 bg-yellow-600/20 text-yellow-400 rounded-md hover:bg-yellow-600/30 transition-colors",title:"Conteo de Stock",children:a.jsx(tx,{className:"w-3.5 h-3.5"})})})]})},xe._id)})})]})]})}),a.jsx(PE,{isOpen:Pe,onClose:()=>ke(!1),inventory:o,onSnapshotCreated:ee,onInventoryReset:re}),a.jsx(FE,{isOpen:We,onClose:()=>ye(!1)})]})]})};var qe=function(){return qe=Object.assign||function(r){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qe.apply(this,arguments)};function ME(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(t[s[o]]=e[s[o]]);return t}function x1(e,r,t){for(var s=0,o=r.length,l;s<o;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return e.concat(l||Array.prototype.slice.call(r))}function Yo(e){return e.mode==="multiple"}function Xo(e){return e.mode==="range"}function e0(e){return e.mode==="single"}var RE={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function IE(e,r){return Lr(e,"LLLL y",r)}function LE(e,r){return Lr(e,"d",r)}function BE(e,r){return Lr(e,"LLLL",r)}function zE(e){return"".concat(e)}function UE(e,r){return Lr(e,"cccccc",r)}function WE(e,r){return Lr(e,"yyyy",r)}var $E=Object.freeze({__proto__:null,formatCaption:IE,formatDay:LE,formatMonthCaption:BE,formatWeekNumber:zE,formatWeekdayName:UE,formatYearCaption:WE}),HE=function(e,r,t){return Lr(e,"do MMMM (EEEE)",t)},VE=function(){return"Month: "},GE=function(){return"Go to next month"},YE=function(){return"Go to previous month"},XE=function(e,r){return Lr(e,"cccc",r)},KE=function(e){return"Week n. ".concat(e)},qE=function(){return"Year: "},QE=Object.freeze({__proto__:null,labelDay:HE,labelMonthDropdown:VE,labelNext:GE,labelPrevious:YE,labelWeekNumber:KE,labelWeekday:XE,labelYearDropdown:qE});function JE(){var e="buttons",r=RE,t=Ap,s={},o={},l=1,u={},f=new Date;return{captionLayout:e,classNames:r,formatters:$E,labels:QE,locale:t,modifiersClassNames:s,modifiers:o,numberOfMonths:l,styles:u,today:f,mode:"default"}}function ZE(e){var r=e.fromYear,t=e.toYear,s=e.fromMonth,o=e.toMonth,l=e.fromDate,u=e.toDate;return s?l=Ir(s):r&&(l=new Date(r,0,1)),o?u=Ad(o):t&&(u=new Date(t,11,31)),{fromDate:l?ps(l):void 0,toDate:u?ps(u):void 0}}var p1=P.createContext(void 0);function e6(e){var r,t=e.initialProps,s=JE(),o=ZE(t),l=o.fromDate,u=o.toDate,f=(r=t.captionLayout)!==null&&r!==void 0?r:s.captionLayout;f!=="buttons"&&(!l||!u)&&(f="buttons");var h;(e0(t)||Yo(t)||Xo(t))&&(h=t.onSelect);var m=qe(qe(qe({},s),t),{captionLayout:f,classNames:qe(qe({},s.classNames),t.classNames),components:qe({},t.components),formatters:qe(qe({},s.formatters),t.formatters),fromDate:l,labels:qe(qe({},s.labels),t.labels),mode:t.mode||s.mode,modifiers:qe(qe({},s.modifiers),t.modifiers),modifiersClassNames:qe(qe({},s.modifiersClassNames),t.modifiersClassNames),onSelect:h,styles:qe(qe({},s.styles),t.styles),toDate:u});return a.jsx(p1.Provider,{value:m,children:e.children})}function Nt(){var e=P.useContext(p1);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function g1(e){var r=Nt(),t=r.locale,s=r.classNames,o=r.styles,l=r.formatters.formatCaption;return a.jsx("div",{className:s.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:t})})}function t6(e){return a.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function v1(e){var r,t,s=e.onChange,o=e.value,l=e.children,u=e.caption,f=e.className,h=e.style,m=Nt(),x=(t=(r=m.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&t!==void 0?t:t6;return a.jsxs("div",{className:f,style:h,children:[a.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:o,onChange:s,children:l}),a.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[u,a.jsx(x,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function r6(e){var r,t=Nt(),s=t.fromDate,o=t.toDate,l=t.styles,u=t.locale,f=t.formatters.formatMonthCaption,h=t.classNames,m=t.components,x=t.labels.labelMonthDropdown;if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});var v=[];if(r4(s,o))for(var N=Ir(s),w=s.getMonth();w<=o.getMonth();w++)v.push(Hu(N,w));else for(var N=Ir(new Date),w=0;w<=11;w++)v.push(Hu(N,w));var _=function(y){var k=Number(y.target.value),j=Hu(Ir(e.displayMonth),k);e.onChange(j)},b=(r=m==null?void 0:m.Dropdown)!==null&&r!==void 0?r:v1;return a.jsx(b,{name:"months","aria-label":x(),className:h.dropdown_month,style:l.dropdown_month,onChange:_,value:e.displayMonth.getMonth(),caption:f(e.displayMonth,{locale:u}),children:v.map(function(y){return a.jsx("option",{value:y.getMonth(),children:f(y,{locale:u})},y.getMonth())})})}function n6(e){var r,t=e.displayMonth,s=Nt(),o=s.fromDate,l=s.toDate,u=s.locale,f=s.styles,h=s.classNames,m=s.components,x=s.formatters.formatYearCaption,v=s.labels.labelYearDropdown,N=[];if(!o)return a.jsx(a.Fragment,{});if(!l)return a.jsx(a.Fragment,{});for(var w=o.getFullYear(),_=l.getFullYear(),b=w;b<=_;b++)N.push(ox(Ep(new Date),b));var y=function(j){var T=ox(Ir(t),Number(j.target.value));e.onChange(T)},k=(r=m==null?void 0:m.Dropdown)!==null&&r!==void 0?r:v1;return a.jsx(k,{name:"years","aria-label":v(),className:h.dropdown_year,style:f.dropdown_year,onChange:y,value:t.getFullYear(),caption:x(t,{locale:u}),children:N.map(function(j){return a.jsx("option",{value:j.getFullYear(),children:x(j,{locale:u})},j.getFullYear())})})}function a6(e,r){var t=P.useState(e),s=t[0],o=t[1],l=r===void 0?s:r;return[l,o]}function s6(e){var r=e.month,t=e.defaultMonth,s=e.today,o=r||t||s||new Date,l=e.toDate,u=e.fromDate,f=e.numberOfMonths,h=f===void 0?1:f;if(l&&Do(l,o)<0){var m=-1*(h-1);o=wn(l,m)}return u&&Do(o,u)<0&&(o=u),Ir(o)}function i6(){var e=Nt(),r=s6(e),t=a6(r,e.month),s=t[0],o=t[1],l=function(u){var f;if(!e.disableNavigation){var h=Ir(u);o(h),(f=e.onMonthChange)===null||f===void 0||f.call(e,h)}};return[s,l]}function o6(e,r){for(var t=r.reverseMonths,s=r.numberOfMonths,o=Ir(e),l=Ir(wn(o,s)),u=Do(l,o),f=[],h=0;h<u;h++){var m=wn(o,h);f.push(m)}return t&&(f=f.reverse()),f}function l6(e,r){if(!r.disableNavigation){var t=r.toDate,s=r.pagedNavigation,o=r.numberOfMonths,l=o===void 0?1:o,u=s?l:1,f=Ir(e);if(!t)return wn(f,u);var h=Do(t,e);if(!(h<l))return wn(f,u)}}function c6(e,r){if(!r.disableNavigation){var t=r.fromDate,s=r.pagedNavigation,o=r.numberOfMonths,l=o===void 0?1:o,u=s?l:1,f=Ir(e);if(!t)return wn(f,-u);var h=Do(f,t);if(!(h<=0))return wn(f,-u)}}var y1=P.createContext(void 0);function u6(e){var r=Nt(),t=i6(),s=t[0],o=t[1],l=o6(s,r),u=l6(s,r),f=c6(s,r),h=function(v){return l.some(function(N){return Fd(v,N)})},m=function(v,N){h(v)||(N&&Pd(v,N)?o(wn(v,1+r.numberOfMonths*-1)):o(v))},x={currentMonth:s,displayMonths:l,goToMonth:o,goToDate:m,previousMonth:f,nextMonth:u,isDateDisplayed:h};return a.jsx(y1.Provider,{value:x,children:e.children})}function Ko(){var e=P.useContext(y1);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Zx(e){var r,t=Nt(),s=t.classNames,o=t.styles,l=t.components,u=Ko().goToMonth,f=function(x){u(wn(x,e.displayIndex?-e.displayIndex:0))},h=(r=l==null?void 0:l.CaptionLabel)!==null&&r!==void 0?r:g1,m=a.jsx(h,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:s.caption_dropdowns,style:o.caption_dropdowns,children:[a.jsx("div",{className:s.vhidden,children:m}),a.jsx(r6,{onChange:f,displayMonth:e.displayMonth}),a.jsx(n6,{onChange:f,displayMonth:e.displayMonth})]})}function d6(e){return a.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function f6(e){return a.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Wc=P.forwardRef(function(e,r){var t=Nt(),s=t.classNames,o=t.styles,l=[s.button_reset,s.button];e.className&&l.push(e.className);var u=l.join(" "),f=qe(qe({},o.button_reset),o.button);return e.style&&Object.assign(f,e.style),a.jsx("button",qe({},e,{ref:r,type:"button",className:u,style:f}))});function h6(e){var r,t,s=Nt(),o=s.dir,l=s.locale,u=s.classNames,f=s.styles,h=s.labels,m=h.labelPrevious,x=h.labelNext,v=s.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var N=m(e.previousMonth,{locale:l}),w=[u.nav_button,u.nav_button_previous].join(" "),_=x(e.nextMonth,{locale:l}),b=[u.nav_button,u.nav_button_next].join(" "),y=(r=v==null?void 0:v.IconRight)!==null&&r!==void 0?r:f6,k=(t=v==null?void 0:v.IconLeft)!==null&&t!==void 0?t:d6;return a.jsxs("div",{className:u.nav,style:f.nav,children:[!e.hidePrevious&&a.jsx(Wc,{name:"previous-month","aria-label":N,className:w,style:f.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?a.jsx(y,{className:u.nav_icon,style:f.nav_icon}):a.jsx(k,{className:u.nav_icon,style:f.nav_icon})}),!e.hideNext&&a.jsx(Wc,{name:"next-month","aria-label":_,className:b,style:f.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?a.jsx(k,{className:u.nav_icon,style:f.nav_icon}):a.jsx(y,{className:u.nav_icon,style:f.nav_icon})})]})}function ep(e){var r=Nt().numberOfMonths,t=Ko(),s=t.previousMonth,o=t.nextMonth,l=t.goToMonth,u=t.displayMonths,f=u.findIndex(function(_){return Fd(e.displayMonth,_)}),h=f===0,m=f===u.length-1,x=r>1&&(h||!m),v=r>1&&(m||!h),N=function(){s&&l(s)},w=function(){o&&l(o)};return a.jsx(h6,{displayMonth:e.displayMonth,hideNext:x,hidePrevious:v,nextMonth:o,previousMonth:s,onPreviousClick:N,onNextClick:w})}function m6(e){var r,t=Nt(),s=t.classNames,o=t.disableNavigation,l=t.styles,u=t.captionLayout,f=t.components,h=(r=f==null?void 0:f.CaptionLabel)!==null&&r!==void 0?r:g1,m;return o?m=a.jsx(h,{id:e.id,displayMonth:e.displayMonth}):u==="dropdown"?m=a.jsx(Zx,{displayMonth:e.displayMonth,id:e.id}):u==="dropdown-buttons"?m=a.jsxs(a.Fragment,{children:[a.jsx(Zx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(ep,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=a.jsxs(a.Fragment,{children:[a.jsx(h,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(ep,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:s.caption,style:l.caption,children:m})}function x6(e){var r=Nt(),t=r.footer,s=r.styles,o=r.classNames.tfoot;return t?a.jsx("tfoot",{className:o,style:s.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:t})})}):a.jsx(a.Fragment,{})}function p6(e,r,t){for(var s=t?xs(new Date):Rn(new Date,{locale:e,weekStartsOn:r}),o=[],l=0;l<7;l++){var u=wr(s,l);o.push(u)}return o}function g6(){var e=Nt(),r=e.classNames,t=e.styles,s=e.showWeekNumber,o=e.locale,l=e.weekStartsOn,u=e.ISOWeek,f=e.formatters.formatWeekdayName,h=e.labels.labelWeekday,m=p6(o,l,u);return a.jsxs("tr",{style:t.head_row,className:r.head_row,children:[s&&a.jsx("td",{style:t.head_cell,className:r.head_cell}),m.map(function(x,v){return a.jsx("th",{scope:"col",className:r.head_cell,style:t.head_cell,"aria-label":h(x,{locale:o}),children:f(x,{locale:o})},v)})]})}function v6(){var e,r=Nt(),t=r.classNames,s=r.styles,o=r.components,l=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:g6;return a.jsx("thead",{style:s.head,className:t.head,children:a.jsx(l,{})})}function y6(e){var r=Nt(),t=r.locale,s=r.formatters.formatDay;return a.jsx(a.Fragment,{children:s(e.date,{locale:t})})}var rf=P.createContext(void 0);function b6(e){if(!Yo(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return a.jsx(rf.Provider,{value:r,children:e.children})}return a.jsx(w6,{initialProps:e.initialProps,children:e.children})}function w6(e){var r=e.initialProps,t=e.children,s=r.selected,o=r.min,l=r.max,u=function(m,x,v){var N,w;(N=r.onDayClick)===null||N===void 0||N.call(r,m,x,v);var _=!!(x.selected&&o&&(s==null?void 0:s.length)===o);if(!_){var b=!!(!x.selected&&l&&(s==null?void 0:s.length)===l);if(!b){var y=s?x1([],s):[];if(x.selected){var k=y.findIndex(function(j){return jr(m,j)});y.splice(k,1)}else y.push(m);(w=r.onSelect)===null||w===void 0||w.call(r,y,m,x,v)}}},f={disabled:[]};s&&f.disabled.push(function(m){var x=l&&s.length>l-1,v=s.some(function(N){return jr(N,m)});return!!(x&&!v)});var h={selected:s,onDayClick:u,modifiers:f};return a.jsx(rf.Provider,{value:h,children:t})}function nf(){var e=P.useContext(rf);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function N6(e,r){var t=r||{},s=t.from,o=t.to;return s&&o?jr(o,e)&&jr(s,e)?void 0:jr(o,e)?{from:o,to:void 0}:jr(s,e)?void 0:kc(s,e)?{from:e,to:o}:{from:s,to:e}:o?kc(e,o)?{from:o,to:e}:{from:e,to:o}:s?Pd(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var af=P.createContext(void 0);function _6(e){if(!Xo(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(af.Provider,{value:r,children:e.children})}return a.jsx(j6,{initialProps:e.initialProps,children:e.children})}function j6(e){var r=e.initialProps,t=e.children,s=r.selected,o=s||{},l=o.from,u=o.to,f=r.min,h=r.max,m=function(w,_,b){var y,k;(y=r.onDayClick)===null||y===void 0||y.call(r,w,_,b);var j=N6(w,s);(k=r.onSelect)===null||k===void 0||k.call(r,j,w,_,b)},x={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(x.range_start=[l],u?(x.range_end=[u],jr(l,u)||(x.range_middle=[{after:l,before:u}])):x.range_end=[l]):u&&(x.range_start=[u],x.range_end=[u]),f&&(l&&!u&&x.disabled.push({after:$u(l,f-1),before:wr(l,f-1)}),l&&u&&x.disabled.push({after:l,before:wr(l,f-1)}),!l&&u&&x.disabled.push({after:$u(u,f-1),before:wr(u,f-1)})),h){if(l&&!u&&(x.disabled.push({before:wr(l,-h+1)}),x.disabled.push({after:wr(l,h-1)})),l&&u){var v=Mn(u,l)+1,N=h-v;x.disabled.push({before:$u(l,N)}),x.disabled.push({after:wr(u,N)})}!l&&u&&(x.disabled.push({before:wr(u,-h+1)}),x.disabled.push({after:wr(u,h-1)}))}return a.jsx(af.Provider,{value:{selected:s,onDayClick:m,modifiers:x},children:t})}function sf(){var e=P.useContext(af);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function bc(e){return Array.isArray(e)?x1([],e):e!==void 0?[e]:[]}function S6(e){var r={};return Object.entries(e).forEach(function(t){var s=t[0],o=t[1];r[s]=bc(o)}),r}var Nn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Nn||(Nn={}));var k6=Nn.Selected,Xn=Nn.Disabled,E6=Nn.Hidden,T6=Nn.Today,ed=Nn.RangeEnd,td=Nn.RangeMiddle,rd=Nn.RangeStart,C6=Nn.Outside;function A6(e,r,t){var s,o=(s={},s[k6]=bc(e.selected),s[Xn]=bc(e.disabled),s[E6]=bc(e.hidden),s[T6]=[e.today],s[ed]=[],s[td]=[],s[rd]=[],s[C6]=[],s);return e.fromDate&&o[Xn].push({before:e.fromDate}),e.toDate&&o[Xn].push({after:e.toDate}),Yo(e)?o[Xn]=o[Xn].concat(r.modifiers[Xn]):Xo(e)&&(o[Xn]=o[Xn].concat(t.modifiers[Xn]),o[rd]=t.modifiers[rd],o[td]=t.modifiers[td],o[ed]=t.modifiers[ed]),o}var b1=P.createContext(void 0);function D6(e){var r=Nt(),t=nf(),s=sf(),o=A6(r,t,s),l=S6(r.modifiers),u=qe(qe({},o),l);return a.jsx(b1.Provider,{value:u,children:e.children})}function w1(){var e=P.useContext(b1);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function P6(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function F6(e){return!!(e&&typeof e=="object"&&"from"in e)}function O6(e){return!!(e&&typeof e=="object"&&"after"in e)}function M6(e){return!!(e&&typeof e=="object"&&"before"in e)}function R6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function I6(e,r){var t,s=r.from,o=r.to;if(s&&o){var l=Mn(o,s)<0;l&&(t=[o,s],s=t[0],o=t[1]);var u=Mn(e,s)>=0&&Mn(o,e)>=0;return u}return o?jr(o,e):s?jr(s,e):!1}function L6(e){return Cd(e)}function B6(e){return Array.isArray(e)&&e.every(Cd)}function z6(e,r){return r.some(function(t){if(typeof t=="boolean")return t;if(L6(t))return jr(e,t);if(B6(t))return t.includes(e);if(F6(t))return I6(e,t);if(R6(t))return t.dayOfWeek.includes(e.getDay());if(P6(t)){var s=Mn(t.before,e),o=Mn(t.after,e),l=s>0,u=o<0,f=kc(t.before,t.after);return f?u&&l:l||u}return O6(t)?Mn(e,t.after)>0:M6(t)?Mn(t.before,e)>0:typeof t=="function"?t(e):!1})}function of(e,r,t){var s=Object.keys(r).reduce(function(l,u){var f=r[u];return z6(e,f)&&l.push(u),l},[]),o={};return s.forEach(function(l){return o[l]=!0}),t&&!Fd(e,t)&&(o.outside=!0),o}function U6(e,r){for(var t=Ir(e[0]),s=Ad(e[e.length-1]),o,l,u=t;u<=s;){var f=of(u,r),h=!f.disabled&&!f.hidden;if(!h){u=wr(u,1);continue}if(f.selected)return u;f.today&&!l&&(l=u),o||(o=u),u=wr(u,1)}return l||o}var W6=365;function N1(e,r){var t=r.moveBy,s=r.direction,o=r.context,l=r.modifiers,u=r.retry,f=u===void 0?{count:0,lastFocused:e}:u,h=o.weekStartsOn,m=o.fromDate,x=o.toDate,v=o.locale,N={day:wr,week:dd,month:wn,year:Zb,startOfWeek:function(y){return o.ISOWeek?xs(y):Rn(y,{locale:v,weekStartsOn:h})},endOfWeek:function(y){return o.ISOWeek?Tp(y):Dd(y,{locale:v,weekStartsOn:h})}},w=N[t](e,s==="after"?1:-1);s==="before"&&m?w=ew([m,w]):s==="after"&&x&&(w=tw([x,w]));var _=!0;if(l){var b=of(w,l);_=!b.disabled&&!b.hidden}return _?w:f.count>W6?f.lastFocused:N1(w,{moveBy:t,direction:s,context:o,modifiers:l,retry:qe(qe({},f),{count:f.count+1})})}var _1=P.createContext(void 0);function $6(e){var r=Ko(),t=w1(),s=P.useState(),o=s[0],l=s[1],u=P.useState(),f=u[0],h=u[1],m=U6(r.displayMonths,t),x=(o!=null?o:f&&r.isDateDisplayed(f))?f:m,v=function(){h(o),l(void 0)},N=function(y){l(y)},w=Nt(),_=function(y,k){if(o){var j=N1(o,{moveBy:y,direction:k,context:w,modifiers:t});jr(o,j)||(r.goToDate(j,o),N(j))}},b={focusedDay:o,focusTarget:x,blur:v,focus:N,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return a.jsx(_1.Provider,{value:b,children:e.children})}function lf(){var e=P.useContext(_1);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function H6(e,r){var t=w1(),s=of(e,t,r);return s}var cf=P.createContext(void 0);function V6(e){if(!e0(e.initialProps)){var r={selected:void 0};return a.jsx(cf.Provider,{value:r,children:e.children})}return a.jsx(G6,{initialProps:e.initialProps,children:e.children})}function G6(e){var r=e.initialProps,t=e.children,s=function(l,u,f){var h,m,x;if((h=r.onDayClick)===null||h===void 0||h.call(r,l,u,f),u.selected&&!r.required){(m=r.onSelect)===null||m===void 0||m.call(r,void 0,l,u,f);return}(x=r.onSelect)===null||x===void 0||x.call(r,l,l,u,f)},o={selected:r.selected,onDayClick:s};return a.jsx(cf.Provider,{value:o,children:t})}function j1(){var e=P.useContext(cf);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Y6(e,r){var t=Nt(),s=j1(),o=nf(),l=sf(),u=lf(),f=u.focusDayAfter,h=u.focusDayBefore,m=u.focusWeekAfter,x=u.focusWeekBefore,v=u.blur,N=u.focus,w=u.focusMonthBefore,_=u.focusMonthAfter,b=u.focusYearBefore,y=u.focusYearAfter,k=u.focusStartOfWeek,j=u.focusEndOfWeek,T=function(ye){var L,re,B,R;e0(t)?(L=s.onDayClick)===null||L===void 0||L.call(s,e,r,ye):Yo(t)?(re=o.onDayClick)===null||re===void 0||re.call(o,e,r,ye):Xo(t)?(B=l.onDayClick)===null||B===void 0||B.call(l,e,r,ye):(R=t.onDayClick)===null||R===void 0||R.call(t,e,r,ye)},M=function(ye){var L;N(e),(L=t.onDayFocus)===null||L===void 0||L.call(t,e,r,ye)},V=function(ye){var L;v(),(L=t.onDayBlur)===null||L===void 0||L.call(t,e,r,ye)},X=function(ye){var L;(L=t.onDayMouseEnter)===null||L===void 0||L.call(t,e,r,ye)},Y=function(ye){var L;(L=t.onDayMouseLeave)===null||L===void 0||L.call(t,e,r,ye)},te=function(ye){var L;(L=t.onDayPointerEnter)===null||L===void 0||L.call(t,e,r,ye)},J=function(ye){var L;(L=t.onDayPointerLeave)===null||L===void 0||L.call(t,e,r,ye)},de=function(ye){var L;(L=t.onDayTouchCancel)===null||L===void 0||L.call(t,e,r,ye)},pe=function(ye){var L;(L=t.onDayTouchEnd)===null||L===void 0||L.call(t,e,r,ye)},q=function(ye){var L;(L=t.onDayTouchMove)===null||L===void 0||L.call(t,e,r,ye)},ie=function(ye){var L;(L=t.onDayTouchStart)===null||L===void 0||L.call(t,e,r,ye)},Pe=function(ye){var L;(L=t.onDayKeyUp)===null||L===void 0||L.call(t,e,r,ye)},ke=function(ye){var L;switch(ye.key){case"ArrowLeft":ye.preventDefault(),ye.stopPropagation(),t.dir==="rtl"?f():h();break;case"ArrowRight":ye.preventDefault(),ye.stopPropagation(),t.dir==="rtl"?h():f();break;case"ArrowDown":ye.preventDefault(),ye.stopPropagation(),m();break;case"ArrowUp":ye.preventDefault(),ye.stopPropagation(),x();break;case"PageUp":ye.preventDefault(),ye.stopPropagation(),ye.shiftKey?b():w();break;case"PageDown":ye.preventDefault(),ye.stopPropagation(),ye.shiftKey?y():_();break;case"Home":ye.preventDefault(),ye.stopPropagation(),k();break;case"End":ye.preventDefault(),ye.stopPropagation(),j();break}(L=t.onDayKeyDown)===null||L===void 0||L.call(t,e,r,ye)},We={onClick:T,onFocus:M,onBlur:V,onKeyDown:ke,onKeyUp:Pe,onMouseEnter:X,onMouseLeave:Y,onPointerEnter:te,onPointerLeave:J,onTouchCancel:de,onTouchEnd:pe,onTouchMove:q,onTouchStart:ie};return We}function X6(){var e=Nt(),r=j1(),t=nf(),s=sf(),o=e0(e)?r.selected:Yo(e)?t.selected:Xo(e)?s.selected:void 0;return o}function K6(e){return Object.values(Nn).includes(e)}function q6(e,r){var t=[e.classNames.day];return Object.keys(r).forEach(function(s){var o=e.modifiersClassNames[s];if(o)t.push(o);else if(K6(s)){var l=e.classNames["day_".concat(s)];l&&t.push(l)}}),t}function Q6(e,r){var t=qe({},e.styles.day);return Object.keys(r).forEach(function(s){var o;t=qe(qe({},t),(o=e.modifiersStyles)===null||o===void 0?void 0:o[s])}),t}function J6(e,r,t){var s,o,l,u=Nt(),f=lf(),h=H6(e,r),m=Y6(e,h),x=X6(),v=!!(u.onDayClick||u.mode!=="default");P.useEffect(function(){var X;h.outside||f.focusedDay&&v&&jr(f.focusedDay,e)&&((X=t.current)===null||X===void 0||X.focus())},[f.focusedDay,e,t,v,h.outside]);var N=q6(u,h).join(" "),w=Q6(u,h),_=!!(h.outside&&!u.showOutsideDays||h.hidden),b=(l=(o=u.components)===null||o===void 0?void 0:o.DayContent)!==null&&l!==void 0?l:y6,y=a.jsx(b,{date:e,displayMonth:r,activeModifiers:h}),k={style:w,className:N,children:y,role:"gridcell"},j=f.focusTarget&&jr(f.focusTarget,e)&&!h.outside,T=f.focusedDay&&jr(f.focusedDay,e),M=qe(qe(qe({},k),(s={disabled:h.disabled,role:"gridcell"},s["aria-selected"]=h.selected,s.tabIndex=T||j?0:-1,s)),m),V={isButton:v,isHidden:_,activeModifiers:h,selectedDays:x,buttonProps:M,divProps:k};return V}function Z6(e){var r=P.useRef(null),t=J6(e.date,e.displayMonth,r);return t.isHidden?a.jsx("div",{role:"gridcell"}):t.isButton?a.jsx(Wc,qe({name:"day",ref:r},t.buttonProps)):a.jsx("div",qe({},t.divProps))}function eT(e){var r=e.number,t=e.dates,s=Nt(),o=s.onWeekNumberClick,l=s.styles,u=s.classNames,f=s.locale,h=s.labels.labelWeekNumber,m=s.formatters.formatWeekNumber,x=m(Number(r),{locale:f});if(!o)return a.jsx("span",{className:u.weeknumber,style:l.weeknumber,children:x});var v=h(Number(r),{locale:f}),N=function(w){o(r,t,w)};return a.jsx(Wc,{name:"week-number","aria-label":v,className:u.weeknumber,style:l.weeknumber,onClick:N,children:x})}function tT(e){var r,t,s=Nt(),o=s.styles,l=s.classNames,u=s.showWeekNumber,f=s.components,h=(r=f==null?void 0:f.Day)!==null&&r!==void 0?r:Z6,m=(t=f==null?void 0:f.WeekNumber)!==null&&t!==void 0?t:eT,x;return u&&(x=a.jsx("td",{className:l.cell,style:o.cell,children:a.jsx(m,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:l.row,style:o.row,children:[x,e.dates.map(function(v){return a.jsx("td",{className:l.cell,style:o.cell,role:"presentation",children:a.jsx(h,{displayMonth:e.displayMonth,date:v})},Zw(v))})]})}function tp(e,r,t){for(var s=t!=null&&t.ISOWeek?Tp(r):Dd(r,t),o=t!=null&&t.ISOWeek?xs(e):Rn(e,t),l=Mn(s,o),u=[],f=0;f<=l;f++)u.push(wr(o,f));var h=u.reduce(function(m,x){var v=t!=null&&t.ISOWeek?Dp(x):Fp(x,t),N=m.find(function(w){return w.weekNumber===v});return N?(N.dates.push(x),m):(m.push({weekNumber:v,dates:[x]}),m)},[]);return h}function rT(e,r){var t=tp(Ir(e),Ad(e),r);if(r!=null&&r.useFixedWeeks){var s=t4(e,r);if(s<6){var o=t[t.length-1],l=o.dates[o.dates.length-1],u=dd(l,6-s),f=tp(dd(l,1),u,r);t.push.apply(t,f)}}return t}function nT(e){var r,t,s,o=Nt(),l=o.locale,u=o.classNames,f=o.styles,h=o.hideHead,m=o.fixedWeeks,x=o.components,v=o.weekStartsOn,N=o.firstWeekContainsDate,w=o.ISOWeek,_=rT(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:w,locale:l,weekStartsOn:v,firstWeekContainsDate:N}),b=(r=x==null?void 0:x.Head)!==null&&r!==void 0?r:v6,y=(t=x==null?void 0:x.Row)!==null&&t!==void 0?t:tT,k=(s=x==null?void 0:x.Footer)!==null&&s!==void 0?s:x6;return a.jsxs("table",{id:e.id,className:u.table,style:f.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!h&&a.jsx(b,{}),a.jsx("tbody",{className:u.tbody,style:f.tbody,children:_.map(function(j){return a.jsx(y,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),a.jsx(k,{displayMonth:e.displayMonth})]})}function aT(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var sT=aT()?P.useLayoutEffect:P.useEffect,nd=!1,iT=0;function rp(){return"react-day-picker-".concat(++iT)}function oT(e){var r,t=e!=null?e:nd?rp():null,s=P.useState(t),o=s[0],l=s[1];return sT(function(){o===null&&l(rp())},[]),P.useEffect(function(){nd===!1&&(nd=!0)},[]),(r=e!=null?e:o)!==null&&r!==void 0?r:void 0}function lT(e){var r,t,s=Nt(),o=s.dir,l=s.classNames,u=s.styles,f=s.components,h=Ko().displayMonths,m=oT(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),x=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,v=[l.month],N=u.month,w=e.displayIndex===0,_=e.displayIndex===h.length-1,b=!w&&!_;o==="rtl"&&(r=[w,_],_=r[0],w=r[1]),w&&(v.push(l.caption_start),N=qe(qe({},N),u.caption_start)),_&&(v.push(l.caption_end),N=qe(qe({},N),u.caption_end)),b&&(v.push(l.caption_between),N=qe(qe({},N),u.caption_between));var y=(t=f==null?void 0:f.Caption)!==null&&t!==void 0?t:m6;return a.jsxs("div",{className:v.join(" "),style:N,children:[a.jsx(y,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(nT,{id:x,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function cT(e){var r=Nt(),t=r.classNames,s=r.styles;return a.jsx("div",{className:t.months,style:s.months,children:e.children})}function uT(e){var r,t,s=e.initialProps,o=Nt(),l=lf(),u=Ko(),f=P.useState(!1),h=f[0],m=f[1];P.useEffect(function(){o.initialFocus&&l.focusTarget&&(h||(l.focus(l.focusTarget),m(!0)))},[o.initialFocus,h,l.focus,l.focusTarget,l]);var x=[o.classNames.root,o.className];o.numberOfMonths>1&&x.push(o.classNames.multiple_months),o.showWeekNumber&&x.push(o.classNames.with_weeknumber);var v=qe(qe({},o.styles.root),o.style),N=Object.keys(s).filter(function(_){return _.startsWith("data-")}).reduce(function(_,b){var y;return qe(qe({},_),(y={},y[b]=s[b],y))},{}),w=(t=(r=s.components)===null||r===void 0?void 0:r.Months)!==null&&t!==void 0?t:cT;return a.jsx("div",qe({className:x.join(" "),style:v,dir:o.dir,id:o.id,nonce:s.nonce,title:s.title,lang:s.lang},N,{children:a.jsx(w,{children:u.displayMonths.map(function(_,b){return a.jsx(lT,{displayIndex:b,displayMonth:_},b)})})}))}function dT(e){var r=e.children,t=ME(e,["children"]);return a.jsx(e6,{initialProps:t,children:a.jsx(u6,{children:a.jsx(V6,{initialProps:t,children:a.jsx(b6,{initialProps:t,children:a.jsx(_6,{initialProps:t,children:a.jsx(D6,{children:a.jsx($6,{children:r})})})})})})})}function fT(e){return a.jsx(dT,qe({},e,{children:a.jsx(uT,{initialProps:e})}))}const Tt=(e,...r)=>{console.log(e,...r)},hT=()=>{const{showError:e,showSuccess:r}=Tr(),[t,s]=P.useState([]),[o,l]=P.useState({}),[u,f]=P.useState({}),[h,m]=P.useState(!0),[x,v]=P.useState(""),[N,w]=P.useState([]),[_,b]=P.useState({}),[y,k]=P.useState("General"),[j,T]=P.useState(""),[M,V]=P.useState(!1),[X,Y]=P.useState(null),[te,J]=P.useState(!1),[de,pe]=P.useState(null),q=P.useMemo(()=>N.sort((O,E)=>new Date(E)-new Date(O)),[N]);P.useEffect(()=>{(async()=>{try{const E=await Da.getAvailableDates(),D=(E==null?void 0:E.data)||[];let K=[];const se=[...new Set([...D,...K])].filter(ee=>ee&&ee.trim()!=="").sort((ee,ne)=>new Date(ne)-new Date(ee));Tt("📅 Fechas disponibles cargadas:",se),w(se)}catch(E){console.error("Error cargando fechas globales:",E),w([])}})()},[]),P.useEffect(()=>{if(Tt("🔄 Aplicando filtro:",y,j,"Barbers:",t.length),y==="General"||!j){Tt("📋 Usando estadísticas generales - limpiando filtros"),f({}),V(!1);return}if(t.length===0){Tt("⚠️ No hay barberos para filtrar");return}if(M){Tt("⏳ Filtrado ya en progreso, saltando...");return}Tt("🎯 Ejecutando filtrado por tipo:",y,"fecha base:",j),We()},[y,j,t]);const ie=()=>{if(!j||y==="General")return[];const O=new Date(j+"T12:00:00"),E=[];if(y==="Día")E.push(new Date(O));else if(y==="Semana")for(let D=0;D<7;D++){const K=new Date(O);K.setDate(O.getDate()-D),E.push(new Date(K))}else if(y==="Mes")for(let D=0;D<30;D++){const K=new Date(O);K.setDate(O.getDate()-D),E.push(new Date(K))}return Tt("🎯 Rango a resaltar:",y,j,E.map(D=>{const K=D.getFullYear(),se=(D.getMonth()+1).toString().padStart(2,"0"),ee=D.getDate().toString().padStart(2,"0");return`${K}-${se}-${ee}`})),E},Pe=async()=>{if(!j||y==="General")return q;const O=new Date(j+"T12:00:00"),E=y==="Semana"?7:y==="Mes"?30:1,D=q.filter(K=>{const se=new Date(K+"T12:00:00"),ee=Math.floor((O-se)/(1e3*60*60*24));return ee>=0&&ee<E});return Tt("📅 Fechas válidas para rango:",y,j,D),D},ke=(O,E)=>{if(!E)return[];const D=new Date(E+"T00:00:00.000Z"),K=[];if(O==="Día")K.push(D.toISOString().split("T")[0]);else if(O==="Semana")for(let ee=0;ee<7;ee++){const ne=new Date(D);ne.setDate(D.getDate()-ee),K.push(ne.toISOString().split("T")[0])}else if(O==="Mes")for(let ee=0;ee<30;ee++){const ne=new Date(D);ne.setDate(D.getDate()-ee),K.push(ne.toISOString().split("T")[0])}const se=K.filter(ee=>q.includes(ee));return Tt(`📅 Rango para ${O} desde ${E}:`,`Total generado: ${K.length}, Con datos: ${se.length}`,se),se},We=async()=>{if(!j||y==="General"){f({}),V(!1);return}V(!0),console.log(`🔍 INICIANDO FILTRO: ${y} - ${j}`),y==="Día"?await ye(j):await L(),console.log(`✅ FILTRO COMPLETADO: ${y} - ${j}`)},ye=async O=>{var D,K,se,ee;console.log("📅 FILTRO DIARIO ALTERNATIVO - Filtrando desde datos existentes:",O),V(!0);const E={};for(const ne of t)try{console.log(`📊 Procesando día ${O} para barbero ${((D=ne.user)==null?void 0:D.name)||ne._id}...`),E[ne._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}};try{const[fe,_e]=await Promise.all([Da.getDailyReport(O,ne._id),lc.getDailyReport(O,ne._id)]);if(console.log(`� Datos del día para ${(K=ne.user)==null?void 0:K.name}:`,{ventas:fe,citas:_e}),fe!=null&&fe.success&&(fe!=null&&fe.data)){let Me=0,Ke=0,Ve=0,xe=0;Array.isArray(fe.data)?fe.data.forEach(je=>{je.type==="product"?(Me+=je.total||0,Ke+=1):(je.type==="walkIn"||je.type==="corte")&&(Ve+=je.total||0,xe+=1)}):fe.data.total!==void 0&&(Me=fe.data.total||0,Ke=fe.data.count||0),E[ne._id].sales={total:Me,count:Ke},E[ne._id].cortes={count:xe,total:Ve},console.log(`💰 Ventas del día ${O}:`,{totalVentas:Me,countVentas:Ke,totalCortes:Ve,countCortes:xe})}if(_e!=null&&_e.success&&(_e!=null&&_e.data)){let Me=0,Ke=0;Array.isArray(_e.data)?_e.data.forEach(Ve=>{var xe;Me+=Ve.total||((xe=Ve.service)==null?void 0:xe.price)||0,Ve.status==="completed"&&(Ke+=1)}):_e.data.total!==void 0&&(Me=_e.data.total||0,Ke=_e.data.completed||0),E[ne._id].appointments={completed:Ke,total:Me},console.log(`📅 Citas del día ${O}:`,{totalCitas:Me,countCitas:Ke})}}catch(fe){console.warn(`⚠️ Error obteniendo datos del día ${O} para ${(se=ne.user)==null?void 0:se.name}:`,fe.message)}console.log(`✅ FINAL día ${O} para ${(ee=ne.user)==null?void 0:ee.name}:`,E[ne._id])}catch(fe){console.error(`❌ Error processing day ${O} for barber ${ne._id}:`,fe)}console.log("📊 RESULTADO FINAL - Estadísticas del día:",E),f(E),V(!1)},L=async()=>{var D,K,se;if(!t||t.length===0)return;V(!0);const O=ke(y,j);if(Tt(`📅 Procesando ${y} - Fechas válidas:`,O),O.length===0){Tt("❌ No hay fechas válidas para el rango, mostrando estadísticas vacías");const ee={};t.forEach(ne=>{ee[ne._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}),f(ee),V(!1);return}const E={};for(const ee of t)try{Tt(`📊 Procesando ${y} para barbero ${((D=ee.user)==null?void 0:D.name)||ee._id}...`);let ne=0,fe=0,_e=0,Me=0,Ke=0,Ve=0;for(const xe of O)try{Tt(`📅 Procesando fecha ${xe} para ${(K=ee.user)==null?void 0:K.name}...`);const[je,H]=await Promise.all([Da.getBarberSalesStats(ee._id,{date:xe}),lc.getBarberAppointmentStats(ee._id,{date:xe})]);if(je!=null&&je.success&&(je!=null&&je.data)){const ve=je.data;ve.ventas&&Array.isArray(ve.ventas)&&ve.ventas.forEach(Ge=>{ne+=Ge.total||0,fe+=1}),ve.cortes&&Array.isArray(ve.cortes)&&ve.cortes.forEach(Ge=>{_e+=Ge.total||0,Me+=1}),ve.total!==void 0&&!ve.ventas&&(ne+=ve.total),ve.cortesTotal!==void 0&&!ve.cortes&&(_e+=ve.cortesTotal),Tt(`💰 ${xe} - Ventas: ${ve.total||0}, Cortes: ${ve.cortesTotal||0}`)}if(H!=null&&H.success&&(H!=null&&H.data)){const ve=H.data;ve.citas&&Array.isArray(ve.citas)&&ve.citas.forEach(Ge=>{var nt;Ke+=Ge.revenue||((nt=Ge.service)==null?void 0:nt.price)||0,Ge.status==="completed"&&(Ve+=1)}),ve.revenue!==void 0&&!ve.citas&&(Ke+=ve.revenue),ve.completed!==void 0&&!ve.citas&&(Ve+=ve.completed),Tt(`📅 ${xe} - Citas: ${ve.revenue||0}, Completadas: ${ve.completed||0}`)}}catch(je){Tt(`⚠️ Error procesando fecha ${xe} para barbero ${ee._id}:`,je.message)}E[ee._id]={sales:{total:ne,count:fe},cortes:{count:Me,total:_e},appointments:{completed:Ve,total:Ke}},Tt(`✅ TOTAL ${y} para ${(se=ee.user)==null?void 0:se.name}:`,`Ventas: ${ne}, Cortes: ${_e}, Citas: ${Ke}`,`Fechas procesadas: ${O.length}`)}catch(ne){console.error(`❌ Error procesando ${y} para barbero ${ee._id}:`,ne),E[ee._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}Tt(`📊 FINAL - Estadísticas filtradas por ${y}:`,E),f(E),V(!1)},re=async()=>{m(!0),v("");try{const O=await qn.getAllBarbers();let E=[];Array.isArray(O)?E=O:O&&O.data&&Array.isArray(O.data)?E=O.data:O&&Array.isArray(O.success)&&(E=O.success),s(E),await B(E)}catch(O){console.error("Error al cargar barberos:",O),s([]),v("Error al cargar los datos")}finally{m(!1)}},B=async O=>{var D,K;Tt("📊 Cargando estadísticas para",O.length,"barberos...");const E={};for(let se=0;se<O.length;se++){const ee=O[se];try{Tt(`🔄 Cargando stats para barbero ${se+1}/${O.length}: ${((D=ee.user)==null?void 0:D.name)||ee._id}`),se>0&&await new Promise(H=>setTimeout(H,150*se));const[ne,fe]=await Promise.all([Da.getBarberSalesStats(ee._id),lc.getBarberAppointmentStats(ee._id)]);let _e=0,Me=0;ne.data&&Array.isArray(ne.data.ventas)?ne.data.ventas.forEach(H=>{_e+=H.total||0,Me+=1}):ne.data&&typeof ne.data.total=="number"&&(_e=ne.data.total,Me=ne.data.count||0);let Ke=0,Ve=0;ne.data&&Array.isArray(ne.data.cortes)&&ne.data.cortes.forEach(H=>{Ve+=H.total||0,Ke+=1});let xe=0,je=0;fe.data&&Array.isArray(fe.data.citas)?fe.data.citas.forEach(H=>{var ve;xe+=H.revenue||((ve=H.service)==null?void 0:ve.price)||0,je+=1}):fe.data&&typeof fe.data.revenue=="number"&&(xe=fe.data.revenue,je=fe.data.completed||0),E[ee._id]={sales:{total:_e,count:Me},cortes:{count:Ke,total:Ve},appointments:{completed:je,total:xe}},Tt(`✅ Stats cargadas para ${((K=ee.user)==null?void 0:K.name)||ee._id}:`,E[ee._id])}catch(ne){console.error(`❌ Error loading stats for barber ${ee._id}:`,ne),E[ee._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}}Tt("📈 Todas las estadísticas cargadas:",E),l(E)},R=async O=>{try{const[E,D]=await Promise.all([Da.getAvailableDates(O),lc.getAvailableDates(O)]),K=[...new Set([...(E==null?void 0:E.data)||[],...(D==null?void 0:D.data)||[]])].sort((se,ee)=>new Date(ee)-new Date(se));b(se=>({...se,[O]:K}))}catch(E){console.error("Error cargando fechas disponibles:",E),e("Error al cargar fechas disponibles")}},A=async(O,E=null)=>{J(!0),pe(O);try{const D=E||new Date().toISOString().split("T")[0],K=await Da.getDailyReport(D,O);Tt("🔍 Respuesta del servidor:",K);const se=t.find(ne=>ne._id===O),ee=(K==null?void 0:K.data)||K;return Tt("📊 Datos procesados:",ee),Y({date:D,barber:se,sales:(ee==null?void 0:ee.sales)||[],appointments:(ee==null?void 0:ee.appointments)||[],walkIns:(ee==null?void 0:ee.walkIns)||[],totals:(ee==null?void 0:ee.totals)||{}}),r("Reporte generado exitosamente"),!0}catch(D){return console.error("Error generando reporte:",D),e("Error al generar el reporte"),!1}finally{J(!1),pe(null)}};return P.useEffect(()=>{re()},[]),{barbers:t,statistics:o,filteredStats:u,loading:h,error:x,globalAvailableDates:N,allAvailableDates:q,availableDates:_,filterType:y,filterDate:j,filterLoading:M,reportData:X,loadingReport:te,selectedBarber:de,setFilterType:k,setFilterDate:T,getHighlightedRange:ie,getValidDatesForRange:Pe,getDateRange:ke,loadData:re,loadStatistics:B,loadBarberAvailableDates:R,generateBarberReport:A,setReportData:Y}},mT=()=>{const[e,r]=P.useState(!1),[t,s]=P.useState({}),[o,l]=P.useState(()=>new Date),u=async(y,k)=>{t[y]?s(j=>({...j,[y]:!1})):(s(j=>({...j,[y]:!0})),k&&await k(y))},f=y=>{s(k=>({...k,[y]:!1}))},h=()=>{s({})},m=()=>{r(!0)};return{showReportModal:e,barberMenus:t,calendarMonth:o,setShowReportModal:r,setBarberMenus:s,setCalendarMonth:l,toggleBarberMenu:u,closeBarberMenu:f,closeAllMenus:h,openReportModal:m,closeReportModal:()=>{r(!1)},handleGenerateReport:async(y,k,j,T)=>{await j(y,k)&&(m(),T&&T(y))},generateQuickReport:async(y,k,j,T,M)=>{var Y;const V=new Date;V.setDate(V.getDate()-k);const X=V.toISOString().split("T")[0];(Y=j[y])!=null&&Y.includes(X)?await T(y,X):M(`No hay datos para ${k===1?"ayer":"anteayer"}`)},handleManualDateSelect:async(y,k,j,T,M)=>{var V;return(V=j[k])!=null&&V.includes(y)?(await T(k,y),!0):(y&&M("No hay datos disponibles para la fecha seleccionada"),!1)},isDateDisabled:(y,k)=>{const j=y.getFullYear(),T=(y.getMonth()+1).toString().padStart(2,"0"),M=y.getDate().toString().padStart(2,"0"),V=`${j}-${T}-${M}`;return!k.includes(V)},handleDateSelect:(y,k,j)=>{if(!y)return;const T=y.getFullYear(),M=(y.getMonth()+1).toString().padStart(2,"0"),V=y.getDate().toString().padStart(2,"0"),X=`${T}-${M}-${V}`;console.log("📅 Día seleccionado:",X,"Disponible:",k.includes(X)),k.includes(X)?j(X):console.warn("⚠️ Día no disponible seleccionado:",X)}}},xT=`
  .compact-calendar {
    font-size: 11px;
    color: #e5e7eb;
  }
  
  .compact-calendar .rdp-months {
    width: 100%;
    max-width: 280px;
  }
  
  .compact-calendar .rdp-day {
    color: #9ca3af;
    width: 28px;
    height: 28px;
    font-size: 11px;
  }
  
  .compact-calendar .rdp-day_button {
    width: 28px !important;
    height: 28px !important;
    border-radius: 50% !important;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    border: 1px solid transparent !important;
  }
  
  .compact-calendar .rdp-day_button:hover {
    background-color: rgba(59, 130, 246, 0.3) !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .available-day .rdp-day_button {
    background-color: rgba(34, 197, 94, 0.25) !important;
    color: #86efac !important;
    border: 1px solid rgba(34, 197, 94, 0.4) !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .rdp-day_selected .rdp-day_button,
  .compact-calendar .selected-day .rdp-day_button {
    background-color: #2563eb !important;
    color: white !important;
    font-weight: bold !important;
    border: 2px solid #60a5fa !important;
    border-radius: 50% !important;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3) !important;
  }
  
  .compact-calendar .highlight-day .rdp-day_button {
    background-color: #1d4ed8 !important;
    color: white !important;
    font-weight: bold !important;
    border: 2px solid #93c5fd !important;
    border-radius: 50% !important;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4) !important;
  }
  
  .compact-calendar .rdp-caption {
    color: #e5e7eb;
    font-size: 12px;
    font-weight: 600;
  }
  
  .compact-calendar .rdp-nav {
    color: #e5e7eb;
  }
  
  .compact-calendar .rdp-head_cell {
    color: #9ca3af;
    font-size: 10px;
    font-weight: 500;
  }
  
  /* Asegurar que los estilos de selección tengan prioridad */
  .compact-calendar .rdp-day_selected {
    background-color: #2563eb !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .rdp-day_selected .rdp-day_button {
    background-color: #2563eb !important;
    color: white !important;
  }
`;if(typeof document!="undefined"){const e="compact-calendar-styles";if(!document.getElementById(e)){const r=document.createElement("style");r.id=e,r.textContent=xT,document.head.appendChild(r)}}const pT=()=>{const{user:e}=Ut(),{showError:r}=Tr(),{barbers:t,statistics:s,filteredStats:o,loading:l,error:u,globalAvailableDates:f,allAvailableDates:h,availableDates:m,filterType:x,filterDate:v,filterLoading:N,reportData:w,loadingReport:_,selectedBarber:b,setFilterType:y,setFilterDate:k,getHighlightedRange:j,loadBarberAvailableDates:T,generateBarberReport:M}=hT(),{showReportModal:V,barberMenus:X,calendarMonth:Y,setCalendarMonth:te,toggleBarberMenu:J,closeReportModal:de,handleGenerateReport:pe,generateQuickReport:q,handleManualDateSelect:ie,isDateDisabled:Pe,handleDateSelect:ke}=mT(),We=B=>{var R;return((R=B.user)==null?void 0:R.role)==="admin"?a.jsx(lb,{className:"h-6 w-6 text-yellow-400"}):a.jsx(Db,{className:"h-6 w-6 text-blue-400"})},ye=B=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(B||0),L=()=>{if(!w)return;const B=re(w),R=new Blob([B],{type:"text/html"}),A=URL.createObjectURL(R),O=document.createElement("a");O.href=A,O.download=`reporte-${w.date}.html`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(A)},re=B=>{if(!B)return"<p>No hay datos disponibles para el reporte</p>";const R=Array.isArray(B.sales)?B.sales:[],A=Array.isArray(B.appointments)?B.appointments:[],O=Array.isArray(B.walkIns)?B.walkIns:[],E=ee=>new Date(ee).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),D=ee=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ee),se=(()=>{const ee=R.reduce((_e,Me)=>_e+(Me.total||0),0),ne=A.reduce((_e,Me)=>_e+(Me.total||0),0),fe=O.reduce((_e,Me)=>_e+(Me.total||0),0);return{productTotal:ee,appointmentTotal:ne,walkInTotal:fe,grandTotal:ee+ne+fe}})();return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Diario - ${E(B.date)}</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: white;
            color: black;
            margin: 0;
            padding: 20px;
            font-size: 12px;
            line-height: 1.4;
        }
        .header {
            text-align: center;
            border-block-end: 2px solid #000;
            padding-block-end: 10px;
            margin-block-end: 20px;
        }
        .shop-name {
            font-size: 18px;
            font-weight: bold;
            margin-block-end: 5px;
        }
        .report-title {
            font-size: 14px;
            margin-block-end: 5px;
        }
        .date {
            font-size: 12px;
        }
        .section {
            margin-block-end: 25px;
        }
        .section-title {
            font-size: 14px;
            font-weight: bold;
            border-block-end: 1px solid #000;
            padding-block-end: 5px;
            margin-block-end: 10px;
        }
        .item {
            display: flex;
            justify-content: space-between;
            padding: 2px 0;
            border-block-end: 1px dotted #ccc;
        }
        .item-name {
            flex: 1;
            padding-inline-end: 10px;
        }
        .item-price {
            font-weight: bold;
        }
        .subtotal {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-block-start: 1px solid #000;
            font-weight: bold;
        }
        .total {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-block-start: 2px solid #000;
            font-weight: bold;
            font-size: 14px;
        }
        .footer {
            text-align: center;
            margin-block-start: 30px;
            padding-block-start: 10px;
            border-block-start: 1px solid #000;
            font-size: 10px;
        }
        @media print {
            body { margin: 0; padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="shop-name">THE BROTHERS BARBER SHOP</div>
        <div class="report-title">REPORTE DIARIO</div>
        <div class="date">${E(B.date)}</div>
    </div>

    <!-- PRODUCTOS VENDIDOS -->
    <div class="section">
        <div class="section-title">PRODUCTOS VENDIDOS</div>
        ${R.length===0?"<div>No hay ventas registradas</div>":""}
        ${R.map(ee=>{var ne;return`
            <div class="item">
                <div class="item-name">${((ne=ee.products)==null?void 0:ne.map(fe=>{var _e;return`${((_e=fe.product)==null?void 0:_e.name)||"Producto"} x${fe.quantity}`}).join(", "))||"Venta"}</div>
                <div class="item-price">${D(ee.total)}</div>
            </div>
        `}).join("")}
        ${R.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL PRODUCTOS:</div>
                <div>${D(se.productTotal)}</div>
            </div>
        `:""}
    </div>

    <!-- CORTES SIN CITA -->
    <div class="section">
        <div class="section-title">CORTES SIN CITA (WALK-INS)</div>
        ${O.length===0?"<div>No hay cortes sin cita registrados</div>":""}
        ${O.map(ee=>{var ne,fe,_e;return`
            <div class="item">
                <div class="item-name">${((ne=ee.service)==null?void 0:ne.name)||"Servicio"} - ${((_e=(fe=ee.barber)==null?void 0:fe.user)==null?void 0:_e.name)||"Barbero"}</div>
                <div class="item-price">${D(ee.total)}</div>
            </div>
        `}).join("")}
        ${O.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL WALK-INS:</div>
                <div>${D(se.walkInTotal)}</div>
            </div>
        `:""}
    </div>

    <!-- CITAS COMPLETADAS -->
    <div class="section">
        <div class="section-title">CITAS COMPLETADAS</div>
        ${A.length===0?"<div>No hay citas completadas</div>":""}
        ${A.map(ee=>{var ne,fe,_e,Me;return`
            <div class="item">
                <div class="item-name">${((ne=ee.service)==null?void 0:ne.name)||"Servicio"} - ${((_e=(fe=ee.barber)==null?void 0:fe.user)==null?void 0:_e.name)||"Barbero"} - ${((Me=ee.user)==null?void 0:Me.name)||"Cliente"}</div>
                <div class="item-price">${D(ee.total||0)}</div>
            </div>
        `}).join("")}
        ${A.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL CITAS:</div>
                <div>${D(se.appointmentTotal)}</div>
            </div>
        `:""}
    </div>

    <div class="total">
        <div>TOTAL GENERAL:</div>
        <div>${D(se.grandTotal)}</div>
    </div>

    <div class="footer">
        Reporte generado el ${new Date().toLocaleString("es-ES")}
    </div>
</body>
</html>
    `.trim()};return a.jsxs(Ct,{children:[a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/8 via-purple-900/8 to-blue-900/8"}),a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),a.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8 flex flex-col items-center gap-2",children:[a.jsx("div",{className:"flex gap-2 bg-white/5 rounded-lg p-1 border border-white/10",children:["General","Día","Semana","Mes"].map(B=>a.jsx("button",{className:`px-4 py-1.5 rounded-md text-sm font-medium transition-colors ${x===B?"bg-blue-500/80 text-white":"text-blue-200 hover:bg-blue-500/30"}`,onClick:()=>{y(B),B==="General"&&k("")},children:B},B))}),a.jsxs("div",{className:"text-xs text-center",children:[f.length>0?a.jsxs("div",{className:"text-green-400 bg-green-500/10 px-3 py-1 rounded-full border border-green-500/20",children:["✅ ",f.length," días con datos disponibles"]}):a.jsx("div",{className:"text-yellow-400 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:"⏳ Cargando fechas con datos..."}),x!=="General"&&v&&a.jsxs("div",{className:"mt-2 text-blue-400 bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:["🔍 Filtro activo: ",x," - ",v,N&&a.jsx("span",{className:"ml-2 animate-pulse",children:"⏳"})]}),x!=="General"&&!v&&a.jsxs("div",{className:"mt-2 text-yellow-400 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:["⚠️ Selecciona una fecha para aplicar el filtro ",x]})]}),x!=="General"&&a.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-xs text-gray-300",children:"Selecciona fecha base:"}),a.jsxs("div",{className:"bg-gray-900/80 rounded-lg p-3 border border-gray-700/40 max-w-xs",children:[a.jsx(fT,{mode:"single",selected:v?new Date(v+"T12:00:00"):void 0,onSelect:B=>ke(B,h,k),month:Y,onMonthChange:te,disabled:B=>Pe(B,h),modifiers:{highlight:j(),available:h.map(B=>new Date(B+"T12:00:00")),selected:v?[new Date(v+"T12:00:00")]:[]},modifiersClassNames:{highlight:"highlight-day",available:"available-day",selected:"selected-day"},showOutsideDays:!1,className:"compact-calendar"}),a.jsxs("div",{className:"text-xs text-gray-600 bg-gray-800/30 rounded px-2 py-1 mt-2",children:["💡 Solo los días con datos están habilitados (verde). El rango ",x.toLowerCase()," se resalta en azul.",h.length>0&&a.jsxs("div",{className:"mt-1 text-green-400",children:["📊 ",h.length," días con datos disponibles"]})]})]})]})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-300 backdrop-blur-sm shadow-2xl shadow-red-500/20",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ed,{className:"h-5 w-5 mr-2"}),u]})}),a.jsx("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando estadísticas..."})]}):t.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Sp,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"No hay barberos registrados"})]}):a.jsx("div",{className:"divide-y divide-white/10",children:t.map(B=>{var D,K,se,ee,ne,fe,_e,Me,Ke,Ve,xe,je,H;const R=x!=="General"&&v,A=Object.keys(o).length>0,O=R&&A&&o[B._id],E=O?o[B._id]:s[B._id]||{};return console.log(`� DEBUG ${(D=B.user)==null?void 0:D.name}:`,{filterType:x,filterDate:v,hasFilterDate:R,hasFilteredData:A,useFiltered:O,filteredStatsKeys:Object.keys(o),barberFilteredStats:o[B._id],barberGeneralStats:s[B._id],finalStats:E}),a.jsxs("div",{className:"px-4 py-6 hover:bg-white/5 transition-colors backdrop-blur-sm",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:We(B)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"text-xl font-semibold",children:a.jsx(Bt,{className:"text-xl font-semibold",children:((K=B.user)==null?void 0:K.name)||"Sin nombre"})}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${B.isActive?"text-green-400":"text-red-400"} bg-current/10`,children:B.isActive?"Activo":"Inactivo"})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:B.specialty}),a.jsxs("p",{className:"text-sm text-blue-400",children:[B.experience," años de experiencia"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 w-full lg:w-auto",children:[N?a.jsx("div",{className:"col-span-4 text-center py-4 text-xs text-blue-300",children:"Cargando datos del rango seleccionado..."}):null,a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[a.jsx(_c,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),a.jsx("div",{className:"text-base font-bold text-green-400",children:ye(((se=E.sales)==null?void 0:se.total)||0)}),a.jsxs("div",{className:"text-[11px] text-gray-400",children:[((ee=E.sales)==null?void 0:ee.count)||0," ventas"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[a.jsx(Sr,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),a.jsx("div",{className:"text-base font-bold text-purple-400",children:((ne=E.cortes)==null?void 0:ne.count)||0}),a.jsx("div",{className:"text-[11px] text-gray-400",children:"cortes"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[a.jsx(cc,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),a.jsx("div",{className:"text-base font-bold text-blue-400",children:ye(((fe=E.appointments)==null?void 0:fe.total)||0)}),a.jsxs("div",{className:"text-[10px] text-gray-500",children:[((_e=E.appointments)==null?void 0:_e.completed)||0," citas"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[a.jsx(Vc,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),a.jsx("div",{className:"text-base font-bold text-yellow-400",children:ye((((Me=E.sales)==null?void 0:Me.total)||0)+(((Ke=E.appointments)==null?void 0:Ke.total)||0))}),a.jsx("div",{className:"text-[11px] text-gray-400",children:"ingresos totales"})]})]}),a.jsx("div",{className:"relative",children:a.jsx("button",{onClick:()=>J(B._id,T),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center justify-center",disabled:_,children:_&&b===B._id?a.jsx("div",{className:"w-5 h-5 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}):a.jsx(Nc,{className:"w-5 h-5"})})})]}),X[B._id]&&a.jsxs("div",{className:"mt-4 bg-white/5 rounded-lg border border-white/10 p-4 transition-all duration-300 ease-in-out",children:[a.jsxs("h5",{className:"text-sm font-medium text-gray-300 mb-3",children:["Generar Reporte - ",((Ve=B.user)==null?void 0:Ve.name)||"Barbero"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>pe(B._id,null,M,()=>J(B._id)),className:"w-full text-left px-3 py-2 text-sm bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[a.jsx(cc,{className:"w-4 h-4"}),"Reporte del día actual"]}),a.jsx("div",{className:"border-t border-gray-700/50"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Seleccionar fecha específica:"}),((xe=m[B._id])==null?void 0:xe.length)>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Períodos rápidos:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>q(B._id,1,m,M,r),className:"px-2 py-1.5 text-xs bg-green-600/20 text-green-400 rounded-md hover:bg-green-600/30 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium",children:"Ayer"}),a.jsx("div",{className:"text-[10px] opacity-75",children:(()=>{const ve=new Date;return ve.setDate(ve.getDate()-1),ve.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})()})]})}),a.jsx("button",{onClick:()=>q(B._id,2,m,M,r),className:"px-2 py-1.5 text-xs bg-yellow-600/20 text-yellow-400 rounded-md hover:bg-yellow-600/30 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium",children:"Anteayer"}),a.jsx("div",{className:"text-[10px] opacity-75",children:(()=>{const ve=new Date;return ve.setDate(ve.getDate()-2),ve.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})()})]})})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Fecha específica:"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",className:"w-full px-3 py-2 bg-gray-700/50 border border-gray-600/50 rounded-lg text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50",onChange:ve=>{const Ge=ve.target.value;Ge&&ie(Ge,B._id,m,M,r).then(()=>{ve.target.value=""})},min:((je=m[B._id])==null?void 0:je.length)>0?m[B._id][m[B._id].length-1]:"",max:((H=m[B._id])==null?void 0:H.length)>0?m[B._id][0]:"",placeholder:"Seleccionar fecha..."}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx(cc,{className:"w-4 h-4 text-gray-500"})})]}),a.jsx("div",{className:"text-xs text-gray-600 bg-gray-800/30 rounded px-2 py-1 mt-1",children:"💡 Solo las fechas con datos están disponibles"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Acceso rápido (últimas 5 fechas):"}),a.jsx("div",{className:"grid grid-cols-1 gap-1 max-h-24 overflow-y-auto",children:m[B._id].slice(0,5).map(ve=>a.jsxs("button",{onClick:()=>pe(B._id,ve,M,()=>J(B._id)),className:"text-left px-3 py-1.5 text-xs text-gray-300 hover:bg-white/10 rounded-md transition-colors flex items-center gap-2",children:[a.jsx(cc,{className:"w-3 h-3"}),new Date(ve).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short",year:"numeric"})]},ve))})]}):a.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 text-center",children:"No hay fechas disponibles"})]})]})]})]},B._id)})})})]})]}),V&&w&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:de}),a.jsxs("div",{className:"relative bg-gray-800/95 backdrop-blur-md border border-gray-700/50 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[a.jsx("h3",{className:"text-xl font-bold",children:a.jsxs(Bt,{className:"text-xl font-bold",children:["Reporte del ",new Date(w.date).toLocaleDateString("es-ES")]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:L,className:"px-4 py-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[a.jsx(Nd,{className:"w-4 h-4"}),"Descargar"]}),a.jsx("button",{onClick:de,className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(bn,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:w&&a.jsx("div",{className:"bg-white text-black p-6 rounded-lg font-mono text-sm",dangerouslySetInnerHTML:{__html:re(w).replace(/<!DOCTYPE.*?<body[^>]*>/,"").replace(/<\/body>.*?<\/html>/,"")}})})]})]})]})},gT=()=>{const[e,r]=P.useState(new Date().toISOString().split("T")[0]),[t,s]=P.useState("daily"),[o,l]=P.useState([]),[u,f]=P.useState(!1),[h,m]=P.useState(""),[x,v]=P.useState({period:"",dateRange:""}),[N,w]=P.useState({totalRevenue:0,totalCuts:0,totalProducts:0,activeBarbers:0}),_=[{value:"daily",label:"Diario",icon:Kt},{value:"weekly",label:"Semanal",icon:xi},{value:"monthly",label:"Mensual",icon:Vc}];P.useEffect(()=>{b()},[e,t]);const b=async()=>{var T,M;try{f(!0),m("");const V=await fetch(`/api/v1/sales/reports?type=${t}&date=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!V.ok)throw new Error("Error al cargar el reporte");const X=await V.json();l(X.data||[]),v({period:X.period||"",dateRange:X.dateRange||""});const Y=(X.data||[]).reduce((te,J)=>{var de;return te.totalRevenue+=J.totalRevenue,te.totalCuts+=J.totalCuts,te.totalProducts+=J.totalProducts,te.activeBarbers=((de=X.data)==null?void 0:de.length)||0,te},{totalRevenue:0,totalCuts:0,totalProducts:0,activeBarbers:0});w(Y)}catch(V){console.error("Error al cargar reporte:",V),m(`Error al cargar el reporte ${(M=(T=_.find(X=>X.value===t))==null?void 0:T.label)==null?void 0:M.toLowerCase()}`)}finally{f(!1)}},y=T=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(T),k=T=>new Date(T+"T00:00:00").toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}),j=()=>{const T=new Date(e+"T00:00:00");switch(t){case"daily":return`Reporte del día: ${k(e)}`;case"weekly":const M=new Date(T);M.setDate(M.getDate()-6);const V=M.toISOString().split("T")[0];return`Reporte semanal: ${k(V)} - ${k(e)}`;case"monthly":const X=new Date(T);X.setDate(X.getDate()-29);const Y=X.toISOString().split("T")[0];return`Reporte mensual: ${k(Y)} - ${k(e)}`;default:return`Reporte: ${k(e)}`}};return u?a.jsx(Ct,{children:a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg",children:"Cargando reporte..."})]})})}):a.jsx(Ct,{children:a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-green-500/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-3/4 left-3/4 w-64 h-64 bg-purple-500/10 rounded-full blur-2xl"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-green-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Reportes"}),a.jsx("p",{className:"text-gray-300 text-lg",children:"Análisis de ventas y servicios por barbero"}),a.jsx("p",{className:"text-blue-400 mt-2 font-medium",children:j()}),x.dateRange&&a.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Datos del servidor: ",x.dateRange]})]}),a.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_d,{className:"h-5 w-5 text-blue-400"}),a.jsx("label",{className:"text-gray-300 font-medium",children:"Tipo:"})]}),a.jsx("div",{className:"flex gap-2",children:_.map(T=>{const M=T.icon;return a.jsxs("button",{onClick:()=>s(T.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${t===T.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(M,{className:"h-4 w-4"}),T.label]},T.value)})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-5 w-5 text-blue-400"}),a.jsx("label",{className:"text-gray-300 font-medium",children:t==="daily"?"Fecha:":"Fecha final:"})]}),a.jsx("input",{type:"date",value:e,onChange:T=>r(T.target.value),className:"px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),a.jsxs("span",{className:"text-gray-400",children:["(",k(e),")"]}),(t==="weekly"||t==="monthly")&&a.jsx("span",{className:"text-xs text-gray-500 italic",children:t==="weekly"?"(7 días hacia atrás)":"(30 días hacia atrás)"})]})]}),h&&a.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-300",children:h}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Ingresos Totales"}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:y(N.totalRevenue)})]}),a.jsx(Ao,{className:"h-8 w-8 text-green-400"})]})}),a.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Total Cortes"}),a.jsx("p",{className:"text-2xl font-bold text-blue-400",children:N.totalCuts})]}),a.jsx(Sr,{className:"h-8 w-8 text-blue-400"})]})}),a.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Productos Vendidos"}),a.jsx("p",{className:"text-2xl font-bold text-purple-400",children:N.totalProducts})]}),a.jsx(bo,{className:"h-8 w-8 text-purple-400"})]})}),a.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Barberos Activos"}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:N.activeBarbers})]}),a.jsx(Sp,{className:"h-8 w-8 text-orange-400"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Detalle por Barbero"}),o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xi,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No hay datos"}),a.jsx("p",{className:"text-gray-500",children:"No se registraron ventas ni servicios para esta fecha"})]}):o.map((T,M)=>a.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 hover:bg-gray-800/60 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-xl font-bold text-blue-400",children:["#",M+1]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:T.barberName}),a.jsxs("p",{className:"text-gray-400",children:["Total: ",y(T.totalRevenue)]})]})]}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-blue-400 font-semibold",children:T.totalCuts}),a.jsx("div",{className:"text-gray-400",children:"Cortes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-purple-400 font-semibold",children:T.totalProducts}),a.jsx("div",{className:"text-gray-400",children:"Productos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5"}),"Servicios (",T.totalCuts,")"]}),T.cuts.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No se registraron cortes"}):a.jsxs("div",{className:"space-y-2",children:[T.cuts.map((V,X)=>a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-300",children:V.serviceName}),a.jsx("p",{className:"text-gray-400 text-sm",children:V.customerName})]}),a.jsx("span",{className:"text-blue-400 font-semibold",children:y(V.servicePrice)})]})},X)),a.jsx("div",{className:"text-right pt-2 border-t border-blue-500/30",children:a.jsxs("span",{className:"text-blue-400 font-bold",children:["Subtotal: ",y(T.totalCutsRevenue)]})})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-3 flex items-center gap-2",children:[a.jsx(_c,{className:"h-5 w-5"}),"Productos (",T.totalProducts,")"]}),T.productSales.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No se vendieron productos"}):a.jsxs("div",{className:"space-y-2",children:[T.productSales.map((V,X)=>a.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-purple-300",children:V.productName}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[V.quantity," x ",y(V.unitPrice),V.customerName&&` - ${V.customerName}`]})]}),a.jsx("span",{className:"text-purple-400 font-semibold",children:y(V.totalAmount)})]})},X)),a.jsx("div",{className:"text-right pt-2 border-t border-purple-500/30",children:a.jsxs("span",{className:"text-purple-400 font-bold",children:["Subtotal: ",y(T.totalProductRevenue)]})})]})]})]})]},T.barberId))]})]})]})})};function xo({children:e,requiredRole:r}){const{user:t,loading:s,error:o,refreshToken:l}=Ut(),u=na();if(P.useEffect(()=>{const f=localStorage.getItem("token");!s&&f&&!t&&!o&&l().catch(()=>{})},[s,t,o,l]),s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t)return a.jsx(Rr,{to:"/login",state:{from:u.pathname},replace:!0});if(r){const f=Array.isArray(r)?r:[r];if(!f.includes(t.role))return console.warn(`Acceso denegado: se requiere uno de estos roles [${f.join(", ")}], usuario tiene rol ${t.role}`),a.jsx(Rr,{to:"/",replace:!0})}return e}function vT({children:e}){const{user:r}=Ut();return r?e({user:r}):a.jsx(Rr,{to:"/login",replace:!0})}const np=({children:e})=>{const{user:r,loading:t}=Ut(),s=na(),{state:o}=s;if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(r){if(o!=null&&o.from)return a.jsx(Rr,{to:o.from,replace:!0});if(s.pathname==="/")return a.jsx(Rr,{to:"/",replace:!0});switch(r.role){case"admin":return a.jsx(Rr,{to:"/",replace:!0});case"barber":return a.jsx(Rr,{to:"/",replace:!0});default:return a.jsx(Rr,{to:"/",replace:!0})}}return e};function yT(){return Iy(),a.jsxs(Ly,{children:[a.jsx(vc,{children:a.jsxs(ut,{element:a.jsx(Oy,{}),children:[a.jsx(ut,{path:"/",element:a.jsx(zy,{})}),a.jsx(ut,{path:"/services",element:a.jsx(dx,{})}),a.jsx(ut,{path:"/barbers",element:a.jsx(L4,{})}),a.jsx(ut,{path:"/barbers/:id",element:a.jsx(fx,{})}),a.jsx(ut,{path:"/login",element:a.jsx(np,{children:a.jsx(B4,{})})}),a.jsx(ut,{path:"/register",element:a.jsx(np,{children:a.jsx(z4,{})})}),a.jsx(ut,{path:"/profile",element:a.jsx(xo,{children:a.jsx(Hb,{})})}),a.jsx(ut,{path:"/profile-edit",element:a.jsx(xo,{children:a.jsx(Kb,{})})}),a.jsxs(ut,{path:"/admin",element:a.jsx(xo,{requiredRole:["admin","barber"],children:a.jsx(sd,{})}),children:[a.jsx(ut,{index:!0,element:a.jsx(vT,{children:({user:e})=>a.jsx(Rr,{to:e.role==="barber"?"/admin/sales":"/admin/barbers",replace:!0})})}),a.jsx(ut,{path:"inventory",element:a.jsx(OE,{})}),a.jsx(ut,{path:"sales",element:a.jsx(U4,{})}),a.jsxs(ut,{element:a.jsx(xo,{requiredRole:["admin"],children:a.jsx(sd,{})}),children:[a.jsx(ut,{path:"services",element:a.jsx(dx,{})}),a.jsx(ut,{path:"roles",element:a.jsx(W4,{})}),a.jsx(ut,{path:"barbers",element:a.jsx(pT,{})}),a.jsx(ut,{path:"barbers/:id",element:a.jsx(fx,{})}),a.jsx(ut,{path:"reports",element:a.jsx(gT,{})})]})]}),a.jsx(ut,{path:"/appointment",element:a.jsx(xo,{children:a.jsx(F4,{})})}),a.jsx(ut,{path:"*",element:a.jsx(Rr,{to:"/",replace:!0})})]})}),a.jsx(Ry,{})]})}const bT="/TheBrothersBarberShop/";y2.createRoot(document.getElementById("root")).render(a.jsx(sp.StrictMode,{children:a.jsx(by,{basename:bT,children:a.jsx(Ty,{children:a.jsx(My,{children:a.jsx(yT,{})})})})}));
