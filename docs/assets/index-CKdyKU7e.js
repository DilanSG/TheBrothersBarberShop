function x2(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vd={exports:{}},Nl={},Gd={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function p2(){if(Bm)return ot;Bm=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b(V,P,I){this.props=V,this.context=P,this.refs=w,this.updater=I||y}b.prototype.isReactComponent={},b.prototype.setState=function(V,P){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,P,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=b.prototype;function _(V,P,I){this.props=V,this.context=P,this.refs=w,this.updater=I||y}var k=_.prototype=new T;k.constructor=_,j(k,b.prototype),k.isPureReactComponent=!0;var A=Array.isArray,G=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ne(V,P,I){var E,F={},X=null,Z=null;if(P!=null)for(E in P.ref!==void 0&&(Z=P.ref),P.key!==void 0&&(X=""+P.key),P)G.call(P,E)&&!H.hasOwnProperty(E)&&(F[E]=P[E]);var q=arguments.length-2;if(q===1)F.children=I;else if(1<q){for(var se=Array(q),ce=0;ce<q;ce++)se[ce]=arguments[ce+2];F.children=se}if(V&&V.defaultProps)for(E in q=V.defaultProps,q)F[E]===void 0&&(F[E]=q[E]);return{$$typeof:e,type:V,key:X,ref:Z,props:F,_owner:W.current}}function Q(V,P){return{$$typeof:e,type:V.type,key:P,ref:V.ref,props:V.props,_owner:V._owner}}function le(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function ge(V){var P={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(I){return P[I]})}var oe=/\/+/g;function we(V,P){return typeof V=="object"&&V!==null&&V.key!=null?ge(""+V.key):P.toString(36)}function $e(V,P,I,E,F){var X=typeof V;(X==="undefined"||X==="boolean")&&(V=null);var Z=!1;if(V===null)Z=!0;else switch(X){case"string":case"number":Z=!0;break;case"object":switch(V.$$typeof){case e:case r:Z=!0}}if(Z)return Z=V,F=F(Z),V=E===""?"."+we(Z,0):E,A(F)?(I="",V!=null&&(I=V.replace(oe,"$&/")+"/"),$e(F,P,I,"",function(ce){return ce})):F!=null&&(le(F)&&(F=Q(F,I+(!F.key||Z&&Z.key===F.key?"":(""+F.key).replace(oe,"$&/")+"/")+V)),P.push(F)),1;if(Z=0,E=E===""?".":E+":",A(V))for(var q=0;q<V.length;q++){X=V[q];var se=E+we(X,q);Z+=$e(X,P,I,se,F)}else if(se=N(V),typeof se=="function")for(V=se.call(V),q=0;!(X=V.next()).done;)X=X.value,se=E+we(X,q++),Z+=$e(X,P,I,se,F);else if(X==="object")throw P=String(V),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Z}function Re(V,P,I){if(V==null)return V;var E=[],F=0;return $e(V,E,"","",function(X){return P.call(I,X,F++)}),E}function qe(V){if(V._status===-1){var P=V._result;P=P(),P.then(function(I){(V._status===0||V._status===-1)&&(V._status=1,V._result=I)},function(I){(V._status===0||V._status===-1)&&(V._status=2,V._result=I)}),V._status===-1&&(V._status=0,V._result=P)}if(V._status===1)return V._result.default;throw V._result}var ke={current:null},J={transition:null},ve={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:J,ReactCurrentOwner:W};function te(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:Re,forEach:function(V,P,I){Re(V,function(){P.apply(this,arguments)},I)},count:function(V){var P=0;return Re(V,function(){P++}),P},toArray:function(V){return Re(V,function(P){return P})||[]},only:function(V){if(!le(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ot.Component=b,ot.Fragment=t,ot.Profiler=l,ot.PureComponent=_,ot.StrictMode=s,ot.Suspense=m,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,ot.act=te,ot.cloneElement=function(V,P,I){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var E=j({},V.props),F=V.key,X=V.ref,Z=V._owner;if(P!=null){if(P.ref!==void 0&&(X=P.ref,Z=W.current),P.key!==void 0&&(F=""+P.key),V.type&&V.type.defaultProps)var q=V.type.defaultProps;for(se in P)G.call(P,se)&&!H.hasOwnProperty(se)&&(E[se]=P[se]===void 0&&q!==void 0?q[se]:P[se])}var se=arguments.length-2;if(se===1)E.children=I;else if(1<se){q=Array(se);for(var ce=0;ce<se;ce++)q[ce]=arguments[ce+2];E.children=q}return{$$typeof:e,type:V.type,key:F,ref:X,props:E,_owner:Z}},ot.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},ot.createElement=ne,ot.createFactory=function(V){var P=ne.bind(null,V);return P.type=V,P},ot.createRef=function(){return{current:null}},ot.forwardRef=function(V){return{$$typeof:f,render:V}},ot.isValidElement=le,ot.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:qe}},ot.memo=function(V,P){return{$$typeof:h,type:V,compare:P===void 0?null:P}},ot.startTransition=function(V){var P=J.transition;J.transition={};try{V()}finally{J.transition=P}},ot.unstable_act=te,ot.useCallback=function(V,P){return ke.current.useCallback(V,P)},ot.useContext=function(V){return ke.current.useContext(V)},ot.useDebugValue=function(){},ot.useDeferredValue=function(V){return ke.current.useDeferredValue(V)},ot.useEffect=function(V,P){return ke.current.useEffect(V,P)},ot.useId=function(){return ke.current.useId()},ot.useImperativeHandle=function(V,P,I){return ke.current.useImperativeHandle(V,P,I)},ot.useInsertionEffect=function(V,P){return ke.current.useInsertionEffect(V,P)},ot.useLayoutEffect=function(V,P){return ke.current.useLayoutEffect(V,P)},ot.useMemo=function(V,P){return ke.current.useMemo(V,P)},ot.useReducer=function(V,P,I){return ke.current.useReducer(V,P,I)},ot.useRef=function(V){return ke.current.useRef(V)},ot.useState=function(V){return ke.current.useState(V)},ot.useSyncExternalStore=function(V,P,I){return ke.current.useSyncExternalStore(V,P,I)},ot.useTransition=function(){return ke.current.useTransition()},ot.version="18.3.1",ot}var zm;function Tu(){return zm||(zm=1,Gd.exports=p2()),Gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function g2(){if(Um)return Nl;Um=1;var e=Tu(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,h){var x,g={},N=null,y=null;h!==void 0&&(N=""+h),m.key!==void 0&&(N=""+m.key),m.ref!==void 0&&(y=m.ref);for(x in m)s.call(m,x)&&!o.hasOwnProperty(x)&&(g[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)g[x]===void 0&&(g[x]=m[x]);return{$$typeof:r,type:f,key:N,ref:y,props:g,_owner:l.current}}return Nl.Fragment=t,Nl.jsx=d,Nl.jsxs=d,Nl}var $m;function v2(){return $m||($m=1,Vd.exports=g2()),Vd.exports}var n=v2(),D=Tu();const up=dp(D),w2=x2({__proto__:null,default:up},[D]);var fc={},Yd={exports:{}},Yr={},Xd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function b2(){return Wm||(Wm=1,(function(e){function r(J,ve){var te=J.length;J.push(ve);e:for(;0<te;){var V=te-1>>>1,P=J[V];if(0<l(P,ve))J[V]=ve,J[te]=P,te=V;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ve=J[0],te=J.pop();if(te!==ve){J[0]=te;e:for(var V=0,P=J.length,I=P>>>1;V<I;){var E=2*(V+1)-1,F=J[E],X=E+1,Z=J[X];if(0>l(F,te))X<P&&0>l(Z,F)?(J[V]=Z,J[X]=te,V=X):(J[V]=F,J[E]=te,V=E);else if(X<P&&0>l(Z,te))J[V]=Z,J[X]=te,V=X;else break e}}return ve}function l(J,ve){var te=J.sortIndex-ve.sortIndex;return te!==0?te:J.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],h=[],x=1,g=null,N=3,y=!1,j=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var ve=t(h);ve!==null;){if(ve.callback===null)s(h);else if(ve.startTime<=J)s(h),ve.sortIndex=ve.expirationTime,r(m,ve);else break;ve=t(h)}}function A(J){if(w=!1,k(J),!j)if(t(m)!==null)j=!0,qe(G);else{var ve=t(h);ve!==null&&ke(A,ve.startTime-J)}}function G(J,ve){j=!1,w&&(w=!1,T(ne),ne=-1),y=!0;var te=N;try{for(k(ve),g=t(m);g!==null&&(!(g.expirationTime>ve)||J&&!ge());){var V=g.callback;if(typeof V=="function"){g.callback=null,N=g.priorityLevel;var P=V(g.expirationTime<=ve);ve=e.unstable_now(),typeof P=="function"?g.callback=P:g===t(m)&&s(m),k(ve)}else s(m);g=t(m)}if(g!==null)var I=!0;else{var E=t(h);E!==null&&ke(A,E.startTime-ve),I=!1}return I}finally{g=null,N=te,y=!1}}var W=!1,H=null,ne=-1,Q=5,le=-1;function ge(){return!(e.unstable_now()-le<Q)}function oe(){if(H!==null){var J=e.unstable_now();le=J;var ve=!0;try{ve=H(!0,J)}finally{ve?we():(W=!1,H=null)}}else W=!1}var we;if(typeof _=="function")we=function(){_(oe)};else if(typeof MessageChannel!="undefined"){var $e=new MessageChannel,Re=$e.port2;$e.port1.onmessage=oe,we=function(){Re.postMessage(null)}}else we=function(){b(oe,0)};function qe(J){H=J,W||(W=!0,we())}function ke(J,ve){ne=b(function(){J(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,qe(G))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return t(m)},e.unstable_next=function(J){switch(N){case 1:case 2:case 3:var ve=3;break;default:ve=N}var te=N;N=ve;try{return J()}finally{N=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ve){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=N;N=J;try{return ve()}finally{N=te}},e.unstable_scheduleCallback=function(J,ve,te){var V=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?V+te:V):te=V,J){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,J={id:x++,callback:ve,priorityLevel:J,startTime:te,expirationTime:P,sortIndex:-1},te>V?(J.sortIndex=te,r(h,J),t(m)===null&&J===t(h)&&(w?(T(ne),ne=-1):w=!0,ke(A,te-V))):(J.sortIndex=P,r(m,J),j||y||(j=!0,qe(G))),J},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(J){var ve=N;return function(){var te=N;N=ve;try{return J.apply(this,arguments)}finally{N=te}}}})(Kd)),Kd}var Hm;function y2(){return Hm||(Hm=1,Xd.exports=b2()),Xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function N2(){if(Vm)return Yr;Vm=1;var e=Tu(),r=y2();function t(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function o(a,i){d(a,i),d(a+"Capture",i)}function d(a,i){for(l[a]=i,a=0;a<i.length;a++)s.add(i[a])}var f=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},g={};function N(a){return m.call(g,a)?!0:m.call(x,a)?!1:h.test(a)?g[a]=!0:(x[a]=!0,!1)}function y(a,i,c,u){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function j(a,i,c,u){if(i===null||typeof i=="undefined"||y(a,i,c,u))return!0;if(u)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function w(a,i,c,u,p,v,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=a,this.type=i,this.sanitizeURL=v,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];b[i]=new w(i,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(T,_);b[i]=new w(i,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(T,_);b[i]=new w(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(T,_);b[i]=new w(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,i,c,u){var p=b.hasOwnProperty(i)?b[i]:null;(p!==null?p.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,c,p,u)&&(c=null),u||p===null?N(i)&&(c===null?a.removeAttribute(i):a.setAttribute(i,""+c)):p.mustUseProperty?a[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,u=p.attributeNamespace,c===null?a.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,u?a.setAttributeNS(u,i,c):a.setAttribute(i,c))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),ge=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),J=Symbol.iterator;function ve(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var te=Object.assign,V;function P(a){if(V===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+a}var I=!1;function E(a,i){if(!a||I)return"";I=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(pe){var u=pe}Reflect.construct(a,[],i)}else{try{i.call()}catch(pe){u=pe}a.call(i.prototype)}else{try{throw Error()}catch(pe){u=pe}a()}}catch(pe){if(pe&&u&&typeof pe.stack=="string"){for(var p=pe.stack.split(`
`),v=u.stack.split(`
`),S=p.length-1,U=v.length-1;1<=S&&0<=U&&p[S]!==v[U];)U--;for(;1<=S&&0<=U;S--,U--)if(p[S]!==v[U]){if(S!==1||U!==1)do if(S--,U--,0>U||p[S]!==v[U]){var K=`
`+p[S].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=S&&0<=U);break}}}finally{I=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?P(a):""}function F(a){switch(a.tag){case 5:return P(a.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return a=E(a.type,!1),a;case 11:return a=E(a.type.render,!1),a;case 1:return a=E(a.type,!0),a;default:return""}}function X(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case H:return"Fragment";case W:return"Portal";case Q:return"Profiler";case ne:return"StrictMode";case we:return"Suspense";case $e:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case ge:return(a.displayName||"Context")+".Consumer";case le:return(a._context.displayName||"Context")+".Provider";case oe:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Re:return i=a.displayName||null,i!==null?i:X(a.type)||"Memo";case qe:i=a._payload,a=a._init;try{return X(a(i))}catch{}}return null}function Z(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function q(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function se(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ce(a){var i=se(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),u=""+a[i];if(!a.hasOwnProperty(i)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,v.call(this,S)}}),Object.defineProperty(a,i,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function _e(a){a._valueTracker||(a._valueTracker=ce(a))}function re(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var c=i.getValue(),u="";return a&&(u=se(a)?a.checked?"true":"false":a.value),a=u,a!==c?(i.setValue(a),!0):!1}function je(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ce(a,i){var c=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c!=null?c:a._wrapperState.initialChecked})}function R(a,i){var c=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;c=q(i.value!=null?i.value:c),a._wrapperState={initialChecked:u,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function xe(a,i){i=i.checked,i!=null&&k(a,"checked",i,!1)}function Y(a,i){xe(a,i);var c=q(i.value),u=i.type;if(c!=null)u==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(u==="submit"||u==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?ze(a,i.type,c):i.hasOwnProperty("defaultValue")&&ze(a,i.type,q(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function be(a,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,c||i===a.value||(a.value=i),a.defaultValue=i}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function ze(a,i,c){(i!=="number"||je(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var Ue=Array.isArray;function st(a,i,c,u){if(a=a.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=i.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&u&&(a[c].defaultSelected=!0)}else{for(c=""+q(c),i=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,u&&(a[p].defaultSelected=!0);return}i!==null||a[p].disabled||(i=a[p])}i!==null&&(i.selected=!0)}}function Ze(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function kt(a,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(Ue(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}a._wrapperState={initialValue:q(c)}}function ft(a,i){var c=q(i.value),u=q(i.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),i.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),u!=null&&(a.defaultValue=""+u)}function It(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function ar(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?ar(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Yt,Rn=(function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,c,u,p){MSApp.execUnsafeLocalFunction(function(){return a(i,c,u,p)})}:a})(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Yt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function ae(a,i){if(i){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=i;return}}a.textContent=i}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},or=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(a){or.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),Xe[i]=Xe[a]})});function Ur(a,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Xe.hasOwnProperty(a)&&Xe[a]?(""+i).trim():i+"px"}function $t(a,i){a=a.style;for(var c in i)if(i.hasOwnProperty(c)){var u=c.indexOf("--")===0,p=Ur(c,i[c],u);c==="float"&&(c="cssFloat"),u?a.setProperty(c,p):a[c]=p}}var kr=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(a,i){if(i){if(kr[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function _a(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function Hs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Vs=null,Sa=null,Ea=null;function us(a){if(a=ll(a)){if(typeof Vs!="function")throw Error(t(280));var i=a.stateNode;i&&(i=Eo(i),Vs(a.stateNode,a.type,i))}}function no(a){Sa?Ea?Ea.push(a):Ea=[a]:Sa=a}function ao(){if(Sa){var a=Sa,i=Ea;if(Ea=Sa=null,us(a),i)for(a=0;a<i.length;a++)us(i[a])}}function so(a,i){return a(i)}function io(){}var zi=!1;function lo(a,i,c){if(zi)return a(i,c);zi=!0;try{return so(a,i,c)}finally{zi=!1,(Sa!==null||Ea!==null)&&(io(),ao())}}function fs(a,i){var c=a.stateNode;if(c===null)return null;var u=Eo(c);if(u===null)return null;c=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Ui=!1;if(f)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Ui=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Ui=!1}function u0(a,i,c,u,p,v,S,U,K){var pe=Array.prototype.slice.call(arguments,3);try{i.apply(c,pe)}catch(Te){this.onError(Te)}}var hs=!1,Gs=null,C=!1,L=null,O={onError:function(a){hs=!0,Gs=a}};function M(a,i,c,u,p,v,S,U,K){hs=!1,Gs=null,u0.apply(O,arguments)}function B(a,i,c,u,p,v,S,U,K){if(M.apply(this,arguments),hs){if(hs){var pe=Gs;hs=!1,Gs=null}else throw Error(t(198));C||(C=!0,L=pe)}}function z(a){var i=a,c=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(c=i.return),a=i.return;while(a)}return i.tag===3?c:null}function fe(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function Ne(a){if(z(a)!==a)throw Error(t(188))}function ue(a){var i=a.alternate;if(!i){if(i=z(a),i===null)throw Error(t(188));return i!==a?null:a}for(var c=a,u=i;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){c=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return Ne(p),a;if(v===u)return Ne(p),i;v=v.sibling}throw Error(t(188))}if(c.return!==u.return)c=p,u=v;else{for(var S=!1,U=p.child;U;){if(U===c){S=!0,c=p,u=v;break}if(U===u){S=!0,u=p,c=v;break}U=U.sibling}if(!S){for(U=v.child;U;){if(U===c){S=!0,c=v,u=p;break}if(U===u){S=!0,u=v,c=p;break}U=U.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==u)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?a:i}function he(a){return a=ue(a),a!==null?me(a):null}function me(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=me(a);if(i!==null)return i;a=a.sibling}return null}var Ae=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback,He=r.unstable_shouldYield,Fe=r.unstable_requestPaint,De=r.unstable_now,at=r.unstable_getCurrentPriorityLevel,St=r.unstable_ImmediatePriority,Tt=r.unstable_UserBlockingPriority,Xt=r.unstable_NormalPriority,ms=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,Ln=null,cr=null;function $i(a){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Ln,a,void 0,(a.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:F1,P1=Math.log,D1=Math.LN2;function F1(a){return a>>>=0,a===0?32:31-(P1(a)/D1|0)|0}var oo=64,co=4194304;function Wi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uo(a,i){var c=a.pendingLanes;if(c===0)return 0;var u=0,p=a.suspendedLanes,v=a.pingedLanes,S=c&268435455;if(S!==0){var U=S&~p;U!==0?u=Wi(U):(v&=S,v!==0&&(u=Wi(v)))}else S=c&~p,S!==0?u=Wi(S):v!==0&&(u=Wi(v));if(u===0)return 0;if(i!==0&&i!==u&&(i&p)===0&&(p=u&-u,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((u&4)!==0&&(u|=c&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=u;0<i;)c=31-Kt(i),p=1<<c,u|=a[c],i&=~p;return u}function O1(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(a,i){for(var c=a.suspendedLanes,u=a.pingedLanes,p=a.expirationTimes,v=a.pendingLanes;0<v;){var S=31-Kt(v),U=1<<S,K=p[S];K===-1?((U&c)===0||(U&u)!==0)&&(p[S]=O1(U,i)):K<=i&&(a.expiredLanes|=U),v&=~U}}function f0(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function pf(){var a=oo;return oo<<=1,(oo&4194240)===0&&(oo=64),a}function h0(a){for(var i=[],c=0;31>c;c++)i.push(a);return i}function Hi(a,i,c){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-Kt(i),a[i]=c}function I1(a,i){var c=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var u=a.eventTimes;for(a=a.expirationTimes;0<c;){var p=31-Kt(c),v=1<<p;i[p]=0,u[p]=-1,a[p]=-1,c&=~v}}function m0(a,i){var c=a.entangledLanes|=i;for(a=a.entanglements;c;){var u=31-Kt(c),p=1<<u;p&i|a[u]&i&&(a[u]|=i),c&=~p}}var vt=0;function gf(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var vf,x0,wf,bf,yf,p0=!1,fo=[],Ca=null,Aa=null,Pa=null,Vi=new Map,Gi=new Map,Da=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nf(a,i){switch(a){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(i.pointerId)}}function Yi(a,i,c,u,p,v){return a===null||a.nativeEvent!==v?(a={blockedOn:i,domEventName:c,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},i!==null&&(i=ll(i),i!==null&&x0(i)),a):(a.eventSystemFlags|=u,i=a.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),a)}function L1(a,i,c,u,p){switch(i){case"focusin":return Ca=Yi(Ca,a,i,c,u,p),!0;case"dragenter":return Aa=Yi(Aa,a,i,c,u,p),!0;case"mouseover":return Pa=Yi(Pa,a,i,c,u,p),!0;case"pointerover":var v=p.pointerId;return Vi.set(v,Yi(Vi.get(v)||null,a,i,c,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Gi.set(v,Yi(Gi.get(v)||null,a,i,c,u,p)),!0}return!1}function jf(a){var i=xs(a.target);if(i!==null){var c=z(i);if(c!==null){if(i=c.tag,i===13){if(i=fe(c),i!==null){a.blockedOn=i,yf(a.priority,function(){wf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ho(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var c=v0(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var u=new c.constructor(c.type,c);ka=u,c.target.dispatchEvent(u),ka=null}else return i=ll(c),i!==null&&x0(i),a.blockedOn=c,!1;i.shift()}return!0}function _f(a,i,c){ho(a)&&c.delete(i)}function B1(){p0=!1,Ca!==null&&ho(Ca)&&(Ca=null),Aa!==null&&ho(Aa)&&(Aa=null),Pa!==null&&ho(Pa)&&(Pa=null),Vi.forEach(_f),Gi.forEach(_f)}function Xi(a,i){a.blockedOn===i&&(a.blockedOn=null,p0||(p0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,B1)))}function Ki(a){function i(p){return Xi(p,a)}if(0<fo.length){Xi(fo[0],a);for(var c=1;c<fo.length;c++){var u=fo[c];u.blockedOn===a&&(u.blockedOn=null)}}for(Ca!==null&&Xi(Ca,a),Aa!==null&&Xi(Aa,a),Pa!==null&&Xi(Pa,a),Vi.forEach(i),Gi.forEach(i),c=0;c<Da.length;c++)u=Da[c],u.blockedOn===a&&(u.blockedOn=null);for(;0<Da.length&&(c=Da[0],c.blockedOn===null);)jf(c),c.blockedOn===null&&Da.shift()}var Ys=A.ReactCurrentBatchConfig,mo=!0;function z1(a,i,c,u){var p=vt,v=Ys.transition;Ys.transition=null;try{vt=1,g0(a,i,c,u)}finally{vt=p,Ys.transition=v}}function U1(a,i,c,u){var p=vt,v=Ys.transition;Ys.transition=null;try{vt=4,g0(a,i,c,u)}finally{vt=p,Ys.transition=v}}function g0(a,i,c,u){if(mo){var p=v0(a,i,c,u);if(p===null)M0(a,i,u,xo,c),Nf(a,u);else if(L1(p,a,i,c,u))u.stopPropagation();else if(Nf(a,u),i&4&&-1<R1.indexOf(a)){for(;p!==null;){var v=ll(p);if(v!==null&&vf(v),v=v0(a,i,c,u),v===null&&M0(a,i,u,xo,c),v===p)break;p=v}p!==null&&u.stopPropagation()}else M0(a,i,u,null,c)}}var xo=null;function v0(a,i,c,u){if(xo=null,a=Hs(u),a=xs(a),a!==null)if(i=z(a),i===null)a=null;else if(c=i.tag,c===13){if(a=fe(i),a!==null)return a;a=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return xo=a,null}function kf(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case St:return 1;case Tt:return 4;case Xt:case ms:return 16;case Ta:return 536870912;default:return 16}default:return 16}}var Fa=null,w0=null,po=null;function Sf(){if(po)return po;var a,i=w0,c=i.length,u,p="value"in Fa?Fa.value:Fa.textContent,v=p.length;for(a=0;a<c&&i[a]===p[a];a++);var S=c-a;for(u=1;u<=S&&i[c-u]===p[v-u];u++);return po=p.slice(a,1<u?1-u:void 0)}function go(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function vo(){return!0}function Ef(){return!1}function en(a){function i(c,u,p,v,S){this._reactName=c,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vo:Ef,this.isPropagationStopped=Ef,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),i}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b0=en(Xs),qi=te({},Xs,{view:0,detail:0}),$1=en(qi),y0,N0,Qi,wo=te({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qi&&(Qi&&a.type==="mousemove"?(y0=a.screenX-Qi.screenX,N0=a.screenY-Qi.screenY):N0=y0=0,Qi=a),y0)},movementY:function(a){return"movementY"in a?a.movementY:N0}}),Tf=en(wo),W1=te({},wo,{dataTransfer:0}),H1=en(W1),V1=te({},qi,{relatedTarget:0}),j0=en(V1),G1=te({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=en(G1),X1=te({},Xs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),K1=en(X1),q1=te({},Xs,{data:0}),Cf=en(q1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Z1[a])?!!i[a]:!1}function _0(){return ev}var tv=te({},qi,{key:function(a){if(a.key){var i=Q1[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=go(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?J1[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(a){return a.type==="keypress"?go(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?go(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),rv=en(tv),nv=te({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Af=en(nv),av=te({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),sv=en(av),iv=te({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=en(iv),ov=te({},wo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=en(ov),dv=[9,13,27,32],k0=f&&"CompositionEvent"in window,Ji=null;f&&"documentMode"in document&&(Ji=document.documentMode);var uv=f&&"TextEvent"in window&&!Ji,Pf=f&&(!k0||Ji&&8<Ji&&11>=Ji),Df=" ",Ff=!1;function Of(a,i){switch(a){case"keyup":return dv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ks=!1;function fv(a,i){switch(a){case"compositionend":return Mf(i);case"keypress":return i.which!==32?null:(Ff=!0,Df);case"textInput":return a=i.data,a===Df&&Ff?null:a;default:return null}}function hv(a,i){if(Ks)return a==="compositionend"||!k0&&Of(a,i)?(a=Sf(),po=w0=Fa=null,Ks=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pf&&i.locale!=="ko"?null:i.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!mv[a.type]:i==="textarea"}function Rf(a,i,c,u){no(u),i=_o(i,"onChange"),0<i.length&&(c=new b0("onChange","change",null,c,u),a.push({event:c,listeners:i}))}var Zi=null,el=null;function xv(a){th(a,0)}function bo(a){var i=ei(a);if(re(i))return a}function pv(a,i){if(a==="change")return i}var Lf=!1;if(f){var S0;if(f){var E0="oninput"in document;if(!E0){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),E0=typeof Bf.oninput=="function"}S0=E0}else S0=!1;Lf=S0&&(!document.documentMode||9<document.documentMode)}function zf(){Zi&&(Zi.detachEvent("onpropertychange",Uf),el=Zi=null)}function Uf(a){if(a.propertyName==="value"&&bo(el)){var i=[];Rf(i,el,a,Hs(a)),lo(xv,i)}}function gv(a,i,c){a==="focusin"?(zf(),Zi=i,el=c,Zi.attachEvent("onpropertychange",Uf)):a==="focusout"&&zf()}function vv(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bo(el)}function wv(a,i){if(a==="click")return bo(i)}function bv(a,i){if(a==="input"||a==="change")return bo(i)}function yv(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var _n=typeof Object.is=="function"?Object.is:yv;function tl(a,i){if(_n(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var c=Object.keys(a),u=Object.keys(i);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var p=c[u];if(!m.call(i,p)||!_n(a[p],i[p]))return!1}return!0}function $f(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Wf(a,i){var c=$f(a);a=0;for(var u;c;){if(c.nodeType===3){if(u=a+c.textContent.length,a<=i&&u>=i)return{node:c,offset:i-a};a=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$f(c)}}function Hf(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Hf(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Vf(){for(var a=window,i=je();i instanceof a.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)a=i.contentWindow;else break;i=je(a.document)}return i}function T0(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Nv(a){var i=Vf(),c=a.focusedElem,u=a.selectionRange;if(i!==c&&c&&c.ownerDocument&&Hf(c.ownerDocument.documentElement,c)){if(u!==null&&T0(c)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(a,c.value.length);else if(a=(i=c.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var p=c.textContent.length,v=Math.min(u.start,p);u=u.end===void 0?v:Math.min(u.end,p),!a.extend&&v>u&&(p=u,u=v,v=p),p=Wf(c,v);var S=Wf(c,u);p&&S&&(a.rangeCount!==1||a.anchorNode!==p.node||a.anchorOffset!==p.offset||a.focusNode!==S.node||a.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),a.removeAllRanges(),v>u?(a.addRange(i),a.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),a.addRange(i)))}}for(i=[],a=c;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)a=i[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var jv=f&&"documentMode"in document&&11>=document.documentMode,qs=null,C0=null,rl=null,A0=!1;function Gf(a,i,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;A0||qs==null||qs!==je(u)||(u=qs,"selectionStart"in u&&T0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rl&&tl(rl,u)||(rl=u,u=_o(C0,"onSelect"),0<u.length&&(i=new b0("onSelect","select",null,i,c),a.push({event:i,listeners:u}),i.target=qs)))}function yo(a,i){var c={};return c[a.toLowerCase()]=i.toLowerCase(),c["Webkit"+a]="webkit"+i,c["Moz"+a]="moz"+i,c}var Qs={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},P0={},Yf={};f&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function No(a){if(P0[a])return P0[a];if(!Qs[a])return a;var i=Qs[a],c;for(c in i)if(i.hasOwnProperty(c)&&c in Yf)return P0[a]=i[c];return a}var Xf=No("animationend"),Kf=No("animationiteration"),qf=No("animationstart"),Qf=No("transitionend"),Jf=new Map,Zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(a,i){Jf.set(a,i),o(i,[a])}for(var D0=0;D0<Zf.length;D0++){var F0=Zf[D0],_v=F0.toLowerCase(),kv=F0[0].toUpperCase()+F0.slice(1);Oa(_v,"on"+kv)}Oa(Xf,"onAnimationEnd"),Oa(Kf,"onAnimationIteration"),Oa(qf,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(Qf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function eh(a,i,c){var u=a.type||"unknown-event";a.currentTarget=c,B(u,i,void 0,a),a.currentTarget=null}function th(a,i){i=(i&4)!==0;for(var c=0;c<a.length;c++){var u=a[c],p=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var S=u.length-1;0<=S;S--){var U=u[S],K=U.instance,pe=U.currentTarget;if(U=U.listener,K!==v&&p.isPropagationStopped())break e;eh(p,U,pe),v=K}else for(S=0;S<u.length;S++){if(U=u[S],K=U.instance,pe=U.currentTarget,U=U.listener,K!==v&&p.isPropagationStopped())break e;eh(p,U,pe),v=K}}}if(C)throw a=L,C=!1,L=null,a}function Pt(a,i){var c=i[U0];c===void 0&&(c=i[U0]=new Set);var u=a+"__bubble";c.has(u)||(rh(i,a,2,!1),c.add(u))}function O0(a,i,c){var u=0;i&&(u|=4),rh(c,a,u,i)}var jo="_reactListening"+Math.random().toString(36).slice(2);function al(a){if(!a[jo]){a[jo]=!0,s.forEach(function(c){c!=="selectionchange"&&(Sv.has(c)||O0(c,!1,a),O0(c,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[jo]||(i[jo]=!0,O0("selectionchange",!1,i))}}function rh(a,i,c,u){switch(kf(i)){case 1:var p=z1;break;case 4:p=U1;break;default:p=g0}c=p.bind(null,i,c,a),p=void 0,!Ui||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?a.addEventListener(i,c,{capture:!0,passive:p}):a.addEventListener(i,c,!0):p!==void 0?a.addEventListener(i,c,{passive:p}):a.addEventListener(i,c,!1)}function M0(a,i,c,u,p){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var U=u.stateNode.containerInfo;if(U===p||U.nodeType===8&&U.parentNode===p)break;if(S===4)for(S=u.return;S!==null;){var K=S.tag;if((K===3||K===4)&&(K=S.stateNode.containerInfo,K===p||K.nodeType===8&&K.parentNode===p))return;S=S.return}for(;U!==null;){if(S=xs(U),S===null)return;if(K=S.tag,K===5||K===6){u=v=S;continue e}U=U.parentNode}}u=u.return}lo(function(){var pe=v,Te=Hs(c),Pe=[];e:{var Ee=Jf.get(a);if(Ee!==void 0){var We=b0,Ge=a;switch(a){case"keypress":if(go(c)===0)break e;case"keydown":case"keyup":We=rv;break;case"focusin":Ge="focus",We=j0;break;case"focusout":Ge="blur",We=j0;break;case"beforeblur":case"afterblur":We=j0;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=sv;break;case Xf:case Kf:case qf:We=Y1;break;case Qf:We=lv;break;case"scroll":We=$1;break;case"wheel":We=cv;break;case"copy":case"cut":case"paste":We=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Af}var Ye=(i&4)!==0,qt=!Ye&&a==="scroll",ie=Ye?Ee!==null?Ee+"Capture":null:Ee;Ye=[];for(var ee=pe,de;ee!==null;){de=ee;var Oe=de.stateNode;if(de.tag===5&&Oe!==null&&(de=Oe,ie!==null&&(Oe=fs(ee,ie),Oe!=null&&Ye.push(sl(ee,Oe,de)))),qt)break;ee=ee.return}0<Ye.length&&(Ee=new We(Ee,Ge,null,c,Te),Pe.push({event:Ee,listeners:Ye}))}}if((i&7)===0){e:{if(Ee=a==="mouseover"||a==="pointerover",We=a==="mouseout"||a==="pointerout",Ee&&c!==ka&&(Ge=c.relatedTarget||c.fromElement)&&(xs(Ge)||Ge[Zn]))break e;if((We||Ee)&&(Ee=Te.window===Te?Te:(Ee=Te.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,We?(Ge=c.relatedTarget||c.toElement,We=pe,Ge=Ge?xs(Ge):null,Ge!==null&&(qt=z(Ge),Ge!==qt||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(We=null,Ge=pe),We!==Ge)){if(Ye=Tf,Oe="onMouseLeave",ie="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(Ye=Af,Oe="onPointerLeave",ie="onPointerEnter",ee="pointer"),qt=We==null?Ee:ei(We),de=Ge==null?Ee:ei(Ge),Ee=new Ye(Oe,ee+"leave",We,c,Te),Ee.target=qt,Ee.relatedTarget=de,Oe=null,xs(Te)===pe&&(Ye=new Ye(ie,ee+"enter",Ge,c,Te),Ye.target=de,Ye.relatedTarget=qt,Oe=Ye),qt=Oe,We&&Ge)t:{for(Ye=We,ie=Ge,ee=0,de=Ye;de;de=Js(de))ee++;for(de=0,Oe=ie;Oe;Oe=Js(Oe))de++;for(;0<ee-de;)Ye=Js(Ye),ee--;for(;0<de-ee;)ie=Js(ie),de--;for(;ee--;){if(Ye===ie||ie!==null&&Ye===ie.alternate)break t;Ye=Js(Ye),ie=Js(ie)}Ye=null}else Ye=null;We!==null&&nh(Pe,Ee,We,Ye,!1),Ge!==null&&qt!==null&&nh(Pe,qt,Ge,Ye,!0)}}e:{if(Ee=pe?ei(pe):window,We=Ee.nodeName&&Ee.nodeName.toLowerCase(),We==="select"||We==="input"&&Ee.type==="file")var Ke=pv;else if(If(Ee))if(Lf)Ke=bv;else{Ke=vv;var et=gv}else(We=Ee.nodeName)&&We.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Ke=wv);if(Ke&&(Ke=Ke(a,pe))){Rf(Pe,Ke,c,Te);break e}et&&et(a,Ee,pe),a==="focusout"&&(et=Ee._wrapperState)&&et.controlled&&Ee.type==="number"&&ze(Ee,"number",Ee.value)}switch(et=pe?ei(pe):window,a){case"focusin":(If(et)||et.contentEditable==="true")&&(qs=et,C0=pe,rl=null);break;case"focusout":rl=C0=qs=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,Gf(Pe,c,Te);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Gf(Pe,c,Te)}var tt;if(k0)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ks?Of(a,c)&&(nt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(Pf&&c.locale!=="ko"&&(Ks||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ks&&(tt=Sf()):(Fa=Te,w0="value"in Fa?Fa.value:Fa.textContent,Ks=!0)),et=_o(pe,nt),0<et.length&&(nt=new Cf(nt,a,null,c,Te),Pe.push({event:nt,listeners:et}),tt?nt.data=tt:(tt=Mf(c),tt!==null&&(nt.data=tt)))),(tt=uv?fv(a,c):hv(a,c))&&(pe=_o(pe,"onBeforeInput"),0<pe.length&&(Te=new Cf("onBeforeInput","beforeinput",null,c,Te),Pe.push({event:Te,listeners:pe}),Te.data=tt))}th(Pe,i)})}function sl(a,i,c){return{instance:a,listener:i,currentTarget:c}}function _o(a,i){for(var c=i+"Capture",u=[];a!==null;){var p=a,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=fs(a,c),v!=null&&u.unshift(sl(a,v,p)),v=fs(a,i),v!=null&&u.push(sl(a,v,p))),a=a.return}return u}function Js(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function nh(a,i,c,u,p){for(var v=i._reactName,S=[];c!==null&&c!==u;){var U=c,K=U.alternate,pe=U.stateNode;if(K!==null&&K===u)break;U.tag===5&&pe!==null&&(U=pe,p?(K=fs(c,v),K!=null&&S.unshift(sl(c,K,U))):p||(K=fs(c,v),K!=null&&S.push(sl(c,K,U)))),c=c.return}S.length!==0&&a.push({event:i,listeners:S})}var Ev=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function ah(a){return(typeof a=="string"?a:""+a).replace(Ev,`
`).replace(Tv,"")}function ko(a,i,c){if(i=ah(i),ah(a)!==i&&c)throw Error(t(425))}function So(){}var I0=null,R0=null;function L0(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof sh!="undefined"?function(a){return sh.resolve(null).then(a).catch(Pv)}:B0;function Pv(a){setTimeout(function(){throw a})}function z0(a,i){var c=i,u=0;do{var p=c.nextSibling;if(a.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(u===0){a.removeChild(p),Ki(i);return}u--}else c!=="$"&&c!=="$?"&&c!=="$!"||u++;c=p}while(c);Ki(i)}function Ma(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function ih(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return a;i--}else c==="/$"&&i++}a=a.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Zs,il="__reactProps$"+Zs,Zn="__reactContainer$"+Zs,U0="__reactEvents$"+Zs,Dv="__reactListeners$"+Zs,Fv="__reactHandles$"+Zs;function xs(a){var i=a[Bn];if(i)return i;for(var c=a.parentNode;c;){if(i=c[Zn]||c[Bn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(a=ih(a);a!==null;){if(c=a[Bn])return c;a=ih(a)}return i}a=c,c=a.parentNode}return null}function ll(a){return a=a[Bn]||a[Zn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ei(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Eo(a){return a[il]||null}var $0=[],ti=-1;function Ia(a){return{current:a}}function Dt(a){0>ti||(a.current=$0[ti],$0[ti]=null,ti--)}function Ct(a,i){ti++,$0[ti]=a.current,a.current=i}var Ra={},Sr=Ia(Ra),$r=Ia(!1),ps=Ra;function ri(a,i){var c=a.type.contextTypes;if(!c)return Ra;var u=a.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in c)p[v]=i[v];return u&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=p),p}function Wr(a){return a=a.childContextTypes,a!=null}function To(){Dt($r),Dt(Sr)}function lh(a,i,c){if(Sr.current!==Ra)throw Error(t(168));Ct(Sr,i),Ct($r,c)}function oh(a,i,c){var u=a.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return c;u=u.getChildContext();for(var p in u)if(!(p in i))throw Error(t(108,Z(a)||"Unknown",p));return te({},c,u)}function Co(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ra,ps=Sr.current,Ct(Sr,a),Ct($r,$r.current),!0}function ch(a,i,c){var u=a.stateNode;if(!u)throw Error(t(169));c?(a=oh(a,i,ps),u.__reactInternalMemoizedMergedChildContext=a,Dt($r),Dt(Sr),Ct(Sr,a)):Dt($r),Ct($r,c)}var ea=null,Ao=!1,W0=!1;function dh(a){ea===null?ea=[a]:ea.push(a)}function Ov(a){Ao=!0,dh(a)}function La(){if(!W0&&ea!==null){W0=!0;var a=0,i=vt;try{var c=ea;for(vt=1;a<c.length;a++){var u=c[a];do u=u(!0);while(u!==null)}ea=null,Ao=!1}catch(p){throw ea!==null&&(ea=ea.slice(a+1)),Ae(St,La),p}finally{vt=i,W0=!1}}return null}var ni=[],ai=0,Po=null,Do=0,un=[],fn=0,gs=null,ta=1,ra="";function vs(a,i){ni[ai++]=Do,ni[ai++]=Po,Po=a,Do=i}function uh(a,i,c){un[fn++]=ta,un[fn++]=ra,un[fn++]=gs,gs=a;var u=ta;a=ra;var p=32-Kt(u)-1;u&=~(1<<p),c+=1;var v=32-Kt(i)+p;if(30<v){var S=p-p%5;v=(u&(1<<S)-1).toString(32),u>>=S,p-=S,ta=1<<32-Kt(i)+p|c<<p|u,ra=v+a}else ta=1<<v|c<<p|u,ra=a}function H0(a){a.return!==null&&(vs(a,1),uh(a,1,0))}function V0(a){for(;a===Po;)Po=ni[--ai],ni[ai]=null,Do=ni[--ai],ni[ai]=null;for(;a===gs;)gs=un[--fn],un[fn]=null,ra=un[--fn],un[fn]=null,ta=un[--fn],un[fn]=null}var tn=null,rn=null,Rt=!1,kn=null;function fh(a,i){var c=pn(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=a,i=a.deletions,i===null?(a.deletions=[c],a.flags|=16):i.push(c)}function hh(a,i){switch(a.tag){case 5:var c=a.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,tn=a,rn=Ma(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,tn=a,rn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=gs!==null?{id:ta,overflow:ra}:null,a.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=pn(18,null,null,0),c.stateNode=i,c.return=a,a.child=c,tn=a,rn=null,!0):!1;default:return!1}}function G0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Y0(a){if(Rt){var i=rn;if(i){var c=i;if(!hh(a,i)){if(G0(a))throw Error(t(418));i=Ma(c.nextSibling);var u=tn;i&&hh(a,i)?fh(u,c):(a.flags=a.flags&-4097|2,Rt=!1,tn=a)}}else{if(G0(a))throw Error(t(418));a.flags=a.flags&-4097|2,Rt=!1,tn=a}}}function mh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tn=a}function Fo(a){if(a!==tn)return!1;if(!Rt)return mh(a),Rt=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!L0(a.type,a.memoizedProps)),i&&(i=rn)){if(G0(a))throw xh(),Error(t(418));for(;i;)fh(a,i),i=Ma(i.nextSibling)}if(mh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(i===0){rn=Ma(a.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}a=a.nextSibling}rn=null}}else rn=tn?Ma(a.stateNode.nextSibling):null;return!0}function xh(){for(var a=rn;a;)a=Ma(a.nextSibling)}function si(){rn=tn=null,Rt=!1}function X0(a){kn===null?kn=[a]:kn.push(a)}var Mv=A.ReactCurrentBatchConfig;function ol(a,i,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var u=c.stateNode}if(!u)throw Error(t(147,a));var p=u,v=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(S){var U=p.refs;S===null?delete U[v]:U[v]=S},i._stringRef=v,i)}if(typeof a!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,a))}return a}function Oo(a,i){throw a=Object.prototype.toString.call(i),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function ph(a){var i=a._init;return i(a._payload)}function gh(a){function i(ie,ee){if(a){var de=ie.deletions;de===null?(ie.deletions=[ee],ie.flags|=16):de.push(ee)}}function c(ie,ee){if(!a)return null;for(;ee!==null;)i(ie,ee),ee=ee.sibling;return null}function u(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function p(ie,ee){return ie=Ga(ie,ee),ie.index=0,ie.sibling=null,ie}function v(ie,ee,de){return ie.index=de,a?(de=ie.alternate,de!==null?(de=de.index,de<ee?(ie.flags|=2,ee):de):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function S(ie){return a&&ie.alternate===null&&(ie.flags|=2),ie}function U(ie,ee,de,Oe){return ee===null||ee.tag!==6?(ee=Bd(de,ie.mode,Oe),ee.return=ie,ee):(ee=p(ee,de),ee.return=ie,ee)}function K(ie,ee,de,Oe){var Ke=de.type;return Ke===H?Te(ie,ee,de.props.children,Oe,de.key):ee!==null&&(ee.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===qe&&ph(Ke)===ee.type)?(Oe=p(ee,de.props),Oe.ref=ol(ie,ee,de),Oe.return=ie,Oe):(Oe=ac(de.type,de.key,de.props,null,ie.mode,Oe),Oe.ref=ol(ie,ee,de),Oe.return=ie,Oe)}function pe(ie,ee,de,Oe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==de.containerInfo||ee.stateNode.implementation!==de.implementation?(ee=zd(de,ie.mode,Oe),ee.return=ie,ee):(ee=p(ee,de.children||[]),ee.return=ie,ee)}function Te(ie,ee,de,Oe,Ke){return ee===null||ee.tag!==7?(ee=Ss(de,ie.mode,Oe,Ke),ee.return=ie,ee):(ee=p(ee,de),ee.return=ie,ee)}function Pe(ie,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Bd(""+ee,ie.mode,de),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case G:return de=ac(ee.type,ee.key,ee.props,null,ie.mode,de),de.ref=ol(ie,null,ee),de.return=ie,de;case W:return ee=zd(ee,ie.mode,de),ee.return=ie,ee;case qe:var Oe=ee._init;return Pe(ie,Oe(ee._payload),de)}if(Ue(ee)||ve(ee))return ee=Ss(ee,ie.mode,de,null),ee.return=ie,ee;Oo(ie,ee)}return null}function Ee(ie,ee,de,Oe){var Ke=ee!==null?ee.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Ke!==null?null:U(ie,ee,""+de,Oe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case G:return de.key===Ke?K(ie,ee,de,Oe):null;case W:return de.key===Ke?pe(ie,ee,de,Oe):null;case qe:return Ke=de._init,Ee(ie,ee,Ke(de._payload),Oe)}if(Ue(de)||ve(de))return Ke!==null?null:Te(ie,ee,de,Oe,null);Oo(ie,de)}return null}function We(ie,ee,de,Oe,Ke){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ie=ie.get(de)||null,U(ee,ie,""+Oe,Ke);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case G:return ie=ie.get(Oe.key===null?de:Oe.key)||null,K(ee,ie,Oe,Ke);case W:return ie=ie.get(Oe.key===null?de:Oe.key)||null,pe(ee,ie,Oe,Ke);case qe:var et=Oe._init;return We(ie,ee,de,et(Oe._payload),Ke)}if(Ue(Oe)||ve(Oe))return ie=ie.get(de)||null,Te(ee,ie,Oe,Ke,null);Oo(ee,Oe)}return null}function Ge(ie,ee,de,Oe){for(var Ke=null,et=null,tt=ee,nt=ee=0,fr=null;tt!==null&&nt<de.length;nt++){tt.index>nt?(fr=tt,tt=null):fr=tt.sibling;var ht=Ee(ie,tt,de[nt],Oe);if(ht===null){tt===null&&(tt=fr);break}a&&tt&&ht.alternate===null&&i(ie,tt),ee=v(ht,ee,nt),et===null?Ke=ht:et.sibling=ht,et=ht,tt=fr}if(nt===de.length)return c(ie,tt),Rt&&vs(ie,nt),Ke;if(tt===null){for(;nt<de.length;nt++)tt=Pe(ie,de[nt],Oe),tt!==null&&(ee=v(tt,ee,nt),et===null?Ke=tt:et.sibling=tt,et=tt);return Rt&&vs(ie,nt),Ke}for(tt=u(ie,tt);nt<de.length;nt++)fr=We(tt,ie,nt,de[nt],Oe),fr!==null&&(a&&fr.alternate!==null&&tt.delete(fr.key===null?nt:fr.key),ee=v(fr,ee,nt),et===null?Ke=fr:et.sibling=fr,et=fr);return a&&tt.forEach(function(Ya){return i(ie,Ya)}),Rt&&vs(ie,nt),Ke}function Ye(ie,ee,de,Oe){var Ke=ve(de);if(typeof Ke!="function")throw Error(t(150));if(de=Ke.call(de),de==null)throw Error(t(151));for(var et=Ke=null,tt=ee,nt=ee=0,fr=null,ht=de.next();tt!==null&&!ht.done;nt++,ht=de.next()){tt.index>nt?(fr=tt,tt=null):fr=tt.sibling;var Ya=Ee(ie,tt,ht.value,Oe);if(Ya===null){tt===null&&(tt=fr);break}a&&tt&&Ya.alternate===null&&i(ie,tt),ee=v(Ya,ee,nt),et===null?Ke=Ya:et.sibling=Ya,et=Ya,tt=fr}if(ht.done)return c(ie,tt),Rt&&vs(ie,nt),Ke;if(tt===null){for(;!ht.done;nt++,ht=de.next())ht=Pe(ie,ht.value,Oe),ht!==null&&(ee=v(ht,ee,nt),et===null?Ke=ht:et.sibling=ht,et=ht);return Rt&&vs(ie,nt),Ke}for(tt=u(ie,tt);!ht.done;nt++,ht=de.next())ht=We(tt,ie,nt,ht.value,Oe),ht!==null&&(a&&ht.alternate!==null&&tt.delete(ht.key===null?nt:ht.key),ee=v(ht,ee,nt),et===null?Ke=ht:et.sibling=ht,et=ht);return a&&tt.forEach(function(m2){return i(ie,m2)}),Rt&&vs(ie,nt),Ke}function qt(ie,ee,de,Oe){if(typeof de=="object"&&de!==null&&de.type===H&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case G:e:{for(var Ke=de.key,et=ee;et!==null;){if(et.key===Ke){if(Ke=de.type,Ke===H){if(et.tag===7){c(ie,et.sibling),ee=p(et,de.props.children),ee.return=ie,ie=ee;break e}}else if(et.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===qe&&ph(Ke)===et.type){c(ie,et.sibling),ee=p(et,de.props),ee.ref=ol(ie,et,de),ee.return=ie,ie=ee;break e}c(ie,et);break}else i(ie,et);et=et.sibling}de.type===H?(ee=Ss(de.props.children,ie.mode,Oe,de.key),ee.return=ie,ie=ee):(Oe=ac(de.type,de.key,de.props,null,ie.mode,Oe),Oe.ref=ol(ie,ee,de),Oe.return=ie,ie=Oe)}return S(ie);case W:e:{for(et=de.key;ee!==null;){if(ee.key===et)if(ee.tag===4&&ee.stateNode.containerInfo===de.containerInfo&&ee.stateNode.implementation===de.implementation){c(ie,ee.sibling),ee=p(ee,de.children||[]),ee.return=ie,ie=ee;break e}else{c(ie,ee);break}else i(ie,ee);ee=ee.sibling}ee=zd(de,ie.mode,Oe),ee.return=ie,ie=ee}return S(ie);case qe:return et=de._init,qt(ie,ee,et(de._payload),Oe)}if(Ue(de))return Ge(ie,ee,de,Oe);if(ve(de))return Ye(ie,ee,de,Oe);Oo(ie,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ee!==null&&ee.tag===6?(c(ie,ee.sibling),ee=p(ee,de),ee.return=ie,ie=ee):(c(ie,ee),ee=Bd(de,ie.mode,Oe),ee.return=ie,ie=ee),S(ie)):c(ie,ee)}return qt}var ii=gh(!0),vh=gh(!1),Mo=Ia(null),Io=null,li=null,K0=null;function q0(){K0=li=Io=null}function Q0(a){var i=Mo.current;Dt(Mo),a._currentValue=i}function J0(a,i,c){for(;a!==null;){var u=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),a===c)break;a=a.return}}function oi(a,i){Io=a,K0=li=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&i)!==0&&(Hr=!0),a.firstContext=null)}function hn(a){var i=a._currentValue;if(K0!==a)if(a={context:a,memoizedValue:i,next:null},li===null){if(Io===null)throw Error(t(308));li=a,Io.dependencies={lanes:0,firstContext:a}}else li=li.next=a;return i}var ws=null;function Z0(a){ws===null?ws=[a]:ws.push(a)}function wh(a,i,c,u){var p=i.interleaved;return p===null?(c.next=c,Z0(i)):(c.next=p.next,p.next=c),i.interleaved=c,na(a,u)}function na(a,i){a.lanes|=i;var c=a.alternate;for(c!==null&&(c.lanes|=i),c=a,a=a.return;a!==null;)a.childLanes|=i,c=a.alternate,c!==null&&(c.childLanes|=i),c=a,a=a.return;return c.tag===3?c.stateNode:null}var Ba=!1;function ed(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function aa(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function za(a,i,c){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(dt&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,na(a,c)}return p=u.interleaved,p===null?(i.next=i,Z0(u)):(i.next=p.next,p.next=i),u.interleaved=i,na(a,c)}function Ro(a,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var u=i.lanes;u&=a.pendingLanes,c|=u,i.lanes=c,m0(a,c)}}function yh(a,i){var c=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?p=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?p=v=i:v=v.next=i}else p=v=i;c={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,effects:u.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=i:a.next=i,c.lastBaseUpdate=i}function Lo(a,i,c,u){var p=a.updateQueue;Ba=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,U=p.shared.pending;if(U!==null){p.shared.pending=null;var K=U,pe=K.next;K.next=null,S===null?v=pe:S.next=pe,S=K;var Te=a.alternate;Te!==null&&(Te=Te.updateQueue,U=Te.lastBaseUpdate,U!==S&&(U===null?Te.firstBaseUpdate=pe:U.next=pe,Te.lastBaseUpdate=K))}if(v!==null){var Pe=p.baseState;S=0,Te=pe=K=null,U=v;do{var Ee=U.lane,We=U.eventTime;if((u&Ee)===Ee){Te!==null&&(Te=Te.next={eventTime:We,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ge=a,Ye=U;switch(Ee=i,We=c,Ye.tag){case 1:if(Ge=Ye.payload,typeof Ge=="function"){Pe=Ge.call(We,Pe,Ee);break e}Pe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ye.payload,Ee=typeof Ge=="function"?Ge.call(We,Pe,Ee):Ge,Ee==null)break e;Pe=te({},Pe,Ee);break e;case 2:Ba=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,Ee=p.effects,Ee===null?p.effects=[U]:Ee.push(U))}else We={eventTime:We,lane:Ee,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Te===null?(pe=Te=We,K=Pe):Te=Te.next=We,S|=Ee;if(U=U.next,U===null){if(U=p.shared.pending,U===null)break;Ee=U,U=Ee.next,Ee.next=null,p.lastBaseUpdate=Ee,p.shared.pending=null}}while(!0);if(Te===null&&(K=Pe),p.baseState=K,p.firstBaseUpdate=pe,p.lastBaseUpdate=Te,i=p.shared.interleaved,i!==null){p=i;do S|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);Ns|=S,a.lanes=S,a.memoizedState=Pe}}function Nh(a,i,c){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var u=a[i],p=u.callback;if(p!==null){if(u.callback=null,u=c,typeof p!="function")throw Error(t(191,p));p.call(u)}}}var cl={},zn=Ia(cl),dl=Ia(cl),ul=Ia(cl);function bs(a){if(a===cl)throw Error(t(174));return a}function td(a,i){switch(Ct(ul,i),Ct(dl,a),Ct(zn,cl),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lt(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=lt(i,a)}Dt(zn),Ct(zn,i)}function ci(){Dt(zn),Dt(dl),Dt(ul)}function jh(a){bs(ul.current);var i=bs(zn.current),c=lt(i,a.type);i!==c&&(Ct(dl,a),Ct(zn,c))}function rd(a){dl.current===a&&(Dt(zn),Dt(dl))}var Bt=Ia(0);function Bo(a){for(var i=a;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nd=[];function ad(){for(var a=0;a<nd.length;a++)nd[a]._workInProgressVersionPrimary=null;nd.length=0}var zo=A.ReactCurrentDispatcher,sd=A.ReactCurrentBatchConfig,ys=0,zt=null,sr=null,dr=null,Uo=!1,fl=!1,hl=0,Iv=0;function Er(){throw Error(t(321))}function id(a,i){if(i===null)return!1;for(var c=0;c<i.length&&c<a.length;c++)if(!_n(a[c],i[c]))return!1;return!0}function ld(a,i,c,u,p,v){if(ys=v,zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,zo.current=a===null||a.memoizedState===null?zv:Uv,a=c(u,p),fl){v=0;do{if(fl=!1,hl=0,25<=v)throw Error(t(301));v+=1,dr=sr=null,i.updateQueue=null,zo.current=$v,a=c(u,p)}while(fl)}if(zo.current=Ho,i=sr!==null&&sr.next!==null,ys=0,dr=sr=zt=null,Uo=!1,i)throw Error(t(300));return a}function od(){var a=hl!==0;return hl=0,a}function Un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?zt.memoizedState=dr=a:dr=dr.next=a,dr}function mn(){if(sr===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=sr.next;var i=dr===null?zt.memoizedState:dr.next;if(i!==null)dr=i,sr=a;else{if(a===null)throw Error(t(310));sr=a,a={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},dr===null?zt.memoizedState=dr=a:dr=dr.next=a}return dr}function ml(a,i){return typeof i=="function"?i(a):i}function cd(a){var i=mn(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=a;var u=sr,p=u.baseQueue,v=c.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}u.baseQueue=p=v,c.pending=null}if(p!==null){v=p.next,u=u.baseState;var U=S=null,K=null,pe=v;do{var Te=pe.lane;if((ys&Te)===Te)K!==null&&(K=K.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),u=pe.hasEagerState?pe.eagerState:a(u,pe.action);else{var Pe={lane:Te,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};K===null?(U=K=Pe,S=u):K=K.next=Pe,zt.lanes|=Te,Ns|=Te}pe=pe.next}while(pe!==null&&pe!==v);K===null?S=u:K.next=U,_n(u,i.memoizedState)||(Hr=!0),i.memoizedState=u,i.baseState=S,i.baseQueue=K,c.lastRenderedState=u}if(a=c.interleaved,a!==null){p=a;do v=p.lane,zt.lanes|=v,Ns|=v,p=p.next;while(p!==a)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function dd(a){var i=mn(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=a;var u=c.dispatch,p=c.pending,v=i.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do v=a(v,S.action),S=S.next;while(S!==p);_n(v,i.memoizedState)||(Hr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,u]}function _h(){}function kh(a,i){var c=zt,u=mn(),p=i(),v=!_n(u.memoizedState,p);if(v&&(u.memoizedState=p,Hr=!0),u=u.queue,ud(Th.bind(null,c,u,a),[a]),u.getSnapshot!==i||v||dr!==null&&dr.memoizedState.tag&1){if(c.flags|=2048,xl(9,Eh.bind(null,c,u,p,i),void 0,null),ur===null)throw Error(t(349));(ys&30)!==0||Sh(c,i,p)}return p}function Sh(a,i,c){a.flags|=16384,a={getSnapshot:i,value:c},i=zt.updateQueue,i===null?(i={lastEffect:null,stores:null},zt.updateQueue=i,i.stores=[a]):(c=i.stores,c===null?i.stores=[a]:c.push(a))}function Eh(a,i,c,u){i.value=c,i.getSnapshot=u,Ch(i)&&Ah(a)}function Th(a,i,c){return c(function(){Ch(i)&&Ah(a)})}function Ch(a){var i=a.getSnapshot;a=a.value;try{var c=i();return!_n(a,c)}catch{return!0}}function Ah(a){var i=na(a,1);i!==null&&Cn(i,a,1,-1)}function Ph(a){var i=Un();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:a},i.queue=a,a=a.dispatch=Bv.bind(null,zt,a),[i.memoizedState,a]}function xl(a,i,c,u){return a={tag:a,create:i,destroy:c,deps:u,next:null},i=zt.updateQueue,i===null?(i={lastEffect:null,stores:null},zt.updateQueue=i,i.lastEffect=a.next=a):(c=i.lastEffect,c===null?i.lastEffect=a.next=a:(u=c.next,c.next=a,a.next=u,i.lastEffect=a)),a}function Dh(){return mn().memoizedState}function $o(a,i,c,u){var p=Un();zt.flags|=a,p.memoizedState=xl(1|i,c,void 0,u===void 0?null:u)}function Wo(a,i,c,u){var p=mn();u=u===void 0?null:u;var v=void 0;if(sr!==null){var S=sr.memoizedState;if(v=S.destroy,u!==null&&id(u,S.deps)){p.memoizedState=xl(i,c,v,u);return}}zt.flags|=a,p.memoizedState=xl(1|i,c,v,u)}function Fh(a,i){return $o(8390656,8,a,i)}function ud(a,i){return Wo(2048,8,a,i)}function Oh(a,i){return Wo(4,2,a,i)}function Mh(a,i){return Wo(4,4,a,i)}function Ih(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Rh(a,i,c){return c=c!=null?c.concat([a]):null,Wo(4,4,Ih.bind(null,i,a),c)}function fd(){}function Lh(a,i){var c=mn();i=i===void 0?null:i;var u=c.memoizedState;return u!==null&&i!==null&&id(i,u[1])?u[0]:(c.memoizedState=[a,i],a)}function Bh(a,i){var c=mn();i=i===void 0?null:i;var u=c.memoizedState;return u!==null&&i!==null&&id(i,u[1])?u[0]:(a=a(),c.memoizedState=[a,i],a)}function zh(a,i,c){return(ys&21)===0?(a.baseState&&(a.baseState=!1,Hr=!0),a.memoizedState=c):(_n(c,i)||(c=pf(),zt.lanes|=c,Ns|=c,a.baseState=!0),i)}function Rv(a,i){var c=vt;vt=c!==0&&4>c?c:4,a(!0);var u=sd.transition;sd.transition={};try{a(!1),i()}finally{vt=c,sd.transition=u}}function Uh(){return mn().memoizedState}function Lv(a,i,c){var u=Ha(a);if(c={lane:u,action:c,hasEagerState:!1,eagerState:null,next:null},$h(a))Wh(i,c);else if(c=wh(a,i,c,u),c!==null){var p=Or();Cn(c,a,u,p),Hh(c,i,u)}}function Bv(a,i,c){var u=Ha(a),p={lane:u,action:c,hasEagerState:!1,eagerState:null,next:null};if($h(a))Wh(i,p);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,U=v(S,c);if(p.hasEagerState=!0,p.eagerState=U,_n(U,S)){var K=i.interleaved;K===null?(p.next=p,Z0(i)):(p.next=K.next,K.next=p),i.interleaved=p;return}}catch{}finally{}c=wh(a,i,p,u),c!==null&&(p=Or(),Cn(c,a,u,p),Hh(c,i,u))}}function $h(a){var i=a.alternate;return a===zt||i!==null&&i===zt}function Wh(a,i){fl=Uo=!0;var c=a.pending;c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i}function Hh(a,i,c){if((c&4194240)!==0){var u=i.lanes;u&=a.pendingLanes,c|=u,i.lanes=c,m0(a,c)}}var Ho={readContext:hn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},zv={readContext:hn,useCallback:function(a,i){return Un().memoizedState=[a,i===void 0?null:i],a},useContext:hn,useEffect:Fh,useImperativeHandle:function(a,i,c){return c=c!=null?c.concat([a]):null,$o(4194308,4,Ih.bind(null,i,a),c)},useLayoutEffect:function(a,i){return $o(4194308,4,a,i)},useInsertionEffect:function(a,i){return $o(4,2,a,i)},useMemo:function(a,i){var c=Un();return i=i===void 0?null:i,a=a(),c.memoizedState=[a,i],a},useReducer:function(a,i,c){var u=Un();return i=c!==void 0?c(i):i,u.memoizedState=u.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},u.queue=a,a=a.dispatch=Lv.bind(null,zt,a),[u.memoizedState,a]},useRef:function(a){var i=Un();return a={current:a},i.memoizedState=a},useState:Ph,useDebugValue:fd,useDeferredValue:function(a){return Un().memoizedState=a},useTransition:function(){var a=Ph(!1),i=a[0];return a=Rv.bind(null,a[1]),Un().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,c){var u=zt,p=Un();if(Rt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),ur===null)throw Error(t(349));(ys&30)!==0||Sh(u,i,c)}p.memoizedState=c;var v={value:c,getSnapshot:i};return p.queue=v,Fh(Th.bind(null,u,v,a),[a]),u.flags|=2048,xl(9,Eh.bind(null,u,v,c,i),void 0,null),c},useId:function(){var a=Un(),i=ur.identifierPrefix;if(Rt){var c=ra,u=ta;c=(u&~(1<<32-Kt(u)-1)).toString(32)+c,i=":"+i+"R"+c,c=hl++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Iv++,i=":"+i+"r"+c.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},Uv={readContext:hn,useCallback:Lh,useContext:hn,useEffect:ud,useImperativeHandle:Rh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Bh,useReducer:cd,useRef:Dh,useState:function(){return cd(ml)},useDebugValue:fd,useDeferredValue:function(a){var i=mn();return zh(i,sr.memoizedState,a)},useTransition:function(){var a=cd(ml)[0],i=mn().memoizedState;return[a,i]},useMutableSource:_h,useSyncExternalStore:kh,useId:Uh,unstable_isNewReconciler:!1},$v={readContext:hn,useCallback:Lh,useContext:hn,useEffect:ud,useImperativeHandle:Rh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Bh,useReducer:dd,useRef:Dh,useState:function(){return dd(ml)},useDebugValue:fd,useDeferredValue:function(a){var i=mn();return sr===null?i.memoizedState=a:zh(i,sr.memoizedState,a)},useTransition:function(){var a=dd(ml)[0],i=mn().memoizedState;return[a,i]},useMutableSource:_h,useSyncExternalStore:kh,useId:Uh,unstable_isNewReconciler:!1};function Sn(a,i){if(a&&a.defaultProps){i=te({},i),a=a.defaultProps;for(var c in a)i[c]===void 0&&(i[c]=a[c]);return i}return i}function hd(a,i,c,u){i=a.memoizedState,c=c(u,i),c=c==null?i:te({},i,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Vo={isMounted:function(a){return(a=a._reactInternals)?z(a)===a:!1},enqueueSetState:function(a,i,c){a=a._reactInternals;var u=Or(),p=Ha(a),v=aa(u,p);v.payload=i,c!=null&&(v.callback=c),i=za(a,v,p),i!==null&&(Cn(i,a,p,u),Ro(i,a,p))},enqueueReplaceState:function(a,i,c){a=a._reactInternals;var u=Or(),p=Ha(a),v=aa(u,p);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=za(a,v,p),i!==null&&(Cn(i,a,p,u),Ro(i,a,p))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var c=Or(),u=Ha(a),p=aa(c,u);p.tag=2,i!=null&&(p.callback=i),i=za(a,p,u),i!==null&&(Cn(i,a,u,c),Ro(i,a,u))}};function Vh(a,i,c,u,p,v,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,v,S):i.prototype&&i.prototype.isPureReactComponent?!tl(c,u)||!tl(p,v):!0}function Gh(a,i,c){var u=!1,p=Ra,v=i.contextType;return typeof v=="object"&&v!==null?v=hn(v):(p=Wr(i)?ps:Sr.current,u=i.contextTypes,v=(u=u!=null)?ri(a,p):Ra),i=new i(c,v),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vo,a.stateNode=i,i._reactInternals=a,u&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=p,a.__reactInternalMemoizedMaskedChildContext=v),i}function Yh(a,i,c,u){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,u),i.state!==a&&Vo.enqueueReplaceState(i,i.state,null)}function md(a,i,c,u){var p=a.stateNode;p.props=c,p.state=a.memoizedState,p.refs={},ed(a);var v=i.contextType;typeof v=="object"&&v!==null?p.context=hn(v):(v=Wr(i)?ps:Sr.current,p.context=ri(a,v)),p.state=a.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(hd(a,i,v,c),p.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Vo.enqueueReplaceState(p,p.state,null),Lo(a,c,p,u),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308)}function di(a,i){try{var c="",u=i;do c+=F(u),u=u.return;while(u);var p=c}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:a,source:i,stack:p,digest:null}}function xd(a,i,c){return{value:a,source:null,stack:c!=null?c:null,digest:i!=null?i:null}}function pd(a,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Wv=typeof WeakMap=="function"?WeakMap:Map;function Xh(a,i,c){c=aa(-1,c),c.tag=3,c.payload={element:null};var u=i.value;return c.callback=function(){Jo||(Jo=!0,Pd=u),pd(a,i)},c}function Kh(a,i,c){c=aa(-1,c),c.tag=3;var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var p=i.value;c.payload=function(){return u(p)},c.callback=function(){pd(a,i)}}var v=a.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){pd(a,i),typeof u!="function"&&($a===null?$a=new Set([this]):$a.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),c}function qh(a,i,c){var u=a.pingCache;if(u===null){u=a.pingCache=new Wv;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(c)||(p.add(c),a=n2.bind(null,a,i,c),i.then(a,a))}function Qh(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Jh(a,i,c,u,p){return(a.mode&1)===0?(a===i?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=aa(-1,1),i.tag=2,za(c,i,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=p,a)}var Hv=A.ReactCurrentOwner,Hr=!1;function Fr(a,i,c,u){i.child=a===null?vh(i,null,c,u):ii(i,a.child,c,u)}function Zh(a,i,c,u,p){c=c.render;var v=i.ref;return oi(i,p),u=ld(a,i,c,u,v,p),c=od(),a!==null&&!Hr?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~p,sa(a,i,p)):(Rt&&c&&H0(i),i.flags|=1,Fr(a,i,u,p),i.child)}function em(a,i,c,u,p){if(a===null){var v=c.type;return typeof v=="function"&&!Ld(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=v,tm(a,i,v,u,p)):(a=ac(c.type,null,u,i,i.mode,p),a.ref=i.ref,a.return=i,i.child=a)}if(v=a.child,(a.lanes&p)===0){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:tl,c(S,u)&&a.ref===i.ref)return sa(a,i,p)}return i.flags|=1,a=Ga(v,u),a.ref=i.ref,a.return=i,i.child=a}function tm(a,i,c,u,p){if(a!==null){var v=a.memoizedProps;if(tl(v,u)&&a.ref===i.ref)if(Hr=!1,i.pendingProps=u=v,(a.lanes&p)!==0)(a.flags&131072)!==0&&(Hr=!0);else return i.lanes=a.lanes,sa(a,i,p)}return gd(a,i,c,u,p)}function rm(a,i,c){var u=i.pendingProps,p=u.children,v=a!==null?a.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(fi,nn),nn|=c;else{if((c&1073741824)===0)return a=v!==null?v.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,Ct(fi,nn),nn|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:c,Ct(fi,nn),nn|=u}else v!==null?(u=v.baseLanes|c,i.memoizedState=null):u=c,Ct(fi,nn),nn|=u;return Fr(a,i,p,c),i.child}function nm(a,i){var c=i.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function gd(a,i,c,u,p){var v=Wr(c)?ps:Sr.current;return v=ri(i,v),oi(i,p),c=ld(a,i,c,u,v,p),u=od(),a!==null&&!Hr?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~p,sa(a,i,p)):(Rt&&u&&H0(i),i.flags|=1,Fr(a,i,c,p),i.child)}function am(a,i,c,u,p){if(Wr(c)){var v=!0;Co(i)}else v=!1;if(oi(i,p),i.stateNode===null)Yo(a,i),Gh(i,c,u),md(i,c,u,p),u=!0;else if(a===null){var S=i.stateNode,U=i.memoizedProps;S.props=U;var K=S.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=hn(pe):(pe=Wr(c)?ps:Sr.current,pe=ri(i,pe));var Te=c.getDerivedStateFromProps,Pe=typeof Te=="function"||typeof S.getSnapshotBeforeUpdate=="function";Pe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U!==u||K!==pe)&&Yh(i,S,u,pe),Ba=!1;var Ee=i.memoizedState;S.state=Ee,Lo(i,u,S,p),K=i.memoizedState,U!==u||Ee!==K||$r.current||Ba?(typeof Te=="function"&&(hd(i,c,Te,u),K=i.memoizedState),(U=Ba||Vh(i,c,U,u,Ee,K,pe))?(Pe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),S.props=u,S.state=K,S.context=pe,u=U):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{S=i.stateNode,bh(a,i),U=i.memoizedProps,pe=i.type===i.elementType?U:Sn(i.type,U),S.props=pe,Pe=i.pendingProps,Ee=S.context,K=c.contextType,typeof K=="object"&&K!==null?K=hn(K):(K=Wr(c)?ps:Sr.current,K=ri(i,K));var We=c.getDerivedStateFromProps;(Te=typeof We=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U!==Pe||Ee!==K)&&Yh(i,S,u,K),Ba=!1,Ee=i.memoizedState,S.state=Ee,Lo(i,u,S,p);var Ge=i.memoizedState;U!==Pe||Ee!==Ge||$r.current||Ba?(typeof We=="function"&&(hd(i,c,We,u),Ge=i.memoizedState),(pe=Ba||Vh(i,c,pe,u,Ee,Ge,K)||!1)?(Te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(u,Ge,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(u,Ge,K)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Ge),S.props=u,S.state=Ge,S.context=K,u=pe):(typeof S.componentDidUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(i.flags|=1024),u=!1)}return vd(a,i,c,u,v,p)}function vd(a,i,c,u,p,v){nm(a,i);var S=(i.flags&128)!==0;if(!u&&!S)return p&&ch(i,c,!1),sa(a,i,v);u=i.stateNode,Hv.current=i;var U=S&&typeof c.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,a!==null&&S?(i.child=ii(i,a.child,null,v),i.child=ii(i,null,U,v)):Fr(a,i,U,v),i.memoizedState=u.state,p&&ch(i,c,!0),i.child}function sm(a){var i=a.stateNode;i.pendingContext?lh(a,i.pendingContext,i.pendingContext!==i.context):i.context&&lh(a,i.context,!1),td(a,i.containerInfo)}function im(a,i,c,u,p){return si(),X0(p),i.flags|=256,Fr(a,i,c,u),i.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function bd(a){return{baseLanes:a,cachePool:null,transitions:null}}function lm(a,i,c){var u=i.pendingProps,p=Bt.current,v=!1,S=(i.flags&128)!==0,U;if((U=S)||(U=a!==null&&a.memoizedState===null?!1:(p&2)!==0),U?(v=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(p|=1),Ct(Bt,p&1),a===null)return Y0(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((i.mode&1)===0?i.lanes=1:a.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=u.children,a=u.fallback,v?(u=i.mode,v=i.child,S={mode:"hidden",children:S},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=sc(S,u,0,null),a=Ss(a,u,c,null),v.return=i,a.return=i,v.sibling=a,i.child=v,i.child.memoizedState=bd(c),i.memoizedState=wd,a):yd(i,S));if(p=a.memoizedState,p!==null&&(U=p.dehydrated,U!==null))return Vv(a,i,S,u,U,p,c);if(v){v=u.fallback,S=i.mode,p=a.child,U=p.sibling;var K={mode:"hidden",children:u.children};return(S&1)===0&&i.child!==p?(u=i.child,u.childLanes=0,u.pendingProps=K,i.deletions=null):(u=Ga(p,K),u.subtreeFlags=p.subtreeFlags&14680064),U!==null?v=Ga(U,v):(v=Ss(v,S,c,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,u=v,v=i.child,S=a.child.memoizedState,S=S===null?bd(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=a.childLanes&~c,i.memoizedState=wd,u}return v=a.child,a=v.sibling,u=Ga(v,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=c),u.return=i,u.sibling=null,a!==null&&(c=i.deletions,c===null?(i.deletions=[a],i.flags|=16):c.push(a)),i.child=u,i.memoizedState=null,u}function yd(a,i){return i=sc({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function Go(a,i,c,u){return u!==null&&X0(u),ii(i,a.child,null,c),a=yd(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Vv(a,i,c,u,p,v,S){if(c)return i.flags&256?(i.flags&=-257,u=xd(Error(t(422))),Go(a,i,S,u)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(v=u.fallback,p=i.mode,u=sc({mode:"visible",children:u.children},p,0,null),v=Ss(v,p,S,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,(i.mode&1)!==0&&ii(i,a.child,null,S),i.child.memoizedState=bd(S),i.memoizedState=wd,v);if((i.mode&1)===0)return Go(a,i,S,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var U=u.dgst;return u=U,v=Error(t(419)),u=xd(v,u,void 0),Go(a,i,S,u)}if(U=(S&a.childLanes)!==0,Hr||U){if(u=ur,u!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|S))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,na(a,p),Cn(u,a,p,-1))}return Rd(),u=xd(Error(t(421))),Go(a,i,S,u)}return p.data==="$?"?(i.flags|=128,i.child=a.child,i=a2.bind(null,a),p._reactRetry=i,null):(a=v.treeContext,rn=Ma(p.nextSibling),tn=i,Rt=!0,kn=null,a!==null&&(un[fn++]=ta,un[fn++]=ra,un[fn++]=gs,ta=a.id,ra=a.overflow,gs=i),i=yd(i,u.children),i.flags|=4096,i)}function om(a,i,c){a.lanes|=i;var u=a.alternate;u!==null&&(u.lanes|=i),J0(a.return,i,c)}function Nd(a,i,c,u,p){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=c,v.tailMode=p)}function cm(a,i,c){var u=i.pendingProps,p=u.revealOrder,v=u.tail;if(Fr(a,i,u.children,c),u=Bt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&om(a,c,i);else if(a.tag===19)om(a,c,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}u&=1}if(Ct(Bt,u),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)a=c.alternate,a!==null&&Bo(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),Nd(i,!1,p,c,v);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(a=p.alternate,a!==null&&Bo(a)===null){i.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}Nd(i,!0,c,null,v);break;case"together":Nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yo(a,i){(i.mode&1)===0&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function sa(a,i,c){if(a!==null&&(i.dependencies=a.dependencies),Ns|=i.lanes,(c&i.childLanes)===0)return null;if(a!==null&&i.child!==a.child)throw Error(t(153));if(i.child!==null){for(a=i.child,c=Ga(a,a.pendingProps),i.child=c,c.return=i;a.sibling!==null;)a=a.sibling,c=c.sibling=Ga(a,a.pendingProps),c.return=i;c.sibling=null}return i.child}function Gv(a,i,c){switch(i.tag){case 3:sm(i),si();break;case 5:jh(i);break;case 1:Wr(i.type)&&Co(i);break;case 4:td(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,p=i.memoizedProps.value;Ct(Mo,u._currentValue),u._currentValue=p;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Ct(Bt,Bt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?lm(a,i,c):(Ct(Bt,Bt.current&1),a=sa(a,i,c),a!==null?a.sibling:null);Ct(Bt,Bt.current&1);break;case 19:if(u=(c&i.childLanes)!==0,(a.flags&128)!==0){if(u)return cm(a,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ct(Bt,Bt.current),u)break;return null;case 22:case 23:return i.lanes=0,rm(a,i,c)}return sa(a,i,c)}var dm,jd,um,fm;dm=function(a,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},jd=function(){},um=function(a,i,c,u){var p=a.memoizedProps;if(p!==u){a=i.stateNode,bs(zn.current);var v=null;switch(c){case"input":p=Ce(a,p),u=Ce(a,u),v=[];break;case"select":p=te({},p,{value:void 0}),u=te({},u,{value:void 0}),v=[];break;case"textarea":p=Ze(a,p),u=Ze(a,u),v=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(a.onclick=So)}jn(c,u);var S;c=null;for(pe in p)if(!u.hasOwnProperty(pe)&&p.hasOwnProperty(pe)&&p[pe]!=null)if(pe==="style"){var U=p[pe];for(S in U)U.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(l.hasOwnProperty(pe)?v||(v=[]):(v=v||[]).push(pe,null));for(pe in u){var K=u[pe];if(U=p!=null?p[pe]:void 0,u.hasOwnProperty(pe)&&K!==U&&(K!=null||U!=null))if(pe==="style")if(U){for(S in U)!U.hasOwnProperty(S)||K&&K.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in K)K.hasOwnProperty(S)&&U[S]!==K[S]&&(c||(c={}),c[S]=K[S])}else c||(v||(v=[]),v.push(pe,c)),c=K;else pe==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,U=U?U.__html:void 0,K!=null&&U!==K&&(v=v||[]).push(pe,K)):pe==="children"?typeof K!="string"&&typeof K!="number"||(v=v||[]).push(pe,""+K):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(l.hasOwnProperty(pe)?(K!=null&&pe==="onScroll"&&Pt("scroll",a),v||U===K||(v=[])):(v=v||[]).push(pe,K))}c&&(v=v||[]).push("style",c);var pe=v;(i.updateQueue=pe)&&(i.flags|=4)}},fm=function(a,i,c,u){c!==u&&(i.flags|=4)};function pl(a,i){if(!Rt)switch(a.tailMode){case"hidden":i=a.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Tr(a){var i=a.alternate!==null&&a.alternate.child===a.child,c=0,u=0;if(i)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=u,a.childLanes=c,i}function Yv(a,i,c){var u=i.pendingProps;switch(V0(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(i),null;case 1:return Wr(i.type)&&To(),Tr(i),null;case 3:return u=i.stateNode,ci(),Dt($r),Dt(Sr),ad(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Fo(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kn!==null&&(Od(kn),kn=null))),jd(a,i),Tr(i),null;case 5:rd(i);var p=bs(ul.current);if(c=i.type,a!==null&&i.stateNode!=null)um(a,i,c,u,p),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(t(166));return Tr(i),null}if(a=bs(zn.current),Fo(i)){u=i.stateNode,c=i.type;var v=i.memoizedProps;switch(u[Bn]=i,u[il]=v,a=(i.mode&1)!==0,c){case"dialog":Pt("cancel",u),Pt("close",u);break;case"iframe":case"object":case"embed":Pt("load",u);break;case"video":case"audio":for(p=0;p<nl.length;p++)Pt(nl[p],u);break;case"source":Pt("error",u);break;case"img":case"image":case"link":Pt("error",u),Pt("load",u);break;case"details":Pt("toggle",u);break;case"input":R(u,v),Pt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},Pt("invalid",u);break;case"textarea":kt(u,v),Pt("invalid",u)}jn(c,v),p=null;for(var S in v)if(v.hasOwnProperty(S)){var U=v[S];S==="children"?typeof U=="string"?u.textContent!==U&&(v.suppressHydrationWarning!==!0&&ko(u.textContent,U,a),p=["children",U]):typeof U=="number"&&u.textContent!==""+U&&(v.suppressHydrationWarning!==!0&&ko(u.textContent,U,a),p=["children",""+U]):l.hasOwnProperty(S)&&U!=null&&S==="onScroll"&&Pt("scroll",u)}switch(c){case"input":_e(u),be(u,v,!0);break;case"textarea":_e(u),It(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=So)}u=p,i.updateQueue=u,u!==null&&(i.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ar(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof u.is=="string"?a=S.createElement(c,{is:u.is}):(a=S.createElement(c),c==="select"&&(S=a,u.multiple?S.multiple=!0:u.size&&(S.size=u.size))):a=S.createElementNS(a,c),a[Bn]=i,a[il]=u,dm(a,i,!1,!1),i.stateNode=a;e:{switch(S=_a(c,u),c){case"dialog":Pt("cancel",a),Pt("close",a),p=u;break;case"iframe":case"object":case"embed":Pt("load",a),p=u;break;case"video":case"audio":for(p=0;p<nl.length;p++)Pt(nl[p],a);p=u;break;case"source":Pt("error",a),p=u;break;case"img":case"image":case"link":Pt("error",a),Pt("load",a),p=u;break;case"details":Pt("toggle",a),p=u;break;case"input":R(a,u),p=Ce(a,u),Pt("invalid",a);break;case"option":p=u;break;case"select":a._wrapperState={wasMultiple:!!u.multiple},p=te({},u,{value:void 0}),Pt("invalid",a);break;case"textarea":kt(a,u),p=Ze(a,u),Pt("invalid",a);break;default:p=u}jn(c,p),U=p;for(v in U)if(U.hasOwnProperty(v)){var K=U[v];v==="style"?$t(a,K):v==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Rn(a,K)):v==="children"?typeof K=="string"?(c!=="textarea"||K!=="")&&ae(a,K):typeof K=="number"&&ae(a,""+K):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(l.hasOwnProperty(v)?K!=null&&v==="onScroll"&&Pt("scroll",a):K!=null&&k(a,v,K,S))}switch(c){case"input":_e(a),be(a,u,!1);break;case"textarea":_e(a),It(a);break;case"option":u.value!=null&&a.setAttribute("value",""+q(u.value));break;case"select":a.multiple=!!u.multiple,v=u.value,v!=null?st(a,!!u.multiple,v,!1):u.defaultValue!=null&&st(a,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(a.onclick=So)}switch(c){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Tr(i),null;case 6:if(a&&i.stateNode!=null)fm(a,i,a.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(t(166));if(c=bs(ul.current),bs(zn.current),Fo(i)){if(u=i.stateNode,c=i.memoizedProps,u[Bn]=i,(v=u.nodeValue!==c)&&(a=tn,a!==null))switch(a.tag){case 3:ko(u.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ko(u.nodeValue,c,(a.mode&1)!==0)}v&&(i.flags|=4)}else u=(c.nodeType===9?c:c.ownerDocument).createTextNode(u),u[Bn]=i,i.stateNode=u}return Tr(i),null;case 13:if(Dt(Bt),u=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Rt&&rn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)xh(),si(),i.flags|=98560,v=!1;else if(v=Fo(i),u!==null&&u.dehydrated!==null){if(a===null){if(!v)throw Error(t(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Bn]=i}else si(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tr(i),v=!1}else kn!==null&&(Od(kn),kn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(u=u!==null,u!==(a!==null&&a.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(a===null||(Bt.current&1)!==0?ir===0&&(ir=3):Rd())),i.updateQueue!==null&&(i.flags|=4),Tr(i),null);case 4:return ci(),jd(a,i),a===null&&al(i.stateNode.containerInfo),Tr(i),null;case 10:return Q0(i.type._context),Tr(i),null;case 17:return Wr(i.type)&&To(),Tr(i),null;case 19:if(Dt(Bt),v=i.memoizedState,v===null)return Tr(i),null;if(u=(i.flags&128)!==0,S=v.rendering,S===null)if(u)pl(v,!1);else{if(ir!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(S=Bo(a),S!==null){for(i.flags|=128,pl(v,!1),u=S.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=c,c=i.child;c!==null;)v=c,a=u,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=a,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,a=S.dependencies,v.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return Ct(Bt,Bt.current&1|2),i.child}a=a.sibling}v.tail!==null&&De()>hi&&(i.flags|=128,u=!0,pl(v,!1),i.lanes=4194304)}else{if(!u)if(a=Bo(S),a!==null){if(i.flags|=128,u=!0,c=a.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),pl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Rt)return Tr(i),null}else 2*De()-v.renderingStartTime>hi&&c!==1073741824&&(i.flags|=128,u=!0,pl(v,!1),i.lanes=4194304);v.isBackwards?(S.sibling=i.child,i.child=S):(c=v.last,c!==null?c.sibling=S:i.child=S,v.last=S)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=De(),i.sibling=null,c=Bt.current,Ct(Bt,u?c&1|2:c&1),i):(Tr(i),null);case 22:case 23:return Id(),u=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(nn&1073741824)!==0&&(Tr(i),i.subtreeFlags&6&&(i.flags|=8192)):Tr(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Xv(a,i){switch(V0(i),i.tag){case 1:return Wr(i.type)&&To(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return ci(),Dt($r),Dt(Sr),ad(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 5:return rd(i),null;case 13:if(Dt(Bt),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(t(340));si()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return Dt(Bt),null;case 4:return ci(),null;case 10:return Q0(i.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Xo=!1,Cr=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ui(a,i){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(u){Wt(a,i,u)}else c.current=null}function _d(a,i,c){try{c()}catch(u){Wt(a,i,u)}}var hm=!1;function qv(a,i){if(I0=mo,a=Vf(),T0(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,U=-1,K=-1,pe=0,Te=0,Pe=a,Ee=null;t:for(;;){for(var We;Pe!==c||p!==0&&Pe.nodeType!==3||(U=S+p),Pe!==v||u!==0&&Pe.nodeType!==3||(K=S+u),Pe.nodeType===3&&(S+=Pe.nodeValue.length),(We=Pe.firstChild)!==null;)Ee=Pe,Pe=We;for(;;){if(Pe===a)break t;if(Ee===c&&++pe===p&&(U=S),Ee===v&&++Te===u&&(K=S),(We=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=We}c=U===-1||K===-1?null:{start:U,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(R0={focusedElem:a,selectionRange:c},mo=!1,Ve=i;Ve!==null;)if(i=Ve,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Ve=a;else for(;Ve!==null;){i=Ve;try{var Ge=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ye=Ge.memoizedProps,qt=Ge.memoizedState,ie=i.stateNode,ee=ie.getSnapshotBeforeUpdate(i.elementType===i.type?Ye:Sn(i.type,Ye),qt);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var de=i.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Oe){Wt(i,i.return,Oe)}if(a=i.sibling,a!==null){a.return=i.return,Ve=a;break}Ve=i.return}return Ge=hm,hm=!1,Ge}function gl(a,i,c){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&a)===a){var v=p.destroy;p.destroy=void 0,v!==void 0&&_d(i,c,v)}p=p.next}while(p!==u)}}function Ko(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&a)===a){var u=c.create;c.destroy=u()}c=c.next}while(c!==i)}}function kd(a){var i=a.ref;if(i!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof i=="function"?i(a):i.current=a}}function mm(a){var i=a.alternate;i!==null&&(a.alternate=null,mm(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Bn],delete i[il],delete i[U0],delete i[Dv],delete i[Fv])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function xm(a){return a.tag===5||a.tag===3||a.tag===4}function pm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xm(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sd(a,i,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(a,i):c.insertBefore(a,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(a,c)):(i=c,i.appendChild(a)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=So));else if(u!==4&&(a=a.child,a!==null))for(Sd(a,i,c),a=a.sibling;a!==null;)Sd(a,i,c),a=a.sibling}function Ed(a,i,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?c.insertBefore(a,i):c.appendChild(a);else if(u!==4&&(a=a.child,a!==null))for(Ed(a,i,c),a=a.sibling;a!==null;)Ed(a,i,c),a=a.sibling}var gr=null,En=!1;function Ua(a,i,c){for(c=c.child;c!==null;)gm(a,i,c),c=c.sibling}function gm(a,i,c){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Ln,c)}catch{}switch(c.tag){case 5:Cr||ui(c,i);case 6:var u=gr,p=En;gr=null,Ua(a,i,c),gr=u,En=p,gr!==null&&(En?(a=gr,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):gr.removeChild(c.stateNode));break;case 18:gr!==null&&(En?(a=gr,c=c.stateNode,a.nodeType===8?z0(a.parentNode,c):a.nodeType===1&&z0(a,c),Ki(a)):z0(gr,c.stateNode));break;case 4:u=gr,p=En,gr=c.stateNode.containerInfo,En=!0,Ua(a,i,c),gr=u,En=p;break;case 0:case 11:case 14:case 15:if(!Cr&&(u=c.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var v=p,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&_d(c,i,S),p=p.next}while(p!==u)}Ua(a,i,c);break;case 1:if(!Cr&&(ui(c,i),u=c.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=c.memoizedProps,u.state=c.memoizedState,u.componentWillUnmount()}catch(U){Wt(c,i,U)}Ua(a,i,c);break;case 21:Ua(a,i,c);break;case 22:c.mode&1?(Cr=(u=Cr)||c.memoizedState!==null,Ua(a,i,c),Cr=u):Ua(a,i,c);break;default:Ua(a,i,c)}}function vm(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new Kv),i.forEach(function(u){var p=s2.bind(null,a,u);c.has(u)||(c.add(u),u.then(p,p))})}}function Tn(a,i){var c=i.deletions;if(c!==null)for(var u=0;u<c.length;u++){var p=c[u];try{var v=a,S=i,U=S;e:for(;U!==null;){switch(U.tag){case 5:gr=U.stateNode,En=!1;break e;case 3:gr=U.stateNode.containerInfo,En=!0;break e;case 4:gr=U.stateNode.containerInfo,En=!0;break e}U=U.return}if(gr===null)throw Error(t(160));gm(v,S,p),gr=null,En=!1;var K=p.alternate;K!==null&&(K.return=null),p.return=null}catch(pe){Wt(p,i,pe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wm(i,a),i=i.sibling}function wm(a,i){var c=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Tn(i,a),$n(a),u&4){try{gl(3,a,a.return),Ko(3,a)}catch(Ye){Wt(a,a.return,Ye)}try{gl(5,a,a.return)}catch(Ye){Wt(a,a.return,Ye)}}break;case 1:Tn(i,a),$n(a),u&512&&c!==null&&ui(c,c.return);break;case 5:if(Tn(i,a),$n(a),u&512&&c!==null&&ui(c,c.return),a.flags&32){var p=a.stateNode;try{ae(p,"")}catch(Ye){Wt(a,a.return,Ye)}}if(u&4&&(p=a.stateNode,p!=null)){var v=a.memoizedProps,S=c!==null?c.memoizedProps:v,U=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{U==="input"&&v.type==="radio"&&v.name!=null&&xe(p,v),_a(U,S);var pe=_a(U,v);for(S=0;S<K.length;S+=2){var Te=K[S],Pe=K[S+1];Te==="style"?$t(p,Pe):Te==="dangerouslySetInnerHTML"?Rn(p,Pe):Te==="children"?ae(p,Pe):k(p,Te,Pe,pe)}switch(U){case"input":Y(p,v);break;case"textarea":ft(p,v);break;case"select":var Ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var We=v.value;We!=null?st(p,!!v.multiple,We,!1):Ee!==!!v.multiple&&(v.defaultValue!=null?st(p,!!v.multiple,v.defaultValue,!0):st(p,!!v.multiple,v.multiple?[]:"",!1))}p[il]=v}catch(Ye){Wt(a,a.return,Ye)}}break;case 6:if(Tn(i,a),$n(a),u&4){if(a.stateNode===null)throw Error(t(162));p=a.stateNode,v=a.memoizedProps;try{p.nodeValue=v}catch(Ye){Wt(a,a.return,Ye)}}break;case 3:if(Tn(i,a),$n(a),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Ki(i.containerInfo)}catch(Ye){Wt(a,a.return,Ye)}break;case 4:Tn(i,a),$n(a);break;case 13:Tn(i,a),$n(a),p=a.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Ad=De())),u&4&&vm(a);break;case 22:if(Te=c!==null&&c.memoizedState!==null,a.mode&1?(Cr=(pe=Cr)||Te,Tn(i,a),Cr=pe):Tn(i,a),$n(a),u&8192){if(pe=a.memoizedState!==null,(a.stateNode.isHidden=pe)&&!Te&&(a.mode&1)!==0)for(Ve=a,Te=a.child;Te!==null;){for(Pe=Ve=Te;Ve!==null;){switch(Ee=Ve,We=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:gl(4,Ee,Ee.return);break;case 1:ui(Ee,Ee.return);var Ge=Ee.stateNode;if(typeof Ge.componentWillUnmount=="function"){u=Ee,c=Ee.return;try{i=u,Ge.props=i.memoizedProps,Ge.state=i.memoizedState,Ge.componentWillUnmount()}catch(Ye){Wt(u,c,Ye)}}break;case 5:ui(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){Nm(Pe);continue}}We!==null?(We.return=Ee,Ve=We):Nm(Pe)}Te=Te.sibling}e:for(Te=null,Pe=a;;){if(Pe.tag===5){if(Te===null){Te=Pe;try{p=Pe.stateNode,pe?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(U=Pe.stateNode,K=Pe.memoizedProps.style,S=K!=null&&K.hasOwnProperty("display")?K.display:null,U.style.display=Ur("display",S))}catch(Ye){Wt(a,a.return,Ye)}}}else if(Pe.tag===6){if(Te===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Ye){Wt(a,a.return,Ye)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===a)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===a)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===a)break e;Te===Pe&&(Te=null),Pe=Pe.return}Te===Pe&&(Te=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Tn(i,a),$n(a),u&4&&vm(a);break;case 21:break;default:Tn(i,a),$n(a)}}function $n(a){var i=a.flags;if(i&2){try{e:{for(var c=a.return;c!==null;){if(xm(c)){var u=c;break e}c=c.return}throw Error(t(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(ae(p,""),u.flags&=-33);var v=pm(a);Ed(a,v,p);break;case 3:case 4:var S=u.stateNode.containerInfo,U=pm(a);Sd(a,U,S);break;default:throw Error(t(161))}}catch(K){Wt(a,a.return,K)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Qv(a,i,c){Ve=a,bm(a)}function bm(a,i,c){for(var u=(a.mode&1)!==0;Ve!==null;){var p=Ve,v=p.child;if(p.tag===22&&u){var S=p.memoizedState!==null||Xo;if(!S){var U=p.alternate,K=U!==null&&U.memoizedState!==null||Cr;U=Xo;var pe=Cr;if(Xo=S,(Cr=K)&&!pe)for(Ve=p;Ve!==null;)S=Ve,K=S.child,S.tag===22&&S.memoizedState!==null?jm(p):K!==null?(K.return=S,Ve=K):jm(p);for(;v!==null;)Ve=v,bm(v),v=v.sibling;Ve=p,Xo=U,Cr=pe}ym(a)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Ve=v):ym(a)}}function ym(a){for(;Ve!==null;){var i=Ve;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Cr||Ko(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!Cr)if(c===null)u.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Sn(i.type,c.memoizedProps);u.componentDidUpdate(p,c.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Nh(i,v,u);break;case 3:var S=i.updateQueue;if(S!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Nh(i,S,c)}break;case 5:var U=i.stateNode;if(c===null&&i.flags&4){c=U;var K=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&c.focus();break;case"img":K.src&&(c.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var pe=i.alternate;if(pe!==null){var Te=pe.memoizedState;if(Te!==null){var Pe=Te.dehydrated;Pe!==null&&Ki(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cr||i.flags&512&&kd(i)}catch(Ee){Wt(i,i.return,Ee)}}if(i===a){Ve=null;break}if(c=i.sibling,c!==null){c.return=i.return,Ve=c;break}Ve=i.return}}function Nm(a){for(;Ve!==null;){var i=Ve;if(i===a){Ve=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Ve=c;break}Ve=i.return}}function jm(a){for(;Ve!==null;){var i=Ve;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Ko(4,i)}catch(K){Wt(i,c,K)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var p=i.return;try{u.componentDidMount()}catch(K){Wt(i,p,K)}}var v=i.return;try{kd(i)}catch(K){Wt(i,v,K)}break;case 5:var S=i.return;try{kd(i)}catch(K){Wt(i,S,K)}}}catch(K){Wt(i,i.return,K)}if(i===a){Ve=null;break}var U=i.sibling;if(U!==null){U.return=i.return,Ve=U;break}Ve=i.return}}var Jv=Math.ceil,qo=A.ReactCurrentDispatcher,Td=A.ReactCurrentOwner,xn=A.ReactCurrentBatchConfig,dt=0,ur=null,Zt=null,vr=0,nn=0,fi=Ia(0),ir=0,vl=null,Ns=0,Qo=0,Cd=0,wl=null,Vr=null,Ad=0,hi=1/0,ia=null,Jo=!1,Pd=null,$a=null,Zo=!1,Wa=null,ec=0,bl=0,Dd=null,tc=-1,rc=0;function Or(){return(dt&6)!==0?De():tc!==-1?tc:tc=De()}function Ha(a){return(a.mode&1)===0?1:(dt&2)!==0&&vr!==0?vr&-vr:Mv.transition!==null?(rc===0&&(rc=pf()),rc):(a=vt,a!==0||(a=window.event,a=a===void 0?16:kf(a.type)),a)}function Cn(a,i,c,u){if(50<bl)throw bl=0,Dd=null,Error(t(185));Hi(a,c,u),((dt&2)===0||a!==ur)&&(a===ur&&((dt&2)===0&&(Qo|=c),ir===4&&Va(a,vr)),Gr(a,u),c===1&&dt===0&&(i.mode&1)===0&&(hi=De()+500,Ao&&La()))}function Gr(a,i){var c=a.callbackNode;M1(a,i);var u=uo(a,a===ur?vr:0);if(u===0)c!==null&&Be(c),a.callbackNode=null,a.callbackPriority=0;else if(i=u&-u,a.callbackPriority!==i){if(c!=null&&Be(c),i===1)a.tag===0?Ov(km.bind(null,a)):dh(km.bind(null,a)),Av(function(){(dt&6)===0&&La()}),c=null;else{switch(gf(u)){case 1:c=St;break;case 4:c=Tt;break;case 16:c=Xt;break;case 536870912:c=Ta;break;default:c=Xt}c=Fm(c,_m.bind(null,a))}a.callbackPriority=i,a.callbackNode=c}}function _m(a,i){if(tc=-1,rc=0,(dt&6)!==0)throw Error(t(327));var c=a.callbackNode;if(mi()&&a.callbackNode!==c)return null;var u=uo(a,a===ur?vr:0);if(u===0)return null;if((u&30)!==0||(u&a.expiredLanes)!==0||i)i=nc(a,u);else{i=u;var p=dt;dt|=2;var v=Em();(ur!==a||vr!==i)&&(ia=null,hi=De()+500,_s(a,i));do try{t2();break}catch(U){Sm(a,U)}while(!0);q0(),qo.current=v,dt=p,Zt!==null?i=0:(ur=null,vr=0,i=ir)}if(i!==0){if(i===2&&(p=f0(a),p!==0&&(u=p,i=Fd(a,p))),i===1)throw c=vl,_s(a,0),Va(a,u),Gr(a,De()),c;if(i===6)Va(a,u);else{if(p=a.current.alternate,(u&30)===0&&!Zv(p)&&(i=nc(a,u),i===2&&(v=f0(a),v!==0&&(u=v,i=Fd(a,v))),i===1))throw c=vl,_s(a,0),Va(a,u),Gr(a,De()),c;switch(a.finishedWork=p,a.finishedLanes=u,i){case 0:case 1:throw Error(t(345));case 2:ks(a,Vr,ia);break;case 3:if(Va(a,u),(u&130023424)===u&&(i=Ad+500-De(),10<i)){if(uo(a,0)!==0)break;if(p=a.suspendedLanes,(p&u)!==u){Or(),a.pingedLanes|=a.suspendedLanes&p;break}a.timeoutHandle=B0(ks.bind(null,a,Vr,ia),i);break}ks(a,Vr,ia);break;case 4:if(Va(a,u),(u&4194240)===u)break;for(i=a.eventTimes,p=-1;0<u;){var S=31-Kt(u);v=1<<S,S=i[S],S>p&&(p=S),u&=~v}if(u=p,u=De()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Jv(u/1960))-u,10<u){a.timeoutHandle=B0(ks.bind(null,a,Vr,ia),u);break}ks(a,Vr,ia);break;case 5:ks(a,Vr,ia);break;default:throw Error(t(329))}}}return Gr(a,De()),a.callbackNode===c?_m.bind(null,a):null}function Fd(a,i){var c=wl;return a.current.memoizedState.isDehydrated&&(_s(a,i).flags|=256),a=nc(a,i),a!==2&&(i=Vr,Vr=c,i!==null&&Od(i)),a}function Od(a){Vr===null?Vr=a:Vr.push.apply(Vr,a)}function Zv(a){for(var i=a;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var u=0;u<c.length;u++){var p=c[u],v=p.getSnapshot;p=p.value;try{if(!_n(v(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Va(a,i){for(i&=~Cd,i&=~Qo,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var c=31-Kt(i),u=1<<c;a[c]=-1,i&=~u}}function km(a){if((dt&6)!==0)throw Error(t(327));mi();var i=uo(a,0);if((i&1)===0)return Gr(a,De()),null;var c=nc(a,i);if(a.tag!==0&&c===2){var u=f0(a);u!==0&&(i=u,c=Fd(a,u))}if(c===1)throw c=vl,_s(a,0),Va(a,i),Gr(a,De()),c;if(c===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,ks(a,Vr,ia),Gr(a,De()),null}function Md(a,i){var c=dt;dt|=1;try{return a(i)}finally{dt=c,dt===0&&(hi=De()+500,Ao&&La())}}function js(a){Wa!==null&&Wa.tag===0&&(dt&6)===0&&mi();var i=dt;dt|=1;var c=xn.transition,u=vt;try{if(xn.transition=null,vt=1,a)return a()}finally{vt=u,xn.transition=c,dt=i,(dt&6)===0&&La()}}function Id(){nn=fi.current,Dt(fi)}function _s(a,i){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,Cv(c)),Zt!==null)for(c=Zt.return;c!==null;){var u=c;switch(V0(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&To();break;case 3:ci(),Dt($r),Dt(Sr),ad();break;case 5:rd(u);break;case 4:ci();break;case 13:Dt(Bt);break;case 19:Dt(Bt);break;case 10:Q0(u.type._context);break;case 22:case 23:Id()}c=c.return}if(ur=a,Zt=a=Ga(a.current,null),vr=nn=i,ir=0,vl=null,Cd=Qo=Ns=0,Vr=wl=null,ws!==null){for(i=0;i<ws.length;i++)if(c=ws[i],u=c.interleaved,u!==null){c.interleaved=null;var p=u.next,v=c.pending;if(v!==null){var S=v.next;v.next=p,u.next=S}c.pending=u}ws=null}return a}function Sm(a,i){do{var c=Zt;try{if(q0(),zo.current=Ho,Uo){for(var u=zt.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Uo=!1}if(ys=0,dr=sr=zt=null,fl=!1,hl=0,Td.current=null,c===null||c.return===null){ir=1,vl=i,Zt=null;break}e:{var v=a,S=c.return,U=c,K=i;if(i=vr,U.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var pe=K,Te=U,Pe=Te.tag;if((Te.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Ee=Te.alternate;Ee?(Te.updateQueue=Ee.updateQueue,Te.memoizedState=Ee.memoizedState,Te.lanes=Ee.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var We=Qh(S);if(We!==null){We.flags&=-257,Jh(We,S,U,v,i),We.mode&1&&qh(v,pe,i),i=We,K=pe;var Ge=i.updateQueue;if(Ge===null){var Ye=new Set;Ye.add(K),i.updateQueue=Ye}else Ge.add(K);break e}else{if((i&1)===0){qh(v,pe,i),Rd();break e}K=Error(t(426))}}else if(Rt&&U.mode&1){var qt=Qh(S);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Jh(qt,S,U,v,i),X0(di(K,U));break e}}v=K=di(K,U),ir!==4&&(ir=2),wl===null?wl=[v]:wl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var ie=Xh(v,K,i);yh(v,ie);break e;case 1:U=K;var ee=v.type,de=v.stateNode;if((v.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&($a===null||!$a.has(de)))){v.flags|=65536,i&=-i,v.lanes|=i;var Oe=Kh(v,U,i);yh(v,Oe);break e}}v=v.return}while(v!==null)}Cm(c)}catch(Ke){i=Ke,Zt===c&&c!==null&&(Zt=c=c.return);continue}break}while(!0)}function Em(){var a=qo.current;return qo.current=Ho,a===null?Ho:a}function Rd(){(ir===0||ir===3||ir===2)&&(ir=4),ur===null||(Ns&268435455)===0&&(Qo&268435455)===0||Va(ur,vr)}function nc(a,i){var c=dt;dt|=2;var u=Em();(ur!==a||vr!==i)&&(ia=null,_s(a,i));do try{e2();break}catch(p){Sm(a,p)}while(!0);if(q0(),dt=c,qo.current=u,Zt!==null)throw Error(t(261));return ur=null,vr=0,ir}function e2(){for(;Zt!==null;)Tm(Zt)}function t2(){for(;Zt!==null&&!He();)Tm(Zt)}function Tm(a){var i=Dm(a.alternate,a,nn);a.memoizedProps=a.pendingProps,i===null?Cm(a):Zt=i,Td.current=null}function Cm(a){var i=a;do{var c=i.alternate;if(a=i.return,(i.flags&32768)===0){if(c=Yv(c,i,nn),c!==null){Zt=c;return}}else{if(c=Xv(c,i),c!==null){c.flags&=32767,Zt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ir=6,Zt=null;return}}if(i=i.sibling,i!==null){Zt=i;return}Zt=i=a}while(i!==null);ir===0&&(ir=5)}function ks(a,i,c){var u=vt,p=xn.transition;try{xn.transition=null,vt=1,r2(a,i,c,u)}finally{xn.transition=p,vt=u}return null}function r2(a,i,c,u){do mi();while(Wa!==null);if((dt&6)!==0)throw Error(t(327));c=a.finishedWork;var p=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var v=c.lanes|c.childLanes;if(I1(a,v),a===ur&&(Zt=ur=null,vr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Zo||(Zo=!0,Fm(Xt,function(){return mi(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=xn.transition,xn.transition=null;var S=vt;vt=1;var U=dt;dt|=4,Td.current=null,qv(a,c),wm(c,a),Nv(R0),mo=!!I0,R0=I0=null,a.current=c,Qv(c),Fe(),dt=U,vt=S,xn.transition=v}else a.current=c;if(Zo&&(Zo=!1,Wa=a,ec=p),v=a.pendingLanes,v===0&&($a=null),$i(c.stateNode),Gr(a,De()),i!==null)for(u=a.onRecoverableError,c=0;c<i.length;c++)p=i[c],u(p.value,{componentStack:p.stack,digest:p.digest});if(Jo)throw Jo=!1,a=Pd,Pd=null,a;return(ec&1)!==0&&a.tag!==0&&mi(),v=a.pendingLanes,(v&1)!==0?a===Dd?bl++:(bl=0,Dd=a):bl=0,La(),null}function mi(){if(Wa!==null){var a=gf(ec),i=xn.transition,c=vt;try{if(xn.transition=null,vt=16>a?16:a,Wa===null)var u=!1;else{if(a=Wa,Wa=null,ec=0,(dt&6)!==0)throw Error(t(331));var p=dt;for(dt|=4,Ve=a.current;Ve!==null;){var v=Ve,S=v.child;if((Ve.flags&16)!==0){var U=v.deletions;if(U!==null){for(var K=0;K<U.length;K++){var pe=U[K];for(Ve=pe;Ve!==null;){var Te=Ve;switch(Te.tag){case 0:case 11:case 15:gl(8,Te,v)}var Pe=Te.child;if(Pe!==null)Pe.return=Te,Ve=Pe;else for(;Ve!==null;){Te=Ve;var Ee=Te.sibling,We=Te.return;if(mm(Te),Te===pe){Ve=null;break}if(Ee!==null){Ee.return=We,Ve=Ee;break}Ve=We}}}var Ge=v.alternate;if(Ge!==null){var Ye=Ge.child;if(Ye!==null){Ge.child=null;do{var qt=Ye.sibling;Ye.sibling=null,Ye=qt}while(Ye!==null)}}Ve=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Ve=S;else e:for(;Ve!==null;){if(v=Ve,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:gl(9,v,v.return)}var ie=v.sibling;if(ie!==null){ie.return=v.return,Ve=ie;break e}Ve=v.return}}var ee=a.current;for(Ve=ee;Ve!==null;){S=Ve;var de=S.child;if((S.subtreeFlags&2064)!==0&&de!==null)de.return=S,Ve=de;else e:for(S=ee;Ve!==null;){if(U=Ve,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Ko(9,U)}}catch(Ke){Wt(U,U.return,Ke)}if(U===S){Ve=null;break e}var Oe=U.sibling;if(Oe!==null){Oe.return=U.return,Ve=Oe;break e}Ve=U.return}}if(dt=p,La(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Ln,a)}catch{}u=!0}return u}finally{vt=c,xn.transition=i}}return!1}function Am(a,i,c){i=di(c,i),i=Xh(a,i,1),a=za(a,i,1),i=Or(),a!==null&&(Hi(a,1,i),Gr(a,i))}function Wt(a,i,c){if(a.tag===3)Am(a,a,c);else for(;i!==null;){if(i.tag===3){Am(i,a,c);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($a===null||!$a.has(u))){a=di(c,a),a=Kh(i,a,1),i=za(i,a,1),a=Or(),i!==null&&(Hi(i,1,a),Gr(i,a));break}}i=i.return}}function n2(a,i,c){var u=a.pingCache;u!==null&&u.delete(i),i=Or(),a.pingedLanes|=a.suspendedLanes&c,ur===a&&(vr&c)===c&&(ir===4||ir===3&&(vr&130023424)===vr&&500>De()-Ad?_s(a,0):Cd|=c),Gr(a,i)}function Pm(a,i){i===0&&((a.mode&1)===0?i=1:(i=co,co<<=1,(co&130023424)===0&&(co=4194304)));var c=Or();a=na(a,i),a!==null&&(Hi(a,i,c),Gr(a,c))}function a2(a){var i=a.memoizedState,c=0;i!==null&&(c=i.retryLane),Pm(a,c)}function s2(a,i){var c=0;switch(a.tag){case 13:var u=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:u=a.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(i),Pm(a,c)}var Dm;Dm=function(a,i,c){if(a!==null)if(a.memoizedProps!==i.pendingProps||$r.current)Hr=!0;else{if((a.lanes&c)===0&&(i.flags&128)===0)return Hr=!1,Gv(a,i,c);Hr=(a.flags&131072)!==0}else Hr=!1,Rt&&(i.flags&1048576)!==0&&uh(i,Do,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Yo(a,i),a=i.pendingProps;var p=ri(i,Sr.current);oi(i,c),p=ld(null,i,u,a,p,c);var v=od();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wr(u)?(v=!0,Co(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ed(i),p.updater=Vo,i.stateNode=p,p._reactInternals=i,md(i,u,a,c),i=vd(null,i,u,!0,v,c)):(i.tag=0,Rt&&v&&H0(i),Fr(null,i,p,c),i=i.child),i;case 16:u=i.elementType;e:{switch(Yo(a,i),a=i.pendingProps,p=u._init,u=p(u._payload),i.type=u,p=i.tag=l2(u),a=Sn(u,a),p){case 0:i=gd(null,i,u,a,c);break e;case 1:i=am(null,i,u,a,c);break e;case 11:i=Zh(null,i,u,a,c);break e;case 14:i=em(null,i,u,Sn(u.type,a),c);break e}throw Error(t(306,u,""))}return i;case 0:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Sn(u,p),gd(a,i,u,p,c);case 1:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Sn(u,p),am(a,i,u,p,c);case 3:e:{if(sm(i),a===null)throw Error(t(387));u=i.pendingProps,v=i.memoizedState,p=v.element,bh(a,i),Lo(i,u,null,c);var S=i.memoizedState;if(u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=di(Error(t(423)),i),i=im(a,i,u,c,p);break e}else if(u!==p){p=di(Error(t(424)),i),i=im(a,i,u,c,p);break e}else for(rn=Ma(i.stateNode.containerInfo.firstChild),tn=i,Rt=!0,kn=null,c=vh(i,null,u,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(si(),u===p){i=sa(a,i,c);break e}Fr(a,i,u,c)}i=i.child}return i;case 5:return jh(i),a===null&&Y0(i),u=i.type,p=i.pendingProps,v=a!==null?a.memoizedProps:null,S=p.children,L0(u,p)?S=null:v!==null&&L0(u,v)&&(i.flags|=32),nm(a,i),Fr(a,i,S,c),i.child;case 6:return a===null&&Y0(i),null;case 13:return lm(a,i,c);case 4:return td(i,i.stateNode.containerInfo),u=i.pendingProps,a===null?i.child=ii(i,null,u,c):Fr(a,i,u,c),i.child;case 11:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Sn(u,p),Zh(a,i,u,p,c);case 7:return Fr(a,i,i.pendingProps,c),i.child;case 8:return Fr(a,i,i.pendingProps.children,c),i.child;case 12:return Fr(a,i,i.pendingProps.children,c),i.child;case 10:e:{if(u=i.type._context,p=i.pendingProps,v=i.memoizedProps,S=p.value,Ct(Mo,u._currentValue),u._currentValue=S,v!==null)if(_n(v.value,S)){if(v.children===p.children&&!$r.current){i=sa(a,i,c);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var U=v.dependencies;if(U!==null){S=v.child;for(var K=U.firstContext;K!==null;){if(K.context===u){if(v.tag===1){K=aa(-1,c&-c),K.tag=2;var pe=v.updateQueue;if(pe!==null){pe=pe.shared;var Te=pe.pending;Te===null?K.next=K:(K.next=Te.next,Te.next=K),pe.pending=K}}v.lanes|=c,K=v.alternate,K!==null&&(K.lanes|=c),J0(v.return,c,i),U.lanes|=c;break}K=K.next}}else if(v.tag===10)S=v.type===i.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=c,U=S.alternate,U!==null&&(U.lanes|=c),J0(S,c,i),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Fr(a,i,p.children,c),i=i.child}return i;case 9:return p=i.type,u=i.pendingProps.children,oi(i,c),p=hn(p),u=u(p),i.flags|=1,Fr(a,i,u,c),i.child;case 14:return u=i.type,p=Sn(u,i.pendingProps),p=Sn(u.type,p),em(a,i,u,p,c);case 15:return tm(a,i,i.type,i.pendingProps,c);case 17:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Sn(u,p),Yo(a,i),i.tag=1,Wr(u)?(a=!0,Co(i)):a=!1,oi(i,c),Gh(i,u,p),md(i,u,p,c),vd(null,i,u,!0,a,c);case 19:return cm(a,i,c);case 22:return rm(a,i,c)}throw Error(t(156,i.tag))};function Fm(a,i){return Ae(a,i)}function i2(a,i,c,u){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(a,i,c,u){return new i2(a,i,c,u)}function Ld(a){return a=a.prototype,!(!a||!a.isReactComponent)}function l2(a){if(typeof a=="function")return Ld(a)?1:0;if(a!=null){if(a=a.$$typeof,a===oe)return 11;if(a===Re)return 14}return 2}function Ga(a,i){var c=a.alternate;return c===null?(c=pn(a.tag,i,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=i,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,i=a.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function ac(a,i,c,u,p,v){var S=2;if(u=a,typeof a=="function")Ld(a)&&(S=1);else if(typeof a=="string")S=5;else e:switch(a){case H:return Ss(c.children,p,v,i);case ne:S=8,p|=8;break;case Q:return a=pn(12,c,i,p|2),a.elementType=Q,a.lanes=v,a;case we:return a=pn(13,c,i,p),a.elementType=we,a.lanes=v,a;case $e:return a=pn(19,c,i,p),a.elementType=$e,a.lanes=v,a;case ke:return sc(c,p,v,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case le:S=10;break e;case ge:S=9;break e;case oe:S=11;break e;case Re:S=14;break e;case qe:S=16,u=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return i=pn(S,c,i,p),i.elementType=a,i.type=u,i.lanes=v,i}function Ss(a,i,c,u){return a=pn(7,a,u,i),a.lanes=c,a}function sc(a,i,c,u){return a=pn(22,a,u,i),a.elementType=ke,a.lanes=c,a.stateNode={isHidden:!1},a}function Bd(a,i,c){return a=pn(6,a,null,i),a.lanes=c,a}function zd(a,i,c){return i=pn(4,a.children!==null?a.children:[],a.key,i),i.lanes=c,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function o2(a,i,c,u,p){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h0(0),this.expirationTimes=h0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ud(a,i,c,u,p,v,S,U,K){return a=new o2(a,i,c,U,K),i===1?(i=1,v===!0&&(i|=8)):i=0,v=pn(3,null,null,i),a.current=v,v.stateNode=a,v.memoizedState={element:u,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(v),a}function c2(a,i,c){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:u==null?null:""+u,children:a,containerInfo:i,implementation:c}}function Om(a){if(!a)return Ra;a=a._reactInternals;e:{if(z(a)!==a||a.tag!==1)throw Error(t(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(a.tag===1){var c=a.type;if(Wr(c))return oh(a,c,i)}return i}function Mm(a,i,c,u,p,v,S,U,K){return a=Ud(c,u,!0,a,p,v,S,U,K),a.context=Om(null),c=a.current,u=Or(),p=Ha(c),v=aa(u,p),v.callback=i!=null?i:null,za(c,v,p),a.current.lanes=p,Hi(a,p,u),Gr(a,u),a}function ic(a,i,c,u){var p=i.current,v=Or(),S=Ha(p);return c=Om(c),i.context===null?i.context=c:i.pendingContext=c,i=aa(v,S),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=za(p,i,S),a!==null&&(Cn(a,p,S,v),Ro(a,p,S)),S}function lc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Im(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<i?c:i}}function $d(a,i){Im(a,i),(a=a.alternate)&&Im(a,i)}function d2(){return null}var Rm=typeof reportError=="function"?reportError:function(a){console.error(a)};function Wd(a){this._internalRoot=a}oc.prototype.render=Wd.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(t(409));ic(a,i,null,null)},oc.prototype.unmount=Wd.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;js(function(){ic(null,a,null,null)}),i[Zn]=null}};function oc(a){this._internalRoot=a}oc.prototype.unstable_scheduleHydration=function(a){if(a){var i=bf();a={blockedOn:null,target:a,priority:i};for(var c=0;c<Da.length&&i!==0&&i<Da[c].priority;c++);Da.splice(c,0,a),c===0&&jf(a)}};function Hd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function cc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function u2(a,i,c,u,p){if(p){if(typeof u=="function"){var v=u;u=function(){var pe=lc(S);v.call(pe)}}var S=Mm(i,u,a,0,null,!1,!1,"",Lm);return a._reactRootContainer=S,a[Zn]=S.current,al(a.nodeType===8?a.parentNode:a),js(),S}for(;p=a.lastChild;)a.removeChild(p);if(typeof u=="function"){var U=u;u=function(){var pe=lc(K);U.call(pe)}}var K=Ud(a,0,!1,null,null,!1,!1,"",Lm);return a._reactRootContainer=K,a[Zn]=K.current,al(a.nodeType===8?a.parentNode:a),js(function(){ic(i,K,c,u)}),K}function dc(a,i,c,u,p){var v=c._reactRootContainer;if(v){var S=v;if(typeof p=="function"){var U=p;p=function(){var K=lc(S);U.call(K)}}ic(i,S,a,p)}else S=u2(c,i,a,p,u);return lc(S)}vf=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var c=Wi(i.pendingLanes);c!==0&&(m0(i,c|1),Gr(i,De()),(dt&6)===0&&(hi=De()+500,La()))}break;case 13:js(function(){var u=na(a,1);if(u!==null){var p=Or();Cn(u,a,1,p)}}),$d(a,1)}},x0=function(a){if(a.tag===13){var i=na(a,134217728);if(i!==null){var c=Or();Cn(i,a,134217728,c)}$d(a,134217728)}},wf=function(a){if(a.tag===13){var i=Ha(a),c=na(a,i);if(c!==null){var u=Or();Cn(c,a,i,u)}$d(a,i)}},bf=function(){return vt},yf=function(a,i){var c=vt;try{return vt=a,i()}finally{vt=c}},Vs=function(a,i,c){switch(i){case"input":if(Y(a,c),i=c.name,c.type==="radio"&&i!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var u=c[i];if(u!==a&&u.form===a.form){var p=Eo(u);if(!p)throw Error(t(90));re(u),Y(u,p)}}}break;case"textarea":ft(a,c);break;case"select":i=c.value,i!=null&&st(a,!!c.multiple,i,!1)}},so=Md,io=js;var f2={usingClientEntryPoint:!1,Events:[ll,ei,Eo,no,ao,Md]},yl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h2={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=he(a),a===null?null:a.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||d2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Ln=uc.inject(h2),cr=uc}catch{}}return Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2,Yr.createPortal=function(a,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(i))throw Error(t(200));return c2(a,i,null,c)},Yr.createRoot=function(a,i){if(!Hd(a))throw Error(t(299));var c=!1,u="",p=Rm;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Ud(a,1,!1,null,null,c,!1,u,p),a[Zn]=i.current,al(a.nodeType===8?a.parentNode:a),new Wd(i)},Yr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=he(i),a=a===null?null:a.stateNode,a},Yr.flushSync=function(a){return js(a)},Yr.hydrate=function(a,i,c){if(!cc(i))throw Error(t(200));return dc(null,a,i,!0,c)},Yr.hydrateRoot=function(a,i,c){if(!Hd(a))throw Error(t(405));var u=c!=null&&c.hydratedSources||null,p=!1,v="",S=Rm;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),i=Mm(i,null,a,1,c!=null?c:null,p,!1,v,S),a[Zn]=i.current,al(a),u)for(a=0;a<u.length;a++)c=u[a],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new oc(i)},Yr.render=function(a,i,c){if(!cc(i))throw Error(t(200));return dc(null,a,i,!1,c)},Yr.unmountComponentAtNode=function(a){if(!cc(a))throw Error(t(40));return a._reactRootContainer?(js(function(){dc(null,null,a,!1,function(){a._reactRootContainer=null,a[Zn]=null})}),!0):!1},Yr.unstable_batchedUpdates=Md,Yr.unstable_renderSubtreeIntoContainer=function(a,i,c,u){if(!cc(c))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return dc(a,i,c,!1,u)},Yr.version="18.3.1-next-f1338f8080-20240426",Yr}var Gm;function fp(){if(Gm)return Yd.exports;Gm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Yd.exports=N2(),Yd.exports}var Ym;function j2(){if(Ym)return fc;Ym=1;var e=fp();return fc.createRoot=e.createRoot,fc.hydrateRoot=e.hydrateRoot,fc}var _2=j2();const k2=dp(_2);fp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ol.apply(this,arguments)}var Za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Za||(Za={}));const Xm="popstate";function S2(e){e===void 0&&(e={});function r(s,l){let{pathname:o,search:d,hash:f}=s.location;return xu("",{pathname:o,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:Tc(l)}return T2(r,t,null,e)}function Qt(e,r){if(e===!1||e===null||typeof e=="undefined")throw new Error(r)}function hp(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch{}}}function E2(){return Math.random().toString(36).substr(2,8)}function Km(e,r){return{usr:e.state,key:e.key,idx:r}}function xu(e,r,t,s){return t===void 0&&(t=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Oi(r):r,{state:t,key:r&&r.key||s||E2()})}function Tc(e){let{pathname:r="/",search:t="",hash:s=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Oi(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function T2(e,r,t,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:o=!1}=s,d=l.history,f=Za.Pop,m=null,h=x();h==null&&(h=0,d.replaceState(Ol({},d.state,{idx:h}),""));function x(){return(d.state||{idx:null}).idx}function g(){f=Za.Pop;let b=x(),T=b==null?null:b-h;h=b,m&&m({action:f,location:w.location,delta:T})}function N(b,T){f=Za.Push;let _=xu(w.location,b,T);h=x()+1;let k=Km(_,h),A=w.createHref(_);try{d.pushState(k,"",A)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;l.location.assign(A)}o&&m&&m({action:f,location:w.location,delta:1})}function y(b,T){f=Za.Replace;let _=xu(w.location,b,T);h=x();let k=Km(_,h),A=w.createHref(_);d.replaceState(k,"",A),o&&m&&m({action:f,location:w.location,delta:0})}function j(b){let T=l.location.origin!=="null"?l.location.origin:l.location.href,_=typeof b=="string"?b:Tc(b);return _=_.replace(/ $/,"%20"),Qt(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let w={get action(){return f},get location(){return e(l,d)},listen(b){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Xm,g),m=b,()=>{l.removeEventListener(Xm,g),m=null}},createHref(b){return r(l,b)},createURL:j,encodeLocation(b){let T=j(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:N,replace:y,go(b){return d.go(b)}};return w}var qm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qm||(qm={}));function C2(e,r,t){return t===void 0&&(t="/"),A2(e,r,t)}function A2(e,r,t,s){let l=typeof r=="string"?Oi(r):r,o=Cu(l.pathname||"/",t);if(o==null)return null;let d=mp(e);P2(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let h=W2(o);f=z2(d[m],h)}return f}function mp(e,r,t,s){r===void 0&&(r=[]),t===void 0&&(t=[]),s===void 0&&(s="");let l=(o,d,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};m.relativePath.startsWith("/")&&(Qt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let h=rs([s,m.relativePath]),x=t.concat(m);o.children&&o.children.length>0&&(Qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),mp(o.children,r,x,h)),!(o.path==null&&!o.index)&&r.push({path:h,score:L2(h,o.index),routesMeta:x})};return e.forEach((o,d)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))l(o,d);else for(let m of xp(o.path))l(o,d,m)}),r}function xp(e){let r=e.split("/");if(r.length===0)return[];let[t,...s]=r,l=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let d=xp(s.join("/")),f=[];return f.push(...d.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...d),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function P2(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:B2(r.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const D2=/^:[\w-]+$/,F2=3,O2=2,M2=1,I2=10,R2=-2,Qm=e=>e==="*";function L2(e,r){let t=e.split("/"),s=t.length;return t.some(Qm)&&(s+=R2),r&&(s+=O2),t.filter(l=>!Qm(l)).reduce((l,o)=>l+(D2.test(o)?F2:o===""?M2:I2),s)}function B2(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function z2(e,r,t){let{routesMeta:s}=e,l={},o="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],h=f===s.length-1,x=o==="/"?r:r.slice(o.length)||"/",g=U2({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},x),N=m.route;if(!g)return null;Object.assign(l,g.params),d.push({params:l,pathname:rs([o,g.pathname]),pathnameBase:Y2(rs([o,g.pathnameBase])),route:N}),g.pathnameBase!=="/"&&(o=rs([o,g.pathnameBase]))}return d}function U2(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=$2(e.path,e.caseSensitive,e.end),l=r.match(t);if(!l)return null;let o=l[0],d=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((h,x,g)=>{let{paramName:N,isOptional:y}=x;if(N==="*"){let w=f[g]||"";d=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const j=f[g];return y&&!j?h[N]=void 0:h[N]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:d,pattern:e}}function $2(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function W2(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Cu(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function H2(e,r){r===void 0&&(r="/");let{pathname:t,search:s="",hash:l=""}=typeof e=="string"?Oi(e):e;return{pathname:t?t.startsWith("/")?t:V2(t,r):r,search:X2(s),hash:K2(l)}}function V2(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function qd(e,r,t,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G2(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function Au(e,r){let t=G2(e);return r?t.map((s,l)=>l===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Pu(e,r,t,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Oi(e):(l=Ol({},e),Qt(!l.pathname||!l.pathname.includes("?"),qd("?","pathname","search",l)),Qt(!l.pathname||!l.pathname.includes("#"),qd("#","pathname","hash",l)),Qt(!l.search||!l.search.includes("#"),qd("#","search","hash",l)));let o=e===""||l.pathname==="",d=o?"/":l.pathname,f;if(d==null)f=t;else{let g=r.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),g-=1;l.pathname=N.join("/")}f=g>=0?r[g]:"/"}let m=H2(l,f),h=d&&d!=="/"&&d.endsWith("/"),x=(o||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(h||x)&&(m.pathname+="/"),m}const rs=e=>e.join("/").replace(/\/\/+/g,"/"),Y2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pp=["post","put","patch","delete"];new Set(pp);const Q2=["get",...pp];new Set(Q2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ml.apply(this,arguments)}const Du=D.createContext(null),J2=D.createContext(null),cs=D.createContext(null),Jc=D.createContext(null),Qn=D.createContext({outlet:null,matches:[],isDataRoute:!1}),gp=D.createContext(null);function Z2(e,r){let{relative:t}=r===void 0?{}:r;Mi()||Qt(!1);let{basename:s,navigator:l}=D.useContext(cs),{hash:o,pathname:d,search:f}=wp(e,{relative:t}),m=d;return s!=="/"&&(m=d==="/"?s:rs([s,d])),l.createHref({pathname:m,search:f,hash:o})}function Mi(){return D.useContext(Jc)!=null}function ya(){return Mi()||Qt(!1),D.useContext(Jc).location}function vp(e){D.useContext(cs).static||D.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=D.useContext(Qn);return e?xw():ew()}function ew(){Mi()||Qt(!1);let e=D.useContext(Du),{basename:r,future:t,navigator:s}=D.useContext(cs),{matches:l}=D.useContext(Qn),{pathname:o}=ya(),d=JSON.stringify(Au(l,t.v7_relativeSplatPath)),f=D.useRef(!1);return vp(()=>{f.current=!0}),D.useCallback(function(h,x){if(x===void 0&&(x={}),!f.current)return;if(typeof h=="number"){s.go(h);return}let g=Pu(h,JSON.parse(d),o,x.relative==="path");e==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:rs([r,g.pathname])),(x.replace?s.replace:s.push)(g,x.state,x)},[r,s,d,o,e])}const tw=D.createContext(null);function rw(e){let r=D.useContext(Qn).outlet;return r&&D.createElement(tw.Provider,{value:e},r)}function nw(){let{matches:e}=D.useContext(Qn),r=e[e.length-1];return r?r.params:{}}function wp(e,r){let{relative:t}=r===void 0?{}:r,{future:s}=D.useContext(cs),{matches:l}=D.useContext(Qn),{pathname:o}=ya(),d=JSON.stringify(Au(l,s.v7_relativeSplatPath));return D.useMemo(()=>Pu(e,JSON.parse(d),o,t==="path"),[e,d,o,t])}function aw(e,r){return sw(e,r)}function sw(e,r,t,s){Mi()||Qt(!1);let{navigator:l}=D.useContext(cs),{matches:o}=D.useContext(Qn),d=o[o.length-1],f=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let h=ya(),x;if(r){var g;let b=typeof r=="string"?Oi(r):r;m==="/"||(g=b.pathname)!=null&&g.startsWith(m)||Qt(!1),x=b}else x=h;let N=x.pathname||"/",y=N;if(m!=="/"){let b=m.replace(/^\//,"").split("/");y="/"+N.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=C2(e,{pathname:y}),w=dw(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:rs([m,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?m:rs([m,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,t,s);return r&&w?D.createElement(Jc.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Za.Pop}},w):w}function iw(){let e=mw(),r=q2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},r),t?D.createElement("pre",{style:l},t):null,null)}const lw=D.createElement(iw,null);class ow extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?D.createElement(Qn.Provider,{value:this.props.routeContext},D.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cw(e){let{routeContext:r,match:t,children:s}=e,l=D.useContext(Du);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Qn.Provider,{value:r},s)}function dw(e,r,t,s){var l;if(r===void 0&&(r=[]),t===void 0&&(t=null),s===void 0&&(s=null),e==null){var o;if(!t)return null;if(t.errors)e=t.matches;else if((o=s)!=null&&o.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let d=e,f=(l=t)==null?void 0:l.errors;if(f!=null){let x=d.findIndex(g=>g.route.id&&(f==null?void 0:f[g.route.id])!==void 0);x>=0||Qt(!1),d=d.slice(0,Math.min(d.length,x+1))}let m=!1,h=-1;if(t&&s&&s.v7_partialHydration)for(let x=0;x<d.length;x++){let g=d[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=x),g.route.id){let{loaderData:N,errors:y}=t,j=g.route.loader&&N[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||j){m=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}return d.reduceRight((x,g,N)=>{let y,j=!1,w=null,b=null;t&&(y=f&&g.route.id?f[g.route.id]:void 0,w=g.route.errorElement||lw,m&&(h<0&&N===0?(pw("route-fallback"),j=!0,b=null):h===N&&(j=!0,b=g.route.hydrateFallbackElement||null)));let T=r.concat(d.slice(0,N+1)),_=()=>{let k;return y?k=w:j?k=b:g.route.Component?k=D.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=x,D.createElement(cw,{match:g,routeContext:{outlet:x,matches:T,isDataRoute:t!=null},children:k})};return t&&(g.route.ErrorBoundary||g.route.errorElement||N===0)?D.createElement(ow,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var bp=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(bp||{}),yp=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(yp||{});function uw(e){let r=D.useContext(Du);return r||Qt(!1),r}function fw(e){let r=D.useContext(J2);return r||Qt(!1),r}function hw(e){let r=D.useContext(Qn);return r||Qt(!1),r}function Np(e){let r=hw(),t=r.matches[r.matches.length-1];return t.route.id||Qt(!1),t.route.id}function mw(){var e;let r=D.useContext(gp),t=fw(),s=Np();return r!==void 0?r:(e=t.errors)==null?void 0:e[s]}function xw(){let{router:e}=uw(bp.UseNavigateStable),r=Np(yp.UseNavigateStable),t=D.useRef(!1);return vp(()=>{t.current=!0}),D.useCallback(function(l,o){o===void 0&&(o={}),t.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ml({fromRouteId:r},o)))},[e,r])}const Jm={};function pw(e,r,t){Jm[e]||(Jm[e]=!0)}function gw(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Kr(e){let{to:r,replace:t,state:s,relative:l}=e;Mi()||Qt(!1);let{future:o,static:d}=D.useContext(cs),{matches:f}=D.useContext(Qn),{pathname:m}=ya(),h=Na(),x=Pu(r,Au(f,o.v7_relativeSplatPath),m,l==="path"),g=JSON.stringify(x);return D.useEffect(()=>h(JSON.parse(g),{replace:t,state:s,relative:l}),[h,g,l,t,s]),null}function pu(e){return rw(e.context)}function xt(e){Qt(!1)}function vw(e){let{basename:r="/",children:t=null,location:s,navigationType:l=Za.Pop,navigator:o,static:d=!1,future:f}=e;Mi()&&Qt(!1);let m=r.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:m,navigator:o,static:d,future:Ml({v7_relativeSplatPath:!1},f)}),[m,f,o,d]);typeof s=="string"&&(s=Oi(s));let{pathname:x="/",search:g="",hash:N="",state:y=null,key:j="default"}=s,w=D.useMemo(()=>{let b=Cu(x,m);return b==null?null:{location:{pathname:b,search:g,hash:N,state:y,key:j},navigationType:l}},[m,x,g,N,y,j,l]);return w==null?null:D.createElement(cs.Provider,{value:h},D.createElement(Jc.Provider,{children:t,value:w}))}function kc(e){let{children:r,location:t}=e;return aw(gu(r),t)}new Promise(()=>{});function gu(e,r){r===void 0&&(r=[]);let t=[];return D.Children.forEach(e,(s,l)=>{if(!D.isValidElement(s))return;let o=[...r,l];if(s.type===D.Fragment){t.push.apply(t,gu(s.props.children,o));return}s.type!==xt&&Qt(!1),!s.props.index||!s.props.children||Qt(!1);let d={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=gu(s.props.children,o)),t.push(d)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},vu.apply(this,arguments)}function ww(e,r){if(e==null)return{};var t={},s=Object.keys(e),l,o;for(o=0;o<s.length;o++)l=s[o],!(r.indexOf(l)>=0)&&(t[l]=e[l]);return t}function bw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yw(e,r){return e.button===0&&(!r||r==="_self")&&!bw(e)}function wu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let s=e[t];return r.concat(Array.isArray(s)?s.map(l=>[t,l]):[[t,s]])},[]))}function Nw(e,r){let t=wu(e);return r&&r.forEach((s,l)=>{t.has(l)||r.getAll(l).forEach(o=>{t.append(l,o)})}),t}const jw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_w="6";try{window.__reactRouterVersion=_w}catch{}const kw="startTransition",Zm=w2[kw];function Sw(e){let{basename:r,children:t,future:s,window:l}=e,o=D.useRef();o.current==null&&(o.current=S2({window:l,v5Compat:!0}));let d=o.current,[f,m]=D.useState({action:d.action,location:d.location}),{v7_startTransition:h}=s||{},x=D.useCallback(g=>{h&&Zm?Zm(()=>m(g)):m(g)},[m,h]);return D.useLayoutEffect(()=>d.listen(x),[d,x]),D.useEffect(()=>gw(s),[s]),D.createElement(vw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:d,future:s})}const Ew=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=D.forwardRef(function(r,t){let{onClick:s,relative:l,reloadDocument:o,replace:d,state:f,target:m,to:h,preventScrollReset:x,viewTransition:g}=r,N=ww(r,jw),{basename:y}=D.useContext(cs),j,w=!1;if(typeof h=="string"&&Tw.test(h)&&(j=h,Ew))try{let k=new URL(window.location.href),A=h.startsWith("//")?new URL(k.protocol+h):new URL(h),G=Cu(A.pathname,y);A.origin===k.origin&&G!=null?h=G+A.search+A.hash:w=!0}catch{}let b=Z2(h,{relative:l}),T=Cw(h,{replace:d,state:f,target:m,preventScrollReset:x,relative:l,viewTransition:g});function _(k){s&&s(k),k.defaultPrevented||T(k)}return D.createElement("a",vu({},N,{href:j||b,onClick:w||o?s:_,ref:t,target:m}))});var ex;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ex||(ex={}));var tx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tx||(tx={}));function Cw(e,r){let{target:t,replace:s,state:l,preventScrollReset:o,relative:d,viewTransition:f}=r===void 0?{}:r,m=Na(),h=ya(),x=wp(e,{relative:d});return D.useCallback(g=>{if(yw(g,t)){g.preventDefault();let N=s!==void 0?s:Tc(h)===Tc(x);m(e,{replace:N,state:l,preventScrollReset:o,relative:d,viewTransition:f})}},[h,m,x,s,l,t,e,o,d,f])}function Aw(e){let r=D.useRef(wu(e)),t=D.useRef(!1),s=ya(),l=D.useMemo(()=>Nw(s.search,t.current?null:r.current),[s.search]),o=Na(),d=D.useCallback((f,m)=>{const h=wu(typeof f=="function"?f(l):f);t.current=!0,o("?"+h,m)},[o,l]);return[l,d]}const Es="https://thebrothersbarbershop.onrender.com/api/v1",Pw="1.0.0",rx=e=>new Promise(r=>setTimeout(r,e));let Ft=null;const nx=e=>{Ft=e},da={async open(e){if(typeof caches=="undefined")return null;try{return await caches.open(e)}catch(r){return console.warn("Error al abrir caché:",r),null}},async delete(e){if(typeof caches=="undefined")return!1;try{return await caches.delete(e)}catch(r){return console.warn("Error al eliminar caché:",r),!1}},async keys(){if(typeof caches=="undefined")return[];try{return await caches.keys()}catch(e){return console.warn("Error al obtener keys de caché:",e),[]}}},Il={async get(e){const r=await da.open("api-cache");if(!r)return null;try{const t=await r.match(e);if(t){const s=await t.json();if(s.expiry&&s.expiry>Date.now())return s.value;await r.delete(e)}}catch(t){console.warn("Error al obtener del caché:",t)}return null},async set(e,r,t=3e5){const s=await da.open("api-cache");if(s)try{const l={value:r,expiry:Date.now()+t,timestamp:Date.now()},o=new Response(JSON.stringify(l));await s.put(e,o)}catch(l){console.warn("Error al guardar en caché:",l)}},async clear(){try{const e=await da.keys();await Promise.all(e.map(r=>da.delete(r)))}catch(e){console.warn("Error al limpiar caché:",e)}}},ca=async(e,r,t=3,s=1e3)=>{const l=r.headers&&r.headers["Content-Type"]==="multipart/form-data",o=e.includes("/inventory-snapshots"),d=l||o?3e4:1e4,f=new AbortController;let m;try{m=setTimeout(()=>f.abort(),d),r.headers={...r.headers,"X-Client-Version":Pw,"X-Request-ID":Math.random().toString(36).substring(7)},r.signal=f.signal;const h=performance.now(),x=await fetch(e,r),g=performance.now();if(clearTimeout(m),x.status===429&&t>0)return await rx(s),ca(e,r,t-1,s*2);if(!x.ok){let N;try{N=await x.text();try{N=JSON.parse(N)}catch{}}catch{N="Error desconocido"}const y=new Error(`HTTP error! status: ${x.status}
Endpoint: ${e}
Details: ${typeof N=="object"?JSON.stringify(N):N}`);throw y.response=x,y.data=N,y}return x}catch(h){if(m&&clearTimeout(m),h.name==="AbortError")throw new Error(`La operación tardó demasiado (más de ${d/1e3}s). Esto puede deberse a problemas de conectividad.`);if(t>0&&(h.name==="TypeError"||h.message.includes("failed to fetch")))return await rx(s),ca(e,r,t-1,s*2);throw h}},Dw=()=>{console.log("🕐 Sesión expirada - iniciando proceso de limpieza"),Ft?(console.log("📢 Mostrando notificación de sesión expirada"),Ft.showSessionExpired()):(console.warn("⚠️ NotificationContext no disponible para mostrar sesión expirada"),alert("Tu sesión ha expirado. Serás redirigido al login.")),localStorage.removeItem("token"),localStorage.removeItem("user"),Il.clear(),setTimeout(()=>{console.log("🔄 Redirigiendo a login..."),window.location.href="/login"},2e3)},gn=(e,r,t="")=>{if(console.log("🔐 Manejando error de autenticación:",{status:e.status,message:r.message,endpoint:t,data:r,notificationContext:!!Ft}),e.status===401){const s=r.message||"";throw t.includes("/auth/login")||t.includes("/auth/register")?new Error(s||"Error de autenticación"):window.location.pathname==="/login"||window.location.pathname==="/register"?new Error(s||"Error de autenticación"):s.toLowerCase().includes("expirado")||s.toLowerCase().includes("expired")||s.toLowerCase().includes("jwt")?(console.log("🕐 Token expirado detectado, llamando handleSessionExpired"),Dw(),new Error("Tu sesión ha expirado. Por favor, inicia sesión nuevamente.")):s.toLowerCase().includes("no proporcionado")||s.toLowerCase().includes("token requerido")||s.toLowerCase().includes("acceso denegado")||s.toLowerCase().includes("unauthorized")?(console.log("🚫 Acceso no autorizado, mostrando notificación"),Ft&&Ft.showError("Tu sesión ha expirado o no tienes los permisos necesarios. Redirigiendo al login...","Sesión Expirada"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Se requiere autenticación. Redirigiendo al inicio de sesión...")):(console.log("❌ Otro error de autenticación"),Ft&&Ft.showError("Error de autenticación. Por favor, inicia sesión nuevamente.","Acceso Denegado"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Error de autenticación. Redirigiendo al inicio de sesión..."))}},xi=e=>{if(Ft)if(e.message.includes("failed to fetch")||e.name==="TypeError")Ft.showConnectionError();else if(e.message.includes("429"))Ft.showWarning("El servidor está ocupado. Por favor, espera un momento y vuelve a intentarlo.","Servidor Ocupado");else{if(e.message.includes("HTTP error! status: 400"))return;if(e.message.includes("HTTP error! status: 401"))return;e.message.includes("HTTP error! status: 403")?Ft.showError("No tienes permisos para realizar esta acción.","Acceso Prohibido"):e.message.includes("HTTP error! status: 404")?Ft.showError("El recurso solicitado no fue encontrado.","No Encontrado"):e.message.includes("HTTP error! status: 500")?Ft.showError("Error interno del servidor. Por favor, inténtalo más tarde.","Error del Servidor"):e.message.includes("HTTP error! status:")||Ft.showError(e.message,"Error de Servidor")}},Ts=()=>{const e=localStorage.getItem("token");if(!e)return null;try{const r=JSON.parse(atob(e.split(".")[1])),t=Math.floor(Date.now()/1e3);return r.exp&&r.exp<t?(console.log("🚨 Token expirado, removiendo del localStorage"),localStorage.removeItem("token"),localStorage.removeItem("user"),null):e}catch(r){return console.error("❌ Error al validar token:",r),localStorage.removeItem("token"),localStorage.removeItem("user"),null}},Le={get:async(e,r=!0,t=3e5)=>{try{const s=Ts(),l=`${Es}${e}`;if(r){const f=await Il.get(l);if(f)return f}const o=await ca(l,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}}),d=await o.json();return gn(o,d,e),r&&o.ok&&await Il.set(l,d,t),d}catch(s){if(console.log("🚨 Error en api.get:",s),s.response&&s.data)try{gn(s.response,s.data,e)}catch(l){throw l}throw xi(s),s}},post:async(e,r)=>{try{const t=Ts(),s=await ca(`${Es}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},body:JSON.stringify(r)}),l=await s.json();if(gn(s,l,e),s.ok)try{const o=new RegExp(e.split("/")[1]),d=await da.open("api-cache");if(d){const f=await d.keys();for(const m of f)o.test(m.url)&&await d.delete(m)}}catch(o){console.warn("Error al invalidar caché:",o)}return l}catch(t){if(console.log("🚨 Error en api.post:",t),t.response&&t.data){try{gn(t.response,t.data,e)}catch(s){throw s}if(t.response.status===400&&Ft){const s=t.data;let l="Error de validación";throw s!=null&&s.details&&Array.isArray(s.details)?l=`Error de validación: ${s.details.map(d=>`${d.field}: ${d.message}`).join(", ")}`:s!=null&&s.message&&(l=s.message),Ft.showError(l,"Error de Validación"),new Error(l)}}throw xi(t),t}},put:async(e,r,t={})=>{try{const s=Ts(),l=r instanceof FormData;console.log(`PUT ${e} - isFormData: ${l}`);const o={method:"PUT",headers:{...s&&{Authorization:`Bearer ${s}`},...t.headers}};l?o.body=r:(o.headers["Content-Type"]="application/json",o.body=r?JSON.stringify(r):void 0),console.log("Enviando request con headers:",o.headers);const d=await ca(`${Es}${e}`,o);console.log("Response status:",d.status,"ok:",d.ok);const f=await d.json();if(console.log("Response data:",f),gn(d,f,e),d.ok)try{const m=new RegExp(e.split("/")[1]),h=await da.open("api-cache");if(h){const x=await h.keys();for(const g of x)m.test(g.url)&&await h.delete(g)}}catch(m){console.warn("Error al invalidar caché:",m)}return f}catch(s){if(console.log("🚨 Error en api.put:",s),s.response&&s.data){try{gn(s.response,s.data,e)}catch(l){throw l}if(s.response.status===400&&Ft){const l=s.data;let o="Error de validación";throw l!=null&&l.details&&Array.isArray(l.details)?o=`Error de validación: ${l.details.map(f=>`${f.field}: ${f.message}`).join(", ")}`:l!=null&&l.message&&(o=l.message),Ft.showError(o,"Error de Validación"),new Error(o)}}throw xi(s),s}},delete:async e=>{try{const r=Ts(),t=await ca(`${Es}${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}}}),s=await t.json();if(gn(t,s,e),t.ok)try{const l=new RegExp(e.split("/")[1]),o=await da.open("api-cache");if(o){const d=await o.keys();for(const f of d)l.test(f.url)&&await o.delete(f)}}catch(l){console.warn("Error al invalidar caché:",l)}return s}catch(r){if(console.log("🚨 Error en api.delete:",r),r.response&&r.data){try{gn(r.response,r.data,e)}catch(t){throw t}if(r.response.status===400&&Ft){const t=r.data;let s="Error de validación";throw t!=null&&t.details&&Array.isArray(t.details)?s=`Error de validación: ${t.details.map(o=>`${o.field}: ${o.message}`).join(", ")}`:t!=null&&t.message&&(s=t.message),Ft.showError(s,"Error de Validación"),new Error(s)}}throw xi(r),r}},patch:async(e,r)=>{try{const t=Ts(),s=await ca(`${Es}${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},body:JSON.stringify(r)}),l=await s.json();if(gn(s,l,e),s.ok)try{const o=new RegExp(e.split("/")[1]),d=await da.open("api-cache");if(d){const f=await d.keys();for(const m of f)o.test(m.url)&&await d.delete(m)}}catch(o){console.warn("Error al invalidar caché:",o)}return l}catch(t){if(console.log("🚨 Error en api.patch:",t),t.response&&t.data){try{gn(t.response,t.data,e)}catch(s){throw s}if(t.response.status===400&&Ft){const s=t.data;let l="Error de validación";throw s!=null&&s.details&&Array.isArray(s.details)?l=`Error de validación: ${s.details.map(d=>`${d.field}: ${d.message}`).join(", ")}`:s!=null&&s.message&&(l=s.message),Ft.showError(l,"Error de Validación"),new Error(l)}}throw xi(t),t}},upload:async(e,r)=>{try{const t=Ts(),s=await ca(`${Es}${e}`,{method:"POST",headers:{...t&&{Authorization:`Bearer ${t}`}},body:r}),l=await s.json();if(gn(s,l,e),s.ok)try{const o=new RegExp(e.split("/")[1]),d=await da.open("api-cache");if(d){const f=await d.keys();for(const m of f)o.test(m.url)&&await d.delete(m)}}catch(o){console.warn("Error al invalidar caché:",o)}return l}catch(t){if(console.log("🚨 Error en api.upload:",t),t.response&&t.data){try{gn(t.response,t.data,e)}catch(s){throw s}if(t.response.status===400&&Ft){const s=t.data;let l="Error de validación";throw s!=null&&s.details&&Array.isArray(s.details)?l=`Error de validación: ${s.details.map(d=>`${d.field}: ${d.message}`).join(", ")}`:s!=null&&s.message&&(l=s.message),Ft.showError(l,"Error de Validación"),new Error(l)}}throw xi(t),t}}},Xr={getAppointments:()=>Le.get("/appointments",!0,6e4),getBarberAppointments:e=>Le.get(`/appointments/barber/${e}`,!0,6e4),createAppointment:e=>Le.post("/appointments",e),updateAppointment:(e,r)=>Le.put(`/appointments/${e}`,r),cancelAppointment:(e,r)=>Le.put(`/appointments/${e}/cancel`,{reason:r}),approveAppointment:e=>Le.put(`/appointments/${e}/approve`,{}),completeAppointment:e=>Le.put(`/appointments/${e}/complete`,{}),markNoShow:e=>Le.put(`/appointments/${e}/no-show`,{}),deleteAppointment:e=>Le.delete(`/appointments/${e}`),getAvailableTimes:(e,r)=>Le.get(`/appointments/availability/${e}?date=${r}&duration=30`)},fa={getAllBarbers:()=>Le.get("/barbers",!0,3e5),getBarberById:e=>Le.get(`/barbers/${e}`,!0,3e5),getBarberByUserId:e=>Le.get(`/barbers/by-user/${e}`,!0,3e5),createBarber:e=>Le.post("/barbers",e),updateBarber:(e,r)=>Le.put(`/barbers/${e}`,r),removeBarber:e=>Le.put(`/barbers/${e}/remove`),getBarberProfile:async()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");if(!e._id)throw new Error("Usuario no autenticado");return Le.get(`/barbers/by-user/${e._id}`,!0,3e5)},updateBarberProfile:(e,r)=>Le.put(`/barbers/${e}`,r),updateMyProfile:async e=>{const r=JSON.parse(localStorage.getItem("user")||"{}");if(!r._id)throw new Error("Usuario no autenticado");const t=await Le.get(`/barbers/by-user/${r._id}`,!1),s=t.data||t;if(!s||!s._id)throw new Error("No se pudo obtener el ID del barbero");return Le.put(`/barbers/${s._id}/profile`,e)},getBarberStats:e=>Le.get(`/barbers/${e}/stats`,!0,9e5)},qa={getBarberSalesStats:(e,r={})=>{const t=new URLSearchParams(r).toString(),s=`/sales/barber/${e}/stats${t?`?${t}`:""}`;return Le.get(s,!0,3e5)},getAvailableDates:(e=null)=>e?Le.get(`/sales/barber/${e}/available-dates`,!0,3e5):Le.get("/sales/available-dates",!0,3e5),getDailyReport:(e,r=null)=>{const t=new URLSearchParams({date:e});return r&&t.append("barberId",r),Le.get(`/sales/daily-report?${t.toString()}`,!1)},getBarberRangeReport:(e,r,t)=>{const s=new URLSearchParams({type:e,date:r});return t&&s.append("barberId",t),Le.get(`/sales/reports?${s.toString()}`,!1)},createSale:e=>Le.post("/sales",e),createWalkInSale:e=>Le.post("/sales/walk-in",e)},hc={getBarberAppointmentStats:(e,r={})=>{const t=new URLSearchParams(r).toString(),s=`/appointments/barber/${e}/stats${t?`?${t}`:""}`;return Le.get(s,!0,3e5)},getAvailableDates:e=>Le.get(`/appointments/barber/${e}/available-dates`,!0,3e5),getDailyReport:(e,r=null)=>{const t=new URLSearchParams({date:e});return r&&t.append("barberId",r),Le.get(`/appointments/daily-report?${t.toString()}`,!1)}},Fu={getAllServices:()=>Le.get("/services",!0,3e5),getServiceById:e=>Le.get(`/services/${e}`,!0,3e5),createService:e=>Le.post("/services",e),updateService:(e,r)=>Le.put(`/services/${e}`,r),deleteService:e=>Le.delete(`/services/${e}`)},oa={getInventory:(e={})=>{const r=new URLSearchParams(e).toString();return Le.get(`/inventory${r?`?${r}`:""}`,!0,3e5)},getInventoryItem:e=>Le.get(`/inventory/${e}`,!0,3e5),createInventoryItem:e=>Le.post("/inventory",e),updateInventoryItem:(e,r)=>Le.put(`/inventory/${e}`,r),deleteInventoryItem:e=>Le.delete(`/inventory/${e}`),adjustStock:(e,r)=>Le.post(`/inventory/${e}/stock`,r),getLowStockItems:e=>Le.get(`/inventory/low-stock${e?`?threshold=${e}`:""}`,!0,3e5),getItemsByCategory:e=>Le.get(`/inventory/category/${e}`,!0,3e5),getMovementHistory:(e,r,t)=>{const s=new URLSearchParams;return r&&s.append("startDate",r),t&&s.append("endDate",t),Le.get(`/inventory/${e}/history${s.toString()?`?${s.toString()}`:""}`,!0,3e5)},getStats:()=>Le.get("/inventory/stats/overview",!0,3e5),getLogs:e=>Le.get(`/inventory/logs${e?`?${e}`:""}`,!0,6e4),getLogStats:(e,r)=>{const t=new URLSearchParams;return e&&t.append("startDate",e),r&&t.append("endDate",r),Le.get(`/inventory/logs/stats${t.toString()?`?${t.toString()}`:""}`,!0,3e5)},getDailyReport:e=>{const r=new URLSearchParams({date:e});return Le.get(`/inventory/daily-report?${r.toString()}`,!1)}},Sc={createSnapshot:e=>Le.post("/inventory-snapshots",e),getSnapshots:(e={})=>{const r=new URLSearchParams(e).toString();return Le.get(`/inventory-snapshots${r?`?${r}`:""}`,!0,3e5)},getSnapshotById:e=>Le.get(`/inventory-snapshots/${e}`,!0,3e5),deleteSnapshot:e=>Le.delete(`/inventory-snapshots/${e}`),getStats:(e={})=>{const r=new URLSearchParams(e).toString();return Le.get(`/inventory-snapshots/stats${r?`?${r}`:""}`,!0,3e5)},downloadSnapshot:async e=>{try{const r=Ts(),t=await ca(`${Es}/inventory-snapshots/${e}/download`,{method:"GET",headers:{...r&&{Authorization:`Bearer ${r}`}}});if(!t.ok)throw new Error(`Error al descargar: ${t.status}`);return t.blob()}catch(r){throw console.error("Error al descargar inventario guardado:",r),r}}},pi="https://thebrothersbarbershop.onrender.com/api/v1",Fw="1.0.0",Qa=async(e,r,t=2,s=500)=>{try{r.headers={...r.headers,"X-Client-Version":Fw,"X-Request-ID":Math.random().toString(36).substring(7)};const l=performance.now(),o=await fetch(e,r),d=performance.now();if(o.status===429&&t>0)return await new Promise(h=>setTimeout(h,s)),Qa(e,r,t-1,s*2);const f=o.headers.get("content-type");let m;if(f&&f.includes("application/json"))m=await o.json();else{const h=await o.text();console.error("Respuesta no JSON recibida:",h),m={message:"Error del servidor",error:h}}if(!o.ok)throw m.errors&&Array.isArray(m.errors)?new Error(m.errors.map(h=>h.msg).join(`
`)):o.status===401?new Error("Credenciales inválidas"):o.status===403?new Error("No tienes permiso para realizar esta acción"):new Error(m.message||"Error en la autenticación");return{response:o,data:m}}catch(l){if(t>0&&l.name==="TypeError")return await new Promise(o=>setTimeout(o,s)),Qa(e,r,t-1,s*2);throw l}},Ja={register:async e=>{try{const{data:r}=await Qa(`${pi}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r}catch(r){throw console.error("Error en el registro:",r),new Error(r.message.includes("429")?"Demasiados intentos. Por favor, espera un momento.":r.message)}},login:async e=>{try{const{data:r,response:t}=await Qa(`${pi}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return r.token&&(localStorage.setItem("token",r.token),r.user&&localStorage.setItem("user",JSON.stringify(r.user)),await Il.clear()),r}catch(r){throw console.error("Error en el login:",r),new Error(r.message.includes("429")?"Demasiados intentos de inicio de sesión. Por favor, espera un momento.":r.message)}},logout:async()=>{try{const e=localStorage.getItem("token");if(e)try{await Qa(`${pi}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch(r){console.warn("Error en logout del servidor:",r)}}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),await Il.clear()}},verifyEmail:async e=>{try{const{data:r}=await Qa(`${pi}/auth/verify-email/${e}`,{method:"GET"});return r}catch(r){throw console.error("Error en verificación de email:",r),new Error(r.message||"Error al verificar el email")}},requestPasswordReset:async e=>{try{const{data:r}=await Qa(`${pi}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return r}catch(r){throw console.error("Error en solicitud de reset de password:",r),new Error(r.message.includes("429")?"Demasiadas solicitudes. Por favor, espera unos minutos.":r.message)}},resetPassword:async(e,r)=>{try{const{data:t}=await Qa(`${pi}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:r})});return t}catch(t){throw console.error("Error en reset de password:",t),new Error(t.message||"Error al restablecer la contraseña")}},refreshToken:async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("No hay token para refrescar");const r=Ja.getCurrentUser();if(!r)throw new Error("No hay usuario autenticado");return{token:e,user:r}}catch(e){throw console.error("Error refreshing token:",e),await Ja.logout(),new Error("Tu sesión ha expirado. Por favor, inicia sesión nuevamente.")}},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},jp=D.createContext();function Ow({children:e}){const[r,t]=D.useState(()=>Ja.getCurrentUser()),[s,l]=D.useState(()=>localStorage.getItem("token")),[o,d]=D.useState(null),[f,m]=D.useState(!0),[h,x]=D.useState(null),[g,N]=D.useState(null),y=k=>{t(k),k?localStorage.setItem("user",JSON.stringify(k)):localStorage.removeItem("user")},j=D.useCallback(()=>{g&&clearInterval(g);const k=setInterval(async()=>{try{await Ja.refreshToken()}catch(A){console.error("Error al refrescar el token:",A),T()}},840*1e3);return N(k),()=>clearInterval(k)},[]);D.useEffect(()=>{(async()=>{if((r==null?void 0:r.role)==="barber"&&s&&r._id)try{const A=await fa.getBarberByUserId(r._id);d(A.data)}catch(A){console.error("Error al cargar perfil de barbero:",A),x("Error al cargar perfil de barbero")}m(!1)})()},[r==null?void 0:r._id,s]),D.useEffect(()=>{if(s){const k=j();return()=>{k(),g&&clearInterval(g)}}},[s]);const w=async k=>{try{let A=await fa.getBarberByUserId(k);return A.success||(A=await fa.createBarber({user:k})),d(A.data),A}catch(A){throw console.error("Error al verificar/crear perfil de barbero:",A),x("Error al gestionar perfil de barbero"),A}},b=async(k,A)=>{try{m(!0),x(null);const G=await Ja.login({email:k,password:A});if(!G.token||!G.user)throw new Error("Datos de autenticación inválidos");const W={...G.user,photo:G.user.photo||null,_id:G.user._id||G.user.id};return y(W),l(G.token),G.user.role==="barber"&&await w(G.user._id),j(),!0}catch(G){console.error("Error durante el login:",G);let W="Error al iniciar sesión";return G.message.includes("Credenciales inválidas")||G.message.includes("Invalid credentials")?W="Email o contraseña incorrectos":G.message.includes("usuario no encontrado")||G.message.includes("User not found")?W="Usuario no encontrado":(G.message.includes("network")||G.message.includes("fetch"))&&(W="Error de conexión. Verifica tu internet"),x(W),!1}finally{m(!1)}},T=async()=>{try{m(!0),await Ja.logout()}catch(k){console.error("Error durante el logout:",k)}finally{y(null),l(null),d(null),g&&clearInterval(g),m(!1)}},_={user:r,token:s,login:b,logout:T,setUser:y,barberProfile:o,setBarberProfile:d,checkAndCreateBarberProfile:w,loading:f,error:h,refreshToken:Ja.refreshToken};return n.jsx(jp.Provider,{value:_,children:e})}function Jt(){const e=D.useContext(jp);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}const Mw="/TheBrothersBarberShop/",bu=e=>{const r=e.startsWith("/")?e.slice(1):e,t=encodeURI(r);return`${Mw}${t}`},Vn=e=>bu(`images/${e}`),Ci={main:()=>Vn("logo 1.png"),navbar:()=>Vn("logo 5.1.png"),fallback:()=>Vn("logo 4.png"),logo1_1:()=>Vn("logo 1.1.png"),logo1_2:()=>Vn("logo 1.2.png"),logo2:()=>Vn("logo 2.png"),logo3:()=>Vn("logo 3.png"),logo5:()=>Vn("logo 5.png")},Iw={avatar:()=>bu("images/default-avatar.png"),profile:()=>bu("images/default-profile.png"),avatarFallback:()=>Vn("logo 1.png"),profileFallback:()=>Vn("logo 1.png")},Je=({children:e,className:r="",gradient:t="primary",customGradient:s,as:l="span",...o})=>{const d={primary:"from-red-600 via-white to-blue-600",secondary:"from-blue-600 via-white to-red-600",metallic:"from-slate-400 via-red-500 via-white via-blue-500 to-slate-400",patriot:"from-red-700 via-gray-100 to-blue-700",classic:"from-red-800 via-yellow-100 via-white via-blue-100 to-blue-800",premium:"from-blue-800 via-red-600 via-gray-100 to-blue-800",vintage:"from-red-900 via-orange-100 via-white via-blue-100 to-blue-900",elegant:"from-red-500 via-gray-200 to-blue-500"},f=s||d[t]||d.primary;return n.jsx(l,{className:`
        text-transparent bg-clip-text bg-gradient-to-r ${f} 
        font-bold relative
        [text-shadow:0_2px_4px_rgba(0,0,0,0.1)]
        before:absolute before:inset-0 before:bg-gradient-to-r before:${f}
        before:bg-clip-text before:text-transparent before:opacity-20
        before:[filter:blur(0.5px)] before:-z-10
        ${r}
      `,...o,children:e})},gt=({children:e,variant:r="primary",size:t="md",gradient:s="barber",loading:l=!1,disabled:o=!1,className:d="",onClick:f,type:m="button",loadingText:h="Cargando...",as:x="button",...g})=>{const[N,y]=D.useState(!1),w={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-xl px-8 py-4",xl:"text-2xl px-10 py-5"}[t];return n.jsxs(x,{type:x==="button"?m:void 0,onClick:f,disabled:o||l,"aria-disabled":o||l,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:`
        relative isolate inline-flex items-center justify-center whitespace-nowrap
        rounded-2xl font-semibold tracking-wide 
        shadow-[0_4px_12px_rgba(0,0,0,0.2)] border border-slate-600/40
        outline-none transition-all duration-400 overflow-hidden
        active:scale-[0.98] focus:ring-3 focus:ring-blue-400/40
        bg-slate-600 min-w-fit
        ${w}
        ${o||l?"opacity-60 cursor-not-allowed":"hover:shadow-[0_8px_20px_rgba(220,38,38,0.15)] hover:scale-[1.01]"}
        ${d}
      `,...g,children:[n.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[l&&n.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white/90",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"relative",children:r==="outline"?n.jsx("span",{className:"font-extrabold bg-gradient-to-r from-red-400 via-white to-blue-400 bg-clip-text text-transparent",children:l?h:e}):n.jsx("span",{className:"font-bold tracking-wide",style:{color:"#1e293b",textShadow:`
                  0 1px 2px rgba(255, 255, 255, 0.3),
                  0 0 4px rgba(255, 255, 255, 0.2)
                `,filter:"contrast(1.2)",letterSpacing:"0.02em"},children:l?h:e})})]}),r==="primary"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl",style:{background:`repeating-linear-gradient(
                -45deg,
                #a84949ff 0px,
                #e75757 12.5px,
                #dc2626 25px,
                #ffffff 25px,
                #ffffff 50px,
                #2563eb 50px,
                #4e7beb 62.5px,
                #2563eb 75px,
                #ffffff 75px,
                #ffffff 100px
              )`,backgroundSize:"141.42px 141.42px",animation:N?"barberPoleSynced 3s linear infinite":"none",opacity:.95,border:"2px solid rgba(59, 130, 246, 0.6)",boxShadow:`
                0 0 15px rgba(59, 130, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1)
              `},children:n.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
                  135deg,
                  rgba(0, 0, 0, 0.05) 0%,
                  transparent 50%,
                  rgba(255, 255, 255, 0.05) 100%
                )`,mixBlendMode:"soft-light"}})}),n.jsx("style",{children:`
            @keyframes barberPoleSynced {
              0% {
                background-position: 0px 0px;
              }
              100% {
                background-position: 141.42px 0px;
              }
            }
          `})]}),r==="secondary"&&n.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-[#1a1f3c]/80 backdrop-blur-md"}),r==="outline"&&n.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-transparent"}),r==="ghost"&&n.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-white/5 backdrop-blur-md"}),n.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:n.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
              to bottom,
              rgba(255, 255, 255, 0.08) 0%,
              rgba(255, 255, 255, 0.03) 40%,
              transparent 100%
            )`,transition:"opacity 400ms ease",opacity:N?.7:.5}})})]})},Rw="h-14 sm:h-16",Lw=({user:e})=>{var s,l,o,d;const[r,t]=D.useState(!1);return D.useEffect(()=>{function f(m){m.target.closest(".dropdown-menu")||t(!1)}return r&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]),n.jsxs("div",{className:"relative dropdown-menu",children:[n.jsxs("button",{onClick:()=>t(!r),className:"flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 rounded-xl bg-blue-500/10 hover:bg-blue-500/20 backdrop-blur-sm transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 hover:scale-105 border border-blue-500/20 shadow-lg hover:shadow-blue-500/20",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[e.profilePicture?n.jsx("img",{src:e.profilePicture,alt:e.name||"Usuario",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover border-2 border-white/30 shadow-lg"}):n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-to-r from-blue-600/20 to-purple-600/20 flex items-center justify-center text-white font-semibold shadow-lg border border-blue-500/30",children:((l=(s=e.name)==null?void 0:s[0])==null?void 0:l.toUpperCase())||((d=(o=e.email)==null?void 0:o[0])==null?void 0:d.toUpperCase())||"?"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-white hidden sm:block",children:e.name||e.email})]}),n.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 transition-transform duration-300 text-blue-300 ${r?"transform rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&n.jsxs("div",{className:"absolute right-0 mt-2 w-72 sm:w-80 md:w-64 bg-gray-900/95 backdrop-blur-md border border-blue-500/30 rounded-2xl shadow-2xl shadow-blue-500/20 py-2 z-50 transform opacity-100 scale-100 transition-all duration-300",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-gray-300 mb-1",children:"Conectado como"}),n.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.email})]}),n.jsxs("div",{className:"py-2",children:[n.jsxs(ct,{to:"/profile",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsx("span",{className:"text-white group-hover:text-blue-200 transition-colors duration-300",children:"Mi Perfil"})]}),n.jsxs(ct,{to:"/profile-edit",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-purple-300 group-hover:text-purple-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),n.jsx("span",{className:"text-white group-hover:text-purple-200 transition-colors duration-300",children:"Editar Perfil"})]})]}),(e.role==="admin"||e.role==="barber")&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"py-2 border-t border-blue-500/20 mt-2",children:[n.jsx("div",{className:"px-4 py-2",children:n.jsx("p",{className:"text-xs font-medium text-blue-300 uppercase tracking-wider",children:e.role==="admin"?"Administración":"Gestión"})}),n.jsxs(ct,{to:"/admin/inventory",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),n.jsx("span",{className:"text-white group-hover:text-blue-200 transition-colors duration-300",children:"Control de Inventario"})]}),e.role==="admin"&&n.jsxs(n.Fragment,{children:[n.jsxs(ct,{to:"/admin/sales",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),n.jsx("span",{className:"text-white group-hover:text-green-200 transition-colors duration-300",children:"Punto de Venta"})]}),n.jsxs(ct,{to:"/admin/services",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),n.jsx("span",{className:"text-white group-hover:text-red-200 transition-colors duration-300",children:"Gestión de Servicios"})]}),n.jsxs(ct,{to:"/admin/barbers",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"text-white group-hover:text-blue-200 transition-colors duration-300",children:"Gestión de Barberos"})]}),n.jsxs(ct,{to:"/admin/roles",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-purple-300 group-hover:text-purple-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),n.jsx("span",{className:"text-white group-hover:text-purple-200 transition-colors duration-300",children:"Gestión de Roles"})]}),n.jsxs(ct,{to:"/admin/reports",onClick:()=>t(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-blue-500/20 transition-all duration-300 rounded-lg mx-2 shadow-sm hover:shadow-blue-500/10",children:[n.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("span",{className:"text-white group-hover:text-green-200 transition-colors duration-300",children:"Reportes Diarios"})]})]})]})})]})]})},Bw=()=>{var g,N,y,j;const{user:e,logout:r}=Jt(),t=Na(),s=ya(),[l,o]=D.useState(!1),[d,f]=D.useState(!1),[m,h]=D.useState(!1);D.useEffect(()=>{const w=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]),D.useEffect(()=>{f(!1)},[s.pathname]);const x=()=>{r(),t("/")};return n.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${l?"bg-blue-500/10 backdrop-blur-md border-b border-blue-500/20 shadow-2xl shadow-blue-500/20":"bg-blue-500/5 backdrop-blur-sm border-b border-blue-500/10"} ${Rw}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-white/[2.5%] to-blue-500/5"}),n.jsx("div",{className:"absolute top-0 w-full h-0.5 bg-gradient-to-r from-blue-600 via-purple-500 to-blue-600"}),n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 h-full",children:n.jsxs("div",{className:"flex justify-between items-center h-full",children:[n.jsxs(ct,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 group flex-shrink-0",children:[m?n.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-2 rounded-xl shadow-xl shadow-blue-500/20 transform group-hover:scale-105 transition-transform duration-300 border border-white/20",children:n.jsx("span",{className:"text-lg font-bold text-blue-400",children:"TBB"})}):n.jsx("img",{src:Ci.navbar(),alt:"The Brothers Barber Shop",className:"h-10 sm:h-12 w-auto transform group-hover:scale-105 transition-transform duration-300 drop-shadow-lg",onError:()=>h(!0)}),n.jsxs("div",{className:"block",children:[n.jsx(Je,{className:"text-base sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-black group-hover:text-blue-300 transition-colors duration-300 drop-shadow-lg tracking-normal leading-tight uppercase",style:{fontFamily:"'Luckiest Guy', cursive"},children:"The Brother's"}),n.jsx("div",{className:"text-xs text-gray-300 font-serif italic -mt-1 group-hover:text-blue-200 transition-colors duration-300 tracking-wide",children:"Barber Shop"})]})]}),n.jsxs("div",{className:"hidden md:flex items-center space-x-3 lg:space-x-6",children:[e&&n.jsx(n.Fragment,{children:e.role==="barber"?n.jsx(ct,{to:"/admin/sales",className:"relative px-3 lg:px-4 py-2 font-medium text-sm group backdrop-blur-sm bg-blue-500/10 rounded-lg border border-blue-500/20 hover:bg-blue-500/20 hover:border-blue-500/40 transition-all duration-300 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 whitespace-nowrap",children:n.jsxs("span",{className:"relative z-10 text-white group-hover:text-blue-300 transition-colors duration-300",children:[n.jsx("span",{className:"hidden lg:inline",children:"Punto de Venta"}),n.jsx("span",{className:"lg:hidden",children:"Ventas"})]})}):n.jsx(ct,{to:"/barbers",className:"relative px-3 lg:px-4 py-2 font-medium text-sm group backdrop-blur-sm bg-blue-500/10 rounded-lg border border-blue-500/20 hover:bg-blue-500/20 hover:border-blue-500/40 transition-all duration-300 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 whitespace-nowrap",children:n.jsx("span",{className:"relative z-10 text-white group-hover:text-blue-300 transition-colors duration-300",children:"Barberos"})})}),e?n.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 lg:space-x-6",children:[n.jsx(ct,{to:"/appointment",className:"relative px-3 lg:px-4 py-2 font-medium text-sm group backdrop-blur-sm bg-blue-500/10 rounded-lg border border-blue-500/20 hover:bg-blue-500/20 hover:border-blue-500/40 transition-all duration-300 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 whitespace-nowrap",children:n.jsxs("span",{className:"relative z-10 text-white group-hover:text-blue-300 transition-colors duration-300",children:[n.jsx("span",{className:"hidden lg:inline",children:"Reservas"}),n.jsx("span",{className:"lg:hidden",children:"Citas"})]})}),n.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[n.jsx(Lw,{user:e}),n.jsx("button",{onClick:x,className:"relative inline-flex items-center justify-center px-3 lg:px-4 py-2 overflow-hidden rounded-xl group bg-red-500/20 border border-red-400/30 hover:bg-red-500/30 transition-all duration-300 hover:scale-105 backdrop-blur-sm shadow-lg hover:shadow-red-500/20 whitespace-nowrap",children:n.jsxs("span",{className:"relative text-red-300 group-hover:text-white font-medium text-sm",children:[n.jsx("span",{className:"hidden lg:inline",children:"Salir"}),n.jsx("span",{className:"lg:hidden",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})]}):n.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[n.jsxs(gt,{as:ct,to:"/login",variant:"primary",size:"sm",className:"whitespace-nowrap shadow-md shadow-blue-500/30",children:[n.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"}),n.jsx("span",{className:"md:hidden",children:"Login"})]}),n.jsx(ct,{to:"/register",className:"relative overflow-hidden text-sm px-4 py-2 rounded-xl group border border-blue-500/20 hover:border-blue-500/50 transition-all duration-300 backdrop-blur-sm bg-blue-500/5 hover:bg-blue-500/10 hover:scale-105 whitespace-nowrap shadow-md shadow-blue-500/30",children:n.jsx("span",{className:"relative z-10 text-white group-hover:text-blue-300 transition-colors duration-300 font-medium",children:"Registro"})})]})]}),n.jsx("div",{className:"md:hidden",children:n.jsxs("button",{className:"md:hidden ml-2 inline-flex items-center justify-center p-2.5 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-blue-400/50 hover:scale-105 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30",onClick:()=>f(!d),"aria-expanded":"false",children:[n.jsx("span",{className:"sr-only",children:"Abrir menú principal"}),d?n.jsx("svg",{className:"block h-5 w-5 text-purple-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"block h-5 w-5 text-blue-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),n.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${d?"opacity-100 max-h-screen":"opacity-0 max-h-0 pointer-events-none"}`,children:n.jsxs("div",{className:"relative bg-gray-900/95 backdrop-blur-lg border-t border-white/10",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #1e40af 0px, transparent 2px),
                             radial-gradient(circle at 75% 75%, #dc2626 0px, transparent 1px)`,backgroundSize:"30px 30px, 20px 20px"}}),n.jsx("div",{className:"relative z-10 max-h-[calc(100vh-4rem)] overflow-y-auto px-4 py-3",children:n.jsx("div",{className:"space-y-3 pb-4",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-4 py-3 border-b border-white/10 sticky top-0 bg-gray-900/95 backdrop-blur-lg z-20",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[e.profilePicture?n.jsx("img",{src:e.profilePicture,alt:e.name||"Usuario",className:"w-8 h-8 rounded-full object-cover border-2 border-white/30"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-red-600 to-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:((N=(g=e.name)==null?void 0:g[0])==null?void 0:N.toUpperCase())||((j=(y=e.email)==null?void 0:y[0])==null?void 0:j.toUpperCase())||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent",children:e.name||"Usuario"}),n.jsx("p",{className:"text-xs text-white/60",children:e.role==="admin"?"Administrador":e.role==="barber"?"Barbero":"Cliente"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ct,{to:"/appointment",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-blue-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-blue-300 group-hover:text-blue-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Mis Citas"})]}),e.role==="barber"?n.jsxs(ct,{to:"/admin/sales",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-green-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-green-300 group-hover:text-green-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-green-100",children:"Punto de Venta"})]}):n.jsxs(ct,{to:"/barbers",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-purple-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-purple-300 group-hover:text-purple-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-purple-100 group-hover:via-white group-hover:to-purple-100",children:"Barberos"})]})]}),n.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4",children:[n.jsx("div",{className:"px-4 py-2 mb-3",children:n.jsx("p",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Mi Cuenta"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ct,{to:"/profile",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-blue-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-blue-300 group-hover:text-blue-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Mi Perfil"})]}),n.jsxs(ct,{to:"/profile-edit",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-red-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-red-300 group-hover:text-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Editar Perfil"})]})]})]}),(e.role==="admin"||e.role==="barber")&&n.jsxs("div",{className:"border-t border-white/10 pt-3 mt-3",children:[n.jsx("div",{className:"px-4 py-2",children:n.jsx("p",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:e.role==="admin"?"Administración":"Gestión"})}),n.jsxs(ct,{to:"/admin/inventory",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-300 group-hover:text-blue-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Inventario"})]}),e.role==="admin"&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ct,{to:"/admin/services",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-red-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-red-300 group-hover:text-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Gestión de Servicios"})]}),n.jsxs(ct,{to:"/admin/barbers",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-blue-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-blue-300 group-hover:text-blue-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Gestión de Barberos"})]}),n.jsxs(ct,{to:"/admin/roles",className:"group flex items-center px-4 py-4 rounded-xl text-base font-medium hover:bg-purple-500/20 transition-all duration-200 min-h-[48px] touch-manipulation",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-purple-300 group-hover:text-purple-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-purple-100 group-hover:via-white group-hover:to-purple-100",children:"Roles"})]}),n.jsxs(ct,{to:"/admin/reports",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-3 h-5 w-5 text-green-300 group-hover:text-green-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-green-100",children:"Reportes Diarios"})]})]})]}),n.jsx("div",{className:"border-t border-white/10 pt-4 mt-4",children:n.jsxs("button",{onClick:()=>{x(),f(!1)},className:"group flex items-center w-full px-4 py-4 rounded-xl text-base font-medium hover:bg-red-500/20 transition-all duration-200 min-h-[48px] touch-manipulation border border-red-500/30",children:[n.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-red-300 group-hover:text-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),n.jsx("span",{className:"bg-gradient-to-r from-red-200 via-red-100 to-red-200 bg-clip-text text-transparent group-hover:from-white group-hover:via-red-100 group-hover:to-white",children:"Cerrar Sesión"})]})})]}):n.jsxs("div",{className:"px-2 py-3 space-y-3",children:[n.jsxs(ct,{to:"/login",className:"flex items-center justify-center w-full px-6 py-3 rounded-xl bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 transition-all duration-200 shadow-lg",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Iniciar Sesión"})]}),n.jsxs(ct,{to:"/register",className:"flex items-center justify-center w-full px-6 py-3 rounded-xl border-2 border-white/20 hover:border-red-400/50 hover:bg-white/10 transition-all duration-200 backdrop-blur-sm",onClick:()=>f(!1),children:[n.jsx("svg",{className:"mr-2 h-5 w-5 text-blue-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),n.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Registro"})]})]})})})]})})]})},zw=()=>n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),n.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsxs("div",{className:"relative z-10",children:[n.jsx(Bw,{}),n.jsx("main",{className:"container mx-auto px-4 py-8 shadow-lg shadow-blue-500/20 rounded-lg",children:n.jsx(pu,{})})]})]}),_p=D.createContext(),zr=()=>{const e=D.useContext(_p);if(!e)throw new Error("useNotification debe ser usado dentro de NotificationProvider");return e},Uw=({children:e})=>{const[r,t]=D.useState([]),s=j=>{const w=Date.now()+Math.random(),b={id:w,type:"info",title:"",message:"",duration:5e3,autoClose:!0,...j};return r.some(_=>_.message===b.message&&_.type===b.type&&Date.now()-_.id<1e3)?(console.log("Notificación duplicada ignorada:",b.message),w):(t(_=>[..._,b]),b.autoClose&&setTimeout(()=>{l(w)},b.duration),w)},l=j=>{t(w=>w.filter(b=>b.id!==j))},y={notifications:r,addNotification:s,removeNotification:l,clearAllNotifications:()=>{t([])},showSuccess:(j,w="")=>s({type:"success",title:w||(j.length>50?"Éxito":""),message:j,duration:j.length>100?6e3:4e3}),showError:(j,w="")=>s({type:"error",title:w||(j.length>50?"Error":""),message:j,duration:j.length>100?1e4:8e3}),showWarning:(j,w="")=>s({type:"warning",title:w||(j.length>50?"Advertencia":""),message:j,duration:j.length>100?8e3:6e3}),showInfo:(j,w="")=>s({type:"info",title:w||(j.length>50?"Información":""),message:j,duration:j.length>100?7e3:5e3}),showSessionExpired:()=>s({type:"warning",title:"Sesión Expirada",message:"Tu sesión ha expirado. Serás redirigido al login en unos segundos...",duration:4e3,autoClose:!0}),showConnectionError:()=>s({type:"error",title:"Error de Conexión",message:"No se pudo conectar con el servidor. Verifica tu conexión a internet.",duration:8e3,autoClose:!0}),showAuthRequired:()=>s({type:"info",title:"Autenticación Requerida",message:"Necesitas iniciar sesión para acceder a esta función. Redirigiendo...",duration:4e3,autoClose:!0})};return n.jsx(_p.Provider,{value:y,children:e})},$w=()=>{const{notifications:e,removeNotification:r}=zr(),[t,s]=D.useState(new Set),l=h=>{s(x=>new Set([...x,h])),setTimeout(()=>{r(h),s(x=>{const g=new Set(x);return g.delete(h),g})},200)};if(e.length===0)return null;const o=(h,x)=>{const g=x&&x.trim().length>0,N=h.length;return h.includes(`
`)||N>60||g?"sm:max-w-md":"sm:max-w-sm"},d=h=>{const x="relative overflow-hidden backdrop-blur-md border rounded-lg shadow-xl transition-all duration-300 ease-in-out transform hover:scale-105";switch(h){case"success":return`${x} bg-green-500/10 border-green-500/30 text-green-100 shadow-green-500/20`;case"error":return`${x} bg-red-500/10 border-red-500/30 text-red-100 shadow-red-500/20`;case"warning":return`${x} bg-yellow-500/10 border-yellow-500/30 text-yellow-100 shadow-yellow-500/20`;case"info":default:return`${x} bg-blue-500/10 border-blue-500/30 text-blue-100 shadow-blue-500/20`}},f=h=>{switch(h){case"success":return n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},m=h=>{switch(h){case"success":return"bg-green-400";case"error":return"bg-red-400";case"warning":return"bg-yellow-400";case"info":default:return"bg-blue-400"}};return n.jsx("div",{className:"fixed top-2 sm:top-4 right-2 sm:right-4 left-2 sm:left-auto z-50 space-y-2",children:e.map(h=>{const x=t.has(h.id),g=o(h.message,h.title);return n.jsxs("div",{className:`${d(h.type)} ${g} ${x?"animate-fade-out":"animate-slide-in-right"}`,role:"alert",children:[h.autoClose&&n.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-600 w-full",children:n.jsx("div",{className:`h-full ${m(h.type)} transition-all ease-linear`,style:{animation:`shrink ${h.duration}ms linear forwards`}})}),n.jsx("div",{className:"p-3 sm:p-4",children:n.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(h.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[h.title&&h.title.trim().length>0&&n.jsx("p",{className:"text-xs sm:text-sm font-medium text-white mb-1 truncate",children:h.title}),n.jsx("div",{className:`text-xs sm:text-sm leading-tight ${!h.title||h.title.trim().length===0?"font-medium":""}`,children:h.message.split(`
`).map((N,y)=>n.jsx("div",{className:y>0?"mt-1":"",children:N},y))})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("button",{onClick:()=>l(h.id),className:"inline-flex p-1 text-gray-400 hover:text-gray-200 focus:outline-none focus:text-gray-200 transition-colors duration-200 rounded-md hover:bg-white/10","aria-label":"Cerrar notificación",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})]},h.id)})})},Ww=()=>{const e=zr();return D.useEffect(()=>(nx(e),()=>{nx(null)}),[e]),e},kp=D.createContext(),Sp=()=>{const e=D.useContext(kp);if(!e)throw new Error("useInventoryRefresh debe ser usado dentro de InventoryProvider");return e},Hw=({children:e})=>{const[r,t]=D.useState(0),[s,l]=D.useState(null),o=D.useCallback(()=>{const h=Date.now();l(h),t(x=>x+1),console.log("🔄 InventoryContext: Notificando venta, trigger:",r+1)},[r]),d=D.useCallback(h=>!s||!h?!1:s>h,[s]),f=D.useCallback(()=>Date.now(),[]),m={refreshTrigger:r,lastSaleTime:s,notifySale:o,needsRefresh:d,markRefreshed:f};return n.jsx(kp.Provider,{value:m,children:e})},Ot=({children:e,className:r=""})=>n.jsxs("div",{className:`relative min-h-screen w-full pt-10 sm:pt-12 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden ${r}`,style:{isolation:"isolate"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),n.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsx("div",{className:"relative z-10",children:e})]});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,s)=>s?s.toUpperCase():t.toLowerCase()),ax=e=>{const r=Gw(e);return r.charAt(0).toUpperCase()+r.slice(1)},Ep=(...e)=>e.filter((r,t,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===t).join(" ").trim(),Yw=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=D.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:d,...f},m)=>D.createElement("svg",{ref:m,...Xw,width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:Ep("lucide",l),...!o&&!Yw(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,x])=>D.createElement(h,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,r)=>{const t=D.forwardRef(({className:s,...l},o)=>D.createElement(Kw,{ref:o,iconNode:r,className:Ep(`lucide-${Vw(ax(e))}`,`lucide-${e}`,s),...l}));return t.displayName=ax(e),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qd=Qe("activity",qw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Tp=Qe("arrow-left",Qw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mc=Qe("arrow-right",Jw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Cc=Qe("award",Zw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sx=Qe("bell",eb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Jd=Qe("calculator",tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xc=Qe("calendar-days",rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zc=Qe("camera",nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Et=Qe("calendar",ab);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ai=Qe("chart-column",sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ha=Qe("check",ib);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ob=Qe("chevron-down",lb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kl=Qe("chevron-up",cb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ps=Qe("circle-alert",db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ns=Qe("circle-check-big",ub);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hr=Qe("circle-x",fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ar=Qe("clock",hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xb=Qe("crown",mb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pi=Qe("dollar-sign",pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ou=Qe("download",gb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ds=Qe("eye-off",vb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ma=Qe("eye",wb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ac=Qe("file-text",bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cp=Qe("funnel",yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jb=Qe("heart",Nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kb=Qe("house",_b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pc=Qe("info",Sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bn=Qe("lock",Eb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gl=Qe("mail",Tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ix=Qe("map-pin",Cb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ap=Qe("minus",Ab);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],Zd=Qe("package-2",Pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Dc=Qe("package",Db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ob=Qe("pen-line",Fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e0=Qe("phone",Mb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],El=Qe("plus",Ib);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lx=Qe("rotate-ccw",Rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ua=Qe("save",Lb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Vt=Qe("scissors",Bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pp=Qe("search",zb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yu=Qe("settings",Ub);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wb=Qe("shield",$b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ji=Qe("shopping-cart",Hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nu=Qe("square-pen",Vb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],as=Qe("star",Gb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ss=Qe("trash-2",Yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Kb=Qe("trending-down",Xb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],t0=Qe("trending-up",qb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],va=Qe("triangle-alert",Qb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fc=Qe("upload",Jb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ey=Qe("user-plus",Zb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ut=Qe("user",ty);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rl=Qe("users",ry);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=Qe("x",ny),ay=({barber:e})=>{var l,o;const r=d=>{d.target.onerror=null,d.target.src=Iw.profile(),d.target.classList.add("fallback-image")},t=d=>{if(!d)return null;if(typeof d=="object"){const f=d.average||0,m=d.count||0;return`${f.toFixed(1)} (${m})`}return d},s=e.user||{};return n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-2xl transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 bg-white/5 shadow-xl shadow-blue-500/20 hover:border-white/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsx("div",{className:"relative aspect-[4/5] w-full",children:s.profilePicture||(l=e.photo)!=null&&l.url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:s.profilePicture||((o=e.photo)==null?void 0:o.url),alt:s.name||"Barbero",className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity rounded-t-2xl",onError:r}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent rounded-t-2xl"})]}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-600/10 to-purple-600/10 rounded-t-2xl",children:n.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur-sm border border-blue-500/20 shadow-lg shadow-blue-500/20",children:n.jsx(Rl,{className:"w-16 h-16 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})})}),n.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-4 sm:p-6",children:n.jsx("div",{className:"transform transition-transform group-hover:translate-y-0 translate-y-2",children:n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.name||e.name||"Nombre no disponible"}),n.jsx("p",{className:"text-gray-300 text-xs sm:text-sm",children:e.specialty||"Barbero Profesional"}),n.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 delay-100",children:[e.experience&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30 backdrop-blur-sm shadow-sm shadow-blue-500/20",children:[n.jsx(Cc,{className:"w-3 h-3 mr-1 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"}),e.experience]}),t(e==null?void 0:e.rating)&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-300 border border-yellow-500/30 backdrop-blur-sm shadow-sm shadow-yellow-500/20",children:[n.jsx(as,{className:"w-3 h-3 mr-1 text-yellow-400 drop-shadow-[0_1px_2px_rgba(251,191,36,0.3)]",fill:"currentColor"}),t(e.rating)]})]})]})})})]})};function sy(){const[e,r]=D.useState([]),[t,s]=D.useState([]),[l,o]=D.useState(!0),[d,f]=D.useState(null),[m,h]=D.useState(!1),{user:x,accessToken:g}=Jt(),N=Na(),y=()=>{x&&N("/profile-edit")};return D.useEffect(()=>{if(m)return;(async()=>{try{console.log("Iniciando fetch de datos...");const[w,b]=await Promise.all([Le.get("/services"),Le.get("/barbers")]);if(console.log("Respuesta de servicios:",w),console.log("Respuesta de barberos:",b),!w.success||!b.success)throw new Error("Error al cargar los datos");const T=w.data||[],_=b.data||[];console.log("Datos de barberos recibidos:",_);const k=_.filter(G=>(console.log("Evaluando barbero:",G),G.user&&G.user.role==="barber"&&G.user.isActive!==!1&&G.isActive!==!1));console.log("Barberos activos filtrados:",k);const A=T.filter(G=>G.showInHome===!0).slice(0,3);r(A),s(k),h(!0)}catch(w){console.error("Error completo:",w),f(w.message)}finally{o(!1)}})()},[]),n.jsxs(Ot,{children:[!x&&n.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[n.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center max-w-4xl lg:max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8 sm:mb-12",children:[n.jsxs("div",{className:"relative mx-auto w-48 sm:w-56 md:w-64 lg:w-72 xl:w-80 mb-6 sm:mb-8 transform hover:scale-105 transition-all duration-500",children:[n.jsx("img",{src:Ci.main(),alt:"The Brothers Barber Shop",className:"w-full h-auto filter drop-shadow-[0_0_30px_rgba(59,130,246,0.6)]",onError:j=>{j.target.style.display="none",j.target.nextElementSibling.style.display="block"}}),n.jsx("div",{className:"hidden text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black text-center tracking-tight",style:{textShadow:"0 0 30px rgba(59, 130, 246, 0.6)"},children:n.jsx(Je,{children:"The Brothers"})})]}),n.jsx("div",{className:"space-y-2 sm:space-y-4",children:n.jsx(Je,{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold leading-tight",children:"Donde el estilo se encuentra con la tradición"})})]}),n.jsxs("div",{className:"mb-8 sm:mb-12 space-y-6 sm:space-y-8",children:[n.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-300 max-w-2xl lg:max-w-3xl mx-auto leading-relaxed px-4",children:["Experimenta un corte de pelo que define tu personalidad.",n.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Tradición, calidad y estilo en cada corte."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 max-w-3xl lg:max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-4 sm:p-6 transition-all duration-300 bg-white/5 shadow-xl shadow-blue-500/20 hover:border-white/20 hover:scale-105",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 flex items-center justify-center shadow-lg shadow-red-500/20",children:n.jsx(Ar,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"})}),n.jsx("h3",{className:"font-bold text-white text-sm sm:text-base mb-1 sm:mb-2",children:"Reservas Online"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Agenda tu cita 24/7"})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-4 sm:p-6 transition-all duration-300 bg-white/5 shadow-xl shadow-blue-500/20 hover:border-white/20 hover:scale-105",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(Vt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})}),n.jsx("h3",{className:"font-bold text-white text-sm sm:text-base mb-1 sm:mb-2",children:"Barberos Expertos"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Profesionales certificados"})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-4 sm:p-6 transition-all duration-300 bg-white/5 shadow-xl shadow-blue-500/20 hover:border-white/20 hover:scale-105",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-600/20 to-purple-600/20 rounded-xl border border-red-500/20 flex items-center justify-center shadow-lg shadow-red-500/20",children:n.jsx(jb,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"})}),n.jsx("h3",{className:"font-bold text-white text-sm sm:text-base mb-1 sm:mb-2",children:"Calidad Premium"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Los mejores productos"})]})]})]})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6 px-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(gt,{variant:"primary",size:"lg",className:"inline-flex items-center justify-center whitespace-nowrap px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-2xl shadow-xl shadow-blue-500/20 transform hover:scale-105 transition-all duration-300 min-w-fit",onClick:()=>window.location.href="/appointment",children:n.jsxs("span",{className:"flex items-center gap-2 sm:gap-3",children:["Reserva tu cita ahora",n.jsx(mc,{className:"w-4 h-4 sm:w-5 sm:h-5 transform group-hover:translate-x-1 transition-transform flex-shrink-0"})]})})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 lg:gap-8 text-xs sm:text-sm text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400 drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]"}),"Sin compromiso"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400 drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]"}),"Cancelación gratuita"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400 drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]"}),"Confirmación inmediata"]})]})]})]})}),n.jsx("div",{className:"relative z-10 pb-6 sm:pb-8 flex justify-center",children:n.jsx("div",{className:"animate-bounce",children:n.jsx(mc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400 rotate-90 drop-shadow-sm"})})})]}),n.jsx("section",{className:`${x?"py-8 sm:py-12":"py-16 sm:py-24"} px-4 sm:px-6 lg:px-8 relative`,children:n.jsxs("div",{className:"container mx-auto relative max-w-7xl",children:[x&&n.jsx("div",{className:"absolute -top-6 sm:-top-8 -right-2 sm:-right-8 z-20",children:n.jsxs("div",{className:"group relative backdrop-blur-md border border-white/20 rounded-lg sm:rounded-xl p-2 sm:p-3 shadow-2xl shadow-blue-500/20 bg-gradient-to-br from-white/10 to-white/5 hover:from-white/15 hover:to-white/10 transition-all duration-500 overflow-hidden min-w-0 max-w-[280px] sm:max-w-none",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[3%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg sm:rounded-xl"}),n.jsxs("div",{className:"relative flex items-center gap-1.5 sm:gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:"flex h-6 w-6 sm:h-8 sm:w-8 items-center justify-center rounded-full bg-gradient-to-br from-blue-600/30 to-red-600/30 border border-blue-500/40 shadow-lg shadow-blue-500/30 group-hover:shadow-blue-500/40 transition-all duration-500",children:n.jsx(Rl,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-300 drop-shadow-[0_2px_4px_rgba(96,165,250,0.4)]"})}),n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 border border-white/20 rounded-full shadow-lg shadow-green-500/50"})]}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"font-medium text-gray-300 text-[10px] sm:text-xs leading-none",children:"Bienvenido,"}),n.jsx("p",{className:"font-bold text-white text-xs sm:text-sm truncate group-hover:text-blue-300 transition-colors duration-300 leading-none",children:x.username||x.name||x.email}),n.jsxs("div",{className:"flex flex-wrap gap-0.5 sm:gap-1",children:[x.role==="admin"&&n.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1 sm:px-1.5 py-0.5 bg-gradient-to-r from-blue-600/40 to-purple-600/40 border border-blue-400/50 text-blue-200 rounded text-[9px] sm:text-xs font-medium shadow-lg shadow-blue-500/30 backdrop-blur-sm leading-none",children:[n.jsx("svg",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"hidden sm:inline",children:"Admin"}),n.jsx("span",{className:"sm:hidden",children:"A"})]}),x.role==="barber"&&n.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1 sm:px-1.5 py-0.5 bg-gradient-to-r from-red-600/40 to-orange-600/40 border border-red-400/50 text-red-200 rounded text-[9px] sm:text-xs font-medium shadow-lg shadow-red-500/30 backdrop-blur-sm leading-none",children:[n.jsx(Vt,{className:"w-1.5 h-1.5 sm:w-2 sm:h-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Barbero"}),n.jsx("span",{className:"sm:hidden",children:"B"})]}),x.role==="user"&&n.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1 sm:px-1.5 py-0.5 bg-gradient-to-r from-green-600/40 to-blue-600/40 border border-green-400/50 text-green-200 rounded text-[9px] sm:text-xs font-medium shadow-lg shadow-green-500/30 backdrop-blur-sm leading-none",children:[n.jsx(Ut,{className:"w-1.5 h-1.5 sm:w-2 sm:h-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Cliente"}),n.jsx("span",{className:"sm:hidden",children:"C"})]}),n.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1 sm:px-1.5 py-0.5 bg-gradient-to-r from-gray-600/30 to-gray-700/30 border border-gray-500/40 text-gray-300 rounded text-[9px] sm:text-xs font-medium shadow-sm backdrop-blur-sm leading-none",children:[n.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"hidden sm:inline",children:"Online"})]})]})]})}),n.jsx("button",{onClick:y,className:"flex-shrink-0 p-1 bg-gradient-to-r from-blue-600/20 to-red-600/20 hover:from-blue-600/30 hover:to-red-600/30 border border-blue-500/30 hover:border-blue-400/50 rounded text-blue-400 hover:text-blue-300 transition-all duration-300 transform hover:scale-110 shadow-lg shadow-blue-500/20",title:"Editar Perfil",children:n.jsx(yu,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})]})]})}),n.jsxs("div",{className:"text-center max-w-3xl lg:max-w-4xl mx-auto mb-12 sm:mb-20 pt-16 sm:pt-12",children:[n.jsxs("div",{className:"space-y-2 sm:space-y-4 mb-6 sm:mb-8",children:[n.jsx(Je,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:"Servicios Profesionales"}),n.jsx(Je,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:"de Barbería"})]}),n.jsxs("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-300 leading-relaxed max-w-xl lg:max-w-2xl mx-auto px-4",children:["Ofrecemos una amplia gama de servicios de barbería profesional",n.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"para que luzcas tu mejor versión"})]})]}),l?n.jsx("div",{className:"flex justify-center py-12 sm:py-16",children:n.jsx("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16",children:n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"w-full h-full border-4 border-blue-500/20 rounded-full"}),n.jsx("div",{className:"w-full h-full border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]})})}):e.length===0?n.jsxs("div",{className:"text-center py-12 sm:py-16",children:[n.jsx("div",{className:"mb-4 sm:mb-6 mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-gray-800/50 rounded-xl border border-white/10 flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(Vt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-500 drop-shadow-sm"})}),n.jsx("p",{className:"text-gray-500 text-base sm:text-lg",children:"No hay servicios disponibles en este momento."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10",children:e.map((j,w)=>n.jsxs("div",{className:`group relative backdrop-blur-sm border border-white/10 rounded-2xl lg:rounded-3xl transition-all duration-700 transform hover:-translate-y-2 hover:scale-[1.002] bg-white/5 shadow-xl shadow-blue-500/20 hover:border-white/20 hover:shadow-2xl hover:shadow-red-500/20 ${w===0?"md:col-span-2 lg:col-span-1":""}`,style:{animationDelay:`${w*100}ms`},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 rounded-2xl lg:rounded-3xl"}),n.jsxs("div",{className:"relative p-6 sm:p-8 h-full flex flex-col",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 relative",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 mx-auto bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-xl lg:rounded-2xl flex items-center justify-center border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500 shadow-lg shadow-red-500/20",children:n.jsx(Vt,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-red-400 group-hover:text-blue-400 transition-colors duration-500 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)] group-hover:drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})}),w===0&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-600 to-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg shadow-red-500/20",children:"Popular"})]}),n.jsxs("div",{className:"text-center mb-6 sm:mb-8 flex-grow",children:[n.jsx("h3",{className:"font-bold text-lg sm:text-xl lg:text-2xl xl:text-3xl mb-3 sm:mb-4 text-white group-hover:text-blue-400 transition-colors duration-500",children:j.name}),n.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed",children:j.description})]}),n.jsx("div",{className:"text-center mt-auto",children:n.jsxs(ct,{to:"/appointment",className:"inline-flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 hover:from-red-600/40 hover:to-blue-600/40 border border-red-500/30 hover:border-blue-500/50 rounded-xl text-red-400 hover:text-blue-400 transition-all duration-500 transform hover:scale-105 shadow-lg shadow-red-500/20 hover:shadow-blue-500/20 font-medium text-sm sm:text-base",children:[n.jsx("span",{children:"Reservar ahora"}),n.jsx(mc,{className:"w-4 h-4 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)] group-hover:drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})]})})]})]},j._id))})]})}),n.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:n.jsxs("div",{className:"container mx-auto relative max-w-7xl",children:[n.jsxs("div",{className:"text-center max-w-3xl lg:max-w-4xl mx-auto mb-12 sm:mb-20",children:[n.jsx("div",{className:"space-y-2 sm:space-y-4 mb-6 sm:mb-8",children:n.jsx(Je,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:"Barberos Expertos"})}),n.jsxs("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-300 leading-relaxed max-w-xl lg:max-w-2xl mx-auto px-4",children:["Conoce a nuestro equipo de profesionales expertos en el arte de la barbería",n.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Pasión, técnica y dedicación en cada corte"})]})]}),l?n.jsx("div",{className:"flex justify-center items-center min-h-[300px] sm:min-h-[400px]",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 border-blue-500/20"}),n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 border-transparent border-t-blue-500 animate-spin absolute inset-0"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-blue-500/20"})})]})}):t.length===0?n.jsxs("div",{className:"text-center py-16 sm:py-20",children:[n.jsx("div",{className:"mb-6 sm:mb-8 mx-auto w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-xl lg:rounded-2xl flex items-center justify-center border border-blue-500/30 shadow-xl shadow-blue-500/20",children:n.jsx(Rl,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-300 mb-3 sm:mb-4",children:"Estamos construyendo nuestro equipo"}),n.jsx("p",{className:"text-gray-400 text-sm sm:text-base lg:text-lg max-w-sm sm:max-w-md mx-auto px-4",children:"Pronto agregaremos nuevos profesionales especializados a nuestro equipo de barberos expertos"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10",children:t.map((j,w)=>n.jsx("div",{className:"transform hover:scale-[1.002] hover:-translate-y-1 transition-all duration-500",style:{animationDelay:`${w*150}ms`},children:n.jsx(ay,{barber:j})},j._id||j.id))}),t.length>0&&n.jsxs("div",{className:"text-center mt-12 sm:mt-16",children:[n.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-4 sm:mb-6",children:"¿Quieres conocer más sobre nuestros barberos?"}),n.jsx(gt,{variant:"primary",size:"md",className:"px-6 sm:px-8 py-2.5 sm:py-3 shadow-xl shadow-blue-500/20",onClick:()=>window.location.href="/barbers",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Ver todos los barberos",n.jsx(mc,{className:"w-4 h-4 sm:w-5 sm:h-5 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})]})})]})]})}),n.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:n.jsxs("div",{className:"container mx-auto relative max-w-7xl",children:[n.jsxs("div",{className:"text-center max-w-3xl lg:max-w-4xl mx-auto mb-12 sm:mb-20",children:[n.jsx("div",{className:"space-y-2 sm:space-y-4 mb-6 sm:mb-8",children:n.jsx(Je,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:"Encuéntranos, Te esperamos"})}),n.jsxs("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-300 leading-relaxed max-w-xl lg:max-w-2xl mx-auto px-4",children:["Conoce nuestra ubicación, visita nuestro espacio",n.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Ven y experimenta la diferencia por ti mismo"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[n.jsx("div",{className:"relative order-2 lg:order-1",children:n.jsxs("div",{className:"relative backdrop-blur-sm border border-white/10 rounded-2xl lg:rounded-3xl p-4 sm:p-6 shadow-2xl shadow-blue-500/20 bg-white/5 h-[400px] sm:h-[500px] lg:h-[600px] flex flex-col",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000 rounded-2xl lg:rounded-3xl"}),n.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-lg xl:rounded-xl flex items-center justify-center border border-blue-500/30 shadow-lg shadow-blue-500/20",children:n.jsx(ix,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Información de Contacto"})]}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Estamos aquí para atenderte con la mejor experiencia de barbería."})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 flex-1",children:[n.jsx("div",{className:"group",children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg xl:rounded-xl bg-gradient-to-r from-gray-800/30 to-gray-700/30 border border-gray-600/20 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-md lg:rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300 shadow-sm shadow-blue-500/20",children:n.jsx(ix,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Dirección"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Cra 77vBis #52 A - 08"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Bogotá D.C, Cundinamarca."})]})]})}),n.jsx("div",{className:"group",children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg xl:rounded-xl bg-gradient-to-r from-gray-800/30 to-gray-700/30 border border-gray-600/20 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-md lg:rounded-lg border border-red-500/30 group-hover:border-red-400/50 transition-all duration-300 shadow-sm shadow-red-500/20",children:n.jsx(e0,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400 group-hover:text-red-300 transition-colors duration-300 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-red-300 transition-colors duration-300",children:"Teléfono"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"+57 311 588 2528"}),n.jsx("p",{className:"text-xs text-gray-500",children:"WhatsApp disponible"})]})]})}),n.jsx("div",{className:"group",children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg xl:rounded-xl bg-gradient-to-r from-gray-800/30 to-gray-700/30 border border-gray-600/20 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-md lg:rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300 shadow-sm shadow-blue-500/20",children:n.jsx(Ar,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Horario de Atención"}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Lunes - Sábado: 9:00 AM - 8:00 PM"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Domingo: 10:00 AM - 6:00 PM"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reservas recomendadas"})]})]})})]}),n.jsx("div",{className:"mt-4 pt-3 sm:pt-4 border-t border-gray-700/50",children:n.jsx(gt,{variant:"primary",size:"md",className:"w-full py-2 sm:py-2.5 shadow-xl shadow-blue-500/20",onClick:()=>window.location.href="/appointment",children:n.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Reservar una cita",n.jsx(Et,{className:"w-3 h-3 sm:w-4 sm:h-4 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})]})})})]})]})}),n.jsx("div",{className:"relative order-1 lg:order-2",children:n.jsxs("div",{className:"relative h-[400px] sm:h-[500px] lg:h-[600px] rounded-2xl lg:rounded-3xl overflow-hidden shadow-2xl shadow-blue-500/20 border border-white/10 backdrop-blur-sm",children:[n.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15907.448844294731!2d-74.16188815134278!3d4.618659698034156!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9fadb32531a3%3A0xad47ce8d546359c!2sThe%20brothers%20barber!5e0!3m2!1ses!2sco!4v1756390613507!5m2!1ses!2sco",className:"w-full h-full",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{filter:"grayscale(20%) contrast(1.1)"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none rounded-2xl lg:rounded-3xl"})]})})]})]})})]})}function iy(){var t,s,l,o;const{user:e}=Jt();if(!e)return n.jsx("p",{className:"text-center text-red-500 mt-10",children:"No has iniciado sesión."});const r=d=>{if(!d)return"No especificado";const f=new Date(d),m=f.getTimezoneOffset();return new Date(f.getTime()+m*60*1e3).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})};return n.jsxs(Ot,{children:[n.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-4 sm:p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[n.jsxs("div",{className:"relative",children:[e.profilePicture?n.jsx("img",{src:e.profilePicture,alt:"Foto de perfil",className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28 rounded-full object-cover ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20"}):n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-lg sm:text-xl lg:text-2xl font-bold ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20",children:n.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:((s=(t=e.name)==null?void 0:t[0])==null?void 0:s.toUpperCase())||((o=(l=e.email)==null?void 0:l[0])==null?void 0:o.toUpperCase())||"?"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 sm:px-3 sm:py-1 rounded-full shadow-lg",children:n.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent font-medium",children:e.role==="admin"?"Admin":e.role==="barber"?"Barbero":"Cliente"})})]}),n.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[n.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-2",children:e.name||"Sin nombre"}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent break-words",children:e.email})]}),n.jsx("div",{className:"w-full sm:w-auto",children:n.jsx(ct,{to:"/profile-edit",className:"block w-full sm:w-auto",children:n.jsx(gt,{variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Ob,{size:16,"sm:size":18}),n.jsx("span",{className:"text-sm sm:text-base",children:"Editar Perfil"})]})})})})]})]})}),n.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:gap-8 grid-cols-1 lg:grid-cols-2",children:[n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-4 sm:p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 sm:mb-6 flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",children:n.jsx(Gl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400"})}),n.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Información de Contacto"})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electrónico"}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent break-all",children:e.email})]}),n.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Teléfono"}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:e.phone||"No especificado"})]})]})]})]}),n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-4 sm:p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 sm:mb-6 flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:n.jsx(Ut,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})}),n.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Información Personal"})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Nombre completo"}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:e.name||"No especificado"})]}),n.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Fecha de nacimiento"}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:r(e.birthdate)})]})]})]})]})]})]})]})}const ly={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"},pc={monday:{start:"07:00",end:"22:00",available:!0},tuesday:{start:"07:00",end:"22:00",available:!0},wednesday:{start:"07:00",end:"22:00",available:!0},thursday:{start:"07:00",end:"22:00",available:!0},friday:{start:"07:00",end:"22:00",available:!0},saturday:{start:"07:00",end:"22:00",available:!0},sunday:{start:"07:00",end:"22:00",available:!1}},oy=()=>{const{user:e,setUser:r}=Jt(),t=Na(),{showSuccess:s,showError:l}=zr(),o=D.useRef(null),[d,f]=D.useState(null),[m,h]=D.useState(!0),[x,g]=D.useState(!1),[N,y]=D.useState("personal"),[j,w]=D.useState(null),[b,T]=D.useState(!1),[_,k]=D.useState({name:"",phone:"",birthdate:""}),[A,G]=D.useState({specialty:"",experience:"",description:"",services:[]}),[W,H]=D.useState([]),[ne,Q]=D.useState(pc),[le,ge]=D.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[oe,we]=D.useState({current:!1,new:!1,confirm:!1}),$e=re=>{if(!re)return"";const je=new Date(re);return isNaN(je.getTime())?"":je.toISOString().split("T")[0]};D.useEffect(()=>{Re()},[]),D.useEffect(()=>{console.log("Schedule actualizado:",ne)},[ne]),D.useEffect(()=>{e&&(k({name:e.name||"",phone:e.phone||"",birthdate:$e(e.birthdate)}),e.profilePicture&&!j&&w(e.profilePicture))},[e]);const Re=async()=>{var re,je,Ce;h(!0),T(!1);try{const[R,xe]=await Promise.all([fa.getBarberProfile(),Fu.getAllServices()]);if(R.success){const Y=R.data;f(Y),G({specialty:Y.specialty||"",experience:((re=Y.experience)==null?void 0:re.toString())||"",description:Y.description||"",services:((je=Y.services)==null?void 0:je.map(ze=>ze._id))||[]}),k({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",birthdate:$e(e==null?void 0:e.birthdate)});const be=(e==null?void 0:e.profilePicture)||((Ce=Y.user)==null?void 0:Ce.profilePicture);if(be&&w(be),Y.schedule){console.log("Cargando horario desde BD:",Y.schedule);const ze={...pc};Object.keys(ze).forEach(Ue=>{Y.schedule[Ue]&&(ze[Ue]={start:Y.schedule[Ue].start||ze[Ue].start,end:Y.schedule[Ue].end||ze[Ue].end,available:Y.schedule[Ue].available!==void 0?Y.schedule[Ue].available:ze[Ue].available})}),Q(ze)}else console.log("No hay horario en BD, usando horario por defecto"),Q(pc);T(!0)}xe.success&&H(xe.data||[])}catch(R){console.error("Error loading data:",R),l("Error al cargar los datos del perfil")}finally{h(!1)}},qe=re=>{const{name:je,value:Ce}=re.target;k(R=>({...R,[je]:Ce}))},ke=re=>{const{name:je,value:Ce}=re.target;G(R=>({...R,[je]:Ce}))},J=(re,je)=>{G(Ce=>({...Ce,services:je?[...Ce.services,re]:Ce.services.filter(R=>R!==re)}))},te=(()=>{const re=[];for(let je=7;je<=22;je++)re.push({value:`${je.toString().padStart(2,"0")}:00`,label:`${je===12?12:je>12?je-12:je}:00 ${je>=12?"PM":"AM"}`});return re})(),V=({value:re,onChange:je,options:Ce,placeholder:R,dayKey:xe,field:Y})=>{const[be,ze]=D.useState(!1),[Ue,st]=D.useState(""),Ze=D.useRef(null),kt=D.useRef(null),ft=Ce.filter(lt=>lt.label.toLowerCase().includes(Ue.toLowerCase())),It=Ce.find(lt=>lt.value===re);D.useEffect(()=>{const lt=Yt=>{Ze.current&&!Ze.current.contains(Yt.target)&&kt.current&&!kt.current.contains(Yt.target)&&(ze(!1),st(""))};return document.addEventListener("mousedown",lt),()=>document.removeEventListener("mousedown",lt)},[]),D.useEffect(()=>{const lt=document.querySelector(`[data-day="${xe}"]`);lt&&(be?(lt.style.zIndex="99998",lt.style.position="relative",lt.style.overflow="visible"):(lt.style.zIndex="",lt.style.position="",lt.style.overflow=""))},[be,xe]);const ar=lt=>{je(lt.value),ze(!1),st("")};return n.jsxs("div",{className:"relative w-full",style:{zIndex:1e3},children:[n.jsxs("button",{ref:kt,type:"button",onClick:()=>ze(!be),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 hover:border-blue-500/50 transition-all duration-300 text-left flex items-center justify-between shadow-xl shadow-blue-500/20",children:[n.jsx("span",{children:It?It.label:R}),n.jsx(ob,{size:16,className:`text-gray-400 transition-transform duration-200 ${be?"rotate-180":""}`})]}),be&&n.jsxs("div",{ref:Ze,className:"absolute w-full mt-1 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl border border-red-500/30 rounded-2xl shadow-2xl shadow-red-500/10 max-h-64 overflow-visible",style:{zIndex:99999,position:"absolute"},children:[n.jsx("div",{className:"p-3 border-b border-gray-700/50",children:n.jsx("input",{type:"text",placeholder:"Buscar hora...",value:Ue,onChange:lt=>st(lt.target.value),className:"w-full px-3 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-red-500/50 focus:border-red-500/50 text-sm shadow-xl shadow-blue-500/20"})}),n.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar pr-1",children:ft.length>0?ft.map(lt=>n.jsxs("button",{type:"button",onClick:()=>ar(lt),className:`w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-red-600/20 hover:to-blue-600/20 transition-all duration-200 text-sm font-medium border-b border-gray-700/30 last:border-b-0 flex items-center justify-between group ${re===lt.value?"bg-gradient-to-r from-red-600/30 to-blue-600/30 text-white":"text-gray-300 hover:text-white"}`,children:[n.jsx("span",{children:lt.label}),re===lt.value&&n.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-red-400 to-blue-400 rounded-full"})]},lt.value)):n.jsx("div",{className:"px-4 py-6 text-center text-gray-400 text-sm",children:"No se encontraron opciones"})})]})]})},P=re=>{const[je]=re.split(":").map(Number);return`${je.toString().padStart(2,"0")}:00`},I=(re,je,Ce)=>{if(je==="available"){Q(xe=>({...xe,[re]:{...xe[re],available:Ce}}));return}let R=P(Ce);Q(xe=>{const Y=xe[re];let be={...xe,[re]:{...Y,[je]:R}};const ze=je==="start"?R:Y.start,Ue=je==="end"?R:Y.end,st=It=>{const[ar]=It.split(":").map(Number);return ar*60},Ze=st(ze);return st(Ue)-Ze<60?be[re].available=!1:be[re].available=!0,be})},E=re=>{const je=re.target.files[0];if(je){if(je.size>5*1024*1024){l("La imagen no puede ser mayor a 5MB");return}if(!je.type.startsWith("image/")){l("Solo se permiten archivos de imagen");return}const Ce=new FileReader;Ce.onload=()=>{w(Ce.result)},Ce.readAsDataURL(je)}},F=()=>{w(null),o.current&&(o.current.value="")},X=async re=>{try{const je=new FormData;return je.append("profilePicture",re),(await Le.upload("/users/upload-profile-picture",je)).profilePictureUrl}catch(je){throw new Error(je.message||"Error al subir la imagen")}},Z=async()=>{var re;try{g(!0);let je=e==null?void 0:e.profilePicture;(re=o.current)!=null&&re.files[0]&&(je=await X(o.current.files[0]));const Ce={};_.name&&_.name.trim()&&(Ce.name=_.name.trim()),_.phone&&_.phone.trim()&&(Ce.phone=_.phone.trim()),_.birthdate&&_.birthdate.trim()&&(Ce.birthdate=_.birthdate.trim()),je&&(Ce.profilePicture=je);const R=await Le.put("/users/profile",Ce),xe=R.data||R,Y={...e,...xe,profilePicture:je};r(Y),k({name:Y.name||"",phone:Y.phone||"",birthdate:$e(Y.birthdate)}),je&&je!==(e==null?void 0:e.profilePicture)?w(je):w(null),o.current&&(o.current.value=""),s("Información personal actualizada correctamente")}catch(je){console.error("Error al actualizar información personal:",je),l(je.message||"Error al actualizar la información personal")}finally{g(!1)}},q=async()=>{try{g(!0);const re={...A,experience:parseInt(A.experience)||0},je=await fa.updateMyProfile(re);je.success?(s("Información profesional actualizada exitosamente"),f(Ce=>({...Ce,...re}))):l(je.message||"Error al actualizar la información profesional")}catch(re){console.error("Error updating professional info:",re),l("Error al actualizar la información profesional")}finally{g(!1)}},se=async()=>{try{g(!0);const re=await fa.updateMyProfile({schedule:ne});re.success?(s("Horarios actualizados exitosamente"),f(je=>({...je,schedule:ne}))):l(re.message||"Error al actualizar los horarios")}catch(re){console.error("Error updating schedule:",re),l("Error al actualizar los horarios")}finally{g(!1)}},ce=re=>{const{name:je,value:Ce}=re.target;ge(R=>({...R,[je]:Ce}))},_e=async()=>{try{if(!le.currentPassword||!le.newPassword||!le.confirmPassword){l("Todos los campos de contraseña son obligatorios");return}if(le.newPassword!==le.confirmPassword){l("Las contraseñas nuevas no coinciden");return}if(le.newPassword.length<6){l("La nueva contraseña debe tener al menos 6 caracteres");return}g(!0),await Le.put("/users/change-password",{currentPassword:le.currentPassword,newPassword:le.newPassword}),ge({currentPassword:"",newPassword:"",confirmPassword:""}),s("Contraseña actualizada correctamente")}catch(re){console.error("Error al cambiar contraseña:",re),l(re.message||"Error al cambiar la contraseña")}finally{g(!1)}};return m?n.jsx(Ot,{children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),n.jsx("p",{className:"mt-4 text-white/80",children:"Cargando perfil..."})]})]})}):n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsx("div",{className:"relative z-10",children:n.jsx(Ot,{children:n.jsx("div",{className:"relative py-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center py-8",children:[n.jsxs("button",{onClick:()=>t("/profile"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/10 backdrop-blur-lg border border-white/20 rounded-full text-white hover:bg-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:scale-105",children:[n.jsx(Tp,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),n.jsx("span",{className:"font-medium text-sm",children:"Volver al Perfil"})]}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n.jsxs(Je,{className:"text-4xl md:text-5xl font-bold",children:[n.jsx(Ut,{className:"w-10 h-10 mx-auto mb-3"}),"Editar Perfil de Barbero"]})}),n.jsx("p",{className:"text-gray-300 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu información profesional y destaca tus habilidades como barbero"})]}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm shadow-lg p-1 flex flex-col sm:flex-row gap-1 w-full max-w-xs sm:max-w-lg",children:[{id:"personal",label:"Personal",icon:Ut},{id:"security",label:"Seguridad",icon:bn},{id:"professional",label:"Profesional",icon:as},{id:"services",label:"Servicios",icon:Vt},{id:"schedule",label:"Horarios",icon:Ar}].map(({id:re,label:je,icon:Ce})=>n.jsxs("button",{type:"button",onClick:()=>y(re),className:`group relative px-3 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex-1 flex items-center justify-center gap-1.5 ${N===re?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(Ce,{size:14,className:`transition-all duration-300 ${N===re?"text-blue-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs sm:text-xs whitespace-nowrap ${N===re?"text-blue-300":"text-white"}`,children:je})]},re))})}),n.jsx("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:n.jsxs("div",{className:"divide-y divide-white/10",children:[N==="personal"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:n.jsx(Fc,{size:18,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-lg font-bold",children:"Foto de Perfil"})]}),n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsx("div",{className:"relative group",children:n.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[n.jsx("img",{src:j||(e==null?void 0:e.profilePicture)||"/images/default-avatar.png",alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var re;return(re=o.current)==null?void 0:re.click()},children:n.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:n.jsx(Zc,{size:16,className:"text-white drop-shadow-lg"})})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{var re;return(re=o.current)==null?void 0:re.click()},disabled:x,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110 shadow-xl shadow-blue-500/20",title:"Subir foto",children:n.jsx(Fc,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),((e==null?void 0:e.profilePicture)||j)&&n.jsx("button",{onClick:F,disabled:x,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110 shadow-xl shadow-blue-500/20",title:"Eliminar foto",children:n.jsx(yn,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),n.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:n.jsx(Ut,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-xl font-bold",children:"Información Personal"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(Ut,{size:16,className:"text-red-400"}),"Nombre Completo"]}),n.jsx("input",{type:"text",name:"name",value:_.name,onChange:qe,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"Tu nombre completo"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(e0,{size:16,className:"text-blue-400"}),"Teléfono"]}),n.jsx("input",{type:"tel",name:"phone",value:_.phone,onChange:qe,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"+57 300 123 4567"})]}),n.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(Et,{size:16,className:"text-red-400"}),"Fecha de Nacimiento"]}),n.jsx("input",{type:"date",name:"birthdate",value:_.birthdate,onChange:qe,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20"})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:Z,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),N==="security"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:n.jsx(bn,{size:20,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-xl font-bold",children:"Cambiar Contraseña"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-red-400"}),"Contraseña Actual"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:oe.current?"text":"password",name:"currentPassword",value:le.currentPassword,onChange:ce,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Tu contraseña actual"}),n.jsx("button",{type:"button",onClick:()=>we(re=>({...re,current:!re.current})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:oe.current?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-blue-400"}),"Nueva Contraseña"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:oe.new?"text":"password",name:"newPassword",value:le.newPassword,onChange:ce,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Tu nueva contraseña"}),n.jsx("button",{type:"button",onClick:()=>we(re=>({...re,new:!re.new})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-300 hover:text-blue-400 transition-colors duration-300",children:oe.new?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-red-400"}),"Confirmar Nueva Contraseña"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:oe.confirm?"text":"password",name:"confirmPassword",value:le.confirmPassword,onChange:ce,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Confirma tu nueva contraseña"}),n.jsx("button",{type:"button",onClick:()=>we(re=>({...re,confirm:!re.confirm})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:oe.confirm?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:_e,disabled:x,loading:x,loadingText:"Actualizando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Cambiar Contraseña"})]})})})]})]})]}),N==="professional"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:n.jsx(as,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-xl font-bold",children:"Información Profesional"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(Vt,{size:16,className:"text-red-400"}),"Especialidad"]}),n.jsx("input",{type:"text",name:"specialty",value:A.specialty,onChange:ke,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"Ej: Cortes clásicos, barbas, etc."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(as,{size:16,className:"text-blue-400"}),"Años de Experiencia"]}),n.jsx("input",{type:"number",name:"experience",min:"0",value:A.experience,onChange:ke,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"0"})]}),n.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-300 mb-1 flex items-center gap-2",children:[n.jsx(Ac,{size:16,className:"text-red-400"}),"Descripción"]}),n.jsx("textarea",{name:"description",value:A.description,onChange:ke,rows:3,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 resize-none shadow-xl shadow-blue-500/20",placeholder:"Cuéntanos sobre tu experiencia y estilo de trabajo..."})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:q,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Cambios"})]})})})]})]}),N==="services"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:n.jsx(Vt,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-xl font-bold",children:"Servicios que Ofreces"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:W.map(re=>n.jsxs("label",{className:`group relative p-4 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm ${A.services.includes(re._id)?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx("input",{type:"checkbox",checked:A.services.includes(re._id),onChange:je=>J(re._id,je.target.checked),className:"sr-only"}),n.jsxs("div",{className:"relative z-10 flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:`font-medium text-base group-hover:scale-105 transition-transform duration-300 ${A.services.includes(re._id)?"text-blue-300":"text-white"}`,children:n.jsx(Je,{className:"font-medium text-base",children:re.name})}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${A.services.includes(re._id)?"border-blue-400 bg-blue-500 shadow-lg":"border-gray-400 group-hover:border-white"}`,children:A.services.includes(re._id)&&n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),n.jsx("p",{className:`text-sm leading-relaxed ${A.services.includes(re._id)?"text-blue-200":"text-gray-300"}`,children:re.description}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/20",children:[n.jsxs("span",{className:`font-bold text-base ${A.services.includes(re._id),"text-blue-400"}`,children:["$",re.price]}),n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A.services.includes(re._id)?"bg-white/20 text-white":"bg-gray-600/50 text-gray-400"}`,children:[re.duration," min"]})]})]})]},re._id))}),n.jsx("div",{className:"flex justify-end",children:n.jsx(gt,{onClick:q,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Servicios"})]})})})]})]}),N==="schedule"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",style:{overflow:"visible",zIndex:10},children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:n.jsx(Ar,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),n.jsx(Je,{className:"text-xl font-bold",children:"Horarios de Trabajo"})]}),n.jsx("div",{className:"space-y-3 mb-6 relative",style:{zIndex:100},children:Object.entries(ne).map(([re,je],Ce)=>n.jsxs("div",{"data-day":re,className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border border-white/10 rounded-lg shadow-lg hover:shadow-xl overflow-hidden",style:{zIndex:100+Ce,position:"relative"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0 md:w-40",children:[n.jsx("input",{type:"checkbox",checked:je.available,onChange:R=>I(re,"available",R.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-white font-medium text-base",children:ly[re]})]}),je.available&&n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx(V,{value:je.start||"07:00",onChange:R=>I(re,"start",R),options:te,placeholder:"Hora de inicio",dayKey:re,field:"start"}),n.jsx("span",{className:"text-gray-300 font-medium text-sm px-2",children:"a"}),n.jsx(V,{value:je.end||"19:00",onChange:R=>I(re,"end",R),options:te,placeholder:"Hora de fin",dayKey:re,field:"end"})]}),!je.available&&n.jsx("div",{className:"flex-1",children:n.jsx("span",{className:"text-gray-400 italic text-sm",children:"No disponible"})})]})]},re))}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("button",{type:"button",onClick:()=>{Q(pc),s("Horarios restablecidos a 7AM-10PM")},className:"px-4 py-2 bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/50 rounded-lg text-yellow-400 hover:from-yellow-600/30 hover:to-orange-600/30 transition-all duration-300 text-sm font-medium shadow-xl shadow-blue-500/20",children:"🔄 Restablecer a 7AM-10PM"}),n.jsx(gt,{onClick:se,disabled:x,loading:x,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Horarios"})]})})]})]})]})]})})]})})})})]})},cy=()=>{var $e,Re,qe,ke;const{user:e,setUser:r}=Jt(),{showSuccess:t,showError:s}=zr(),l=Na(),o=D.useRef(null),[d,f]=D.useState(!1),[m,h]=D.useState("personal"),[x,g]=D.useState(null),N=J=>{if(!J)return"";const ve=new Date(J),te=ve.getTimezoneOffset();return new Date(ve.getTime()+te*60*1e3).toISOString().split("T")[0]},[y,j]=D.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",birthdate:N(e==null?void 0:e.birthdate),profilePicture:(e==null?void 0:e.profilePicture)||""}),[w,b]=D.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[T,_]=D.useState({emailNotifications:(Re=($e=e==null?void 0:e.preferences)==null?void 0:$e.emailNotifications)!=null?Re:!0,marketingEmails:(ke=(qe=e==null?void 0:e.preferences)==null?void 0:qe.marketingEmails)!=null?ke:!1}),[k,A]=D.useState({current:!1,new:!1,confirm:!1});D.useEffect(()=>{var J,ve,te,V;e&&(j({name:e.name||"",email:e.email||"",phone:e.phone||"",birthdate:N(e.birthdate),profilePicture:e.profilePicture||""}),_({emailNotifications:(ve=(J=e.preferences)==null?void 0:J.emailNotifications)!=null?ve:!0,marketingEmails:(V=(te=e.preferences)==null?void 0:te.marketingEmails)!=null?V:!1}))},[e]);const G=J=>{const{name:ve,value:te}=J.target;j(V=>({...V,[ve]:te}))},W=J=>{const{name:ve,value:te}=J.target;b(V=>({...V,[ve]:te}))},H=J=>{const{name:ve,checked:te}=J.target;_(V=>({...V,[ve]:te}))},ne=J=>{const ve=J.target.files[0];if(ve){if(ve.size>5*1024*1024){s("La imagen no puede ser mayor a 5MB");return}if(!ve.type.startsWith("image/")){s("Solo se permiten archivos de imagen");return}const te=new FileReader;te.onload=()=>{g(te.result)},te.readAsDataURL(ve)}},Q=()=>{g(null),j(J=>({...J,profilePicture:""})),o.current&&(o.current.value="")},le=async J=>{try{const ve=new FormData;return ve.append("profilePicture",J),(await Le.upload("/users/upload-profile-picture",ve)).profilePictureUrl}catch(ve){throw new Error(ve.message||"Error al subir la imagen")}},ge=async()=>{var J;try{f(!0);let ve=y.profilePicture;(J=o.current)!=null&&J.files[0]&&(ve=await le(o.current.files[0]));const te={};y.name&&y.name.trim()&&(te.name=y.name.trim()),y.email&&y.email.trim()&&(te.email=y.email.trim()),y.phone&&y.phone.trim()&&(te.phone=y.phone.trim()),y.birthdate&&y.birthdate.trim()&&(te.birthdate=y.birthdate.trim()),ve&&(te.profilePicture=ve);const V=await Le.put("/users/profile",te),P=V.data||V,I={...e,...P,profilePicture:ve};r(I),j({name:I.name||"",email:I.email||"",phone:I.phone||"",birthdate:N(I.birthdate),profilePicture:I.profilePicture||""}),g(null),o.current&&(o.current.value=""),t("Perfil actualizado correctamente")}catch(ve){console.error("Error al actualizar perfil:",ve),s(ve.message||"Error al actualizar el perfil")}finally{f(!1)}},oe=async()=>{try{if(!w.currentPassword||!w.newPassword||!w.confirmPassword){s("Todos los campos de contraseña son obligatorios");return}if(w.newPassword!==w.confirmPassword){s("Las contraseñas nuevas no coinciden");return}if(w.newPassword.length<6){s("La nueva contraseña debe tener al menos 6 caracteres");return}f(!0),await Le.put("/users/change-password",{currentPassword:w.currentPassword,newPassword:w.newPassword}),b({currentPassword:"",newPassword:"",confirmPassword:""}),t("Contraseña actualizada correctamente")}catch(J){console.error("Error al cambiar contraseña:",J),s(J.message||"Error al cambiar la contraseña")}finally{f(!1)}},we=async()=>{try{f(!0);const J=await Le.put("/users/preferences",T),ve=J.data||J;r(te=>({...te,preferences:ve.preferences||T})),t("Preferencias actualizadas correctamente")}catch(J){console.error("Error al actualizar preferencias:",J),s(J.message||"Error al actualizar las preferencias")}finally{f(!1)}};return n.jsx(Ot,{children:n.jsx("div",{className:"relative py-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("button",{onClick:()=>l("/dashboard"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg text-white hover:bg-white/10 hover:border-white/40 transition-all duration-300 shadow-xl shadow-blue-500/20 hover:scale-105",children:[n.jsx(Tp,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),n.jsx("span",{className:"font-medium text-sm",children:"Volver al Dashboard"})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-3 text-white leading-tight drop-shadow-lg",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Editar Perfil de Usuario"})}),n.jsx("p",{className:"text-blue-200 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu información personal y preferencias de la cuenta con total seguridad"})]}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm shadow-xl shadow-blue-500/20 p-1 flex flex-col sm:flex-row gap-1 w-full max-w-xs sm:max-w-md",children:[{id:"personal",label:"Personal",icon:Ut},{id:"security",label:"Seguridad",icon:bn},{id:"preferences",label:"Preferencias",icon:sx}].map(({id:J,label:ve,icon:te})=>n.jsxs("button",{type:"button",onClick:()=>h(J),className:`group relative px-3 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex-1 flex items-center justify-center gap-1.5 ${m===J?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(te,{size:14,className:`transition-all duration-300 ${m===J?"text-blue-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs sm:text-xs whitespace-nowrap ${m===J?"text-blue-300":"text-white"}`,children:ve})]},J))})}),n.jsx("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:n.jsxs("div",{className:"divide-y divide-white/10",children:[m==="personal"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:n.jsx(Fc,{size:18,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Foto de Perfil"})]}),n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsx("div",{className:"relative group",children:n.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[n.jsx("img",{src:x||y.profilePicture||"/images/default-avatar.png",alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var J;return(J=o.current)==null?void 0:J.click()},children:n.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:n.jsx(Zc,{size:16,className:"text-white drop-shadow-lg"})})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{var J;return(J=o.current)==null?void 0:J.click()},disabled:d,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110 shadow-xl shadow-blue-500/20",title:"Subir foto",children:n.jsx(Fc,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),(y.profilePicture||x)&&n.jsx("button",{onClick:Q,disabled:d,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110 shadow-xl shadow-blue-500/20",title:"Eliminar foto",children:n.jsx(yn,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),n.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:ne,className:"hidden"})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 hover:border-red-500/40 transition-all duration-500",children:n.jsx(Ut,{size:20,className:"text-blue-400 hover:text-red-400 transition-colors duration-500"})}),n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Información Personal"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(Ut,{size:14,"sm:size":16,className:"text-red-400"}),"Nombre Completo"]}),n.jsx("input",{type:"text",name:"name",value:y.name,onChange:G,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"Tu nombre completo"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[n.jsx(Gl,{size:14,"sm:size":16,className:"text-blue-400"}),"Correo Electrónico"]}),n.jsx("input",{type:"email",name:"email",value:y.email,onChange:G,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"tu@email.com"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(e0,{size:14,"sm:size":16,className:"text-red-400"}),"Teléfono"]}),n.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:G,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20",placeholder:"+57 300 123 4567"})]}),n.jsxs("div",{className:"space-y-3 md:col-span-2",children:[n.jsxs("label",{className:"block text-xs sm:text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[n.jsx(Et,{size:14,"sm:size":16,className:"text-blue-400"}),"Fecha de Nacimiento"]}),n.jsx("input",{type:"date",name:"birthdate",value:y.birthdate,onChange:G,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20"})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:ge,disabled:d,loading:d,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),m==="security"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:n.jsx(bn,{size:20,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Cambiar Contraseña"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-red-400"}),"Contraseña Actual"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:k.current?"text":"password",name:"currentPassword",value:w.currentPassword,onChange:W,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Tu contraseña actual"}),n.jsx("button",{type:"button",onClick:()=>A(J=>({...J,current:!J.current})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:k.current?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-blue-400"}),"Nueva Contraseña"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:k.new?"text":"password",name:"newPassword",value:w.newPassword,onChange:W,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Tu nueva contraseña"}),n.jsx("button",{type:"button",onClick:()=>A(J=>({...J,new:!J.new})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-300 hover:text-blue-400 transition-colors duration-300",children:k.new?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[n.jsx(bn,{size:16,className:"text-red-400"}),"Confirmar Nueva Contraseña"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:k.confirm?"text":"password",name:"confirmPassword",value:w.confirmPassword,onChange:W,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm placeholder-gray-400 focus:border-blue-500/50 shadow-xl shadow-blue-500/20 pr-12",placeholder:"Confirma tu nueva contraseña"}),n.jsx("button",{type:"button",onClick:()=>A(J=>({...J,confirm:!J.confirm})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:k.confirm?n.jsx(Ds,{size:18}):n.jsx(ma,{size:18})})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:oe,disabled:d,loading:d,loadingText:"Actualizando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Cambiar Contraseña"})]})})})]})]})]}),m==="preferences"&&n.jsxs("div",{className:"group relative px-4 py-4 transition-colors backdrop-blur-sm border-b border-white/5 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative p-2",children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 hover:border-red-500/40 transition-all duration-500",children:n.jsx(sx,{size:20,className:"text-blue-400 hover:text-red-400 transition-colors duration-500"})}),n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Preferencias de Notificaciones"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg backdrop-blur-sm shadow-xl shadow-blue-500/20 transition-all duration-300 hover:border-white/40",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold text-sm",children:"Notificaciones por Email"}),n.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"Recibe notificaciones importantes por correo electrónico"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"emailNotifications",checked:T.emailNotifications,onChange:H,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-blue-600 shadow-xl shadow-blue-500/20 backdrop-blur-sm"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg backdrop-blur-sm shadow-xl shadow-blue-500/20 transition-all duration-300 hover:border-white/40",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold text-sm",children:"Emails de Marketing"}),n.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"Recibe información sobre promociones y novedades"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"marketingEmails",checked:T.marketingEmails,onChange:H,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-blue-600 shadow-xl shadow-blue-500/20 backdrop-blur-sm"})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(gt,{onClick:we,disabled:d,loading:d,loadingText:"Guardando...",variant:"primary",size:"md",className:"shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{size:18}),n.jsx("span",{children:"Guardar Preferencias"})]})})})]})]})]})]})})]})})})},dy=()=>{const{user:e}=Jt();return e?e.role==="barber"?n.jsx(oy,{}):n.jsx(cy,{}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10 text-center",children:n.jsxs("div",{className:"group relative p-6 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),n.jsx("p",{className:"mt-4 text-white font-medium",children:"Cargando perfil..."})]})]})})]})};function ut(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function cn(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function Mr(e,r){const t=ut(e);return isNaN(r)?cn(e,NaN):(r&&t.setDate(t.getDate()+r),t)}function Mn(e,r){const t=ut(e);if(isNaN(r))return cn(e,NaN);if(!r)return t;const s=t.getDate(),l=cn(e,t.getTime());l.setMonth(t.getMonth()+r+1,0);const o=l.getDate();return s>=o?l:(t.setFullYear(l.getFullYear(),l.getMonth(),s),t)}const Mu=6048e5,uy=864e5;let fy={};function Yl(){return fy}function Kn(e,r){var f,m,h,x,g,N,y,j;const t=Yl(),s=(j=(y=(x=(h=r==null?void 0:r.weekStartsOn)!=null?h:(m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?x:t.weekStartsOn)!=null?y:(N=(g=t.locale)==null?void 0:g.options)==null?void 0:N.weekStartsOn)!=null?j:0,l=ut(e),o=l.getDay(),d=(o<s?7:0)+o-s;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Os(e){return Kn(e,{weekStartsOn:1})}function Dp(e){const r=ut(e),t=r.getFullYear(),s=cn(e,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const l=Os(s),o=cn(e,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const d=Os(o);return r.getTime()>=l.getTime()?t+1:r.getTime()>=d.getTime()?t:t-1}function Ms(e){const r=ut(e);return r.setHours(0,0,0,0),r}function Oc(e){const r=ut(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function Xn(e,r){const t=Ms(e),s=Ms(r),l=+t-Oc(t),o=+s-Oc(s);return Math.round((l-o)/uy)}function hy(e){const r=Dp(e),t=cn(e,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Os(t)}function ju(e,r){const t=r*7;return Mr(e,t)}function my(e,r){return Mn(e,r*12)}function xy(e){let r;return e.forEach(function(t){const s=ut(t);(r===void 0||r<s||isNaN(Number(s)))&&(r=s)}),r||new Date(NaN)}function py(e){let r;return e.forEach(t=>{const s=ut(t);(!r||r>s||isNaN(+s))&&(r=s)}),r||new Date(NaN)}function Lr(e,r){const t=Ms(e),s=Ms(r);return+t==+s}function Iu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gy(e){if(!Iu(e)&&typeof e!="number")return!1;const r=ut(e);return!isNaN(Number(r))}function Ll(e,r){const t=ut(e),s=ut(r),l=t.getFullYear()-s.getFullYear(),o=t.getMonth()-s.getMonth();return l*12+o}function vy(e,r,t){const s=Kn(e,t),l=Kn(r,t),o=+s-Oc(s),d=+l-Oc(l);return Math.round((o-d)/Mu)}function Ru(e){const r=ut(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function qr(e){const r=ut(e);return r.setDate(1),r.setHours(0,0,0,0),r}function Fp(e){const r=ut(e),t=cn(e,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Lu(e,r){var f,m,h,x,g,N,y,j;const t=Yl(),s=(j=(y=(x=(h=r==null?void 0:r.weekStartsOn)!=null?h:(m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?x:t.weekStartsOn)!=null?y:(N=(g=t.locale)==null?void 0:g.options)==null?void 0:N.weekStartsOn)!=null?j:0,l=ut(e),o=l.getDay(),d=(o<s?-7:0)+6-(o-s);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}function Op(e){return Lu(e,{weekStartsOn:1})}const wy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},by=(e,r,t)=>{let s;const l=wy[e];return typeof l=="string"?s=l:r===1?s=l.one:s=l.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function _i(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const yy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ny={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_y={date:_i({formats:yy,defaultWidth:"full"}),time:_i({formats:Ny,defaultWidth:"full"}),dateTime:_i({formats:jy,defaultWidth:"full"})},ky={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sy=(e,r,t,s)=>ky[e];function Gn(e){return(r,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let l;if(s==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,f=t!=null&&t.width?String(t.width):d;l=e.formattingValues[f]||e.formattingValues[d]}else{const d=e.defaultWidth,f=t!=null&&t.width?String(t.width):e.defaultWidth;l=e.values[f]||e.values[d]}const o=e.argumentCallback?e.argumentCallback(r):r;return l[o]}}const Ey={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ty={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ay={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Py={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fy=(e,r)=>{const t=Number(e),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Oy={ordinalNumber:Fy,era:Gn({values:Ey,defaultWidth:"wide"}),quarter:Gn({values:Ty,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gn({values:Cy,defaultWidth:"wide"}),day:Gn({values:Ay,defaultWidth:"wide"}),dayPeriod:Gn({values:Py,defaultWidth:"wide",formattingValues:Dy,defaultFormattingWidth:"wide"})};function Yn(e){return(r,t={})=>{const s=t.width,l=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=r.match(l);if(!o)return null;const d=o[0],f=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?Iy(f,g=>g.test(d)):My(f,g=>g.test(d));let h;h=e.valueCallback?e.valueCallback(m):m,h=t.valueCallback?t.valueCallback(h):h;const x=r.slice(d.length);return{value:h,rest:x}}}function My(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function Iy(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function Mp(e){return(r,t={})=>{const s=r.match(e.matchPattern);if(!s)return null;const l=s[0],o=r.match(e.parsePattern);if(!o)return null;let d=e.valueCallback?e.valueCallback(o[0]):o[0];d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(l.length);return{value:d,rest:f}}}const Ry=/^(\d+)(th|st|nd|rd)?/i,Ly=/\d+/i,By={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zy={any:[/^b/i,/^(a|c)/i]},Uy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$y={any:[/1/i,/2/i,/3/i,/4/i]},Wy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ky={ordinalNumber:Mp({matchPattern:Ry,parsePattern:Ly,valueCallback:e=>parseInt(e,10)}),era:Yn({matchPatterns:By,defaultMatchWidth:"wide",parsePatterns:zy,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:Uy,defaultMatchWidth:"wide",parsePatterns:$y,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:Wy,defaultMatchWidth:"wide",parsePatterns:Hy,defaultParseWidth:"any"}),day:Yn({matchPatterns:Vy,defaultMatchWidth:"wide",parsePatterns:Gy,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:Yy,defaultMatchWidth:"any",parsePatterns:Xy,defaultParseWidth:"any"})},Ip={code:"en-US",formatDistance:by,formatLong:_y,formatRelative:Sy,localize:Oy,match:Ky,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qy(e){const r=ut(e);return Xn(r,Fp(r))+1}function Rp(e){const r=ut(e),t=+Os(r)-+hy(r);return Math.round(t/Mu)+1}function Lp(e,r){var x,g,N,y,j,w,b,T;const t=ut(e),s=t.getFullYear(),l=Yl(),o=(T=(b=(y=(N=r==null?void 0:r.firstWeekContainsDate)!=null?N:(g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)!=null?y:l.firstWeekContainsDate)!=null?b:(w=(j=l.locale)==null?void 0:j.options)==null?void 0:w.firstWeekContainsDate)!=null?T:1,d=cn(e,0);d.setFullYear(s+1,0,o),d.setHours(0,0,0,0);const f=Kn(d,r),m=cn(e,0);m.setFullYear(s,0,o),m.setHours(0,0,0,0);const h=Kn(m,r);return t.getTime()>=f.getTime()?s+1:t.getTime()>=h.getTime()?s:s-1}function Qy(e,r){var f,m,h,x,g,N,y,j;const t=Yl(),s=(j=(y=(x=(h=r==null?void 0:r.firstWeekContainsDate)!=null?h:(m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)!=null?x:t.firstWeekContainsDate)!=null?y:(N=(g=t.locale)==null?void 0:g.options)==null?void 0:N.firstWeekContainsDate)!=null?j:1,l=Lp(e,r),o=cn(e,0);return o.setFullYear(l,0,s),o.setHours(0,0,0,0),Kn(o,r)}function Bp(e,r){const t=ut(e),s=+Kn(t,r)-+Qy(t,r);return Math.round(s/Mu)+1}function bt(e,r){const t=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return t+s}const Xa={y(e,r){const t=e.getFullYear(),s=t>0?t:1-t;return bt(r==="yy"?s%100:s,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):bt(t+1,2)},d(e,r){return bt(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return bt(e.getHours()%12||12,r.length)},H(e,r){return bt(e.getHours(),r.length)},m(e,r){return bt(e.getMinutes(),r.length)},s(e,r){return bt(e.getSeconds(),r.length)},S(e,r){const t=r.length,s=e.getMilliseconds(),l=Math.trunc(s*Math.pow(10,t-3));return bt(l,r.length)}},gi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ox={G:function(e,r,t){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const s=e.getFullYear(),l=s>0?s:1-s;return t.ordinalNumber(l,{unit:"year"})}return Xa.y(e,r)},Y:function(e,r,t,s){const l=Lp(e,s),o=l>0?l:1-l;if(r==="YY"){const d=o%100;return bt(d,2)}return r==="Yo"?t.ordinalNumber(o,{unit:"year"}):bt(o,r.length)},R:function(e,r){const t=Dp(e);return bt(t,r.length)},u:function(e,r){const t=e.getFullYear();return bt(t,r.length)},Q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return bt(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return bt(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,t){const s=e.getMonth();switch(r){case"M":case"MM":return Xa.M(e,r);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,t){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return bt(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,t,s){const l=Bp(e,s);return r==="wo"?t.ordinalNumber(l,{unit:"week"}):bt(l,r.length)},I:function(e,r,t){const s=Rp(e);return r==="Io"?t.ordinalNumber(s,{unit:"week"}):bt(s,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Xa.d(e,r)},D:function(e,r,t){const s=qy(e);return r==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):bt(s,r.length)},E:function(e,r,t){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,t,s){const l=e.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return bt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(e,r,t,s){const l=e.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return bt(o,r.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(e,r,t){const s=e.getDay(),l=s===0?7:s;switch(r){case"i":return String(l);case"ii":return bt(l,r.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,t){const l=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,r,t){const s=e.getHours();let l;switch(s===12?l=gi.noon:s===0?l=gi.midnight:l=s/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,r,t){const s=e.getHours();let l;switch(s>=17?l=gi.evening:s>=12?l=gi.afternoon:s>=4?l=gi.morning:l=gi.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Xa.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Xa.H(e,r)},K:function(e,r,t){const s=e.getHours()%12;return r==="Ko"?t.ordinalNumber(s,{unit:"hour"}):bt(s,r.length)},k:function(e,r,t){let s=e.getHours();return s===0&&(s=24),r==="ko"?t.ordinalNumber(s,{unit:"hour"}):bt(s,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xa.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Xa.s(e,r)},S:function(e,r){return Xa.S(e,r)},X:function(e,r,t){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return dx(s);case"XXXX":case"XX":return Cs(s);case"XXXXX":case"XXX":default:return Cs(s,":")}},x:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"x":return dx(s);case"xxxx":case"xx":return Cs(s);case"xxxxx":case"xxx":default:return Cs(s,":")}},O:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+cx(s,":");case"OOOO":default:return"GMT"+Cs(s,":")}},z:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+cx(s,":");case"zzzz":default:return"GMT"+Cs(s,":")}},t:function(e,r,t){const s=Math.trunc(e.getTime()/1e3);return bt(s,r.length)},T:function(e,r,t){const s=e.getTime();return bt(s,r.length)}};function cx(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),l=Math.trunc(s/60),o=s%60;return o===0?t+String(l):t+String(l)+r+bt(o,2)}function dx(e,r){return e%60===0?(e>0?"-":"+")+bt(Math.abs(e)/60,2):Cs(e,r)}function Cs(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),l=bt(Math.trunc(s/60),2),o=bt(s%60,2);return t+l+r+o}const ux=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},zp=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Jy=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],s=t[1],l=t[2];if(!l)return ux(e,r);let o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",ux(s,r)).replace("{{time}}",zp(l,r))},Zy={p:zp,P:Jy},e4=/^D+$/,t4=/^Y+$/,r4=["D","DD","YY","YYYY"];function n4(e){return e4.test(e)}function a4(e){return t4.test(e)}function s4(e,r,t){const s=i4(e,r,t);if(console.warn(s),r4.includes(e))throw new RangeError(s)}function i4(e,r,t){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c4=/^'([^]*?)'?$/,d4=/''/g,u4=/[a-zA-Z]/;function tr(e,r,t){var x,g,N,y,j,w,b,T,_,k,A,G,W,H,ne,Q,le,ge;const s=Yl(),l=(g=(x=t==null?void 0:t.locale)!=null?x:s.locale)!=null?g:Ip,o=(k=(_=(w=(j=t==null?void 0:t.firstWeekContainsDate)!=null?j:(y=(N=t==null?void 0:t.locale)==null?void 0:N.options)==null?void 0:y.firstWeekContainsDate)!=null?w:s.firstWeekContainsDate)!=null?_:(T=(b=s.locale)==null?void 0:b.options)==null?void 0:T.firstWeekContainsDate)!=null?k:1,d=(ge=(le=(H=(W=t==null?void 0:t.weekStartsOn)!=null?W:(G=(A=t==null?void 0:t.locale)==null?void 0:A.options)==null?void 0:G.weekStartsOn)!=null?H:s.weekStartsOn)!=null?le:(Q=(ne=s.locale)==null?void 0:ne.options)==null?void 0:Q.weekStartsOn)!=null?ge:0,f=ut(e);if(!gy(f))throw new RangeError("Invalid time value");let m=r.match(o4).map(oe=>{const we=oe[0];if(we==="p"||we==="P"){const $e=Zy[we];return $e(oe,l.formatLong)}return oe}).join("").match(l4).map(oe=>{if(oe==="''")return{isToken:!1,value:"'"};const we=oe[0];if(we==="'")return{isToken:!1,value:f4(oe)};if(ox[we])return{isToken:!0,value:oe};if(we.match(u4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");return{isToken:!1,value:oe}});l.localize.preprocessor&&(m=l.localize.preprocessor(f,m));const h={firstWeekContainsDate:o,weekStartsOn:d,locale:l};return m.map(oe=>{if(!oe.isToken)return oe.value;const we=oe.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&a4(we)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&n4(we))&&s4(we,r,String(e));const $e=ox[we[0]];return $e(f,we,l.localize,h)}).join("")}function f4(e){const r=e.match(c4);return r?r[1].replace(d4,"'"):e}function h4(e){const r=ut(e),t=r.getFullYear(),s=r.getMonth(),l=cn(e,0);return l.setFullYear(t,s+1,0),l.setHours(0,0,0,0),l.getDate()}function m4(e){return Math.trunc(+ut(e)/1e3)}function x4(e){const r=ut(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(0,0,0,0),r}function p4(e,r){return vy(x4(e),qr(e),r)+1}function Mc(e,r){const t=ut(e),s=ut(r);return t.getTime()>s.getTime()}function Bu(e,r){const t=ut(e),s=ut(r);return+t<+s}function zu(e,r){const t=ut(e),s=ut(r);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()}function g4(e,r){const t=ut(e),s=ut(r);return t.getFullYear()===s.getFullYear()}function eu(e,r){return Mr(e,-r)}function tu(e,r){const t=ut(e),s=t.getFullYear(),l=t.getDate(),o=cn(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const d=h4(o);return t.setMonth(r,Math.min(l,d)),t}function fx(e,r){const t=ut(e);return isNaN(+t)?cn(e,NaN):(t.setFullYear(r),t)}const v4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},w4=(e,r,t)=>{let s;const l=v4[e];return typeof l=="string"?s=l:r===1?s=l.one:s=l.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+s:"hace "+s:s},b4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},y4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},N4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j4={date:_i({formats:b4,defaultWidth:"full"}),time:_i({formats:y4,defaultWidth:"full"}),dateTime:_i({formats:N4,defaultWidth:"full"})},_4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},k4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},S4=(e,r,t,s)=>r.getHours()!==1?k4[e]:_4[e],E4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},T4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},C4={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},A4={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},P4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},D4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},F4=(e,r)=>Number(e)+"º",O4={ordinalNumber:F4,era:Gn({values:E4,defaultWidth:"wide"}),quarter:Gn({values:T4,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Gn({values:C4,defaultWidth:"wide"}),day:Gn({values:A4,defaultWidth:"wide"}),dayPeriod:Gn({values:P4,defaultWidth:"wide",formattingValues:D4,defaultFormattingWidth:"wide"})},M4=/^(\d+)(º)?/i,I4=/\d+/i,R4={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},L4={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},B4={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},z4={any:[/1/i,/2/i,/3/i,/4/i]},U4={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},$4={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},W4={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},H4={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},V4={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},G4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Y4={ordinalNumber:Mp({matchPattern:M4,parsePattern:I4,valueCallback:function(e){return parseInt(e,10)}}),era:Yn({matchPatterns:R4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:U4,defaultMatchWidth:"wide",parsePatterns:$4,defaultParseWidth:"any"}),day:Yn({matchPatterns:W4,defaultMatchWidth:"wide",parsePatterns:H4,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:V4,defaultMatchWidth:"any",parsePatterns:G4,defaultParseWidth:"any"})},Di={code:"es",formatDistance:w4,formatLong:j4,formatRelative:S4,localize:O4,match:Y4,options:{weekStartsOn:1,firstWeekContainsDate:1}},hx=()=>{var Rn;const[e]=Aw(),[r,t]=D.useState([]),[s,l]=D.useState(""),[o,d]=D.useState(""),[f,m]=D.useState(!1),[h,x]=D.useState(!1),[g,N]=D.useState(null),[y,j]=D.useState(""),[w,b]=D.useState(""),[T,_]=D.useState(""),[k,A]=D.useState(""),[G,W]=D.useState([]),[H,ne]=D.useState([]),[Q,le]=D.useState([]),[ge,oe]=D.useState(""),[we,$e]=D.useState("upcoming"),[Re,qe]=D.useState(!1),[ke,J]=D.useState(null),[ve,te]=D.useState(""),[V,P]=D.useState(!1),[I,E]=D.useState(null),[F,X]=D.useState(!1),[Z,q]=D.useState(null),{user:se}=Jt(),{showSuccess:ce,showError:_e}=zr();D.useEffect(()=>{console.log("Component mounted, user:",se),re(),je(),Ce()},[se]),D.useEffect(()=>{console.log("🔄 Services state changed:",G)},[G]),D.useEffect(()=>{console.log("🔄 Barbers state changed:",H)},[H]),D.useEffect(()=>{const ae=e.get("barberId");ae&&H.length>0&&H.find(or=>or._id===ae)&&b(ae)},[e,H]),D.useEffect(()=>{T&&w?(console.log("🔄 Date or barber changed, fetching available times"),R()):(console.log("🔄 Clearing available times - missing date or barber"),le([]),A(""))},[T,w]),D.useEffect(()=>(F||Re||V||g?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[F,Re,V,g]),D.useEffect(()=>{k&&Q.length>0&&(Q.some(Xe=>typeof Xe=="object"?Xe.datetime===k:Xe===k)||(console.log("🔄 Selected time no longer available, clearing selection"),A("")))},[Q,k]),D.useEffect(()=>{console.log("🎯 Button state check:",{submitting:h,selectedService:!!y,selectedBarber:!!w,selectedDate:!!T,selectedTime:!!k,isButtonDisabled:h||!y||!w||!T||!k})},[h,y,w,T,k]);const re=async()=>{if(se!=null&&se._id)try{m(!0);const ae=await Xr.getAppointments();ae.success?t(ae.data||[]):d(ae.message||"Error al cargar las citas")}catch(ae){console.error("Error fetching appointments:",ae),d("Error al cargar las citas")}finally{m(!1)}},je=async()=>{try{console.log("Fetching services...");const ae=await Fu.getAllServices();console.log("Services response:",ae),ae.success?(W(ae.data||[]),console.log("Services loaded (success):",ae.data)):ae.data&&ae.data.success?(W(ae.data.data||[]),console.log("Services loaded (data.success):",ae.data.data)):Array.isArray(ae.data)?(W(ae.data),console.log("Services loaded (array):",ae.data)):Array.isArray(ae)?(W(ae),console.log("Services loaded (direct array):",ae)):console.warn("Unexpected services response format:",ae)}catch(ae){console.error("Error fetching services:",ae)}},Ce=async()=>{try{console.log("Fetching barbers...");const ae=await fa.getAllBarbers();console.log("Barbers response:",ae),ae.success?(ne(ae.data||[]),console.log("Barbers loaded (success):",ae.data)):ae.data&&ae.data.success?(ne(ae.data.data||[]),console.log("Barbers loaded (data.success):",ae.data.data)):Array.isArray(ae.data)?(ne(ae.data),console.log("Barbers loaded (array):",ae.data)):Array.isArray(ae)?(ne(ae),console.log("Barbers loaded (direct array):",ae)):console.warn("Unexpected barbers response format:",ae)}catch(ae){console.error("Error fetching barbers:",ae)}},R=async()=>{if(!(!T||!w))try{console.log("🕐 Fetching available times for:",{selectedBarber:w,selectedDate:T});const ae=await Xr.getAvailableTimes(w,T);console.log("🕐 Available times response:",ae);let Xe=[];ae.success&&ae.data&&Array.isArray(ae.data.slots)?(Xe=ae.data.slots,oe(ae.data.reason||""),console.log("🕐 Available times loaded (slots):",ae.data.slots),console.log("🕐 Barber name:",ae.data.barber),console.log("🕐 Date:",ae.data.date),ae.data.reason&&console.log("🕐 Reason:",ae.data.reason)):ae.data&&ae.data.success&&Array.isArray(ae.data.data)?(Xe=ae.data.data,console.log("Available times loaded (nested success + array):",ae.data.data)):Array.isArray(ae.data)?(Xe=ae.data,console.log("Available times loaded (direct array):",ae.data)):Array.isArray(ae)?(Xe=ae,console.log("Available times loaded (response is array):",ae)):(console.warn("Available times response structure unexpected:",ae),Xe=[]),le(Xe),console.log("🕐 Final available times set:",Xe)}catch(ae){console.error("❌ Error fetching available times:",ae),le([])}},xe=async ae=>{var or,Ur;if(ae.preventDefault(),console.log("🚀 Submit button clicked! Form state:",{selectedService:y,selectedBarber:w,selectedDate:T,selectedTime:k,submitting:h}),!y||!w||!T||!k){console.log("❌ Missing required fields"),d("Por favor completa todos los campos");return}const Xe=Q.some($t=>typeof $t=="object"?$t.datetime===k:$t===k);if(console.log("🔍 Validating time availability:",{selectedTime:k,availableTimes:Q,isTimeAvailable:Xe}),!Xe){d("El horario seleccionado ya no está disponible");return}try{if(x(!0),d(""),l(""),!k||!new Date(k).getTime()){d("Por favor selecciona un horario válido");return}const $t={serviceId:y,barberId:w,date:k};console.log("📤 Sending appointment data:",$t),console.log("📤 Selected date from input:",T),console.log("📤 Selected time (datetime):",k),console.log("📤 Date object from selectedTime:",new Date(k));const kr=await Xr.createAppointment($t);if(kr.success)l("Cita agendada exitosamente. El barbero confirmará tu cita pronto."),ce("Cita agendada exitosamente"),j(""),b(""),_(""),A(""),le([]),await re();else throw new Error(kr.message||"Error al agendar la cita")}catch($t){console.error("Error creating appointment:",$t);const kr=((Ur=(or=$t.response)==null?void 0:or.data)==null?void 0:Ur.message)||$t.message||"Error al agendar la cita";d(kr),_e(kr)}finally{x(!1)}},Y=async()=>{if(g)try{const ae=await Xr.cancelAppointment(g);ae.success?(ce("Cita cancelada exitosamente"),N(null),await re()):_e(ae.message||"Error al cancelar la cita")}catch(ae){console.error("Error canceling appointment:",ae),_e("Error al cancelar la cita")}},be=ae=>{E(ae),P(!0)},ze=async()=>{if(I)try{const ae=await Xr.deleteAppointment(I);ae.success?(ce("Reporte de cita eliminado exitosamente"),await re()):_e(ae.message||"Error al eliminar el reporte de la cita")}catch(ae){console.error("Error deleting appointment:",ae),_e("Error al eliminar el reporte de la cita")}finally{P(!1),E(null)}},Ue=()=>{P(!1),E(null)},st=ae=>{J(ae),qe(!0),te("")},Ze=()=>{qe(!1),J(null),te("")},kt=async()=>{if(!ve.trim()){_e("Debe proporcionar un motivo para la cancelación");return}if(ve.split(" ").filter(Xe=>Xe.length>0).length>100){_e("El motivo no puede exceder las 100 palabras");return}try{const Xe=await Xr.cancelAppointment(ke,ve);Xe.success?(ce("Cita cancelada exitosamente. El barbero ha sido notificado."),Ze(),await re()):_e(Xe.message||"Error al cancelar la cita")}catch(Xe){console.error("Error canceling confirmed appointment:",Xe),_e("Error al cancelar la cita")}},ft=ae=>{var or,Ur,$t,kr,jn,_a;const Xe=r.find(ka=>ka._id===ae);Xe&&(q({service:((or=Xe.service)==null?void 0:or.name)||"Servicio",price:((Ur=Xe.service)==null?void 0:Ur.price)||0,barber:((kr=($t=Xe.barber)==null?void 0:$t.user)==null?void 0:kr.name)||((jn=Xe.barber)==null?void 0:jn.name)||"Barbero",date:Xe.date,time:tr(new Date(Xe.date),"HH:mm"),status:Xe.status,totalPrice:((_a=Xe.service)==null?void 0:_a.price)||0,cancellationReason:Xe.cancellationReason,cancelledBy:Xe.cancelledBy,createdAt:Xe.createdAt}),X(!0))},It=D.useMemo(()=>{if(!r.length)return[];const ae=new Date;return we==="upcoming"?r.filter(Xe=>{const or=new Date(Xe.date);return(Xe.status==="pending"||Xe.status==="confirmed")&&(Mc(or,ae)||Lr(or,ae))}):r.filter(Xe=>Xe.status==="completed"||Xe.status==="cancelled"||Xe.status!=="completed"&&Xe.status!=="cancelled"&&Bu(new Date(Xe.date),Ms(ae)))},[r,we]),ar=new Date,lt=new Date(ar.toLocaleString("en-US",{timeZone:"America/Bogota"})),Yt=tr(lt,"yyyy-MM-dd");return console.log("📅 Hora actual UTC:",ar.toISOString()),console.log("📅 Hora actual en Colombia (calculada):",lt.toLocaleString("es-ES",{timeZone:"America/Bogota"})),console.log("📅 MinDate para input:",Yt),n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Et,{className:"w-8 h-8 text-blue-400"})}),n.jsx(Je,{className:"text-3xl sm:text-4xl font-bold",children:"Sistema de Reservas"})]}),n.jsx("p",{className:"text-gray-300 text-sm max-w-2xl mx-auto leading-relaxed",children:"Agenda tu cita con nuestros barberos profesionales y gestiona tus reservas"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Et,{className:"w-6 h-6 text-blue-400"})}),n.jsx(Je,{className:"text-xl lg:text-2xl font-bold",children:"Agendar Nueva Cita"})]}),n.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-gradient-to-r from-purple-400 to-white bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4 text-purple-400"}),"Servicio"]}),n.jsxs("select",{value:y,onChange:ae=>{console.log("Service selected:",ae.target.value),j(ae.target.value)},className:"glassmorphism-select",required:!0,children:[n.jsx("option",{value:"",children:"Selecciona un servicio"}),G.length===0?n.jsx("option",{disabled:!0,children:"Cargando servicios..."}):G.map(ae=>n.jsxs("option",{value:ae._id,children:[ae.name," - $",ae.price]},ae._id))]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-gradient-to-r from-blue-400 to-white bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Ut,{className:"w-4 h-4 text-blue-400"}),"Barbero"]}),n.jsxs("select",{value:w,onChange:ae=>{console.log("Barber selected:",ae.target.value),b(ae.target.value)},className:"glassmorphism-select",required:!0,children:[n.jsx("option",{value:"",children:"Selecciona un barbero"}),H.length===0?n.jsx("option",{disabled:!0,children:"Cargando barberos..."}):H.map(ae=>{var Xe;return n.jsx("option",{value:ae._id,children:((Xe=ae.user)==null?void 0:Xe.name)||ae.name||"Barbero"},ae._id)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-gradient-to-r from-green-400 to-white bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Et,{className:"w-4 h-4 text-green-400"}),"Fecha"]}),n.jsx("input",{type:"date",value:T,onChange:ae=>{console.log("Date selected:",ae.target.value),_(ae.target.value)},min:Yt,className:"glassmorphism-input",required:!0})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-semibold bg-gradient-to-r from-orange-400 to-white bg-clip-text text-transparent flex items-center gap-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-orange-400"}),"Horarios Disponibles"]}),!T||!w?n.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-lg backdrop-blur-sm shadow-xl shadow-blue-500/20",children:n.jsxs("p",{className:"text-sm text-gray-300 flex items-center gap-2",children:[n.jsx(Ps,{className:"w-4 h-4 text-amber-400"}),"Selecciona fecha y barbero para ver horarios disponibles"]})}):T&&w&&(!Array.isArray(Q)||Q.length===0)?n.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg backdrop-blur-sm shadow-xl shadow-red-500/20",children:n.jsxs("p",{className:"text-sm text-red-300 flex items-center gap-2",children:[n.jsx(hr,{className:"w-4 h-4"}),ge||"Sin horarios disponibles"]})}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Array.isArray(Q)&&Q.map((ae,Xe)=>n.jsxs("button",{type:"button",onClick:()=>{console.log("🕐 Time slot selected:",ae),A(ae.datetime)},className:`group relative p-3 rounded-lg text-sm font-medium transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm border ${k===ae.datetime?"bg-gradient-to-r from-orange-500/20 to-amber-500/20 text-orange-300 border-orange-500/50 shadow-xl shadow-orange-500/20":"bg-white/5 text-gray-300 border-white/10 hover:border-orange-500/50 hover:bg-white/10 shadow-xl shadow-blue-500/20"}`,children:[k===ae.datetime&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsx("span",{className:"relative",children:ae.time})]},`${ae.time}-${Xe}`))})]}),o&&n.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg backdrop-blur-sm shadow-xl shadow-red-500/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hr,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),n.jsx("p",{className:"text-red-300 text-sm font-medium",children:o})]})}),s&&n.jsx("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg backdrop-blur-sm shadow-xl shadow-green-500/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ns,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),n.jsx("p",{className:"text-green-300 text-sm font-medium",children:s})]})}),n.jsx("div",{className:"pt-4",children:n.jsx(gt,{type:"submit",disabled:h||!y||!w||!T||!k,variant:"primary",size:"lg",className:"w-full shadow-xl shadow-blue-500/20",onClick:ae=>{console.log("🔘 Button clicked!",ae)},children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Et,{size:18}),n.jsx("span",{children:h?"Agendando...":"Agendar Cita"})]})})})]})]})]}),n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Et,{className:"w-6 h-6 text-purple-400"})}),n.jsx(Je,{className:"text-xl lg:text-2xl font-bold",children:"Mis Citas"})]})}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm shadow-lg p-1 flex gap-1",children:[n.jsxs("button",{onClick:()=>$e("upcoming"),className:`group relative px-4 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex items-center gap-1.5 ${we==="upcoming"?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(Et,{size:14,className:`transition-all duration-300 ${we==="upcoming"?"text-blue-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs whitespace-nowrap ${we==="upcoming"?"text-blue-300":"text-white"}`,children:"Próximas"})]}),n.jsxs("button",{onClick:()=>$e("history"),className:`group relative px-4 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex items-center gap-1.5 ${we==="history"?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(Ar,{size:14,className:`transition-all duration-300 ${we==="history"?"text-blue-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs whitespace-nowrap ${we==="history"?"text-blue-300":"text-white"}`,children:"Historial"})]})]})}),f?n.jsx("div",{className:"flex justify-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Cargando citas..."})]})}):It.length===0?n.jsxs("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10 text-center backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-2xl mb-4",children:n.jsx(Et,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:we==="upcoming"?"No tienes citas próximas":"No hay historial de citas"}),n.jsx("p",{className:"text-sm text-gray-400",children:we==="upcoming"?"Agenda una nueva cita usando el formulario de la izquierda":"Tus citas completadas y canceladas aparecerán aquí"})]}):n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar pl-1 pt-2 rounded-xl",children:It.map((ae,Xe)=>{var or,Ur,$t,kr,jn;return n.jsxs("div",{className:`group relative backdrop-blur-sm border rounded-lg p-4 transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 cursor-pointer ml-1 mr-1 ${ae.status==="confirmed"?"border-green-500/30 bg-green-500/5 shadow-sm shadow-green-500/20":ae.status==="pending"?"border-yellow-500/30 bg-yellow-500/5 shadow-sm shadow-yellow-500/20":ae.status==="cancelled"?"border-red-500/30 bg-red-500/5 shadow-sm shadow-red-500/20":"border-blue-500/30 bg-blue-500/5 shadow-sm shadow-blue-500/20"}`,style:{zIndex:It.length-Xe},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:"flex-shrink-0 p-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-lg border border-purple-500/20 shadow-sm shadow-purple-500/20",children:n.jsx(Vt,{className:"w-4 h-4 text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-semibold text-white truncate",children:((or=ae.service)==null?void 0:or.name)||"Servicio"}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-300",children:[n.jsxs("span",{children:["$",((Ur=ae.service)==null?void 0:Ur.price)||"N/A"]}),n.jsx("span",{children:"•"}),n.jsx("span",{className:"truncate",children:((kr=($t=ae.barber)==null?void 0:$t.user)==null?void 0:kr.name)||((jn=ae.barber)==null?void 0:jn.name)||"N/A"})]})]})]}),n.jsx("div",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${ae.status==="confirmed"?"bg-green-500/20 text-green-300 border-green-500/40":ae.status==="pending"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/40":ae.status==="cancelled"?"bg-red-500/20 text-red-300 border-red-500/40":"bg-blue-500/20 text-blue-300 border-blue-500/40"}`,children:ae.status==="confirmed"?"Confirmada":ae.status==="pending"?"Pendiente":ae.status==="cancelled"?"Cancelada":"Completada"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-300",children:[n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(Et,{className:"w-3.5 h-3.5 text-blue-400"}),tr(new Date(ae.date),"d MMM",{locale:Di})]}),n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(Ar,{className:"w-3.5 h-3.5 text-green-400"}),tr(new Date(ae.date),"HH:mm")]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("button",{onClick:()=>ft(ae._id),className:`p-1.5 border rounded-md transition-all duration-300 shadow-sm ${ae.status==="confirmed"?"bg-green-500/10 border-green-500/30 text-green-400 hover:text-green-300 hover:bg-green-500/20 shadow-green-500/20":ae.status==="pending"?"bg-yellow-500/10 border-yellow-500/30 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/20 shadow-yellow-500/20":ae.status==="cancelled"?"bg-red-500/10 border-red-500/30 text-red-400 hover:text-red-300 hover:bg-red-500/20 shadow-red-500/20":"bg-blue-500/10 border-blue-500/30 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 shadow-blue-500/20"}`,title:"Ver información",children:n.jsx(Pc,{className:"w-3.5 h-3.5"})}),ae.status==="pending"&&n.jsx("button",{onClick:()=>N(ae._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20",title:"Cancelar cita",children:n.jsx(hr,{className:"w-3.5 h-3.5"})}),ae.status==="confirmed"&&n.jsx("button",{onClick:()=>st(ae._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20",title:"Cancelar con motivo",children:n.jsx(hr,{className:"w-3.5 h-3.5"})}),(ae.status==="completed"||ae.status==="cancelled")&&n.jsx("button",{onClick:()=>be(ae._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20",title:"Eliminar",children:n.jsx(hr,{className:"w-3.5 h-3.5"})})]})]})]})]},ae._id)})})]})]})]}),Re&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",style:{overflow:"hidden"},onClick:ae=>{ae.target===ae.currentTarget&&(qe(!1),J(null),te(""))},children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md mx-auto",children:n.jsx("div",{className:"relative bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 overflow-hidden",children:n.jsxs("div",{className:"relative z-10 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-red-500/20",children:n.jsx(Ps,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Cancelar Cita Confirmada"})]}),n.jsx("button",{onClick:Ze,className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx("div",{className:"p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10",children:n.jsx("p",{className:"text-white/80 text-sm sm:text-base leading-relaxed",children:"Para cancelar una cita confirmada, debe proporcionar un motivo. El barbero será notificado."})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("textarea",{value:ve,onChange:ae=>te(ae.target.value),placeholder:"Escriba el motivo de la cancelación (máximo 100 palabras)...",className:"w-full h-24 sm:h-28 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm backdrop-blur-sm placeholder-gray-400 focus:border-red-500/50 focus:ring-2 focus:ring-red-500/20 focus:bg-white/10 transition-all duration-300 resize-none shadow-lg shadow-red-500/20",maxLength:500}),n.jsxs("div",{className:"text-right text-xs text-white/60",children:[ve.split(" ").filter(ae=>ae.length>0).length,"/100 palabras"]})]}),n.jsxs("div",{className:"flex justify-end gap-2 sm:gap-3 pt-2 sm:pt-4",children:[n.jsx("button",{onClick:Ze,className:"px-3 sm:px-4 py-2 text-white/80 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:"Volver"}),n.jsx("button",{onClick:kt,disabled:!ve.trim(),className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Cancelación"})]})]})]})})})}),g&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",style:{overflow:"hidden"},onClick:ae=>{ae.target===ae.currentTarget&&N(null)},children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md mx-auto",children:n.jsx("div",{className:"relative bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 overflow-hidden",children:n.jsxs("div",{className:"relative z-10 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-red-500/20",children:n.jsx(Ps,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Cancelar Cita"})]}),n.jsx("button",{onClick:()=>N(null),className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10 text-center",children:[n.jsx("p",{className:"text-white/80 text-sm sm:text-base leading-relaxed",children:"¿Estás seguro de que deseas cancelar esta cita?"}),n.jsx("p",{className:"text-red-300 text-xs sm:text-sm mt-2 font-medium",children:"Esta acción no se puede deshacer."})]}),n.jsxs("div",{className:"flex justify-end gap-2 sm:gap-3 pt-2 sm:pt-4",children:[n.jsx("button",{onClick:()=>N(null),className:"px-3 sm:px-4 py-2 text-white/80 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:"Volver"}),n.jsx("button",{onClick:Y,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-medium shadow-lg",children:"Confirmar Cancelación"})]})]})]})})})}),V&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",style:{overflow:"hidden"},onClick:ae=>{ae.target===ae.currentTarget&&Ue()},children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md mx-auto",children:n.jsx("div",{className:"relative bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 overflow-hidden",children:n.jsxs("div",{className:"relative z-10 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-red-500/20",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Eliminar Reporte"})]}),n.jsx("button",{onClick:Ue,className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10 text-center",children:[n.jsx("p",{className:"text-white/80 text-sm sm:text-base leading-relaxed",children:"¿Estás seguro de que deseas eliminar el reporte de esta cita?"}),n.jsx("p",{className:"text-red-300 text-xs sm:text-sm mt-2 font-medium",children:"Esta acción no se puede deshacer."})]}),n.jsxs("div",{className:"flex justify-end gap-2 sm:gap-3 pt-2 sm:pt-4",children:[n.jsx("button",{onClick:Ue,className:"px-3 sm:px-4 py-2 text-white/80 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:"Volver"}),n.jsx("button",{onClick:ze,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-medium shadow-lg",children:"Confirmar Eliminación"})]})]})]})})})}),F&&Z&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",style:{overflow:"hidden"},onClick:ae=>{ae.target===ae.currentTarget&&(X(!1),q(null))},children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md lg:max-w-lg mx-auto h-[90vh] sm:h-[85vh] lg:h-[80vh] flex flex-col",children:n.jsxs("div",{className:`relative backdrop-blur-md border rounded-2xl shadow-2xl h-full flex flex-col overflow-hidden ${Z.status==="confirmed"?"bg-green-500/5 border-green-500/20 shadow-green-500/20":Z.status==="pending"?"bg-yellow-500/5 border-yellow-500/20 shadow-yellow-500/20":Z.status==="cancelled"?"bg-red-500/5 border-red-500/20 shadow-red-500/20":"bg-blue-500/5 border-blue-500/20 shadow-blue-500/20"}`,children:[n.jsx("div",{className:"relative z-10 flex-shrink-0 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${Z.status==="confirmed"?"bg-green-500/20":Z.status==="pending"?"bg-yellow-500/20":Z.status==="cancelled"?"bg-red-500/20":"bg-blue-500/20"}`,children:n.jsx(Pc,{className:`w-4 h-4 sm:w-5 sm:h-5 ${Z.status==="confirmed"?"text-green-400":Z.status==="pending"?"text-yellow-400":Z.status==="cancelled"?"text-red-400":"text-blue-400"}`})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Información de la cita"})]}),n.jsx("button",{onClick:()=>{X(!1),q(null)},className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-4 sm:px-6 pb-4 sm:pb-6",style:{minHeight:0},children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-2.5 sm:p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsx("span",{className:"text-gray-300 text-xs sm:text-sm font-medium",children:"Estado:"}),n.jsx("div",{className:`px-2 sm:px-2.5 py-1 rounded-full text-xs font-medium border ${Z.status==="confirmed"?"bg-green-500/20 text-green-300 border-green-500/40":Z.status==="pending"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/40":Z.status==="cancelled"?"bg-red-500/20 text-red-300 border-red-500/40":"bg-blue-500/20 text-blue-300 border-blue-500/40"}`,children:Z.status==="confirmed"?"Confirmada":Z.status==="pending"?"Pendiente":Z.status==="cancelled"?"Cancelada":"Completada"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[n.jsxs("div",{className:"p-2.5 sm:p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Et,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),n.jsx("span",{className:"text-gray-300 text-xs font-medium",children:"Fecha:"})]}),n.jsx("p",{className:"text-white text-xs sm:text-sm",children:tr(new Date(Z.date),"d 'de' MMM 'de' yyyy",{locale:Di})})]}),n.jsxs("div",{className:"p-2.5 sm:p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ar,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),n.jsx("span",{className:"text-gray-300 text-xs font-medium",children:"Hora:"})]}),n.jsx("p",{className:"text-white text-xs sm:text-sm",children:Z.time})]})]}),n.jsxs("div",{className:"p-2.5 sm:p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ut,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),n.jsx("span",{className:"text-gray-300 text-xs font-medium",children:"Barbero:"})]}),n.jsx("p",{className:"text-white text-xs sm:text-sm",children:((Rn=Z.barber)==null?void 0:Rn.name)||Z.barber||"No asignado"})]}),n.jsxs("div",{className:"p-2.5 sm:p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Vt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),n.jsx("span",{className:"text-gray-300 text-xs font-medium",children:"Servicios:"})]}),n.jsx("div",{className:"space-y-1",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-white text-xs sm:text-sm",children:Z.service||"Servicio no especificado"}),n.jsx("span",{className:"text-blue-400 text-xs sm:text-sm font-medium",children:Z.status==="cancelled"?"-":`$${Z.price||0}`})]})})]}),n.jsx("div",{className:"p-2.5 sm:p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-blue-300 text-xs sm:text-sm font-medium",children:"Total:"}),n.jsx("span",{className:"text-white text-base sm:text-lg font-bold",children:Z.status==="cancelled"?"-":`$${Z.totalPrice||0}`})]})}),Z.status==="cancelled"&&n.jsxs("div",{className:"p-2.5 sm:p-3 bg-red-500/10 rounded-lg border border-red-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ps,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-400"}),n.jsxs("span",{className:"text-red-300 text-xs font-medium",children:[Z.cancelledBy==="user"?"Cancelada por ti":Z.cancelledBy==="barber"?"Cancelada por el barbero":Z.cancelledBy==="system"?"Cancelada por el sistema":"Motivo de cancelación",":"]})]}),n.jsx("p",{className:"text-white text-xs sm:text-sm",children:Z.cancelledBy==="user"?"Cancelaste esta cita.":Z.cancelledBy==="system"?"La cita expiró automáticamente.":Z.cancellationReason||"Sin motivo especificado."})]}),n.jsx("div",{className:"pt-2 sm:pt-4",children:n.jsx(gt,{variant:"primary",size:"md",onClick:()=>{X(!1),q(null)},className:"shadow-xl shadow-blue-500/20 text-xs sm:text-sm px-4 sm:px-6 py-2 w-full",children:"Cerrar"})})]})})]})})})]})})},mx=()=>{var se,ce,_e,re,je,Ce;const[e,r]=D.useState([]),[t,s]=D.useState(!0),[l,o]=D.useState("pending"),[d,f]=D.useState(null),[m,h]=D.useState(null),[x,g]=D.useState(new Set),[N,y]=D.useState(!1),[j,w]=D.useState(null),[b,T]=D.useState(""),[_,k]=D.useState(!1),[A,G]=D.useState(null),[W,H]=D.useState(!1),[ne,Q]=D.useState(null),{user:le}=Jt(),{showSuccess:ge,showError:oe}=zr();D.useEffect(()=>(N||_||W?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[N,_,W]),D.useEffect(()=>{le&&le.role==="barber"&&we()},[le]);const we=async()=>{try{const R=await fa.getBarberProfile();R.success&&(f(R.data),h(R.data._id),$e(R.data._id))}catch(R){console.error("Error fetching barber profile:",R)}},$e=async R=>{try{s(!0);const xe=await Le.get(`/appointments/barber/${R}`);xe.success&&r(xe.data)}catch(xe){console.error("Error fetching appointments:",xe),oe("Error al cargar las citas")}finally{s(!1)}},Re=async(R,xe)=>{if(!x.has(R)){if(xe==="cancelled"){V(R);return}try{g(be=>new Set(be).add(R)),console.log(`🔄 Changing appointment ${R} status to ${xe}`);let Y;switch(xe){case"confirmed":Y=await Xr.approveAppointment(R);break;case"completed":Y=await Xr.completeAppointment(R);break;case"no-show":Y=await Xr.markNoShow(R);break;default:throw new Error(`Estado no válido: ${xe}`)}Y.success&&(ge(`Cita ${xe==="confirmed"?"confirmada":"actualizada"} exitosamente`),$e(m))}catch(Y){console.error("Error:",Y),oe(Y.message||"Error al actualizar la cita")}finally{g(Y=>{const be=new Set(Y);return be.delete(R),be})}}},qe=async R=>{try{(await Xr.deleteAppointment(R)).success&&(ge("Reporte de cita eliminado exitosamente"),$e(m),H(!1),Q(null))}catch(xe){console.error("Error:",xe),oe(xe.message||"Error al eliminar el reporte de cita")}},ke=R=>{G(R),k(!0)},J=()=>{k(!1),G(null)},ve=R=>{Q(R),H(!0)},te=()=>{H(!1),Q(null)},V=R=>{w(R),T(""),y(!0)},P=()=>{y(!1),w(null),T("")},I=async()=>{if(!b||b.trim().length===0){oe("Debe proporcionar un motivo para cancelar la cita");return}if(b.split(" ").length>100){oe("El motivo no puede exceder las 100 palabras");return}try{(await Le.put(`/appointments/${j}/cancel`,{reason:b.trim()})).success&&(ge("Cita cancelada exitosamente. El cliente ha sido notificado."),P(),$e(m))}catch(R){console.error("Error:",R),oe(R.message||"Error al cancelar la cita")}},E=({appointment:R})=>{var xe,Y;return n.jsxs("div",{className:`group relative backdrop-blur-sm border rounded-lg p-4 transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 cursor-pointer mx-1 my-2 ${R.status==="confirmed"?"border-green-500/30 bg-green-500/5 shadow-sm shadow-green-500/20":R.status==="pending"?"border-yellow-500/30 bg-yellow-500/5 shadow-sm shadow-yellow-500/20":R.status==="cancelled"?"border-red-500/30 bg-red-500/5 shadow-sm shadow-red-500/20":"border-blue-500/30 bg-blue-500/5 shadow-sm shadow-blue-500/20"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative flex flex-col gap-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-white",children:((xe=R.service)==null?void 0:xe.name)||"Servicio no especificado"})]}),n.jsx(F,{status:R.status})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{className:"w-3.5 h-3.5 text-amber-400"}),n.jsx("span",{className:"text-gray-300",children:"Cliente:"}),n.jsx("span",{className:"text-amber-300 font-medium",children:((Y=R.user)==null?void 0:Y.name)||"Usuario no disponible"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"w-3.5 h-3.5 text-blue-400"}),n.jsx("span",{className:"text-gray-300",children:"Fecha:"}),n.jsx("span",{className:"text-blue-300 font-medium",children:tr(new Date(R.date),"EEEE d 'de' MMM",{locale:Di})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-3.5 h-3.5 text-green-400"}),n.jsx("span",{className:"text-gray-300",children:"Hora:"}),n.jsx("span",{className:"text-green-300 font-medium",children:tr(new Date(R.date),"HH:mm")})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx("button",{onClick:()=>ke(R),className:"p-1.5 bg-blue-500/10 border border-blue-500/30 rounded-md text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 transition-all duration-300 shadow-sm shadow-blue-500/20",title:"Ver información",children:n.jsx(ma,{className:"w-3.5 h-3.5"})}),R.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Re(R._id,"confirmed"),disabled:x.has(R._id),className:`p-1.5 border rounded-md transition-all duration-300 shadow-sm ${x.has(R._id)?"bg-gray-500/10 border-gray-500/30 text-gray-500 cursor-not-allowed":"bg-green-500/10 border-green-500/30 text-green-400 hover:text-green-300 hover:bg-green-500/20 shadow-green-500/20"}`,title:"Confirmar cita",children:x.has(R._id)?n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current"}):n.jsx(ha,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:()=>V(R._id),disabled:x.has(R._id),className:`p-1.5 border rounded-md transition-all duration-300 shadow-sm ${x.has(R._id)?"bg-gray-500/10 border-gray-500/30 text-gray-500 cursor-not-allowed":"bg-red-500/10 border-red-500/30 text-red-400 hover:text-red-300 hover:bg-red-500/20 shadow-red-500/20"}`,title:"Cancelar cita",children:n.jsx(yn,{className:"w-3.5 h-3.5"})})]}),R.status==="confirmed"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Re(R._id,"completed"),disabled:x.has(R._id),className:`p-1.5 border rounded-md transition-all duration-300 shadow-sm ${x.has(R._id)?"bg-gray-500/10 border-gray-500/30 text-gray-500 cursor-not-allowed":"bg-blue-500/10 border-blue-500/30 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 shadow-blue-500/20"}`,title:"Completar cita",children:x.has(R._id)?n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current"}):n.jsx(ns,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:()=>V(R._id),className:"p-1.5 bg-orange-500/10 border border-orange-500/30 rounded-md text-orange-400 hover:text-orange-300 hover:bg-orange-500/20 transition-all duration-300 shadow-sm shadow-orange-500/20",title:"Cancelar con motivo",children:n.jsx(yn,{className:"w-3.5 h-3.5"})})]}),(R.status==="completed"||R.status==="cancelled")&&n.jsx("button",{onClick:()=>ve(R._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20",title:"Eliminar reporte",children:n.jsx(ss,{className:"w-3.5 h-3.5"})})]})]})]})},F=({status:R})=>{const xe={pending:"bg-yellow-500/20 text-yellow-300 border-yellow-500/40",confirmed:"bg-green-500/20 text-green-300 border-green-500/40",cancelled:"bg-red-500/20 text-red-300 border-red-500/40",completed:"bg-blue-500/20 text-blue-300 border-blue-500/40"},Y={pending:"Pendiente",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${xe[R]}`,children:Y[R]})},X=({status:R,count:xe})=>{const Y=()=>{const Ue=l===R;switch(R){case"pending":return Ue?"border-yellow-500/50 bg-yellow-500/10 shadow-xl shadow-yellow-500/20":"border-yellow-500/30 bg-yellow-500/5 hover:border-yellow-500/50 hover:bg-yellow-500/10";case"confirmed":return Ue?"border-green-500/50 bg-green-500/10 shadow-xl shadow-green-500/20":"border-green-500/30 bg-green-500/5 hover:border-green-500/50 hover:bg-green-500/10";case"completed":return Ue?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-blue-500/30 bg-blue-500/5 hover:border-blue-500/50 hover:bg-blue-500/10";case"cancelled":return Ue?"border-red-500/50 bg-red-500/10 shadow-xl shadow-red-500/20":"border-red-500/30 bg-red-500/5 hover:border-red-500/50 hover:bg-red-500/10";case"reports":return Ue?"border-purple-500/50 bg-purple-500/10 shadow-xl shadow-purple-500/20":"border-purple-500/30 bg-purple-500/5 hover:border-purple-500/50 hover:bg-purple-500/10";default:return Ue?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}},be=()=>{if(!(l===R))return"text-white";switch(R){case"pending":return"text-yellow-300";case"confirmed":return"text-green-300";case"completed":return"text-blue-300";case"cancelled":return"text-red-300";case"reports":return"text-purple-300";default:return"text-blue-300"}},ze=()=>{if(!(l===R))return"bg-white/10 text-gray-300";switch(R){case"pending":return"bg-yellow-500/20 text-yellow-300";case"confirmed":return"bg-green-500/20 text-green-300";case"completed":return"bg-blue-500/20 text-blue-300";case"cancelled":return"bg-red-500/20 text-red-300";default:return"bg-blue-500/20 text-blue-300"}};return n.jsxs("button",{onClick:()=>o(R),className:`group relative w-full px-4 sm:px-6 py-3 sm:py-4 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm ${R==="reports"?"flex items-center justify-center":"flex items-center justify-between"} ${Y()}`,children:[n.jsx("span",{className:`font-medium text-sm sm:text-base lg:text-lg ${be()}`,children:R==="pending"?"Pendientes":R==="confirmed"?"Confirmadas":R==="cancelled"?"Canceladas":R==="reports"?"Reportes":"Completadas"}),R!=="reports"&&xe>0&&n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ze()}`,children:xe})]})},Z=l==="reports"?e.filter(R=>R.status==="completed"||R.status==="cancelled"):e.filter(R=>R.status===l),q={pending:e.filter(R=>R.status==="pending").length,confirmed:e.filter(R=>R.status==="confirmed").length,completed:e.filter(R=>R.status==="completed").length,cancelled:e.filter(R=>R.status==="cancelled").length,reports:e.filter(R=>R.status==="completed"||R.status==="cancelled").length};return n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Et,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-blue-400"})}),n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold",children:"Gestión de Citas"})]}),n.jsx("p",{className:"text-gray-300 text-xs sm:text-sm max-w-2xl mx-auto leading-relaxed px-2",children:"Administra y gestiona todas las citas de tus clientes desde un solo lugar"})]}),t?n.jsx("div",{className:"flex justify-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Cargando citas..."})]})}):n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(ns,{className:"w-6 h-6 text-purple-400"})}),n.jsx(Je,{className:"text-xl lg:text-2xl font-bold",children:"Estados de Citas"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(X,{status:"pending",count:q.pending}),n.jsx(X,{status:"confirmed",count:q.confirmed}),n.jsx(X,{status:"completed",count:q.completed}),n.jsx(X,{status:"cancelled",count:q.cancelled}),n.jsx(X,{status:"reports",count:q.reports})]})]})]}),n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-6 lg:p-8 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-green-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Vt,{className:"w-6 h-6 text-blue-400"})}),n.jsx(Je,{className:"text-xl lg:text-2xl font-bold",children:l==="pending"?"Citas Pendientes":l==="confirmed"?"Citas Confirmadas":l==="completed"?"Citas Completadas":l==="cancelled"?"Citas Canceladas":l==="reports"?"Reportes de Citas":"Otras Citas"})]}),l==="reports"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"group relative bg-green-500/5 border border-green-500/30 rounded-xl p-4 backdrop-blur-sm shadow-xl shadow-green-500/20 hover:border-green-500/50 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg border border-green-500/40",children:n.jsx(ns,{className:"w-6 h-6 text-green-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base lg:text-lg font-bold text-green-300",children:"Citas Completadas"}),n.jsx("p",{className:"text-xs text-green-200/80",children:"Total de servicios finalizados"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-green-400",children:q.completed}),n.jsx("div",{className:"text-xs text-green-300/80",children:"servicios"})]})]})]}),n.jsxs("div",{className:"group relative bg-red-500/5 border border-red-500/30 rounded-xl p-4 backdrop-blur-sm shadow-xl shadow-red-500/20 hover:border-red-500/50 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg border border-red-500/40",children:n.jsx(hr,{className:"w-6 h-6 text-red-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base lg:text-lg font-bold text-red-300",children:"Citas Canceladas"}),n.jsx("p",{className:"text-xs text-red-200/80",children:"Total de citas no realizadas"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-red-400",children:q.cancelled}),n.jsx("div",{className:"text-xs text-red-300/80",children:"canceladas"})]})]})]})]}):n.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto custom-scrollbar pr-2 pt-2",children:Z.length===0?n.jsxs("div",{className:"bg-white/5 rounded-2xl p-8 border border-white/10 text-center backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-2xl mb-4",children:n.jsx(Et,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("h3",{className:"text-lg font-semibold mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:["No hay citas ",l==="pending"?"pendientes":l==="confirmed"?"confirmadas":l==="completed"?"completadas":l==="cancelled"?"canceladas":l==="reports"?"en reportes":"disponibles"]}),n.jsx("p",{className:"text-sm text-gray-400",children:"Las citas aparecerán aquí cuando estén disponibles"})]}):Z.map((R,xe)=>n.jsx("div",{style:{zIndex:Z.length-xe},children:n.jsx(E,{appointment:R})},R._id))})]})]})]}),N&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",style:{overflow:"hidden"},onClick:R=>{R.target===R.currentTarget&&P()},children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md mx-auto h-[70vh] sm:h-[65vh] lg:h-[60vh] flex flex-col",children:n.jsxs("div",{className:"relative bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 h-full flex flex-col overflow-hidden",children:[n.jsx("div",{className:"relative z-10 flex-shrink-0 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-red-500/20",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Cancelar Cita"})]}),n.jsx("button",{onClick:P,className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-4 sm:px-6 pb-4 sm:pb-6",style:{minHeight:0},children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx("div",{className:"p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10",children:n.jsx("p",{className:"text-white/80 text-sm sm:text-base leading-relaxed",children:"Como barbero, debe proporcionar un motivo para cancelar la cita. El cliente será notificado."})}),n.jsx("div",{className:"relative",children:n.jsx("textarea",{value:b,onChange:R=>T(R.target.value),placeholder:"Escriba el motivo de la cancelación (máximo 100 palabras)...",className:"glassmorphism-textarea h-24 sm:h-28 text-xs sm:text-sm",maxLength:500})}),n.jsxs("div",{className:"text-right text-xs text-white/60",children:[b.split(" ").filter(R=>R.length>0).length,"/100 palabras"]}),n.jsxs("div",{className:"flex justify-end gap-2 sm:gap-3 pt-2 sm:pt-4",children:[n.jsx("button",{onClick:P,className:"px-3 sm:px-4 py-2 text-white/80 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium",children:"Cancelar"}),n.jsx("button",{onClick:I,disabled:!b.trim(),className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Cancelación"})]})]})})]})})}),_&&A&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md lg:max-w-lg mx-auto h-[90vh] sm:h-[85vh] lg:h-[80vh] flex flex-col",children:n.jsxs("div",{className:`relative backdrop-blur-md border rounded-2xl shadow-2xl h-full flex flex-col overflow-hidden ${A.status==="confirmed"?"bg-green-500/5 border-green-500/20 shadow-green-500/20":A.status==="pending"?"bg-yellow-500/5 border-yellow-500/20 shadow-yellow-500/20":A.status==="cancelled"?"bg-red-500/5 border-red-500/20 shadow-red-500/20":"bg-blue-500/5 border-blue-500/20 shadow-blue-500/20"}`,children:[n.jsx("div",{className:"relative z-10 flex-shrink-0 p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${A.status==="confirmed"?"bg-green-500/20":A.status==="pending"?"bg-yellow-500/20":A.status==="cancelled"?"bg-red-500/20":"bg-blue-500/20"}`,children:n.jsx(Et,{className:`w-4 h-4 sm:w-5 sm:h-5 ${A.status==="confirmed"?"text-green-400":A.status==="pending"?"text-yellow-400":A.status==="cancelled"?"text-red-400":"text-blue-400"}`})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Información de Cita"})]}),n.jsx("button",{onClick:J,className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar px-4 sm:px-6 pb-4 sm:pb-6",style:{minHeight:0},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-white",children:"Estado"}),n.jsx("div",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${A.status==="confirmed"?"bg-green-500/20 text-green-300 border-green-500/40":A.status==="pending"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/40":A.status==="cancelled"?"bg-red-500/20 text-red-300 border-red-500/40":"bg-blue-500/20 text-blue-300 border-blue-500/40"}`,children:A.status==="pending"?"Pendiente":A.status==="confirmed"?"Confirmada":A.status==="cancelled"?"Cancelada":"Completada"})]}),A.status==="cancelled"&&A.cancellationReason&&n.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(va,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-semibold text-red-300 mb-1",children:"Motivo de Cancelación"}),n.jsx("p",{className:"text-xs text-red-200/80 leading-relaxed",children:A.cancellationReason}),n.jsxs("p",{className:"text-xs text-red-300/60 mt-1",children:["Cancelada por: ",A.cancelledBy==="barber"?"Barbero":"Cliente"]})]})]})})]}),n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Cliente"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-300",children:[n.jsx(Ut,{className:"w-4 h-4 inline mr-2"}),((se=A.user)==null?void 0:se.name)||"Usuario no disponible"]}),((ce=A.user)==null?void 0:ce.email)&&n.jsxs("p",{className:"text-sm text-gray-300",children:["📧 ",A.user.email]})]})]}),n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Fecha y Hora"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-300",children:[n.jsx(Et,{className:"w-4 h-4 inline mr-2"}),tr(new Date(A.date),"EEEE, d MMMM yyyy",{locale:Di})]}),n.jsxs("p",{className:"text-sm text-gray-300",children:[n.jsx(Ar,{className:"w-4 h-4 inline mr-2"}),tr(new Date(A.date),"HH:mm")]})]})]}),n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Servicio"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-300",children:[n.jsx(Vt,{className:"w-4 h-4 inline mr-2"}),((_e=A.service)==null?void 0:_e.name)||"Servicio no especificado"]}),((re=A.service)==null?void 0:re.duration)&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Duración: ",A.service.duration," minutos"]}),n.jsxs("p",{className:"text-sm font-medium text-green-400",children:["$",A.status==="cancelled"?"0":((Ce=(je=A.service)==null?void 0:je.price)==null?void 0:Ce.toLocaleString())||"0"]})]})]}),A.notes&&n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Notas"}),n.jsx("p",{className:"text-sm text-gray-300",children:A.notes})]})]})})]})})}),W&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 sm:p-6 lg:p-8",children:n.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md mx-auto",children:n.jsx("div",{className:"relative bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 overflow-hidden",children:n.jsxs("div",{className:"relative z-10 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-red-500/20",children:n.jsx(ss,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Eliminar Reporte"})]}),n.jsx("button",{onClick:te,className:"p-1 text-gray-400 hover:text-white transition-colors duration-200",children:n.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(va,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-red-300 mb-1",children:"Acción Irreversible"}),n.jsx("p",{className:"text-sm text-red-200/80",children:"Esta acción no se puede deshacer."})]})]})}),n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"¿Estás seguro de que deseas eliminar este reporte de cita?"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Se eliminará permanentemente del historial y no podrá ser recuperado."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:te,className:"flex-1 px-3 sm:px-4 py-2 text-white/80 hover:text-white transition-all duration-200 text-xs sm:text-sm font-medium border border-white/20 rounded-xl hover:border-white/40",children:"Cancelar"}),n.jsx("button",{onClick:()=>qe(ne),className:"flex-1 px-4 sm:px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-medium shadow-lg",children:"Eliminar"})]})]})})})})]})})},xx=({status:e})=>{const r=()=>{switch(e){case"pending":return n.jsx(Ps,{className:"w-4 h-4"});case"confirmed":return n.jsx(ns,{className:"w-4 h-4"});case"completed":return n.jsx(ha,{className:"w-4 h-4"});case"cancelled":return n.jsx(hr,{className:"w-4 h-4"});default:return n.jsx(Ps,{className:"w-4 h-4"})}},t=()=>{switch(e){case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/40";case"confirmed":return"bg-green-500/20 text-green-300 border-green-500/40";case"completed":return"bg-blue-500/20 text-blue-300 border-blue-500/40";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/40";default:return"bg-gray-500/20 text-gray-300 border-gray-500/40"}},s=()=>{switch(e){case"pending":return"Pendiente";case"confirmed":return"Confirmada";case"completed":return"Completada";case"cancelled":return"Cancelada";default:return"Desconocido"}};return n.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium border ${t()}`,children:[r(),n.jsx("span",{children:s()})]})},px=()=>{var E,F,X,Z,q,se,ce,_e,re,je,Ce,R,xe;const[e,r]=D.useState([]),[t,s]=D.useState(!0),{showSuccess:l,showError:o}=zr(),[d,f]=D.useState({total:0,pending:0,confirmed:0,completed:0,cancelled:0}),[m,h]=D.useState({status:"all",date:"all"}),[x,g]=D.useState(!1),[N,y]=D.useState(null),[j,w]=D.useState(""),[b,T]=D.useState(!1),[_,k]=D.useState(null),[A,G]=D.useState(!1),[W,H]=D.useState(null);D.useEffect(()=>{ne()},[]);const ne=async()=>{try{const Y=await Le.get("/appointments");Y.success&&(r(Y.data),Q(Y.data))}catch(Y){console.error("Error:",Y)}finally{s(!1)}},Q=Y=>{const be=Y.reduce((ze,Ue)=>(ze.total++,ze[Ue.status]=(ze[Ue.status]||0)+1,ze),{total:0,pending:0,confirmed:0,completed:0,cancelled:0});f(be)},le=async(Y,be)=>{try{let ze;switch(be){case"confirmed":ze=await Xr.approveAppointment(Y);break;case"completed":ze=await Xr.completeAppointment(Y);break;case"cancelled":Re(Y);return;default:o("Estado no válido");return}ze.success&&(l(`Cita ${be==="confirmed"?"confirmada":"actualizada"} exitosamente`),ne())}catch(ze){console.error("Error:",ze),o("Error al actualizar la cita")}},ge=async Y=>{H(Y),G(!0)},oe=async()=>{try{(await Xr.deleteAppointment(W)).success&&(l("Reporte de cita eliminado exitosamente"),ne(),G(!1),H(null))}catch(Y){console.error("Error:",Y),o("Error al eliminar el reporte de cita")}},we=Y=>{k(Y),T(!0)},$e=()=>{T(!1),k(null)},Re=Y=>{y(Y),g(!0)},qe=()=>{g(!1),y(null),w("")},ke=async()=>{try{const Y=await Xr.cancelAppointment(N,j.trim()||void 0);Y.success?(l("Cita cancelada exitosamente por administración."),ne(),qe()):o(Y.message||"Error al cancelar la cita")}catch(Y){console.error("Error:",Y),o("Error al cancelar la cita")}},J=async Y=>{try{const be=await Le.get(`/appointments/${Y}/cancellation-reason`);if(be.success){const{reason:ze,cancelledBy:Ue,cancelledAt:st}=be.data;alert(`Motivo de cancelación por ${Ue==="user"?"el cliente":Ue==="barber"?"el barbero":"administración"}:

${ze}

Cancelada el: ${new Date(st).toLocaleString("es-ES")}`)}else o("No se pudo obtener el motivo de cancelación")}catch(be){console.error("Error:",be),o("No se pudo obtener el motivo de cancelación")}},ve=Y=>({pending:"drop-shadow-[0_1px_2px_rgba(251,146,60,0.3)]",confirmed:"drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]",completed:"drop-shadow-[0_1px_2px_rgba(59,130,246,0.3)]",cancelled:"drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"})[Y]||"drop-shadow-sm",te=Y=>Y.sort((be,ze)=>{const Ue={pending:0,confirmed:1,completed:2,cancelled:3};return Ue[be.status]-Ue[ze.status]}),V=({title:Y,value:be,icon:ze,gradient:Ue,borderColor:st,textColor:Ze,filterValue:kt,isActive:ft,onClick:It})=>n.jsxs("button",{onClick:()=>It(kt),className:`group relative bg-white/5 backdrop-blur-sm rounded-2xl p-3 sm:p-4 border shadow-xl hover:border-white/40 transition-all duration-300 overflow-hidden cursor-pointer hover:scale-[1.02] w-full ${ft?"border-blue-500/50 bg-blue-500/10 shadow-blue-500/20":"border-white/10 shadow-blue-500/20"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:`p-2 bg-gradient-to-r ${Ue} rounded-lg border ${st} shadow-lg`,children:n.jsx(ze,{className:`w-4 h-4 ${Ze}`})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium",children:Y}),n.jsx("p",{className:`${ft?"text-blue-300":Ze} text-lg sm:text-xl font-bold group-hover:scale-105 transition-transform duration-200`,children:be})]})]})})]}),P=({appointment:Y,onStatusChange:be,onCancel:ze,onViewReason:Ue,onDelete:st,onInfo:Ze})=>{var ft,It,ar,lt,Yt,Rn;const kt=ae=>{switch(ae){case"pending":return"border-yellow-500/30 bg-yellow-500/5 shadow-sm shadow-yellow-500/20";case"confirmed":return"border-green-500/30 bg-green-500/5 shadow-sm shadow-green-500/20";case"completed":return"border-blue-500/30 bg-blue-500/5 shadow-sm shadow-blue-500/20";case"cancelled":return"border-red-500/30 bg-red-500/5 shadow-sm shadow-red-500/20";default:return"border-gray-500/30 bg-gray-500/5 shadow-sm shadow-gray-500/20"}};return n.jsxs("div",{className:`group relative backdrop-blur-sm border rounded-lg p-4 transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 cursor-pointer mx-1 my-2 ${kt(Y.status)}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-5 gap-4 text-sm mr-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{className:"w-3 h-3 text-amber-400 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(251,191,36,0.3)]"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs block leading-tight",children:"Cliente"}),n.jsx("span",{className:"text-amber-300 font-medium truncate block leading-tight",children:((ft=Y.user)==null?void 0:ft.name)||((It=Y.client)==null?void 0:It.name)||"Sin nombre"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vt,{className:"w-3 h-3 text-green-400 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(74,222,128,0.3)]"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs block leading-tight",children:"Barbero"}),n.jsx("span",{className:"text-green-300 font-medium truncate block leading-tight",children:((lt=(ar=Y.barber)==null?void 0:ar.user)==null?void 0:lt.name)||((Yt=Y.barber)==null?void 0:Yt.name)||"Sin asignar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qd,{className:"w-3 h-3 text-purple-400 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(196,181,253,0.3)]"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs block leading-tight",children:"Servicio"}),n.jsx("span",{className:"text-purple-300 font-medium truncate block leading-tight",children:((Rn=Y.service)==null?void 0:Rn.name)||"Sin servicio"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"w-3 h-3 text-blue-400 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs block leading-tight",children:"Fecha"}),n.jsx("span",{className:"text-blue-300 font-medium block leading-tight",children:tr(new Date(Y.date),"d MMM",{locale:Di})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-3 h-3 text-orange-400 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(251,146,60,0.3)]"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs block leading-tight",children:"Hora"}),n.jsx("span",{className:"text-orange-300 font-medium block leading-tight",children:tr(new Date(Y.date),"HH:mm")})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-3 flex-shrink-0",children:[n.jsx("div",{className:ve(Y.status),children:n.jsx(xx,{status:Y.status,size:"sm"})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>Ze(Y),className:"p-1.5 bg-blue-500/10 border border-blue-500/30 rounded-md text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 transition-all duration-300 shadow-sm shadow-blue-500/20 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]",title:"Ver información completa",children:n.jsx(Pc,{className:"w-3 h-3"})}),Y.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>be(Y._id,"confirmed"),className:"p-1.5 bg-green-500/10 border border-green-500/30 rounded-md text-green-400 hover:text-green-300 hover:bg-green-500/20 transition-all duration-300 shadow-sm shadow-green-500/20 drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]",title:"Confirmar cita",children:n.jsx(ha,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>ze(Y._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]",title:"Cancelar cita",children:n.jsx(yn,{className:"w-3 h-3"})})]}),Y.status==="confirmed"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>be(Y._id,"completed"),className:"p-1.5 bg-blue-500/10 border border-blue-500/30 rounded-md text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 transition-all duration-300 shadow-sm shadow-blue-500/20 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]",title:"Marcar como completada",children:n.jsx(ha,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>ze(Y._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]",title:"Cancelar cita",children:n.jsx(yn,{className:"w-3 h-3"})})]}),Y.status==="cancelled"&&Y.cancellationReason&&n.jsx("button",{onClick:()=>Ue(Y._id),className:"p-1.5 bg-yellow-500/10 border border-yellow-500/30 rounded-md text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/20 transition-all duration-300 shadow-sm shadow-yellow-500/20 drop-shadow-[0_1px_2px_rgba(251,191,36,0.3)]",title:"Ver motivo de cancelación",children:n.jsx(ma,{className:"w-3 h-3"})}),(Y.status==="completed"||Y.status==="cancelled")&&n.jsx("button",{onClick:()=>st(Y._id),className:"p-1.5 bg-red-500/10 border border-red-500/30 rounded-md text-red-400 hover:text-red-300 hover:bg-red-500/20 transition-all duration-300 shadow-sm shadow-red-500/20 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]",title:"Eliminar reporte de cita",children:n.jsx(ss,{className:"w-3 h-3"})})]})]})]})})]})},I=te(e.filter(Y=>!(m.status!=="all"&&Y.status!==m.status)));return n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Ai,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-blue-400"})}),n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold",children:"Panel Administrativo"})]}),n.jsx("p",{className:"text-gray-300 text-xs sm:text-sm max-w-2xl mx-auto leading-relaxed px-2",children:"Gestión completa de citas y estadísticas del sistema"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:[n.jsx(V,{title:"Todas",value:d.total,icon:Qd,gradient:"from-blue-500/20 to-cyan-500/20",borderColor:"border-blue-500/30",textColor:"text-blue-300",filterValue:"all",isActive:m.status==="all",onClick:Y=>h(be=>({...be,status:Y}))}),n.jsx(V,{title:"Pendientes",value:d.pending,icon:Ps,gradient:"from-yellow-500/20 to-orange-500/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-300",filterValue:"pending",isActive:m.status==="pending",onClick:Y=>h(be=>({...be,status:Y}))}),n.jsx(V,{title:"Confirmadas",value:d.confirmed,icon:ns,gradient:"from-green-500/20 to-emerald-500/20",borderColor:"border-green-500/30",textColor:"text-green-300",filterValue:"confirmed",isActive:m.status==="confirmed",onClick:Y=>h(be=>({...be,status:Y}))}),n.jsx(V,{title:"Completadas",value:d.completed,icon:ha,gradient:"from-purple-500/20 to-violet-500/20",borderColor:"border-purple-500/30",textColor:"text-purple-300",filterValue:"completed",isActive:m.status==="completed",onClick:Y=>h(be=>({...be,status:Y}))}),n.jsx(V,{title:"Canceladas",value:d.cancelled,icon:hr,gradient:"from-red-500/20 to-pink-500/20",borderColor:"border-red-500/30",textColor:"text-red-300",filterValue:"cancelled",isActive:m.status==="cancelled",onClick:Y=>h(be=>({...be,status:Y}))})]}),n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-white/10 shadow-xl shadow-blue-500/20 hover:border-white/40 transition-all duration-300 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-purple-500/20",children:n.jsx(Et,{className:"w-4 h-4 text-purple-400"})}),n.jsxs(Je,{className:"text-base sm:text-lg font-bold",children:["Lista de Citas (",I.length,")"]})]}),t?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),n.jsx("span",{className:"ml-3 text-gray-400",children:"Cargando citas..."})]}):I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"No hay citas que coincidan con los filtros"})]}):n.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:I.map((Y,be)=>n.jsx("div",{style:{zIndex:I.length-be},children:n.jsx(P,{appointment:Y,onStatusChange:le,onCancel:Re,onViewReason:J,onDelete:ge,onInfo:we})},Y._id))})]})]}),b&&_&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl max-w-sm sm:max-w-md lg:max-w-lg w-full border border-white/20 shadow-2xl shadow-blue-500/20 overflow-hidden",children:[n.jsx("div",{className:"sticky top-0 bg-white/5 backdrop-blur-xl border-b border-white/10 px-4 sm:px-6 py-4 z-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Pc,{className:"w-5 h-5 text-blue-400"})}),n.jsx(Je,{className:"text-lg font-bold",children:"Información de la Cita"})]}),n.jsx("button",{onClick:$e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors duration-200",children:n.jsx(yn,{className:"w-5 h-5 text-gray-400"})})]})}),n.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-300",children:"Estado de la Cita"}),n.jsx(xx,{status:_.status})]}),_.status==="cancelled"&&_.cancellationReason&&n.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(va,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-semibold text-red-300 mb-1",children:"Motivo de Cancelación"}),n.jsx("p",{className:"text-xs text-red-200/80 leading-relaxed",children:_.cancellationReason})]})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-300 flex items-center gap-2",children:[n.jsx(Ut,{className:"w-4 h-4 text-blue-400"}),"Información del Cliente"]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Nombre:"}),n.jsx("span",{className:"text-xs text-white font-medium",children:((E=_.user)==null?void 0:E.name)||((F=_.client)==null?void 0:F.name)||"Sin nombre"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Email:"}),n.jsx("span",{className:"text-xs text-white",children:((X=_.user)==null?void 0:X.email)||((Z=_.client)==null?void 0:Z.email)||"Sin email"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Teléfono:"}),n.jsx("span",{className:"text-xs text-white",children:((q=_.user)==null?void 0:q.phone)||((se=_.client)==null?void 0:se.phone)||"Sin teléfono"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-300 flex items-center gap-2",children:[n.jsx(Vt,{className:"w-4 h-4 text-green-400"}),"Información del Barbero"]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Nombre:"}),n.jsx("span",{className:"text-xs text-white font-medium",children:((_e=(ce=_.barber)==null?void 0:ce.user)==null?void 0:_e.name)||((re=_.barber)==null?void 0:re.name)||"Sin asignar"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Especialidad:"}),n.jsx("span",{className:"text-xs text-white",children:((je=_.barber)==null?void 0:je.specialty)||"Sin especialidad"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-300 flex items-center gap-2",children:[n.jsx(Qd,{className:"w-4 h-4 text-purple-400"}),"Información del Servicio"]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Servicio:"}),n.jsx("span",{className:"text-xs text-white font-medium",children:((Ce=_.service)==null?void 0:Ce.name)||"Sin servicio"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Precio:"}),n.jsxs("span",{className:"text-xs text-green-400 font-semibold flex items-center gap-1",children:[n.jsx(Pi,{className:"w-3 h-3"}),_.status==="cancelled"?"0.00":((R=_.service)==null?void 0:R.price)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Duración:"}),n.jsxs("span",{className:"text-xs text-white",children:[((xe=_.service)==null?void 0:xe.duration)||"Sin duración"," min"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-300 flex items-center gap-2",children:[n.jsx(Et,{className:"w-4 h-4 text-orange-400"}),"Fecha y Hora"]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Fecha:"}),n.jsx("span",{className:"text-xs text-white font-medium",children:tr(new Date(_.date),"EEEE, d 'de' MMMM 'de' yyyy",{locale:Di})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Hora:"}),n.jsxs("span",{className:"text-xs text-white font-medium flex items-center gap-1",children:[n.jsx(Ar,{className:"w-3 h-3"}),tr(new Date(_.date),"HH:mm")]})]})]})]})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl max-w-md w-full border border-red-500/30 shadow-2xl shadow-red-500/20 overflow-hidden",children:[n.jsx("div",{className:"sticky top-0 bg-red-500/10 backdrop-blur-xl border-b border-red-500/20 px-4 sm:px-6 py-4 z-10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-red-600/20 rounded-xl border border-red-500/20 shadow-xl shadow-red-500/20",children:n.jsx(hr,{className:"w-5 h-5 text-red-400"})}),n.jsx(Je,{className:"text-lg font-bold",children:"Cancelar Cita"})]})}),n.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[n.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"¿Estás seguro de que deseas cancelar esta cita? Esta acción no se puede deshacer."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"Motivo de cancelación (opcional)"}),n.jsx("textarea",{value:j,onChange:Y=>w(Y.target.value),placeholder:"Ingresa el motivo de la cancelación...",rows:3,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 resize-none text-sm backdrop-blur-sm"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx("button",{onClick:qe,className:"flex-1 px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-all duration-200 border border-white/10 text-sm font-medium",children:"Mantener Cita"}),n.jsx(gt,{onClick:ke,variant:"danger",className:"flex-1 px-4 py-2 text-sm font-medium",children:"Cancelar Cita"})]})]})]})}),A&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl max-w-md w-full border border-red-500/30 shadow-2xl shadow-red-500/20 overflow-hidden",children:[n.jsx("div",{className:"sticky top-0 bg-red-500/10 backdrop-blur-xl border-b border-red-500/20 px-4 sm:px-6 py-4 z-10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-red-600/20 rounded-xl border border-red-500/20 shadow-xl shadow-red-500/20",children:n.jsx(ss,{className:"w-5 h-5 text-red-400"})}),n.jsx(Je,{className:"text-lg font-bold",children:"Eliminar Reporte"})]})}),n.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(va,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"¿Confirmar eliminación?"}),n.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Esta acción eliminará permanentemente el reporte de esta cita del sistema. Esta acción no se puede deshacer."})]})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx("button",{onClick:()=>G(!1),className:"flex-1 px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-all duration-200 border border-white/10 text-sm font-medium",children:"Cancelar"}),n.jsx(gt,{onClick:oe,variant:"danger",className:"flex-1 px-4 py-2 text-sm font-medium",children:"Eliminar Reporte"})]})]})]})})]})})},X4=()=>{const{user:e}=Jt();if(!e)return n.jsx(Kr,{to:"/login"});switch(e.role){case"admin":return n.jsxs(kc,{children:[n.jsx(xt,{path:"/",element:n.jsx(px,{})}),n.jsx(xt,{path:"/new",element:n.jsx(px,{})}),n.jsx(xt,{path:"*",element:n.jsx(Kr,{to:"/appointment",replace:!0})})]});case"barber":return n.jsxs(kc,{children:[n.jsx(xt,{path:"/",element:n.jsx(mx,{})}),n.jsx(xt,{path:"/new",element:n.jsx(mx,{})}),n.jsx(xt,{path:"*",element:n.jsx(Kr,{to:"/appointment",replace:!0})})]});default:return n.jsxs(kc,{children:[n.jsx(xt,{path:"/",element:n.jsx(hx,{})}),n.jsx(xt,{path:"/new",element:n.jsx(hx,{})}),n.jsx(xt,{path:"*",element:n.jsx(Kr,{to:"/appointment",replace:!0})})]})}};function gx(){const{user:e}=Jt(),[r,t]=D.useState([]),[s,l]=D.useState({name:"",description:"",price:0,duration:30,category:"corte"}),[o,d]=D.useState(null),[f,m]=D.useState(""),[h,x]=D.useState(""),[g,N]=D.useState(!0),[y,j]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{N(!0);const W=await Le.get("/services");if(W.success){const H=W.data||[];t(H)}else throw new Error(W.message||"Error al cargar servicios")}catch(W){console.error("Error en fetchServices:",W),x(W.message||"Error al cargar servicios."),setTimeout(()=>x(""),2500)}finally{N(!1)}},b=W=>{const H=W.target.type==="number"?Number(W.target.value):W.target.value;l(ne=>({...ne,[W.target.name]:H}))},T=async W=>{W.preventDefault();try{console.log("Enviando formulario:",s);let H;if(o?(console.log("Actualizando servicio:",o._id),H=await Le.put(`/services/${o._id}`,s)):(console.log("Creando nuevo servicio"),H=await Le.post("/services",s)),console.log("Respuesta:",H),H.success)m(o?"✅ Servicio actualizado.":"✅ Servicio creado."),setTimeout(()=>m(""),2500),d(null),l({name:"",description:"",price:0,duration:30,category:"corte"}),w();else throw new Error(H.message||"Error al guardar servicio")}catch(H){console.error("Error en handleSubmit:",H),x(H.message||"Error al guardar servicio"),setTimeout(()=>x(""),2500)}},_=W=>{d(W),l({name:W.name,description:W.description,price:W.price,duration:W.duration,category:W.category}),j("form")},k=async W=>{if(!W){x("ID de servicio inválido"),setTimeout(()=>x(""),2500);return}if(window.confirm("¿Seguro que deseas eliminar este servicio?"))try{console.log("Eliminando servicio:",W);const H=await Le.delete(`/services/${W}`);if(console.log("Respuesta de eliminación:",H),H.success)t(ne=>ne.filter(Q=>Q._id!==W)),m("✅ Servicio eliminado."),setTimeout(()=>m(""),2500),(o==null?void 0:o._id)===W&&(d(null),l({name:"",description:"",price:0,duration:30,category:"corte"}));else throw new Error(H.message||"Error al eliminar servicio")}catch(H){console.error("Error en handleDelete:",H),x(H.message||"Error al eliminar servicio"),setTimeout(()=>x(""),2500)}},A=async(W,H)=>{try{const ne=await Le.patch(`/services/${W}/show-in-home`,{showInHome:!H});if(ne.success)t(Q=>Q.map(le=>le._id===W?{...le,showInHome:!H}:le)),m(ne.message||"Estado actualizado correctamente"),setTimeout(()=>m(""),2500);else throw new Error(ne.message||"Error al actualizar estado")}catch(ne){console.error("Error en handleToggleShowInHome:",ne),x(ne.message||"Error al actualizar estado del servicio"),setTimeout(()=>x(""),2500)}},G=()=>{l({name:"",description:"",price:0,duration:30,category:"corte"}),d(null),j("form")};return n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsx("div",{className:"relative z-10",children:n.jsx(Ot,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center py-8",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n.jsxs(Je,{className:"text-4xl md:text-5xl font-bold",children:[n.jsx(yu,{className:"w-10 h-10 mx-auto mb-3"}),"Gestión de Servicios"]})}),n.jsxs("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed max-w-2xl mx-auto",children:["Administra los servicios de la barbería",n.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Solo 3 servicios se mostrarán en la página de inicio"})]})]}),h&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[n.jsx(va,{className:"w-4 h-4"}),h]}),f&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[n.jsx(ns,{className:"w-4 h-4"}),f]}),n.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:[n.jsx("div",{className:"p-4 border-b border-white/10 flex justify-end",children:n.jsx(gt,{onClick:G,className:"text-sm px-8 py-2 min-w-[180px]",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(El,{className:"w-4 h-4"}),n.jsx("span",{children:"Nuevo Servicio"})]})})}),y==="form"&&n.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:n.jsx(Je,{className:"text-lg font-semibold",children:o?"Editar Servicio":"Nuevo Servicio"})}),n.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(kl,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Nombre"}),n.jsx("input",{name:"name",value:s.name,onChange:b,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",placeholder:"Ej: Corte de cabello",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Categoría"}),n.jsxs("select",{name:"category",value:s.category,onChange:b,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0,children:[n.jsx("option",{value:"corte",children:"Corte"}),n.jsx("option",{value:"barba",children:"Barba"}),n.jsx("option",{value:"combo",children:"Combo"}),n.jsx("option",{value:"tinte",children:"Tinte"}),n.jsx("option",{value:"tratamiento",children:"Tratamiento"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Precio ($)"}),n.jsx("input",{name:"price",type:"number",value:s.price,onChange:b,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Duración (min)"}),n.jsx("input",{name:"duration",type:"number",value:s.duration,onChange:b,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"15",max:"240",step:"15",required:!0})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Descripción"}),n.jsx("textarea",{name:"description",value:s.description,onChange:b,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",rows:"3",placeholder:"Describe el servicio...",required:!0})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex gap-3 pt-2",children:[n.jsx(gt,{type:"submit",className:"text-sm px-4 py-2",children:o?"Actualizar":"Crear"}),n.jsx("button",{type:"button",onClick:()=>{d(null),l({name:"",description:"",price:0,duration:30,category:"corte"}),j(null)},className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),g?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando servicios..."})]}):r.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(yu,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No hay servicios registrados"})]}):n.jsx("div",{className:"divide-y divide-white/10",children:r.map(W=>n.jsx("div",{className:"px-4 py-4 hover:bg-white/5 transition-colors backdrop-blur-sm border-b border-white/5",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[n.jsx("div",{className:"flex items-start gap-4 flex-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"text-lg font-semibold",children:[n.jsx(Je,{className:"text-lg font-semibold",children:W.name}),W.showInHome&&n.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-600/20 text-green-400 border border-green-500/30 rounded-full",children:[n.jsx(kb,{className:"w-3 h-3"}),"Home"]})]}),n.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-3",children:W.description}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pi,{className:"w-4 h-4 text-green-400"}),n.jsxs("span",{className:"text-green-400 font-medium",children:["$",W.price]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-blue-400"}),n.jsxs("span",{className:"text-gray-300",children:[W.duration," min"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-gray-300 capitalize",children:W.category})})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>A(W._id,W.showInHome),className:`p-2 rounded-lg transition-colors ${W.showInHome?"bg-green-600/20 text-green-400 hover:bg-green-600/30":"bg-gray-600/20 text-gray-400 hover:bg-gray-600/30"}`,title:W.showInHome?"Quitar del Home":"Mostrar en Home",children:W.showInHome?n.jsx(ma,{className:"w-4 h-4"}):n.jsx(Ds,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>_(W),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors",title:"Editar",children:n.jsx(Nu,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>k(W._id),className:"p-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",title:"Eliminar",children:n.jsx(ss,{className:"w-4 h-4"})})]})]})},W._id))})]})]})})})]})}const K4=()=>n.jsx(Ot,{children:n.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:n.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8 shadow-xl text-center",children:[n.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-400/40 rounded-full animate-spin mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cargando barberos..."}),n.jsx("p",{className:"text-gray-400",children:"Estamos preparando la mejor selección de profesionales para ti"})]})})}),q4=({message:e})=>n.jsx(Ot,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:n.jsx("div",{className:"max-w-md w-full text-center",children:n.jsxs("div",{className:"bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Error al cargar"}),n.jsx("p",{className:"text-gray-300 mb-6",children:e}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-medium hover:from-red-500 hover:to-red-400 transition-all duration-300 shadow-xl shadow-red-500/20",children:"Reintentar"})]})})})}),Q4=({barber:e})=>{var d,f,m,h,x,g,N;const{user:r}=Jt();if(!e||!e.user)return console.error("Barbero inválido:",e),null;const t=r&&r.role==="user",l=(()=>{const y=new Date,j=y.toTimeString().slice(0,5),b=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()];if(!e.schedule||!e.schedule[b])return{available:!1,reason:"Sin horario definido"};const T=e.schedule[b];if(!T.available)return{available:!1,reason:"No trabaja hoy"};const _=T.start,k=T.end;return j<_?{available:!1,reason:`Abre a las ${_}`}:j>k?{available:!1,reason:`Cerró a las ${k}`}:{available:!0,reason:`Hasta las ${k}`}})(),o=e.isActive&&l.available;return n.jsxs("article",{className:"group relative overflow-hidden rounded-3xl transition-all duration-300 bg-gradient-to-br from-gray-800/40 via-gray-900/60 to-black/40 backdrop-blur-sm border border-gray-700/50 hover:border-white/30 shadow-2xl shadow-blue-500/20 hover:shadow-white/10 flex flex-col h-full",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-3xl"}),n.jsxs("div",{className:"relative h-80 overflow-hidden rounded-t-3xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent z-10"}),(d=e.photo)!=null&&d.url||(f=e.user)!=null&&f.profilePicture?n.jsx("img",{src:((m=e.photo)==null?void 0:m.url)||((h=e.user)==null?void 0:h.profilePicture),alt:(x=e.user)==null?void 0:x.name,className:"w-full h-full object-cover transition-all duration-300"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 via-blue-900/50 to-gray-800 flex items-center justify-center",children:n.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur",children:n.jsx("svg",{className:"w-24 h-24 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),n.jsx("div",{className:"absolute top-6 left-6 z-20",children:n.jsx("div",{className:`flex items-center px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg backdrop-blur-sm transition-all duration-300 border
              ${o?"bg-emerald-500/90 border-emerald-400/30 group-hover:bg-emerald-400/90":"bg-red-500/90 border-red-400/30 group-hover:bg-red-400/90"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-white animate-pulse":"bg-white/80"}`}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs font-bold leading-tight",children:o?"Disponible":"No disponible"}),n.jsx("span",{className:"text-xs opacity-90 leading-tight",children:l.reason})]})]})})}),n.jsxs("div",{className:"absolute top-6 right-6 flex flex-col gap-3 z-20",children:[((g=e.rating)==null?void 0:g.average)>0&&n.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/90 to-orange-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-semibold text-white shadow-lg flex items-center gap-2 group-hover:from-yellow-500/90 group-hover:to-orange-500/90 transition-all duration-300 border border-yellow-400/30",children:[n.jsx(as,{className:"w-4 h-4 fill-current"}),n.jsx("span",{children:e.rating.average.toFixed(1)}),e.rating.count>0&&n.jsxs("span",{className:"text-xs text-yellow-100/75",children:["(",e.rating.count,")"]})]}),e.experience>0&&n.jsxs("div",{className:"bg-gradient-to-r from-blue-600/90 to-purple-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg group-hover:from-blue-500/90 group-hover:to-purple-500/90 transition-all duration-300 flex items-center gap-2 border border-blue-400/30",children:[n.jsx(Cc,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.experience," años"]})]})]}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/95 via-black/85 to-transparent z-20",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 transition-all duration-300 truncate",children:n.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400 \r
                group-hover:from-blue-400 group-hover:via-white group-hover:to-red-400`,children:(N=e.user)==null?void 0:N.name})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-red-400 transition-colors duration-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 font-medium truncate",children:e.specialty||"Barbero Profesional"})]})]})]}),n.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[n.jsx("div",{className:"flex-grow",children:e.services&&e.services.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h3",{className:"text-xs font-bold flex items-center gap-2",children:[n.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-red-400 \r
                    group-hover:from-red-400 group-hover:to-blue-400 transition-all duration-300`,children:"Servicios destacados"}),n.jsx("svg",{className:"w-3 h-3 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})]}),n.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:e.services.slice(0,4).map((y,j)=>n.jsxs("div",{className:`px-2.5 py-1.5 bg-gradient-to-br from-gray-800/60 via-gray-700/40 to-gray-800/60 \r
                    border border-gray-600/30 rounded-lg text-xs backdrop-blur-sm\r
                    hover:from-gray-700/70 hover:via-gray-600/50 hover:to-gray-700/70 \r
                    hover:border-blue-500/40 transition-all cursor-default group/service\r
                    hover:shadow-lg hover:shadow-blue-500/10`,children:[n.jsx("div",{className:"font-medium mb-0.5 transition-all duration-300 leading-tight truncate",children:n.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-white \r
                        group-hover/service:from-white group-hover/service:to-blue-400 truncate`,children:y.name})}),n.jsx("div",{className:"font-semibold leading-tight whitespace-nowrap",children:n.jsxs("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-400 \r
                        group-hover/service:from-emerald-300 group-hover/service:to-blue-300 \r
                        transition-all duration-300`,children:["$",y.price]})})]},`${e._id}-service-${y._id}-${j}`))}),e.services.length>4&&n.jsxs("p",{className:"text-sm text-center font-medium text-gray-400",children:["Y ",e.services.length-4," servicios más..."]})]})}),n.jsxs("div",{className:"flex gap-3 pt-4 mt-auto",children:[n.jsxs(ct,{to:`/barbers/${e._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-gray-800/60 via-gray-700/70 to-gray-800/60 \r
              hover:from-gray-700/70 hover:via-gray-600/80 hover:to-gray-700/70 rounded-xl font-bold text-center \r
              transition-all duration-300 border border-gray-600/30 hover:border-gray-500/50 backdrop-blur-sm\r
              flex items-center justify-center gap-2 group hover:shadow-lg hover:-translate-y-0.5\r
              hover:shadow-gray-500/20`,children:[n.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-200 \r
                group-hover:from-blue-400 group-hover:to-white transition-all duration-300`,children:"Ver Perfil"}),n.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-gray-300 group-hover:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t&&o&&n.jsxs(ct,{to:`/appointment?barberId=${e._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-blue-600/90 to-red-600/90 \r
                hover:from-blue-500/90 hover:to-red-500/90 rounded-xl font-bold text-center \r
                transition-all duration-300 border border-blue-500/50 hover:border-red-400/50 \r
                backdrop-blur-sm flex items-center justify-center gap-2 group\r
                hover:shadow-lg hover:-translate-y-0.5 hover:shadow-blue-500/20`,children:[n.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-100 \r
                  group-hover:from-white group-hover:to-red-100 transition-all duration-300`,children:"Reservar"}),n.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-white group-hover:text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})]})]})},J4=()=>{const[e,r]=D.useState([]),[t,s]=D.useState(!0),[l,o]=D.useState(null),[d,f]=D.useState(Date.now());if(D.useEffect(()=>{const h=async()=>{try{const g=Date.now(),N=await Le.get(`/barbers?_t=${g}`);if(!N.success)throw new Error("La respuesta no fue exitosa");if(!Array.isArray(N.data))throw new Error("Los datos de barberos no son válidos");const y=N.data.filter(j=>j.user&&j.user.role==="barber"&&j.isActive);r(y),s(!1)}catch(g){o(g.message||"Error al cargar los barberos"),s(!1)}};h();const x=()=>{document.hidden||(console.log("📱 Página visible de nuevo, refrescando barberos..."),h())};return document.addEventListener("visibilitychange",x),()=>{document.removeEventListener("visibilitychange",x)}},[]),D.useEffect(()=>{const h=setInterval(()=>{f(Date.now())},6e4);return()=>clearInterval(h)},[]),t)return n.jsx(K4,{});if(l)return n.jsx(q4,{message:l});const m=[...e].sort((h,x)=>{var g,N;return(((g=x.rating)==null?void 0:g.average)||0)-(((N=h.rating)==null?void 0:N.average)||0)});return n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Ut,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-400"})}),n.jsx(Je,{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Nuestros Barberos"})]}),n.jsx("p",{className:"text-gray-300 text-sm sm:text-base max-w-2xl mx-auto leading-relaxed",children:"Conoce a nuestro equipo de profesionales expertos en el arte del cuidado masculino"})]}),e.length===0?n.jsx("div",{className:"text-center py-16",children:n.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-12 max-w-md mx-auto shadow-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx(Ut,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"No hay barberos disponibles"}),n.jsx("p",{className:"text-gray-400 leading-relaxed",children:"No hay barberos disponibles en este momento. Por favor, vuelve más tarde."})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:m.map((h,x)=>n.jsx("div",{style:{zIndex:m.length-x},className:"ml-1 mr-1",children:n.jsx(Q4,{barber:h})},`${h._id}-${d}`))})]})})};function Z4(){const[e,r]=D.useState(""),[t,s]=D.useState(""),[l,o]=D.useState(""),[d,f]=D.useState(!1),{login:m,error:h}=Jt(),{showError:x,showSuccess:g}=zr(),N=Na(),y=async j=>{j.preventDefault(),o(""),f(!0);try{if(await m(e,t))g("¡Bienvenido! Has iniciado sesión correctamente"),N("/");else{const b=h||"Credenciales incorrectas. Por favor verifica tu email y contraseña.";x(b),o(b)}}catch{const b="Error al iniciar sesión. Por favor intenta nuevamente.";x(b),o(b)}finally{f(!1)}};return n.jsxs(Ot,{children:[n.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4 sm:px-6",children:n.jsx("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg relative",children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-blue-700/15 to-blue-600/10 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-all duration-500"}),n.jsxs("div",{className:"relative bg-blue-500/3 backdrop-blur-xl rounded-2xl p-4 sm:p-6 lg:p-8 border border-blue-500/15 shadow-lg shadow-blue-500/10 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 right-0 h-16",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/5 via-blue-600/3 to-transparent rounded-t-2xl"}),n.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400/20 to-transparent"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"text-center mb-4 sm:mb-6 lg:mb-8 relative pt-2 sm:pt-4",children:[n.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 mx-auto mb-3 sm:mb-4 lg:mb-6 relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/15 via-blue-700/15 to-blue-600/15 rounded-full blur-lg opacity-40 group-hover:opacity-60 transition-all duration-500"}),n.jsx("img",{src:Ci.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500 drop-shadow-[0_0_8px_rgba(59,130,246,0.2)]",onError:j=>{j.target.onerror=null,j.target.src=Ci.fallback()}})]}),n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Iniciar Sesión"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Ingresa a tu cuenta para continuar"})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 text-gray-300",children:"Correo electrónico"}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none z-10",children:n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-600/30 to-red-600/30 rounded-lg flex items-center justify-center border border-blue-500/30 shadow-sm shadow-blue-500/20",children:n.jsx(Gl,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsx("input",{id:"email",type:"email",value:e,onChange:j=>r(j.target.value),required:!0,placeholder:"tu@email.com",className:"block w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-blue-500/15 border border-blue-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 focus:bg-blue-500/20 relative text-sm placeholder:text-gray-400 text-white transition-all duration-300 autofill:!bg-blue-500/15 autofill:!text-white autofill:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] autofill:!border-blue-500/30 [-webkit-autofill]:!bg-blue-500/15 [-webkit-autofill]:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] [-webkit-autofill:hover]:!bg-blue-500/15 [-webkit-autofill:focus]:!bg-blue-500/15"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 text-gray-300",children:"Contraseña"}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none z-10",children:n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-red-600/30 to-blue-600/30 rounded-lg flex items-center justify-center border border-red-500/30 shadow-sm shadow-red-500/20",children:n.jsx(bn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-red-400 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"})})}),n.jsx("input",{id:"password",type:"password",value:t,onChange:j=>s(j.target.value),required:!0,placeholder:"••••••••",className:"block w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-blue-500/15 border border-blue-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 focus:bg-blue-500/20 relative text-sm placeholder:text-gray-400 text-white transition-all duration-300 autofill:!bg-blue-500/15 autofill:!text-white autofill:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] autofill:!border-blue-500/30 [-webkit-autofill]:!bg-blue-500/15 [-webkit-autofill]:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] [-webkit-autofill:hover]:!bg-blue-500/15 [-webkit-autofill:focus]:!bg-blue-500/15"})]})]}),l&&n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/30 to-red-700/30 rounded-xl blur opacity-75 group-hover:opacity-100 transition-all duration-300"}),n.jsxs("div",{className:"relative bg-red-900/20 border border-red-500/30 p-2.5 sm:p-3 lg:p-4 rounded-xl text-xs sm:text-sm flex items-start backdrop-blur-sm shadow-lg shadow-red-500/20",children:[n.jsx(va,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-red-400 mr-1.5 sm:mr-2 lg:mr-3 mt-0.5 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"}),n.jsx("span",{className:"text-red-200 leading-relaxed",children:l})]})]}),n.jsx(gt,{type:"submit",disabled:d,loading:d,loadingText:"Iniciando sesión...",variant:"primary",className:"w-full py-2.5 sm:py-3 shadow-xl shadow-blue-500/20 text-sm sm:text-base",children:"Iniciar sesión"}),n.jsx("div",{className:"text-center relative pt-1 sm:pt-2",children:n.jsxs("div",{className:"inline-block",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["¿No tienes cuenta?"," "]}),n.jsxs(ct,{to:"/register",className:"relative inline-block font-medium group",children:[n.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-bold text-blue-400 hover:text-blue-300 transition-colors duration-300",children:"Regístrate"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 shadow-sm shadow-blue-500/50"})]})]})})]})]})]})})})]})}function e3(){const[e,r]=D.useState({name:"",email:"",password:""}),[t,s]=D.useState(""),[l,o]=D.useState(""),[d,f]=D.useState(!1),{showError:m,showSuccess:h}=zr(),x=Na(),g=y=>{r({...e,[y.target.name]:y.target.value})},N=async y=>{if(y.preventDefault(),s(""),o(""),f(!0),!/^[a-zA-ZÀ-ÿ\s]+$/.test(e.name)){const j="El nombre solo puede contener letras y espacios";s(j),m(j),f(!1);return}if(e.name.length<2||e.name.length>50){const j="El nombre debe tener entre 2 y 50 caracteres";s(j),m(j),f(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){const j="Debe proporcionar un email válido";s(j),m(j),f(!1);return}if(e.password.length<6){const j="La contraseña debe tener al menos 6 caracteres";s(j),m(j),f(!1);return}if(!/\d/.test(e.password)){const j="La contraseña debe contener al menos un número";s(j),m(j),f(!1);return}try{const j={name:e.name,email:e.email.toLowerCase(),password:e.password,role:"user"},w=await Ja.register(j);if(w.success===!1){const T=w.message||"Error en el registro";s(T),m(T),f(!1);return}const b="¡Registro exitoso! Redirigiendo al login...";o(b),h(b),w.token&&(localStorage.setItem("token",w.token),localStorage.setItem("user",JSON.stringify(w.user))),setTimeout(()=>{x("/login")},1e3)}catch(j){console.error("Error durante el registro:",j);let w="Error en el registro. Por favor, intenta de nuevo.";j.errors&&Array.isArray(j.errors)?w=j.errors[0].msg||"Error de validación":j.message&&(w=j.message),s(w),m(w)}finally{f(!1)}};return n.jsxs(Ot,{children:[n.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4 sm:px-6",children:n.jsx("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg relative",children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-blue-700/15 to-blue-600/10 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-all duration-500"}),n.jsxs("div",{className:"relative bg-blue-500/3 backdrop-blur-xl rounded-2xl p-4 sm:p-6 lg:p-8 border border-blue-500/15 shadow-lg shadow-blue-500/10 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 right-0 h-16",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/5 via-blue-600/3 to-transparent rounded-t-2xl"}),n.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400/20 to-transparent"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"text-center mb-4 sm:mb-6 lg:mb-8 relative pt-2 sm:pt-4",children:[n.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 mx-auto mb-3 sm:mb-4 lg:mb-6 relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/15 via-blue-700/15 to-blue-600/15 rounded-full blur-lg opacity-40 group-hover:opacity-60 transition-all duration-500"}),n.jsx("img",{src:Ci.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500 drop-shadow-[0_0_8px_rgba(59,130,246,0.2)]",onError:y=>{y.target.onerror=null,y.target.src=Ci.fallback()}})]}),n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Crear cuenta"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Únete a nuestra comunidad"})]})]}),n.jsxs("form",{onSubmit:N,className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 text-gray-300",children:"Nombre completo"}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none z-10",children:n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-600/30 to-blue-700/30 rounded-lg flex items-center justify-center border border-blue-500/30 shadow-sm shadow-blue-500/20",children:n.jsx(Ut,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:g,required:!0,placeholder:"John Doe",className:"block w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-blue-500/15 border border-blue-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 focus:bg-blue-500/20 relative text-sm placeholder:text-gray-400 text-white transition-all duration-300 autofill:!bg-blue-500/15 autofill:!text-white autofill:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] autofill:!border-blue-500/30 [-webkit-autofill]:!bg-blue-500/15 [-webkit-autofill]:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] [-webkit-autofill:hover]:!bg-blue-500/15 [-webkit-autofill:focus]:!bg-blue-500/15"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 text-gray-300",children:"Correo electrónico"}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none z-10",children:n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-600/30 to-blue-700/30 rounded-lg flex items-center justify-center border border-blue-500/30 shadow-sm shadow-blue-500/20",children:n.jsx(Gl,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:g,required:!0,placeholder:"tu@email.com",className:"block w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-blue-500/15 border border-blue-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 focus:bg-blue-500/20 relative text-sm placeholder:text-gray-400 text-white transition-all duration-300 autofill:!bg-blue-500/15 autofill:!text-white autofill:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] autofill:!border-blue-500/30 [-webkit-autofill]:!bg-blue-500/15 [-webkit-autofill]:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] [-webkit-autofill:hover]:!bg-blue-500/15 [-webkit-autofill:focus]:!bg-blue-500/15"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 text-gray-300",children:"Contraseña"}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none z-10",children:n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-r from-blue-600/30 to-blue-700/30 rounded-lg flex items-center justify-center border border-blue-500/30 shadow-sm shadow-blue-500/20",children:n.jsx(bn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-400 drop-shadow-[0_1px_2px_rgba(96,165,250,0.3)]"})})}),n.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:g,required:!0,placeholder:"••••••••",className:"block w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-blue-500/15 border border-blue-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 focus:bg-blue-500/20 relative text-sm placeholder:text-gray-400 text-white transition-all duration-300 autofill:!bg-blue-500/15 autofill:!text-white autofill:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] autofill:!border-blue-500/30 [-webkit-autofill]:!bg-blue-500/15 [-webkit-autofill]:!shadow-[inset_0_0_0px_1000px_rgba(59,130,246,0.15)] [-webkit-autofill:hover]:!bg-blue-500/15 [-webkit-autofill:focus]:!bg-blue-500/15"})]}),n.jsx("p",{className:"mt-1 sm:mt-2 text-xs text-gray-400",children:"Mínimo 6 caracteres, incluyendo al menos un número"})]}),t&&n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/30 to-red-700/30 rounded-xl blur opacity-75 group-hover:opacity-100 transition-all duration-300"}),n.jsxs("div",{className:"relative bg-red-900/20 border border-red-500/30 p-2.5 sm:p-3 lg:p-4 rounded-xl text-xs sm:text-sm flex items-start backdrop-blur-sm shadow-lg shadow-red-500/20",children:[n.jsx(va,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-red-400 mr-1.5 sm:mr-2 lg:mr-3 mt-0.5 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(239,68,68,0.3)]"}),n.jsx("span",{className:"text-red-200 leading-relaxed",children:t})]})]}),l&&n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/30 to-green-700/30 rounded-xl blur opacity-75 group-hover:opacity-100 transition-all duration-300"}),n.jsxs("div",{className:"relative bg-green-900/20 border border-green-500/30 p-2.5 sm:p-3 lg:p-4 rounded-xl text-xs sm:text-sm flex items-start backdrop-blur-sm shadow-lg shadow-green-500/20",children:[n.jsx(ey,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-green-400 mr-1.5 sm:mr-2 lg:mr-3 mt-0.5 flex-shrink-0 drop-shadow-[0_1px_2px_rgba(34,197,94,0.3)]"}),n.jsx("span",{className:"text-green-200 leading-relaxed",children:l})]})]}),n.jsx(gt,{type:"submit",disabled:d,loading:d,loadingText:"Creando cuenta...",variant:"primary",className:"w-full py-2.5 sm:py-3 shadow-xl shadow-blue-500/20 text-sm sm:text-base",children:"Crear cuenta"}),n.jsx("div",{className:"text-center relative pt-1 sm:pt-2",children:n.jsxs("div",{className:"inline-block",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["¿Ya tienes cuenta?"," "]}),n.jsxs(ct,{to:"/login",className:"relative inline-block font-medium group",children:[n.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-bold text-blue-400 hover:text-blue-300 transition-colors duration-300",children:"Inicia sesión"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 shadow-sm shadow-blue-500/50"})]})]})})]})]})]})})})]})}function vx(){var g,N,y,j,w,b,T;const{id:e}=nw(),[r,t]=D.useState(null),[s,l]=D.useState(!0),[o,d]=D.useState(null),[f,m]=D.useState(null),{user:h}=Jt();D.useEffect(()=>{x()},[e]);const x=async()=>{var _;try{l(!0),d(null);const k=await Le.get(`/barbers/${e}`);if(k.success){if(console.log("Datos del barbero recibidos:",k.data),t(k.data),(h==null?void 0:h.role)==="admin")try{const A=await Le.get(`/barbers/${e}/stats`);A.success&&m(A.data)}catch(A){console.warn("No se pudieron cargar las estadísticas:",A)}}else d("Error al cargar los datos del barbero")}catch(k){console.error("Error fetching barber data:",k),((_=k.response)==null?void 0:_.status)===404?d("Barbero no encontrado"):d("Error al conectar con el servidor")}finally{l(!1)}};return s?n.jsx(Ot,{children:n.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:n.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8 shadow-xl shadow-blue-500/20 text-center",children:[n.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-400/40 rounded-full animate-spin mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cargando perfil..."}),n.jsx("p",{className:"text-gray-400",children:"Obteniendo información del barbero"})]})})}):o?n.jsx(Ot,{children:n.jsx("div",{className:"flex flex-col justify-center items-center min-h-[60vh] p-4",children:n.jsxs("div",{className:"bg-red-500/5 backdrop-blur-md border border-red-500/20 rounded-2xl shadow-2xl shadow-red-500/20 p-8 max-w-lg w-full text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:o}),n.jsxs(ct,{to:"/barbers",className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-medium hover:from-red-500 hover:to-red-400 transition-all duration-300 shadow-xl shadow-red-500/20",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a barberos"]})]})})}):r?n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-6",children:[n.jsx(ct,{to:"/barbers",className:"group p-2.5 sm:p-3 bg-gradient-to-r from-gray-800/60 to-gray-700/60 hover:from-gray-700/70 hover:to-gray-600/70 rounded-xl border border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 shadow-xl shadow-blue-500/20",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-300 group-hover:text-blue-400 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Ut,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-blue-400"})}),n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold leading-tight",children:"Perfil del Barbero"})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-4 sm:gap-6",children:[n.jsx("div",{className:"relative",children:(()=>{var A,G,W,H;const k=h&&r&&(h._id===((A=r.user)==null?void 0:A._id)||h._id===r._id)?h.profilePicture:((G=r==null?void 0:r.user)==null?void 0:G.profilePicture)||((W=r==null?void 0:r.photo)==null?void 0:W.url);return k?n.jsx("img",{src:k,alt:((H=r==null?void 0:r.user)==null?void 0:H.name)||(r==null?void 0:r.name),className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 rounded-full object-cover shadow-xl shadow-blue-500/20 border-2 border-blue-500/20"}):n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center shadow-xl shadow-blue-500/20 border-2 border-blue-500/20",children:n.jsx(Ut,{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 text-blue-400"})})})()}),n.jsxs("div",{className:"flex-1 text-center lg:text-left w-full",children:[n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold mb-2 leading-tight",children:((g=r==null?void 0:r.user)==null?void 0:g.name)||(r==null?void 0:r.name)||"Cargando..."}),n.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 mb-4",children:[n.jsx(Cc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-300 font-medium text-sm sm:text-base",children:(r==null?void 0:r.specialty)||"Barbero Profesional"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 max-w-lg mx-auto lg:mx-0",children:[(((N=r==null?void 0:r.user)==null?void 0:N.email)||(r==null?void 0:r.email))&&n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-300 p-2 bg-white/5 rounded-lg",children:[n.jsx(Gl,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),n.jsx("span",{className:"truncate text-xs sm:text-sm",children:((y=r==null?void 0:r.user)==null?void 0:y.email)||(r==null?void 0:r.email)})]}),(((j=r==null?void 0:r.user)==null?void 0:j.phone)||(r==null?void 0:r.phone))&&n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-300 p-2 bg-white/5 rounded-lg",children:[n.jsx(e0,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm",children:((w=r==null?void 0:r.user)==null?void 0:w.phone)||(r==null?void 0:r.phone)})]}),(r==null?void 0:r.experience)&&n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-300 p-2 bg-white/5 rounded-lg",children:[n.jsx(Cc,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),n.jsxs("span",{className:"text-xs sm:text-sm",children:[r.experience," años de experiencia"]})]}),((b=r==null?void 0:r.rating)==null?void 0:b.average)>0&&n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-300 p-2 bg-white/5 rounded-lg",children:[n.jsx(as,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),n.jsxs("span",{className:"text-xs sm:text-sm",children:[r.rating.average.toFixed(1)," ⭐ (",r.rating.count," reseñas)"]})]})]})]})]}),(r==null?void 0:r.description)&&n.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/10",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-bold flex items-center justify-center lg:justify-start gap-2 mb-3",children:[n.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),n.jsx(Je,{children:"Sobre mí"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed bg-white/5 rounded-xl p-3 sm:p-4 text-sm sm:text-base text-center lg:text-left",children:r.description})]})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 sm:gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Ar,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})}),n.jsx(Je,{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:"Horario de Atención"})]}),r!=null&&r.schedule?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-2 sm:gap-3 ${Object.keys(r.schedule).length===1?"grid-cols-1 max-w-xs mx-auto":Object.keys(r.schedule).length===2?"grid-cols-2 max-w-sm mx-auto":Object.keys(r.schedule).length===3?"grid-cols-2 sm:grid-cols-3 max-w-md mx-auto":Object.keys(r.schedule).length===4?"grid-cols-2 sm:grid-cols-4 max-w-lg mx-auto":Object.keys(r.schedule).length===5?"grid-cols-2 sm:grid-cols-3 lg:grid-cols-5":Object.keys(r.schedule).length===6?"grid-cols-2 sm:grid-cols-3 lg:grid-cols-6":"grid-cols-2 sm:grid-cols-4 lg:grid-cols-7"}`,children:Object.entries(r.schedule).map(([_,k])=>{const A={monday:"Lun",tuesday:"Mar",wednesday:"Mié",thursday:"Jue",friday:"Vie",saturday:"Sáb",sunday:"Dom"};return n.jsxs("div",{className:`group relative backdrop-blur-sm border rounded-lg p-1.5 sm:p-2 transition-all duration-300 hover:scale-[1.02] overflow-hidden shadow-lg shadow-blue-500/20 h-14 sm:h-16 flex flex-col justify-center ${k.available?"border-green-500/30 bg-green-500/5":"border-gray-500/30 bg-gray-500/5"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative text-center",children:[n.jsx("div",{className:`font-bold text-xs sm:text-sm mb-0.5 sm:mb-1 ${k.available?"text-green-300":"text-gray-400"}`,children:A[_]}),k.available?n.jsxs("div",{className:"text-white text-xs sm:text-sm font-medium whitespace-nowrap h-3 sm:h-4 flex items-center justify-center",children:[k.start," - ",k.end]}):n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm h-3 sm:h-4 flex items-center justify-center",children:"Cerrado"})]})]},_)})}),(()=>{const _=Object.values(r.schedule).filter(A=>A.available).length,k=Object.keys(r.schedule).length;return _>0&&_<k?n.jsxs("div",{className:"text-center text-gray-400 text-sm mt-4",children:["Disponible ",_," de ",k," días"]}):null})()]}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Ar,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Horario no disponible"})]})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-xl border border-green-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Vt,{className:"w-6 h-6 text-green-400"})}),n.jsx(Je,{className:"text-xl lg:text-2xl font-bold",children:"Servicios Disponibles"})]}),((T=r==null?void 0:r.services)==null?void 0:T.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-3 mb-6 ${r.services.length===1?"grid-cols-1 max-w-md mx-auto":r.services.length===2?"grid-cols-1 sm:grid-cols-2 max-w-2xl mx-auto":r.services.length===3?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":r.services.length===4?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":r.services.length===5?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"}`,children:r.services.slice(0,6).map((_,k)=>n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-lg p-3 hover:scale-[1.02] transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-white text-sm leading-tight flex-1",children:_.name}),n.jsxs("div",{className:"flex-shrink-0 px-2 py-1 bg-white/10 text-white border border-white/20 rounded-md text-xs font-medium",children:["$",_.price]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_.duration&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[n.jsx(Ar,{className:"w-3 h-3 flex-shrink-0"}),n.jsxs("span",{children:[_.duration," min"]})]}),_.description&&n.jsx("div",{className:"text-gray-400 text-right flex-1 ml-2",children:n.jsx("span",{className:"line-clamp-1 text-xs",children:_.description.length>25?`${_.description.substring(0,25)}...`:_.description})})]})]})]},k))}),r.services.length>6&&n.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:["Mostrando 6 de ",r.services.length," servicios disponibles"]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Vt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No hay servicios disponibles"})]}),h&&h.role==="user"&&n.jsx("div",{className:"pt-4 sm:pt-6 border-t border-white/10",children:n.jsx(ct,{to:`/appointment?barberId=${r==null?void 0:r._id}`,className:"block",children:n.jsx(gt,{variant:"primary",size:"lg",className:"w-full shadow-xl shadow-blue-500/20 h-12 sm:h-auto",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[n.jsx(Et,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform duration-300"}),n.jsx("span",{className:"font-semibold text-sm sm:text-base",children:"Reservar Cita"})]})})})})]})]}),(h==null?void 0:h.role)==="admin"&&n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-2xl"}),n.jsxs("div",{className:"relative p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 sm:gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Ai,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})}),n.jsx(Je,{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:"Estadísticas"})]}),f?n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-3 sm:p-4 hover:scale-105 transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Et,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Total Citas"})]}),n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-white",children:f.totalAppointments||0})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-3 sm:p-4 hover:scale-105 transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Pi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-400"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Ingresos"})]}),n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:["$",f.totalRevenue||0]})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-3 sm:p-4 hover:scale-105 transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(t0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-400"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Este Mes"})]}),n.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:f.currentMonthAppointments||0})]})]}),n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-3 sm:p-4 hover:scale-105 transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(as,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Rating"})]}),n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:f.averageRating||"0.0"})]})]})]}),f.appointmentsByService&&f.appointmentsByService.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(as,{className:"w-5 h-5 text-blue-400"}),n.jsx(Je,{className:"text-lg font-bold",children:"Servicios Populares"})]}),n.jsx("div",{className:"space-y-3",children:f.appointmentsByService.map((_,k)=>n.jsxs("div",{className:"group relative backdrop-blur-sm border border-white/10 rounded-xl p-4 hover:scale-105 transition-all duration-300 overflow-hidden shadow-lg shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-200 group-hover:text-white",children:_.service}),n.jsxs("div",{className:"text-green-400 text-sm font-medium",children:["$",_.revenue]})]}),n.jsxs("span",{className:"text-blue-400 bg-blue-500/20 px-3 py-1 rounded-full text-sm border border-blue-500/40",children:[_.count," citas"]})]})})]},k))})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Ai,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Estadísticas no disponibles"})]})]})]})]})}):n.jsx(Ot,{children:n.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:n.jsxs("div",{className:"bg-yellow-500/5 backdrop-blur-md border border-yellow-500/20 rounded-2xl shadow-2xl shadow-yellow-500/20 p-8 max-w-md w-full text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h3",{className:"text-xl font-bold text-yellow-300 mb-2",children:"Barbero no encontrado"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"El barbero que buscas no existe o ha sido eliminado."}),n.jsx(ct,{to:"/barbers",className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-white rounded-xl font-medium hover:from-yellow-500 hover:to-yellow-400 transition-all duration-300 shadow-xl shadow-yellow-500/20",children:"Ver barberos disponibles"})]})})})}const t3=()=>{const{user:e}=Jt(),{showSuccess:r,showError:t,showInfo:s}=zr(),{notifySale:l}=Sp(),[o,d]=D.useState([]),[f,m]=D.useState([]),[h,x]=D.useState(!0),[g,N]=D.useState(""),[y,j]=D.useState([]),[w,b]=D.useState("product"),[T,_]=D.useState(null),[k,A]=D.useState(""),[G,W]=D.useState(""),[H,ne]=D.useState("all"),[Q,le]=D.useState(!1),[ge,oe]=D.useState(!1),we=()=>(console.log("🔍 Datos del usuario:",e),console.log("🔍 Role:",e.role),console.log("🔍 user._id:",e._id),console.log("🔍 user.barberId:",e.barberId),e.role==="barber"?e.barberId?(console.log("✅ Usando user.barberId:",e.barberId),e.barberId):(console.log("⚠️ No hay barberId, usando user._id:",e._id),e._id):(console.log("👤 Usuario admin, usando user._id:",e._id),e._id));D.useEffect(()=>{$e()},[]);const $e=async()=>{x(!0),N("");try{console.log("🔄 Cargando datos iniciales...");const E=Date.now(),[F,X]=await Promise.all([oa.getInventory({_t:E}),Fu.getAllServices()]);console.log("📦 Respuesta de inventario:",F);let Z=[];F!=null&&F.success&&(F!=null&&F.data)?Z=Array.isArray(F.data)?F.data:[F.data]:Array.isArray(F)&&(Z=F),console.log("📦 Productos procesados:",Z.length);const q=Z.filter(_e=>{const re=_e.currentStock||_e.stock||_e.quantity||0;return console.log(`📦 ${_e.name}: stock=${re}`),_e&&re>0});console.log("📦 Productos disponibles:",q.length);let se=[];X!=null&&X.success&&(X!=null&&X.data)?se=Array.isArray(X.data)?X.data:[X.data]:Array.isArray(X)&&(se=X);const ce=se.filter(_e=>_e&&_e.isActive!==!1);d(q),m(ce),console.log("✅ Datos cargados - Productos:",q.length,"Servicios:",ce.length)}catch(E){console.error("❌ Error cargando datos:",E),N("Error al cargar los productos y servicios"),t("Error al cargar los datos iniciales")}finally{x(!1)}},Re=o.filter(E=>{var Z,q,se;const F=((Z=E.name)==null?void 0:Z.toLowerCase().includes(G.toLowerCase()))||((q=E.description)==null?void 0:q.toLowerCase().includes(G.toLowerCase())),X=H==="all"||((se=E.category)==null?void 0:se.toLowerCase())===H.toLowerCase();return F&&X}),qe=[...new Set(o.map(E=>E.category).filter(Boolean))],ke=(E,F=1)=>{const X=y.find(Z=>Z.id===E._id&&Z.type==="product");if(X){const Z=X.quantity+F,q=E.quantity||E.stock||0;if(Z>q){t(`Solo hay ${q} unidades disponibles`);return}j(y.map(se=>se.id===E._id&&se.type==="product"?{...se,quantity:Z}:se))}else{const Z=E.quantity||E.stock||0;if(F>Z){t(`Solo hay ${Z} unidades disponibles`);return}j([...y,{id:E._id,type:"product",name:E.name,price:E.price,quantity:F,stock:Z}])}s(`${E.name} agregado al carrito`)},J=()=>{if(!T||!k){t("Selecciona un servicio y establece el precio");return}const E=parseFloat(k);if(isNaN(E)||E<=0){t("Ingresa un precio válido");return}j([...y,{id:`walkin-${Date.now()}`,type:"walkIn",name:T.name,serviceId:T._id,price:E,quantity:1}]),_(null),A(""),s(`Servicio ${T.name} agregado`)},ve=(E,F)=>{j(y.filter(X=>!(X.id===E&&X.type===F)))},te=(E,F,X)=>{if(X<=0){ve(E,F);return}j(y.map(Z=>Z.id===E&&Z.type===F?Z.type==="product"&&X>Z.stock?(t(`Solo hay ${Z.stock} unidades disponibles`),Z):{...Z,quantity:X}:Z))},V=y.reduce((E,F)=>E+F.price*F.quantity,0),P=async()=>{if(y.length===0){t("El carrito está vacío");return}le(!0);try{const E=y.filter(_e=>_e.type==="product"),F=y.filter(_e=>_e.type==="walkIn"),X=[];if(E.length>0){const _e={barberId:we(),items:E.map(re=>({productId:re.id,quantity:re.quantity,price:re.price})),total:E.reduce((re,je)=>re+je.price*je.quantity,0),type:"product"};X.push(qa.createSale(_e))}if(F.length>0)for(const _e of F){const re={barberId:we(),serviceId:_e.serviceId,serviceName:_e.name,price:_e.price,total:_e.price,type:"walkIn"};X.push(qa.createWalkInSale(re))}await Promise.all(X);const Z=y.length,q=y.filter(_e=>_e.type==="product").length,se=y.filter(_e=>_e.type==="service").length;let ce=`✅ Venta completada exitosamente
`;ce+=`💰 Total: $${V.toLocaleString()}
`,ce+=`📦 Items vendidos: ${Z}`,q>0&&(ce+=`
🛍️ Productos: ${q}`),se>0&&(ce+=`
✂️ Servicios: ${se}`),ce+=`
📊 Inventario actualizado automáticamente`,r(ce),oe(!0),setTimeout(()=>oe(!1),3e3),j([]),_(null),A(""),b("product"),l(),console.log("🔄 Recargando inventario para mostrar stock actualizado..."),setTimeout(async()=>{try{console.log("🔄 Iniciando recarga de inventario después de venta..."),await $e(),console.log("✅ Inventario recargado exitosamente después de venta")}catch(_e){console.error("❌ Error recargando inventario:",_e)}},1500)}catch(E){console.error("Error procesando venta:",E),t("Error al procesar la venta")}finally{le(!1)}},I=E=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(E||0);return h?n.jsx(Ot,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Cargando productos y servicios..."})]})})}):n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-xl border border-green-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(ji,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-400"})}),n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Punto de Venta"})]}),n.jsx("p",{className:"text-gray-400 text-sm sm:text-base lg:text-lg mb-4",children:"Registra ventas de productos y cortes"}),e&&n.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-500/10 backdrop-blur-sm border border-blue-500/20 text-blue-300 rounded-xl text-sm shadow-lg shadow-blue-500/20",children:[n.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Barbero: ",e.name||e.email]})]}),g&&n.jsx("div",{className:"bg-red-500/5 backdrop-blur-sm border border-red-500/20 rounded-xl p-4 shadow-xl shadow-red-500/20",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(yn,{className:"h-5 w-5 mr-2 text-red-400"}),n.jsx("span",{className:"text-red-300",children:g})]})}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[n.jsx("div",{className:"order-1 xl:order-1 space-y-4 sm:space-y-6 lg:space-y-8",children:n.jsxs("div",{className:"group relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-3 sm:p-4 lg:p-6 shadow-xl shadow-blue-500/20 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center",children:[n.jsx(ji,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-green-400"}),n.jsx("span",{className:"hidden sm:inline",children:"Carrito "}),"(",y.length,")"]}),y.length===0?n.jsxs("div",{className:"text-center py-4 sm:py-8",children:[n.jsx(ji,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-600 mx-auto mb-2 sm:mb-3"}),n.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"El carrito está vacío"})]}):n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[y.map((E,F)=>n.jsxs("div",{className:"group relative backdrop-blur-sm border rounded-lg p-2 sm:p-3 transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 cursor-pointer ml-1 mr-1 border-blue-500/30 bg-blue-500/5 shadow-sm shadow-blue-500/20",style:{zIndex:y.length-F},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white text-xs sm:text-sm font-medium truncate",children:E.name}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[I(E.price),E.type==="product"&&n.jsxs("span",{className:"hidden sm:inline",children:[" • Stock: ",E.stock]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 ml-2 sm:ml-3",children:[E.type==="product"?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>te(E.id,E.type,E.quantity-1),className:"p-1 text-gray-400 hover:text-white transition-colors duration-300",children:n.jsx(Ap,{className:"w-3 h-3"})}),n.jsx("span",{className:"text-white text-xs sm:text-sm w-6 sm:w-8 text-center",children:E.quantity}),n.jsx("button",{onClick:()=>te(E.id,E.type,E.quantity+1),disabled:E.quantity>=E.stock,className:"p-1 text-gray-400 hover:text-white transition-colors duration-300 disabled:opacity-50",children:n.jsx(El,{className:"w-3 h-3"})})]}):n.jsx("span",{className:"text-white text-sm",children:"1"}),n.jsx("button",{onClick:()=>ve(E.id,E.type),className:"p-1 text-red-400 hover:text-red-300 transition-colors duration-300",children:n.jsx(yn,{className:"w-3 h-3"})})]})]})})]},`${E.id}-${E.type}-${F}`)),n.jsx("div",{className:"border-t border-blue-500/20 pt-3 sm:pt-4 mt-3 sm:mt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-base sm:text-lg font-semibold text-white",children:"Total:"}),n.jsx("span",{className:"text-base sm:text-lg font-bold text-green-400",children:I(V)})]})}),n.jsx("button",{onClick:P,disabled:Q||y.length===0||ge,className:`w-full mt-3 sm:mt-4 py-2.5 sm:py-3 rounded-xl transition-all duration-300 flex items-center justify-center font-semibold shadow-xl text-sm sm:text-base ${ge?"bg-green-500/10 border border-green-500/30 text-green-300 shadow-green-500/20":Q?"bg-blue-500/10 border border-blue-500/30 text-blue-300 shadow-blue-500/20":y.length===0?"bg-gray-600/10 border border-gray-600/30 cursor-not-allowed text-gray-400":"bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 hover:border-blue-500/40 text-white hover:bg-gradient-to-r hover:from-green-600/30 hover:to-blue-600/30 transform hover:scale-105 shadow-blue-500/20"}`,children:ge?n.jsxs(n.Fragment,{children:[n.jsx(ha,{className:"w-4 h-4 mr-2"}),"¡Venta Completada!"]}):Q?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando Venta..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Procesar Venta"]})})]})]})]})}),n.jsxs("div",{className:"order-2 xl:order-2 xl:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm shadow-lg p-1 flex gap-1 w-fit",children:[n.jsxs("button",{onClick:()=>b("product"),className:`group relative px-3 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex items-center justify-center gap-1.5 ${w==="product"?"border-blue-500/50 bg-blue-500/10 shadow-xl shadow-blue-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(Dc,{size:14,className:`transition-all duration-300 ${w==="product"?"text-blue-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs whitespace-nowrap ${w==="product"?"text-blue-300":"text-white"}`,children:"Productos"})]}),n.jsxs("button",{onClick:()=>b("walkIn"),className:`group relative px-3 py-2.5 rounded-xl border cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden backdrop-blur-sm flex items-center justify-center gap-1.5 ${w==="walkIn"?"border-green-500/50 bg-green-500/10 shadow-xl shadow-green-500/20":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[n.jsx(Vt,{size:14,className:`transition-all duration-300 ${w==="walkIn"?"text-green-300":"text-white"}`}),n.jsx("span",{className:`font-medium text-xs whitespace-nowrap ${w==="walkIn"?"text-green-300":"text-white"}`,children:"Servicios de Corte"})]})]})}),w==="product"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Pp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar productos...",value:G,onChange:E=>W(E.target.value),className:"glassmorphism-input pl-10 sm:pl-12"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5 z-10"}),n.jsxs("select",{value:H,onChange:E=>ne(E.target.value),className:"glassmorphism-select pl-10 sm:pl-12",children:[n.jsx("option",{value:"all",children:"Todas las categorías"}),qe.map(E=>n.jsx("option",{value:E,children:E},E))]})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:Re.length===0?n.jsxs("div",{className:"col-span-full text-center py-6 sm:py-8",children:[n.jsx(Dc,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-600 mx-auto mb-2 sm:mb-3"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm lg:text-base",children:G||H!=="all"?"No se encontraron productos con los filtros aplicados":"No hay productos disponibles"})]}):Re.map(E=>n.jsxs("div",{className:"group relative backdrop-blur-sm border rounded-lg p-3 sm:p-4 transition-all duration-300 overflow-hidden hover:scale-[1.002] hover:-translate-y-0.5 cursor-pointer ml-1 mr-1 border-blue-500/30 bg-blue-500/5 shadow-sm shadow-blue-500/20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[2.5%] to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out rounded-lg"}),n.jsxs("div",{className:"relative space-y-2 sm:space-y-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white text-xs sm:text-sm lg:text-base",children:E.name}),E.description&&n.jsx("p",{className:"text-gray-400 text-xs mt-1 line-clamp-2",children:E.description}),E.category&&n.jsx("span",{className:"inline-block mt-1 sm:mt-2 px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full border border-blue-500/30",children:E.category})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-400 font-bold text-xs sm:text-sm lg:text-base",children:I(E.price)}),n.jsxs("p",{className:"text-gray-500 text-xs",children:["Stock: ",E.quantity||E.stock||0]})]}),n.jsx("button",{onClick:()=>ke(E),disabled:(E.quantity||E.stock||0)===0,className:"group relative p-1.5 sm:p-2 bg-gradient-to-r from-blue-600/20 to-green-600/20 rounded-lg border border-blue-500/30 hover:border-green-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-green-600/30 transform hover:scale-110 shadow-xl shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:n.jsx(El,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 group-hover:text-green-400 transition-colors duration-300"})})]})]})]},E._id))})]}):n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-xl border border-green-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Vt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Agregar Servicio de Corte"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Servicio"}),n.jsxs("select",{value:(T==null?void 0:T._id)||"",onChange:E=>{const F=f.find(X=>X._id===E.target.value);_(F),A((F==null?void 0:F.price)||"")},className:"glassmorphism-select",children:[n.jsx("option",{value:"",children:"Selecciona un servicio"}),f.map(E=>n.jsxs("option",{value:E._id,children:[E.name," - ",I(E.price)]},E._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Precio (puedes ajustarlo)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"number",value:k,onChange:E=>A(E.target.value),placeholder:"0",min:"0",step:"1000",className:"glassmorphism-input pl-10"})]})]}),n.jsxs("button",{onClick:J,disabled:!T||!k,className:"w-full py-2.5 sm:py-3 bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 hover:border-blue-500/40 rounded-xl text-white transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-green-600/30 hover:to-blue-600/30 transform hover:scale-105 shadow-xl shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center font-medium text-sm sm:text-base",children:[n.jsx(El,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Agregar al Carrito"]})]})]})]})]})]})})};function r3(){const{user:e,token:r}=Jt(),{showSuccess:t,showError:s}=zr(),[l,o]=D.useState([]),[d,f]=D.useState(!0),[m,h]=D.useState(null),[x,g]=D.useState(!1);D.useEffect(()=>{(async()=>{if((e==null?void 0:e.role)==="admin")try{const T=await Le.get("/users"),_=await Le.get("/barbers");if(!_.success||!Array.isArray(_.data))console.warn("Respuesta de barberos inválida:",_);else{const k=_.data.filter(A=>A.isActive&&A.user&&A.user.isActive);console.log("Barberos activos encontrados:",k.length)}if(!T.success||!Array.isArray(T.data))throw new Error("Respuesta de usuarios inválida");o(T.data||[])}catch(T){console.error("Error al cargar usuarios:",T),s("Error al cargar la lista de usuarios")}finally{f(!1)}})()},[e,r]);const N=async()=>{try{const b=await Le.get("/barbers",!1);return!b.success||!Array.isArray(b.data)?(console.warn("Respuesta de barberos inválida en refresh:",b),[]):b.data.filter(_=>_.user&&_.user.role==="barber"&&_.user.isActive&&_.isActive)}catch(b){console.error("Error al refrescar barberos:",b)}},y=async(b,T)=>{try{await Le.put(`/users/${b}/role`,{role:T}),T==="barber"&&(await Le.get(`/barbers/by-user/${b}`),await new Promise(k=>setTimeout(k,1e3)),await N());const _=await Le.get("/users");_.success&&Array.isArray(_.data)?o(_.data):console.warn("Respuesta de usuarios inválida después de cambio de rol:",_),t("Rol actualizado correctamente")}catch(_){console.error("Error al cambiar rol:",_),s(_.message||"Error al cambiar el rol del usuario")}},j=async b=>{const T=l.find(_=>_._id===b);h(T),g(!0)},w=async()=>{if(m)try{await Le.delete(`/users/${m._id}`),o(l.filter(b=>b._id!==m._id)),t("Usuario eliminado correctamente")}catch(b){console.error("Error al eliminar usuario:",b),s(b.message||"Error al eliminar el usuario")}finally{g(!1),h(null)}};return(e==null?void 0:e.role)!=="admin"?null:n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600/20 to-blue-600/20 rounded-xl border border-blue-500/20 shadow-xl shadow-blue-500/20 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:n.jsx("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-400 bg-clip-text text-transparent",children:n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",children:"Gestión de Usuarios"})}),n.jsx("p",{className:"text-gray-400 text-lg sm:text-xl max-w-2xl mx-auto leading-relaxed",children:"Administra los roles y permisos de los usuarios de la plataforma"})]}),d?n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("div",{className:"relative w-16 h-16 mb-6",children:n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"w-full h-full border-4 border-blue-500/20 rounded-full"}),n.jsx("div",{className:"w-full h-full border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-400 bg-clip-text text-transparent",children:n.jsx("p",{className:"text-xl font-semibold",children:"Cargando usuarios..."})})]})}):n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[n.jsx("thead",{className:"bg-gradient-to-r from-white/10 to-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-400",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Usuario"]})}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-400",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),"Email"]})}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-green-400",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Rol"]})}),n.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-pink-400",children:"Acciones"})]})}),n.jsx("tbody",{className:"divide-y divide-white/5",children:l.map(b=>n.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[n.jsx("td",{className:"px-6 py-4 text-base whitespace-nowrap text-white font-medium",children:b.name||b.email}),n.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap text-gray-300",children:b.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
                          ${b.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-500/30":b.role==="barber"?"bg-green-900/50 text-green-300 border border-green-500/30":"bg-gray-900/50 text-gray-300 border border-gray-500/30"}`,children:b.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-3",children:[n.jsxs("select",{value:b.role,onChange:T=>y(b._id,T.target.value),className:"block px-3 py-2 text-sm text-white bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("option",{value:"user",children:"Usuario"}),n.jsx("option",{value:"barber",children:"Barbero"}),n.jsx("option",{value:"admin",children:"Admin"})]}),b._id!==(e._id||e.id)&&b.role!=="admin"&&n.jsx("button",{onClick:()=>j(b._id),className:"inline-flex items-center p-2 border border-red-500/30 rounded-lg bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-all duration-200 shadow-xl shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30",title:"Eliminar usuario",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},b._id))})]})}),n.jsx("div",{className:"block md:hidden divide-y divide-white/10",children:l.map(b=>n.jsxs("div",{className:"p-6 hover:bg-white/5 transition-colors group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Je,{className:"text-lg font-semibold",children:b.name||b.email}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:b.email})]}),n.jsx("div",{className:"ml-4",children:n.jsx("span",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium
                        ${b.role==="admin"?"bg-blue-900/50 text-blue-300 border border-blue-500/30":b.role==="barber"?"bg-green-900/50 text-green-300 border border-green-500/30":"bg-gray-900/50 text-gray-300 border border-gray-500/30"}`,children:b.role==="admin"?"Administrador":b.role==="barber"?"Barbero":"Usuario"})})]}),n.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide mb-2 block",children:"Cambiar Rol"}),n.jsxs("select",{value:b.role,onChange:T=>y(b._id,T.target.value),className:"w-full px-4 py-3 text-white bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsx("option",{value:"user",children:"Usuario"}),n.jsx("option",{value:"barber",children:"Barbero"}),n.jsx("option",{value:"admin",children:"Administrador"})]})]}),b._id!==(e._id||e.id)&&b.role!=="admin"&&n.jsxs("button",{onClick:()=>j(b._id),className:"w-full flex items-center justify-center gap-2 px-4 py-3 border border-red-500/30 rounded-lg bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-all duration-200 shadow-xl shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{className:"font-medium",children:"Eliminar Usuario"})]})]})]},b._id))})]}),x&&n.jsxs("div",{className:"fixed inset-0 z-50",children:[n.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{g(!1),h(null)}}),n.jsx("div",{className:"absolute inset-0 overflow-y-auto",children:n.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-4",children:n.jsxs("div",{className:"relative bg-white/10 border border-white/20 rounded-2xl backdrop-blur-md shadow-2xl shadow-blue-500/20 w-full max-w-md transform transition-all animate-modal",children:[n.jsx("div",{className:"border-b border-white/10 px-6 py-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-4 flex-shrink-0",children:n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-600/20 border border-red-500/30 shadow-xl shadow-red-500/20",children:n.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-400 to-pink-400 bg-clip-text text-transparent",children:n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar eliminación"})}),n.jsx("p",{className:"mt-2 text-gray-400",children:"Esta acción no se puede deshacer"})]})]})}),n.jsx("div",{className:"px-6 py-6",children:n.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed",children:["¿Estás seguro que deseas eliminar al usuario"," ",n.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-400 to-blue-400 bg-clip-text text-transparent",children:(m==null?void 0:m.name)||(m==null?void 0:m.email)}),"?"]})}),n.jsx("div",{className:"border-t border-white/10 px-6 py-6",children:n.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-4",children:[n.jsx("button",{onClick:()=>{g(!1),h(null)},className:"w-full sm:w-auto px-6 py-3 rounded-lg bg-white/10 border border-white/20 text-gray-300 hover:bg-white/20 transition-all duration-200 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:"Cancelar"}),n.jsxs("button",{onClick:w,className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 rounded-lg bg-red-600/80 border border-red-500/50 text-white hover:bg-red-600 transition-all duration-200 shadow-xl shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/50",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar usuario"]})]})})]})})})]}),n.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fade-in 0.5s ease;
          }

          @keyframes modal {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }
          .animate-modal {
            animation: modal 0.2s ease-out;
          }
        `})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ic={};Ic.version="0.18.5";var Up=1252,n3=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$p=function(e){n3.indexOf(e)!=-1&&(Up=e)};function a3(){$p(1252)}var Bl=function(e){$p(e)};function s3(){Bl(1200),a3()}var gc=function(r){return String.fromCharCode(r)},wx=function(r){return String.fromCharCode(r)},Rc,es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zl(e){for(var r="",t=0,s=0,l=0,o=0,d=0,f=0,m=0,h=0;h<e.length;)t=e.charCodeAt(h++),o=t>>2,s=e.charCodeAt(h++),d=(t&3)<<4|s>>4,l=e.charCodeAt(h++),f=(s&15)<<2|l>>6,m=l&63,isNaN(s)?f=m=64:isNaN(l)&&(m=64),r+=es.charAt(o)+es.charAt(d)+es.charAt(f)+es.charAt(m);return r}function wa(e){var r="",t=0,s=0,l=0,o=0,d=0,f=0,m=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<e.length;)o=es.indexOf(e.charAt(h++)),d=es.indexOf(e.charAt(h++)),t=o<<2|d>>4,r+=String.fromCharCode(t),f=es.indexOf(e.charAt(h++)),s=(d&15)<<4|f>>2,f!==64&&(r+=String.fromCharCode(s)),m=es.indexOf(e.charAt(h++)),l=(f&3)<<6|m,m!==64&&(r+=String.fromCharCode(l));return r}var pt=(function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node})(),ja=(function(){if(typeof Buffer!="undefined"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,t){return t?new Buffer(r,t):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}})();function Is(e){return pt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}function bx(e){return pt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}var Dn=function(r){return pt?ja(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)&255})};function r0(e){if(typeof ArrayBuffer=="undefined")return Dn(e);for(var r=new ArrayBuffer(e.length),t=new Uint8Array(r),s=0;s!=e.length;++s)t[s]=e.charCodeAt(s)&255;return r}function Xl(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var r=[],t=0;t<e.length;++t)r[t]=String.fromCharCode(e[t]);return r.join("")}function i3(e){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(e)}var yr=pt?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:ja(r)}))}:function(e){if(typeof Uint8Array!="undefined"){var r=0,t=0;for(r=0;r<e.length;++r)t+=e[r].length;var s=new Uint8Array(t),l=0;for(r=0,t=0;r<e.length;t+=l,++r)if(l=e[r].length,e[r]instanceof Uint8Array)s.set(e[r],t);else{if(typeof e[r]=="string")throw"wtf";s.set(new Uint8Array(e[r]),t)}return s}return[].concat.apply([],e.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function l3(e){for(var r=[],t=0,s=e.length+250,l=Is(e.length+255),o=0;o<e.length;++o){var d=e.charCodeAt(o);if(d<128)l[t++]=d;else if(d<2048)l[t++]=192|d>>6&31,l[t++]=128|d&63;else if(d>=55296&&d<57344){d=(d&1023)+64;var f=e.charCodeAt(++o)&1023;l[t++]=240|d>>8&7,l[t++]=128|d>>2&63,l[t++]=128|f>>6&15|(d&3)<<4,l[t++]=128|f&63}else l[t++]=224|d>>12&15,l[t++]=128|d>>6&63,l[t++]=128|d&63;t>s&&(r.push(l.slice(0,t)),t=0,l=Is(65535),s=65530)}return r.push(l.slice(0,t)),yr(r)}var Tl=/\u0000/g,vc=/[\u0001-\u0006]/g;function ki(e){for(var r="",t=e.length-1;t>=0;)r+=e.charAt(t--);return r}function Fn(e,r){var t=""+e;return t.length>=r?t:Ht("0",r-t.length)+t}function Uu(e,r){var t=""+e;return t.length>=r?t:Ht(" ",r-t.length)+t}function Lc(e,r){var t=""+e;return t.length>=r?t:t+Ht(" ",r-t.length)}function o3(e,r){var t=""+Math.round(e);return t.length>=r?t:Ht("0",r-t.length)+t}function c3(e,r){var t=""+e;return t.length>=r?t:Ht("0",r-t.length)+t}var yx=Math.pow(2,32);function vi(e,r){if(e>yx||e<-yx)return o3(e,r);var t=Math.round(e);return c3(t,r)}function Bc(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var Nx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ru=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function d3(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},jx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},u3={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zc(e,r,t){for(var s=e<0?-1:1,l=e*s,o=0,d=1,f=0,m=1,h=0,x=0,g=Math.floor(l);h<r&&(g=Math.floor(l),f=g*d+o,x=g*h+m,!(l-g<5e-8));)l=1/(l-g),o=d,d=f,m=h,h=x;if(x>r&&(h>r?(x=m,f=o):(x=h,f=d)),!t)return[0,s*f,x];var N=Math.floor(s*f/x);return[N,s*f-N*x,x]}function wc(e,r,t){if(e>2958465||e<0)return null;var s=e|0,l=Math.floor(86400*(e-s)),o=0,d=[],f={D:s,T:l,u:86400*(e-s)-l,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),r&&r.date1904&&(s+=1462),f.u>.9999&&(f.u=0,++l==86400&&(f.T=l=0,++s,++f.D)),s===60)d=t?[1317,10,29]:[1900,2,29],o=3;else if(s===0)d=t?[1317,8,29]:[1900,1,0],o=6;else{s>60&&--s;var m=new Date(1900,0,1);m.setDate(m.getDate()+s-1),d=[m.getFullYear(),m.getMonth()+1,m.getDate()],o=m.getDay(),s<60&&(o=(o+6)%7),t&&(o=v3(m,d))}return f.y=d[0],f.m=d[1],f.d=d[2],f.S=l%60,l=Math.floor(l/60),f.M=l%60,l=Math.floor(l/60),f.H=l,f.q=o,f}var Wp=new Date(1899,11,31,0,0,0),f3=Wp.getTime(),h3=new Date(1900,2,1,0,0,0);function Hp(e,r){var t=e.getTime();return r?t-=1461*24*60*60*1e3:e>=h3&&(t+=1440*60*1e3),(t-(f3+(e.getTimezoneOffset()-Wp.getTimezoneOffset())*6e4))/(1440*60*1e3)}function $u(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function m3(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function x3(e){var r=e<0?12:11,t=$u(e.toFixed(12));return t.length<=r||(t=e.toPrecision(10),t.length<=r)?t:e.toExponential(5)}function p3(e){var r=$u(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function g3(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;return r>=-4&&r<=-1?t=e.toPrecision(10+r):Math.abs(r)<=9?t=x3(e):r===10?t=e.toFixed(10).substr(0,12):t=p3(e),$u(m3(t.toUpperCase()))}function _u(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):g3(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return is(14,Hp(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function v3(e,r){r[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}function w3(e,r,t,s){var l="",o=0,d=0,f=t.y,m,h=0;switch(e){case 98:f=t.y+543;case 121:switch(r.length){case 1:case 2:m=f%100,h=2;break;default:m=f%1e4,h=4;break}break;case 109:switch(r.length){case 1:case 2:m=t.m,h=r.length;break;case 3:return ru[t.m-1][1];case 5:return ru[t.m-1][0];default:return ru[t.m-1][2]}break;case 100:switch(r.length){case 1:case 2:m=t.d,h=r.length;break;case 3:return Nx[t.q][0];default:return Nx[t.q][1]}break;case 104:switch(r.length){case 1:case 2:m=1+(t.H+11)%12,h=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:m=t.H,h=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:m=t.M,h=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return t.u===0&&(r=="s"||r=="ss")?Fn(t.S,r.length):(s>=2?d=s===3?1e3:100:d=s===1?10:1,o=Math.round(d*(t.S+t.u)),o>=60*d&&(o=0),r==="s"?o===0?"0":""+o/d:(l=Fn(o,2+s),r==="ss"?l.substr(0,2):"."+l.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":m=t.D*24+t.H;break;case"[m]":case"[mm]":m=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":m=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r}h=r.length===3?1:2;break;case 101:m=f,h=1;break}var x=h>0?Fn(m,h):"";return x}function ts(e){var r=3;if(e.length<=r)return e;for(var t=e.length%r,s=e.substr(0,t);t!=e.length;t+=r)s+=(s.length>0?",":"")+e.substr(t,r);return s}var Vp=/%/g;function b3(e,r,t){var s=r.replace(Vp,""),l=r.length-s.length;return xa(e,s,t*Math.pow(10,2*l))+Ht("%",l)}function y3(e,r,t){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return xa(e,r.substr(0,s),t/Math.pow(10,3*(r.length-s)))}function Gp(e,r){var t,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+Gp(e,-r);var l=e.indexOf(".");l===-1&&(l=e.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%l;if(o<0&&(o+=l),t=(r/Math.pow(10,o)).toPrecision(s+1+(l+o)%l),t.indexOf("e")===-1){var d=Math.floor(Math.log(r)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(d-t.length+o):t+="E+"+(d-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,l)+"."+t.substr(2+l),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,m,h,x){return m+h+x.substr(0,(l+o)%l)+"."+x.substr(o)+"E"})}else t=r.toExponential(s);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Yp=/# (\?+)( ?)\/( ?)(\d+)/;function N3(e,r,t){var s=parseInt(e[4],10),l=Math.round(r*s),o=Math.floor(l/s),d=l-o*s,f=s;return t+(o===0?"":""+o)+" "+(d===0?Ht(" ",e[1].length+1+e[4].length):Uu(d,e[1].length)+e[2]+"/"+e[3]+Fn(f,e[4].length))}function j3(e,r,t){return t+(r===0?"":""+r)+Ht(" ",e[1].length+2+e[4].length)}var Xp=/^#*0*\.([0#]+)/,Kp=/\).*[0#]/,qp=/\(###\) ###\\?-####/;function Ir(e){for(var r="",t,s=0;s!=e.length;++s)switch(t=e.charCodeAt(s)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function _x(e,r){var t=Math.pow(10,r);return""+Math.round(e*t)/t}function kx(e,r){var t=e-Math.floor(e),s=Math.pow(10,r);return r<(""+Math.round(t*s)).length?0:Math.round(t*s)}function _3(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function k3(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vn(e,r,t){if(e.charCodeAt(0)===40&&!r.match(Kp)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?vn("n",s,t):"("+vn("n",s,-t)+")"}if(r.charCodeAt(r.length-1)===44)return y3(e,r,t);if(r.indexOf("%")!==-1)return b3(e,r,t);if(r.indexOf("E")!==-1)return Gp(r,t);if(r.charCodeAt(0)===36)return"$"+vn(e,r.substr(r.charAt(1)==" "?2:1),t);var l,o,d,f,m=Math.abs(t),h=t<0?"-":"";if(r.match(/^00+$/))return h+vi(m,r.length);if(r.match(/^[#?]+$/))return l=vi(t,0),l==="0"&&(l=""),l.length>r.length?l:Ir(r.substr(0,r.length-l.length))+l;if(o=r.match(Yp))return N3(o,m,h);if(r.match(/^#+0+$/))return h+vi(m,r.length-r.indexOf("0"));if(o=r.match(Xp))return l=_x(t,o[1].length).replace(/^([^\.]+)$/,"$1."+Ir(o[1])).replace(/\.$/,"."+Ir(o[1])).replace(/\.(\d*)$/,function(j,w){return"."+w+Ht("0",Ir(o[1]).length-w.length)}),r.indexOf("0.")!==-1?l:l.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return h+_x(m,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return h+ts(vi(m,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+vn(e,r,-t):ts(""+(Math.floor(t)+_3(t,o[1].length)))+"."+Fn(kx(t,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return vn(e,r.replace(/^#,#*,/,""),t);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return l=ki(vn(e,r.replace(/[\\-]/g,""),t)),d=0,ki(ki(r.replace(/\\/g,"")).replace(/[0#]/g,function(j){return d<l.length?l.charAt(d++):j==="0"?"0":""}));if(r.match(qp))return l=vn(e,"##########",t),"("+l.substr(0,3)+") "+l.substr(3,3)+"-"+l.substr(6);var x="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(o[4].length,7),f=zc(m,Math.pow(10,d)-1,!1),l=""+h,x=xa("n",o[1],f[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),l+=x+o[2]+"/"+o[3],x=Lc(f[2],d),x.length<o[4].length&&(x=Ir(o[4].substr(o[4].length-x.length))+x),l+=x,l;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(o[1].length,o[4].length),7),f=zc(m,Math.pow(10,d)-1,!0),h+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Uu(f[1],d)+o[2]+"/"+o[3]+Lc(f[2],d):Ht(" ",2*d+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return l=vi(t,0),r.length<=l.length?l:Ir(r.substr(0,r.length-l.length))+l;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){l=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),d=l.indexOf(".");var g=r.indexOf(".")-d,N=r.length-l.length-g;return Ir(r.substr(0,g)+l+r.substr(r.length-N))}if(o=r.match(/^00,000\.([#0]*0)$/))return d=kx(t,o[1].length),t<0?"-"+vn(e,r,-t):ts(k3(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?Fn(0,3-j.length):"")+j})+"."+Fn(d,o[1].length);switch(r){case"###,##0.00":return vn(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var y=ts(vi(m,0));return y!=="0"?h+y:"";case"###,###.00":return vn(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return vn(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function S3(e,r,t){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return xa(e,r.substr(0,s),t/Math.pow(10,3*(r.length-s)))}function E3(e,r,t){var s=r.replace(Vp,""),l=r.length-s.length;return xa(e,s,t*Math.pow(10,2*l))+Ht("%",l)}function Qp(e,r){var t,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+Qp(e,-r);var l=e.indexOf(".");l===-1&&(l=e.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%l;if(o<0&&(o+=l),t=(r/Math.pow(10,o)).toPrecision(s+1+(l+o)%l),!t.match(/[Ee]/)){var d=Math.floor(Math.log(r)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(d-t.length+o):t+="E+"+(d-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,m,h,x){return m+h+x.substr(0,(l+o)%l)+"."+x.substr(o)+"E"})}else t=r.toExponential(s);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Wn(e,r,t){if(e.charCodeAt(0)===40&&!r.match(Kp)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Wn("n",s,t):"("+Wn("n",s,-t)+")"}if(r.charCodeAt(r.length-1)===44)return S3(e,r,t);if(r.indexOf("%")!==-1)return E3(e,r,t);if(r.indexOf("E")!==-1)return Qp(r,t);if(r.charCodeAt(0)===36)return"$"+Wn(e,r.substr(r.charAt(1)==" "?2:1),t);var l,o,d,f,m=Math.abs(t),h=t<0?"-":"";if(r.match(/^00+$/))return h+Fn(m,r.length);if(r.match(/^[#?]+$/))return l=""+t,t===0&&(l=""),l.length>r.length?l:Ir(r.substr(0,r.length-l.length))+l;if(o=r.match(Yp))return j3(o,m,h);if(r.match(/^#+0+$/))return h+Fn(m,r.length-r.indexOf("0"));if(o=r.match(Xp))return l=(""+t).replace(/^([^\.]+)$/,"$1."+Ir(o[1])).replace(/\.$/,"."+Ir(o[1])),l=l.replace(/\.(\d*)$/,function(j,w){return"."+w+Ht("0",Ir(o[1]).length-w.length)}),r.indexOf("0.")!==-1?l:l.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return h+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return h+ts(""+m);if(o=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Wn(e,r,-t):ts(""+t)+"."+Ht("0",o[1].length);if(o=r.match(/^#,#*,#0/))return Wn(e,r.replace(/^#,#*,/,""),t);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return l=ki(Wn(e,r.replace(/[\\-]/g,""),t)),d=0,ki(ki(r.replace(/\\/g,"")).replace(/[0#]/g,function(j){return d<l.length?l.charAt(d++):j==="0"?"0":""}));if(r.match(qp))return l=Wn(e,"##########",t),"("+l.substr(0,3)+") "+l.substr(3,3)+"-"+l.substr(6);var x="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(o[4].length,7),f=zc(m,Math.pow(10,d)-1,!1),l=""+h,x=xa("n",o[1],f[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),l+=x+o[2]+"/"+o[3],x=Lc(f[2],d),x.length<o[4].length&&(x=Ir(o[4].substr(o[4].length-x.length))+x),l+=x,l;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(o[1].length,o[4].length),7),f=zc(m,Math.pow(10,d)-1,!0),h+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Uu(f[1],d)+o[2]+"/"+o[3]+Lc(f[2],d):Ht(" ",2*d+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return l=""+t,r.length<=l.length?l:Ir(r.substr(0,r.length-l.length))+l;if(o=r.match(/^([#0]+)\.([#0]+)$/)){l=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),d=l.indexOf(".");var g=r.indexOf(".")-d,N=r.length-l.length-g;return Ir(r.substr(0,g)+l+r.substr(r.length-N))}if(o=r.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Wn(e,r,-t):ts(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?Fn(0,3-j.length):"")+j})+"."+Fn(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var y=ts(""+m);return y!=="0"?h+y:"";default:if(r.match(/\.[0#?]*$/))return Wn(e,r.slice(0,r.lastIndexOf(".")),t)+Ir(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function xa(e,r,t){return(t|0)===t?Wn(e,r,t):vn(e,r,t)}function T3(e){for(var r=[],t=!1,s=0,l=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:t=!t;break;case 95:case 42:case 92:++s;break;case 59:r[r.length]=e.substr(l,s-l),l=s+1}if(r[r.length]=e.substr(l),t===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var Jp=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zp(e){for(var r=0,t="",s="";r<e.length;)switch(t=e.charAt(r)){case"G":Bc(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(s=t;e.charAt(r++)!=="]"&&r<e.length;)s+=e.charAt(r);if(s.match(Jp))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++r))>-1||t=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===t;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function C3(e,r,t,s){for(var l=[],o="",d=0,f="",m="t",h,x,g,N="H";d<e.length;)switch(f=e.charAt(d)){case"G":if(!Bc(e,d))throw new Error("unrecognized character "+f+" in "+e);l[l.length]={t:"G",v:"General"},d+=7;break;case'"':for(o="";(g=e.charCodeAt(++d))!==34&&d<e.length;)o+=String.fromCharCode(g);l[l.length]={t:"t",v:o},++d;break;case"\\":var y=e.charAt(++d),j=y==="("||y===")"?y:"t";l[l.length]={t:j,v:y},++d;break;case"_":l[l.length]={t:"t",v:" "},d+=2;break;case"@":l[l.length]={t:"T",v:r},++d;break;case"B":case"b":if(e.charAt(d+1)==="1"||e.charAt(d+1)==="2"){if(h==null&&(h=wc(r,t,e.charAt(d+1)==="2"),h==null))return"";l[l.length]={t:"X",v:e.substr(d,2)},m=f,d+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||h==null&&(h=wc(r,t),h==null))return"";for(o=f;++d<e.length&&e.charAt(d).toLowerCase()===f;)o+=f;f==="m"&&m.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=N),l[l.length]={t:f,v:o},m=f;break;case"A":case"a":case"上":var w={t:f,v:f};if(h==null&&(h=wc(r,t)),e.substr(d,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",N="h",d+=3):e.substr(d,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",d+=5,N="h"):e.substr(d,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",d+=5,N="h"):(w.t="t",++d),h==null&&w.t==="T")return"";l[l.length]=w,m=f;break;case"[":for(o=f;e.charAt(d++)!=="]"&&d<e.length;)o+=e.charAt(d);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(Jp)){if(h==null&&(h=wc(r,t),h==null))return"";l[l.length]={t:"Z",v:o.toLowerCase()},m=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zp(e)||(l[l.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=f;++d<e.length&&(f=e.charAt(d))==="0";)o+=f;l[l.length]={t:"s",v:o};break}case"0":case"#":for(o=f;++d<e.length&&"0#?.,E+-%".indexOf(f=e.charAt(d))>-1;)o+=f;l[l.length]={t:"n",v:o};break;case"?":for(o=f;e.charAt(++d)===f;)o+=f;l[l.length]={t:f,v:o},m=f;break;case"*":++d,(e.charAt(d)==" "||e.charAt(d)=="*")&&++d;break;case"(":case")":l[l.length]={t:s===1?"t":f,v:f},++d;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=f;d<e.length&&"0123456789".indexOf(e.charAt(++d))>-1;)o+=e.charAt(d);l[l.length]={t:"D",v:o};break;case" ":l[l.length]={t:f,v:f},++d;break;case"$":l[l.length]={t:"t",v:"$"},++d;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+e);l[l.length]={t:"t",v:f},++d;break}var b=0,T=0,_;for(d=l.length-1,m="t";d>=0;--d)switch(l[d].t){case"h":case"H":l[d].t=N,m="h",b<1&&(b=1);break;case"s":(_=l[d].v.match(/\.0+$/))&&(T=Math.max(T,_[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":m=l[d].t;break;case"m":m==="s"&&(l[d].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&l[d].v.match(/[Hh]/)&&(b=1),b<2&&l[d].v.match(/[Mm]/)&&(b=2),b<3&&l[d].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var k="",A;for(d=0;d<l.length;++d)switch(l[d].t){case"t":case"T":case" ":case"D":break;case"X":l[d].v="",l[d].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":l[d].v=w3(l[d].t.charCodeAt(0),l[d].v,h,T),l[d].t="t";break;case"n":case"?":for(A=d+1;l[A]!=null&&((f=l[A].t)==="?"||f==="D"||(f===" "||f==="t")&&l[A+1]!=null&&(l[A+1].t==="?"||l[A+1].t==="t"&&l[A+1].v==="/")||l[d].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(l[A].v==="/"||l[A].v===" "&&l[A+1]!=null&&l[A+1].t=="?"));)l[d].v+=l[A].v,l[A]={v:"",t:";"},++A;k+=l[d].v,d=A-1;break;case"G":l[d].t="t",l[d].v=_u(r,t);break}var G="",W,H;if(k.length>0){k.charCodeAt(0)==40?(W=r<0&&k.charCodeAt(0)===45?-r:r,H=xa("n",k,W)):(W=r<0&&s>1?-r:r,H=xa("n",k,W),W<0&&l[0]&&l[0].t=="t"&&(H=H.substr(1),l[0].v="-"+l[0].v)),A=H.length-1;var ne=l.length;for(d=0;d<l.length;++d)if(l[d]!=null&&l[d].t!="t"&&l[d].v.indexOf(".")>-1){ne=d;break}var Q=l.length;if(ne===l.length&&H.indexOf("E")===-1){for(d=l.length-1;d>=0;--d)l[d]==null||"n?".indexOf(l[d].t)===-1||(A>=l[d].v.length-1?(A-=l[d].v.length,l[d].v=H.substr(A+1,l[d].v.length)):A<0?l[d].v="":(l[d].v=H.substr(0,A+1),A=-1),l[d].t="t",Q=d);A>=0&&Q<l.length&&(l[Q].v=H.substr(0,A+1)+l[Q].v)}else if(ne!==l.length&&H.indexOf("E")===-1){for(A=H.indexOf(".")-1,d=ne;d>=0;--d)if(!(l[d]==null||"n?".indexOf(l[d].t)===-1)){for(x=l[d].v.indexOf(".")>-1&&d===ne?l[d].v.indexOf(".")-1:l[d].v.length-1,G=l[d].v.substr(x+1);x>=0;--x)A>=0&&(l[d].v.charAt(x)==="0"||l[d].v.charAt(x)==="#")&&(G=H.charAt(A--)+G);l[d].v=G,l[d].t="t",Q=d}for(A>=0&&Q<l.length&&(l[Q].v=H.substr(0,A+1)+l[Q].v),A=H.indexOf(".")+1,d=ne;d<l.length;++d)if(!(l[d]==null||"n?(".indexOf(l[d].t)===-1&&d!==ne)){for(x=l[d].v.indexOf(".")>-1&&d===ne?l[d].v.indexOf(".")+1:0,G=l[d].v.substr(0,x);x<l[d].v.length;++x)A<H.length&&(G+=H.charAt(A++));l[d].v=G,l[d].t="t",Q=d}}}for(d=0;d<l.length;++d)l[d]!=null&&"n?".indexOf(l[d].t)>-1&&(W=s>1&&r<0&&d>0&&l[d-1].v==="-"?-r:r,l[d].v=xa(l[d].t,l[d].v,W),l[d].t="t");var le="";for(d=0;d!==l.length;++d)l[d]!=null&&(le+=l[d].v);return le}var Sx=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ex(e,r){if(r==null)return!1;var t=parseFloat(r[2]);switch(r[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0;break}return!1}function A3(e,r){var t=T3(e),s=t.length,l=t[s-1].indexOf("@");if(s<4&&l>-1&&--s,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!="number")return[4,t.length===4||l>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=l>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=l>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=l>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[s,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var d=t[0].match(Sx),f=t[1].match(Sx);return Ex(r,d)?[s,t[0]]:Ex(r,f)?[s,t[1]]:[s,t[d!=null&&f!=null?2:1]]}return[s,o]}function is(e,r,t){t==null&&(t={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&t.dateNF?s=t.dateNF:s=e;break;case"number":e==14&&t.dateNF?s=t.dateNF:s=(t.table!=null?t.table:Gt)[e],s==null&&(s=t.table&&t.table[jx[e]]||Gt[jx[e]]),s==null&&(s=u3[e]||"General");break}if(Bc(s,0))return _u(r,t);r instanceof Date&&(r=Hp(r,t.date1904));var l=A3(s,r);if(Bc(l[1]))return _u(r,t);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return C3(l[1],r,t,l[0])}function eg(e,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(Gt[t]==null){r<0&&(r=t);continue}if(Gt[t]==e){r=t;break}}r<0&&(r=391)}return Gt[r]=e,r}function n0(e){for(var r=0;r!=392;++r)e[r]!==void 0&&eg(e[r],r)}function a0(){Gt=d3()}var tg=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function P3(e){var r=typeof e=="number"?Gt[e]:e;return r=r.replace(tg,"(\\d+)"),new RegExp("^"+r+"$")}function D3(e,r,t){var s=-1,l=-1,o=-1,d=-1,f=-1,m=-1;(r.match(tg)||[]).forEach(function(g,N){var y=parseInt(t[N+1],10);switch(g.toLowerCase().charAt(0)){case"y":s=y;break;case"d":o=y;break;case"h":d=y;break;case"s":m=y;break;case"m":d>=0?f=y:l=y;break}}),m>=0&&f==-1&&l>=0&&(f=l,l=-1);var h=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(l>=1?l:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var x=("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return d==-1&&f==-1&&m==-1?h:s==-1&&l==-1&&o==-1?x:h+"T"+x}var F3=(function(){var e={};e.version="1.2.0";function r(){for(var H=0,ne=new Array(256),Q=0;Q!=256;++Q)H=Q,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,H=H&1?-306674912^H>>>1:H>>>1,ne[Q]=H;return typeof Int32Array!="undefined"?new Int32Array(ne):ne}var t=r();function s(H){var ne=0,Q=0,le=0,ge=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(le=0;le!=256;++le)ge[le]=H[le];for(le=0;le!=256;++le)for(Q=H[le],ne=256+le;ne<4096;ne+=256)Q=ge[ne]=Q>>>8^H[Q&255];var oe=[];for(le=1;le!=16;++le)oe[le-1]=typeof Int32Array!="undefined"?ge.subarray(le*256,le*256+256):ge.slice(le*256,le*256+256);return oe}var l=s(t),o=l[0],d=l[1],f=l[2],m=l[3],h=l[4],x=l[5],g=l[6],N=l[7],y=l[8],j=l[9],w=l[10],b=l[11],T=l[12],_=l[13],k=l[14];function A(H,ne){for(var Q=ne^-1,le=0,ge=H.length;le<ge;)Q=Q>>>8^t[(Q^H.charCodeAt(le++))&255];return~Q}function G(H,ne){for(var Q=ne^-1,le=H.length-15,ge=0;ge<le;)Q=k[H[ge++]^Q&255]^_[H[ge++]^Q>>8&255]^T[H[ge++]^Q>>16&255]^b[H[ge++]^Q>>>24]^w[H[ge++]]^j[H[ge++]]^y[H[ge++]]^N[H[ge++]]^g[H[ge++]]^x[H[ge++]]^h[H[ge++]]^m[H[ge++]]^f[H[ge++]]^d[H[ge++]]^o[H[ge++]]^t[H[ge++]];for(le+=15;ge<le;)Q=Q>>>8^t[(Q^H[ge++])&255];return~Q}function W(H,ne){for(var Q=ne^-1,le=0,ge=H.length,oe=0,we=0;le<ge;)oe=H.charCodeAt(le++),oe<128?Q=Q>>>8^t[(Q^oe)&255]:oe<2048?(Q=Q>>>8^t[(Q^(192|oe>>6&31))&255],Q=Q>>>8^t[(Q^(128|oe&63))&255]):oe>=55296&&oe<57344?(oe=(oe&1023)+64,we=H.charCodeAt(le++)&1023,Q=Q>>>8^t[(Q^(240|oe>>8&7))&255],Q=Q>>>8^t[(Q^(128|oe>>2&63))&255],Q=Q>>>8^t[(Q^(128|we>>6&15|(oe&3)<<4))&255],Q=Q>>>8^t[(Q^(128|we&63))&255]):(Q=Q>>>8^t[(Q^(224|oe>>12&15))&255],Q=Q>>>8^t[(Q^(128|oe>>6&63))&255],Q=Q>>>8^t[(Q^(128|oe&63))&255]);return~Q}return e.table=t,e.bstr=A,e.buf=G,e.str=W,e})(),_t=(function(){var r={};r.version="1.2.1";function t(C,L){for(var O=C.split("/"),M=L.split("/"),B=0,z=0,fe=Math.min(O.length,M.length);B<fe;++B){if(z=O[B].length-M[B].length)return z;if(O[B]!=M[B])return O[B]<M[B]?-1:1}return O.length-M.length}function s(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:s(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(0,L+1)}function l(C){if(C.charAt(C.length-1)=="/")return l(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(L+1)}function o(C,L){typeof L=="string"&&(L=new Date(L));var O=L.getHours();O=O<<6|L.getMinutes(),O=O<<5|L.getSeconds()>>>1,C.write_shift(2,O);var M=L.getFullYear()-1980;M=M<<4|L.getMonth()+1,M=M<<5|L.getDate(),C.write_shift(2,M)}function d(C){var L=C.read_shift(2)&65535,O=C.read_shift(2)&65535,M=new Date,B=O&31;O>>>=5;var z=O&15;O>>>=4,M.setMilliseconds(0),M.setFullYear(O+1980),M.setMonth(z-1),M.setDate(B);var fe=L&31;L>>>=5;var Ne=L&63;return L>>>=6,M.setHours(L),M.setMinutes(Ne),M.setSeconds(fe<<1),M}function f(C){sn(C,0);for(var L={},O=0;C.l<=C.length-4;){var M=C.read_shift(2),B=C.read_shift(2),z=C.l+B,fe={};switch(M){case 21589:O=C.read_shift(1),O&1&&(fe.mtime=C.read_shift(4)),B>5&&(O&2&&(fe.atime=C.read_shift(4)),O&4&&(fe.ctime=C.read_shift(4))),fe.mtime&&(fe.mt=new Date(fe.mtime*1e3));break}C.l=z,L[M]=fe}return L}var m;function h(){return m||(m={})}function x(C,L){if(C[0]==80&&C[1]==75)return Vs(C,L);if((C[0]|32)==109&&(C[1]|32)==105)return lo(C,L);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var O=3,M=512,B=0,z=0,fe=0,Ne=0,ue=0,he=[],me=C.slice(0,512);sn(me,0);var Ae=g(me);switch(O=Ae[0],O){case 3:M=512;break;case 4:M=4096;break;case 0:if(Ae[1]==0)return Vs(C,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+O)}M!==512&&(me=C.slice(0,M),sn(me,28));var Be=C.slice(0,M);N(me,O);var He=me.read_shift(4,"i");if(O===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);me.l+=4,fe=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),Ne=me.read_shift(4,"i"),B=me.read_shift(4,"i"),ue=me.read_shift(4,"i"),z=me.read_shift(4,"i");for(var Fe=-1,De=0;De<109&&(Fe=me.read_shift(4,"i"),!(Fe<0));++De)he[De]=Fe;var at=y(C,M);b(ue,z,at,M,he);var St=_(at,fe,he,M);St[fe].name="!Directory",B>0&&Ne!==we&&(St[Ne].name="!MiniFAT"),St[he[0]].name="!FAT",St.fat_addrs=he,St.ssz=M;var Tt={},Xt=[],ms=[],Ta=[];k(fe,St,at,Xt,B,Tt,ms,Ne),j(ms,Ta,Xt),Xt.shift();var Ln={FileIndex:ms,FullPaths:Ta};return L&&L.raw&&(Ln.raw={header:Be,sectors:at}),Ln}function g(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk($e,"Header Signature: "),C.l+=16;var L=C.read_shift(2,"u");return[C.read_shift(2,"u"),L]}function N(C,L){var O=9;switch(C.l+=2,O=C.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+O);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+O);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+O)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function y(C,L){for(var O=Math.ceil(C.length/L)-1,M=[],B=1;B<O;++B)M[B-1]=C.slice(B*L,(B+1)*L);return M[O-1]=C.slice(O*L),M}function j(C,L,O){for(var M=0,B=0,z=0,fe=0,Ne=0,ue=O.length,he=[],me=[];M<ue;++M)he[M]=me[M]=M,L[M]=O[M];for(;Ne<me.length;++Ne)M=me[Ne],B=C[M].L,z=C[M].R,fe=C[M].C,he[M]===M&&(B!==-1&&he[B]!==B&&(he[M]=he[B]),z!==-1&&he[z]!==z&&(he[M]=he[z])),fe!==-1&&(he[fe]=M),B!==-1&&M!=he[M]&&(he[B]=he[M],me.lastIndexOf(B)<Ne&&me.push(B)),z!==-1&&M!=he[M]&&(he[z]=he[M],me.lastIndexOf(z)<Ne&&me.push(z));for(M=1;M<ue;++M)he[M]===M&&(z!==-1&&he[z]!==z?he[M]=he[z]:B!==-1&&he[B]!==B&&(he[M]=he[B]));for(M=1;M<ue;++M)if(C[M].type!==0){if(Ne=M,Ne!=he[Ne])do Ne=he[Ne],L[M]=L[Ne]+"/"+L[M];while(Ne!==0&&he[Ne]!==-1&&Ne!=he[Ne]);he[M]=-1}for(L[0]+="/",M=1;M<ue;++M)C[M].type!==2&&(L[M]+="/")}function w(C,L,O){for(var M=C.start,B=C.size,z=[],fe=M;O&&B>0&&fe>=0;)z.push(L.slice(fe*oe,fe*oe+oe)),B-=oe,fe=As(O,fe*4);return z.length===0?ye(0):yr(z).slice(0,C.size)}function b(C,L,O,M,B){var z=we;if(C===we){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var fe=O[C],Ne=(M>>>2)-1;if(!fe)return;for(var ue=0;ue<Ne&&(z=As(fe,ue*4))!==we;++ue)B.push(z);b(As(fe,M-4),L-1,O,M,B)}}function T(C,L,O,M,B){var z=[],fe=[];B||(B=[]);var Ne=M-1,ue=0,he=0;for(ue=L;ue>=0;){B[ue]=!0,z[z.length]=ue,fe.push(C[ue]);var me=O[Math.floor(ue*4/M)];if(he=ue*4&Ne,M<4+he)throw new Error("FAT boundary crossed: "+ue+" 4 "+M);if(!C[me])break;ue=As(C[me],he)}return{nodes:z,data:Mx([fe])}}function _(C,L,O,M){var B=C.length,z=[],fe=[],Ne=[],ue=[],he=M-1,me=0,Ae=0,Be=0,He=0;for(me=0;me<B;++me)if(Ne=[],Be=me+L,Be>=B&&(Be-=B),!fe[Be]){ue=[];var Fe=[];for(Ae=Be;Ae>=0;){Fe[Ae]=!0,fe[Ae]=!0,Ne[Ne.length]=Ae,ue.push(C[Ae]);var De=O[Math.floor(Ae*4/M)];if(He=Ae*4&he,M<4+He)throw new Error("FAT boundary crossed: "+Ae+" 4 "+M);if(!C[De]||(Ae=As(C[De],He),Fe[Ae]))break}z[Be]={nodes:Ne,data:Mx([ue])}}return z}function k(C,L,O,M,B,z,fe,Ne){for(var ue=0,he=M.length?2:0,me=L[C].data,Ae=0,Be=0,He;Ae<me.length;Ae+=128){var Fe=me.slice(Ae,Ae+128);sn(Fe,64),Be=Fe.read_shift(2),He=Yu(Fe,0,Be-he),M.push(He);var De={name:He,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},at=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);at!==0&&(De.ct=A(Fe,Fe.l-8));var St=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);St!==0&&(De.mt=A(Fe,Fe.l-8)),De.start=Fe.read_shift(4,"i"),De.size=Fe.read_shift(4,"i"),De.size<0&&De.start<0&&(De.size=De.type=0,De.start=we,De.name=""),De.type===5?(ue=De.start,B>0&&ue!==we&&(L[ue].name="!StreamData")):De.size>=4096?(De.storage="fat",L[De.start]===void 0&&(L[De.start]=T(O,De.start,L.fat_addrs,L.ssz)),L[De.start].name=De.name,De.content=L[De.start].data.slice(0,De.size)):(De.storage="minifat",De.size<0?De.size=0:ue!==we&&De.start!==we&&L[ue]&&(De.content=w(De,L[ue].data,(L[Ne]||{}).data))),De.content&&sn(De.content,0),z[He]=De,fe.push(De)}}function A(C,L){return new Date((on(C,L+4)/1e7*Math.pow(2,32)+on(C,L)/1e7-11644473600)*1e3)}function G(C,L){return h(),x(m.readFileSync(C),L)}function W(C,L){var O=L&&L.type;switch(O||pt&&Buffer.isBuffer(C)&&(O="buffer"),O||"base64"){case"file":return G(C,L);case"base64":return x(Dn(wa(C)),L);case"binary":return x(Dn(C),L)}return x(C,L)}function H(C,L){var O=L||{},M=O.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=M+"/",C.FileIndex[0]={name:M,type:5}),O.CLSID&&(C.FileIndex[0].clsid=O.CLSID),ne(C)}function ne(C){var L="Sh33tJ5";if(!_t.find(C,"/"+L)){var O=ye(4);O[0]=55,O[1]=O[3]=50,O[2]=54,C.FileIndex.push({name:L,type:2,content:O,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+L),Q(C)}}function Q(C,L){H(C);for(var O=!1,M=!1,B=C.FullPaths.length-1;B>=0;--B){var z=C.FileIndex[B];switch(z.type){case 0:M?O=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:M=!0,isNaN(z.R*z.L*z.C)&&(O=!0),z.R>-1&&z.L>-1&&z.R==z.L&&(O=!0);break;default:O=!0;break}}if(!(!O&&!L)){var fe=new Date(1987,1,19),Ne=0,ue=Object.create?Object.create(null):{},he=[];for(B=0;B<C.FullPaths.length;++B)ue[C.FullPaths[B]]=!0,C.FileIndex[B].type!==0&&he.push([C.FullPaths[B],C.FileIndex[B]]);for(B=0;B<he.length;++B){var me=s(he[B][0]);M=ue[me],M||(he.push([me,{name:l(me).replace("/",""),type:1,clsid:qe,ct:fe,mt:fe,content:null}]),ue[me]=!0)}for(he.sort(function(He,Fe){return t(He[0],Fe[0])}),C.FullPaths=[],C.FileIndex=[],B=0;B<he.length;++B)C.FullPaths[B]=he[B][0],C.FileIndex[B]=he[B][1];for(B=0;B<he.length;++B){var Ae=C.FileIndex[B],Be=C.FullPaths[B];if(Ae.name=l(Be).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||qe,B===0)Ae.C=he.length>1?1:-1,Ae.size=0,Ae.type=5;else if(Be.slice(-1)=="/"){for(Ne=B+1;Ne<he.length&&s(C.FullPaths[Ne])!=Be;++Ne);for(Ae.C=Ne>=he.length?-1:Ne,Ne=B+1;Ne<he.length&&s(C.FullPaths[Ne])!=s(Be);++Ne);Ae.R=Ne>=he.length?-1:Ne,Ae.type=1}else s(C.FullPaths[B+1]||"")==s(Be)&&(Ae.R=B+1),Ae.type=2}}}function le(C,L){var O=L||{};if(O.fileType=="mad")return fs(C,O);switch(Q(C),O.fileType){case"zip":return Ea(C,O)}var M=(function(He){for(var Fe=0,De=0,at=0;at<He.FileIndex.length;++at){var St=He.FileIndex[at];if(St.content){var Tt=St.content.length;Tt>0&&(Tt<4096?Fe+=Tt+63>>6:De+=Tt+511>>9)}}for(var Xt=He.FullPaths.length+3>>2,ms=Fe+7>>3,Ta=Fe+127>>7,Ln=ms+De+Xt+Ta,cr=Ln+127>>7,$i=cr<=109?0:Math.ceil((cr-109)/127);Ln+cr+$i+127>>7>cr;)$i=++cr<=109?0:Math.ceil((cr-109)/127);var Kt=[1,$i,cr,Ta,Xt,De,Fe,0];return He.FileIndex[0].size=Fe<<6,Kt[7]=(He.FileIndex[0].start=Kt[0]+Kt[1]+Kt[2]+Kt[3]+Kt[4]+Kt[5])+(Kt[6]+7>>3),Kt})(C),B=ye(M[7]<<9),z=0,fe=0;{for(z=0;z<8;++z)B.write_shift(1,Re[z]);for(z=0;z<8;++z)B.write_shift(2,0);for(B.write_shift(2,62),B.write_shift(2,3),B.write_shift(2,65534),B.write_shift(2,9),B.write_shift(2,6),z=0;z<3;++z)B.write_shift(2,0);for(B.write_shift(4,0),B.write_shift(4,M[2]),B.write_shift(4,M[0]+M[1]+M[2]+M[3]-1),B.write_shift(4,0),B.write_shift(4,4096),B.write_shift(4,M[3]?M[0]+M[1]+M[2]-1:we),B.write_shift(4,M[3]),B.write_shift(-4,M[1]?M[0]-1:we),B.write_shift(4,M[1]),z=0;z<109;++z)B.write_shift(-4,z<M[2]?M[1]+z:-1)}if(M[1])for(fe=0;fe<M[1];++fe){for(;z<236+fe*127;++z)B.write_shift(-4,z<M[2]?M[1]+z:-1);B.write_shift(-4,fe===M[1]-1?we:fe+1)}var Ne=function(He){for(fe+=He;z<fe-1;++z)B.write_shift(-4,z+1);He&&(++z,B.write_shift(-4,we))};for(fe=z=0,fe+=M[1];z<fe;++z)B.write_shift(-4,ke.DIFSECT);for(fe+=M[2];z<fe;++z)B.write_shift(-4,ke.FATSECT);Ne(M[3]),Ne(M[4]);for(var ue=0,he=0,me=C.FileIndex[0];ue<C.FileIndex.length;++ue)me=C.FileIndex[ue],me.content&&(he=me.content.length,!(he<4096)&&(me.start=fe,Ne(he+511>>9)));for(Ne(M[6]+7>>3);B.l&511;)B.write_shift(-4,ke.ENDOFCHAIN);for(fe=z=0,ue=0;ue<C.FileIndex.length;++ue)me=C.FileIndex[ue],me.content&&(he=me.content.length,!(!he||he>=4096)&&(me.start=fe,Ne(he+63>>6)));for(;B.l&511;)B.write_shift(-4,ke.ENDOFCHAIN);for(z=0;z<M[4]<<2;++z){var Ae=C.FullPaths[z];if(!Ae||Ae.length===0){for(ue=0;ue<17;++ue)B.write_shift(4,0);for(ue=0;ue<3;++ue)B.write_shift(4,-1);for(ue=0;ue<12;++ue)B.write_shift(4,0);continue}me=C.FileIndex[z],z===0&&(me.start=me.size?me.start-1:we);var Be=z===0&&O.root||me.name;if(he=2*(Be.length+1),B.write_shift(64,Be,"utf16le"),B.write_shift(2,he),B.write_shift(1,me.type),B.write_shift(1,me.color),B.write_shift(-4,me.L),B.write_shift(-4,me.R),B.write_shift(-4,me.C),me.clsid)B.write_shift(16,me.clsid,"hex");else for(ue=0;ue<4;++ue)B.write_shift(4,0);B.write_shift(4,me.state||0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,me.start),B.write_shift(4,me.size),B.write_shift(4,0)}for(z=1;z<C.FileIndex.length;++z)if(me=C.FileIndex[z],me.size>=4096)if(B.l=me.start+1<<9,pt&&Buffer.isBuffer(me.content))me.content.copy(B,B.l,0,me.size),B.l+=me.size+511&-512;else{for(ue=0;ue<me.size;++ue)B.write_shift(1,me.content[ue]);for(;ue&511;++ue)B.write_shift(1,0)}for(z=1;z<C.FileIndex.length;++z)if(me=C.FileIndex[z],me.size>0&&me.size<4096)if(pt&&Buffer.isBuffer(me.content))me.content.copy(B,B.l,0,me.size),B.l+=me.size+63&-64;else{for(ue=0;ue<me.size;++ue)B.write_shift(1,me.content[ue]);for(;ue&63;++ue)B.write_shift(1,0)}if(pt)B.l=B.length;else for(;B.l<B.length;)B.write_shift(1,0);return B}function ge(C,L){var O=C.FullPaths.map(function(ue){return ue.toUpperCase()}),M=O.map(function(ue){var he=ue.split("/");return he[he.length-(ue.slice(-1)=="/"?2:1)]}),B=!1;L.charCodeAt(0)===47?(B=!0,L=O[0].slice(0,-1)+L):B=L.indexOf("/")!==-1;var z=L.toUpperCase(),fe=B===!0?O.indexOf(z):M.indexOf(z);if(fe!==-1)return C.FileIndex[fe];var Ne=!z.match(vc);for(z=z.replace(Tl,""),Ne&&(z=z.replace(vc,"!")),fe=0;fe<O.length;++fe)if((Ne?O[fe].replace(vc,"!"):O[fe]).replace(Tl,"")==z||(Ne?M[fe].replace(vc,"!"):M[fe]).replace(Tl,"")==z)return C.FileIndex[fe];return null}var oe=64,we=-2,$e="d0cf11e0a1b11ae1",Re=[208,207,17,224,161,177,26,225],qe="00000000000000000000000000000000",ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:we,FREESECT:-1,HEADER_SIGNATURE:$e,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:qe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(C,L,O){h();var M=le(C,O);m.writeFileSync(L,M)}function ve(C){for(var L=new Array(C.length),O=0;O<C.length;++O)L[O]=String.fromCharCode(C[O]);return L.join("")}function te(C,L){var O=le(C,L);switch(L&&L.type||"buffer"){case"file":return h(),m.writeFileSync(L.filename,O),O;case"binary":return typeof O=="string"?O:ve(O);case"base64":return zl(typeof O=="string"?O:ve(O));case"buffer":if(pt)return Buffer.isBuffer(O)?O:ja(O);case"array":return typeof O=="string"?Dn(O):O}return O}var V;function P(C){try{var L=C.InflateRaw,O=new L;if(O._processChunk(new Uint8Array([3,0]),O._finishFlushFlag),O.bytesRead)V=C;else throw new Error("zlib does not expose bytesRead")}catch(M){console.error("cannot use native zlib: "+(M.message||M))}}function I(C,L){if(!V)return ka(C,L);var O=V.InflateRaw,M=new O,B=M._processChunk(C.slice(C.l),M._finishFlushFlag);return C.l+=M.bytesRead,B}function E(C){return V?V.deflateRawSync(C):ae(C)}var F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function q(C){var L=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(L>>16|L>>8|L)&255}for(var se=typeof Uint8Array!="undefined",ce=se?new Uint8Array(256):[],_e=0;_e<256;++_e)ce[_e]=q(_e);function re(C,L){var O=ce[C&255];return L<=8?O>>>8-L:(O=O<<8|ce[C>>8&255],L<=16?O>>>16-L:(O=O<<8|ce[C>>16&255],O>>>24-L))}function je(C,L){var O=L&7,M=L>>>3;return(C[M]|(O<=6?0:C[M+1]<<8))>>>O&3}function Ce(C,L){var O=L&7,M=L>>>3;return(C[M]|(O<=5?0:C[M+1]<<8))>>>O&7}function R(C,L){var O=L&7,M=L>>>3;return(C[M]|(O<=4?0:C[M+1]<<8))>>>O&15}function xe(C,L){var O=L&7,M=L>>>3;return(C[M]|(O<=3?0:C[M+1]<<8))>>>O&31}function Y(C,L){var O=L&7,M=L>>>3;return(C[M]|(O<=1?0:C[M+1]<<8))>>>O&127}function be(C,L,O){var M=L&7,B=L>>>3,z=(1<<O)-1,fe=C[B]>>>M;return O<8-M||(fe|=C[B+1]<<8-M,O<16-M)||(fe|=C[B+2]<<16-M,O<24-M)||(fe|=C[B+3]<<24-M),fe&z}function ze(C,L,O){var M=L&7,B=L>>>3;return M<=5?C[B]|=(O&7)<<M:(C[B]|=O<<M&255,C[B+1]=(O&7)>>8-M),L+3}function Ue(C,L,O){var M=L&7,B=L>>>3;return O=(O&1)<<M,C[B]|=O,L+1}function st(C,L,O){var M=L&7,B=L>>>3;return O<<=M,C[B]|=O&255,O>>>=8,C[B+1]=O,L+8}function Ze(C,L,O){var M=L&7,B=L>>>3;return O<<=M,C[B]|=O&255,O>>>=8,C[B+1]=O&255,C[B+2]=O>>>8,L+16}function kt(C,L){var O=C.length,M=2*O>L?2*O:L+5,B=0;if(O>=L)return C;if(pt){var z=bx(M);if(C.copy)C.copy(z);else for(;B<C.length;++B)z[B]=C[B];return z}else if(se){var fe=new Uint8Array(M);if(fe.set)fe.set(C);else for(;B<O;++B)fe[B]=C[B];return fe}return C.length=M,C}function ft(C){for(var L=new Array(C),O=0;O<C;++O)L[O]=0;return L}function It(C,L,O){var M=1,B=0,z=0,fe=0,Ne=0,ue=C.length,he=se?new Uint16Array(32):ft(32);for(z=0;z<32;++z)he[z]=0;for(z=ue;z<O;++z)C[z]=0;ue=C.length;var me=se?new Uint16Array(ue):ft(ue);for(z=0;z<ue;++z)he[B=C[z]]++,M<B&&(M=B),me[z]=0;for(he[0]=0,z=1;z<=M;++z)he[z+16]=Ne=Ne+he[z-1]<<1;for(z=0;z<ue;++z)Ne=C[z],Ne!=0&&(me[z]=he[Ne+16]++);var Ae=0;for(z=0;z<ue;++z)if(Ae=C[z],Ae!=0)for(Ne=re(me[z],M)>>M-Ae,fe=(1<<M+4-Ae)-1;fe>=0;--fe)L[Ne|fe<<Ae]=Ae&15|z<<4;return M}var ar=se?new Uint16Array(512):ft(512),lt=se?new Uint16Array(32):ft(32);if(!se){for(var Yt=0;Yt<512;++Yt)ar[Yt]=0;for(Yt=0;Yt<32;++Yt)lt[Yt]=0}(function(){for(var C=[],L=0;L<32;L++)C.push(5);It(C,lt,32);var O=[];for(L=0;L<=143;L++)O.push(8);for(;L<=255;L++)O.push(9);for(;L<=279;L++)O.push(7);for(;L<=287;L++)O.push(8);It(O,ar,288)})();var Rn=(function(){for(var L=se?new Uint8Array(32768):[],O=0,M=0;O<Z.length-1;++O)for(;M<Z[O+1];++M)L[M]=O;for(;M<32768;++M)L[M]=29;var B=se?new Uint8Array(259):[];for(O=0,M=0;O<X.length-1;++O)for(;M<X[O+1];++M)B[M]=O;function z(Ne,ue){for(var he=0;he<Ne.length;){var me=Math.min(65535,Ne.length-he),Ae=he+me==Ne.length;for(ue.write_shift(1,+Ae),ue.write_shift(2,me),ue.write_shift(2,~me&65535);me-- >0;)ue[ue.l++]=Ne[he++]}return ue.l}function fe(Ne,ue){for(var he=0,me=0,Ae=se?new Uint16Array(32768):[];me<Ne.length;){var Be=Math.min(65535,Ne.length-me);if(Be<10){for(he=ze(ue,he,+(me+Be==Ne.length)),he&7&&(he+=8-(he&7)),ue.l=he/8|0,ue.write_shift(2,Be),ue.write_shift(2,~Be&65535);Be-- >0;)ue[ue.l++]=Ne[me++];he=ue.l*8;continue}he=ze(ue,he,+(me+Be==Ne.length)+2);for(var He=0;Be-- >0;){var Fe=Ne[me];He=(He<<5^Fe)&32767;var De=-1,at=0;if((De=Ae[He])&&(De|=me&-32768,De>me&&(De-=32768),De<me))for(;Ne[De+at]==Ne[me+at]&&at<250;)++at;if(at>2){Fe=B[at],Fe<=22?he=st(ue,he,ce[Fe+1]>>1)-1:(st(ue,he,3),he+=5,st(ue,he,ce[Fe-23]>>5),he+=3);var St=Fe<8?0:Fe-4>>2;St>0&&(Ze(ue,he,at-X[Fe]),he+=St),Fe=L[me-De],he=st(ue,he,ce[Fe]>>3),he-=3;var Tt=Fe<4?0:Fe-2>>1;Tt>0&&(Ze(ue,he,me-De-Z[Fe]),he+=Tt);for(var Xt=0;Xt<at;++Xt)Ae[He]=me&32767,He=(He<<5^Ne[me])&32767,++me;Be-=at-1}else Fe<=143?Fe=Fe+48:he=Ue(ue,he,1),he=st(ue,he,ce[Fe]),Ae[He]=me&32767,++me}he=st(ue,he,0)-1}return ue.l=(he+7)/8|0,ue.l}return function(ue,he){return ue.length<8?z(ue,he):fe(ue,he)}})();function ae(C){var L=ye(50+Math.floor(C.length*1.1)),O=Rn(C,L);return L.slice(0,O)}var Xe=se?new Uint16Array(32768):ft(32768),or=se?new Uint16Array(32768):ft(32768),Ur=se?new Uint16Array(128):ft(128),$t=1,kr=1;function jn(C,L){var O=xe(C,L)+257;L+=5;var M=xe(C,L)+1;L+=5;var B=R(C,L)+4;L+=4;for(var z=0,fe=se?new Uint8Array(19):ft(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,he=se?new Uint8Array(8):ft(8),me=se?new Uint8Array(8):ft(8),Ae=fe.length,Be=0;Be<B;++Be)fe[F[Be]]=z=Ce(C,L),ue<z&&(ue=z),he[z]++,L+=3;var He=0;for(he[0]=0,Be=1;Be<=ue;++Be)me[Be]=He=He+he[Be-1]<<1;for(Be=0;Be<Ae;++Be)(He=fe[Be])!=0&&(Ne[Be]=me[He]++);var Fe=0;for(Be=0;Be<Ae;++Be)if(Fe=fe[Be],Fe!=0){He=ce[Ne[Be]]>>8-Fe;for(var De=(1<<7-Fe)-1;De>=0;--De)Ur[He|De<<Fe]=Fe&7|Be<<3}var at=[];for(ue=1;at.length<O+M;)switch(He=Ur[Y(C,L)],L+=He&7,He>>>=3){case 16:for(z=3+je(C,L),L+=2,He=at[at.length-1];z-- >0;)at.push(He);break;case 17:for(z=3+Ce(C,L),L+=3;z-- >0;)at.push(0);break;case 18:for(z=11+Y(C,L),L+=7;z-- >0;)at.push(0);break;default:at.push(He),ue<He&&(ue=He);break}var St=at.slice(0,O),Tt=at.slice(O);for(Be=O;Be<286;++Be)St[Be]=0;for(Be=M;Be<30;++Be)Tt[Be]=0;return $t=It(St,Xe,286),kr=It(Tt,or,30),L}function _a(C,L){if(C[0]==3&&!(C[1]&3))return[Is(L),2];for(var O=0,M=0,B=bx(L||1<<18),z=0,fe=B.length>>>0,Ne=0,ue=0;(M&1)==0;){if(M=Ce(C,O),O+=3,M>>>1)M>>1==1?(Ne=9,ue=5):(O=jn(C,O),Ne=$t,ue=kr);else{O&7&&(O+=8-(O&7));var he=C[O>>>3]|C[(O>>>3)+1]<<8;if(O+=32,he>0)for(!L&&fe<z+he&&(B=kt(B,z+he),fe=B.length);he-- >0;)B[z++]=C[O>>>3],O+=8;continue}for(;;){!L&&fe<z+32767&&(B=kt(B,z+32767),fe=B.length);var me=be(C,O,Ne),Ae=M>>>1==1?ar[me]:Xe[me];if(O+=Ae&15,Ae>>>=4,(Ae>>>8&255)===0)B[z++]=Ae;else{if(Ae==256)break;Ae-=257;var Be=Ae<8?0:Ae-4>>2;Be>5&&(Be=0);var He=z+X[Ae];Be>0&&(He+=be(C,O,Be),O+=Be),me=be(C,O,ue),Ae=M>>>1==1?lt[me]:or[me],O+=Ae&15,Ae>>>=4;var Fe=Ae<4?0:Ae-2>>1,De=Z[Ae];for(Fe>0&&(De+=be(C,O,Fe),O+=Fe),!L&&fe<He&&(B=kt(B,He+100),fe=B.length);z<He;)B[z]=B[z-De],++z}}}return L?[B,O+7>>>3]:[B.slice(0,z),O+7>>>3]}function ka(C,L){var O=C.slice(C.l||0),M=_a(O,L);return C.l+=M[1],M[0]}function Hs(C,L){if(C)typeof console!="undefined"&&console.error(L);else throw new Error(L)}function Vs(C,L){var O=C;sn(O,0);var M=[],B=[],z={FileIndex:M,FullPaths:B};H(z,{root:L.root});for(var fe=O.length-4;(O[fe]!=80||O[fe+1]!=75||O[fe+2]!=5||O[fe+3]!=6)&&fe>=0;)--fe;O.l=fe+4,O.l+=4;var Ne=O.read_shift(2);O.l+=6;var ue=O.read_shift(4);for(O.l=ue,fe=0;fe<Ne;++fe){O.l+=20;var he=O.read_shift(4),me=O.read_shift(4),Ae=O.read_shift(2),Be=O.read_shift(2),He=O.read_shift(2);O.l+=8;var Fe=O.read_shift(4),De=f(O.slice(O.l+Ae,O.l+Ae+Be));O.l+=Ae+Be+He;var at=O.l;O.l=Fe+4,Sa(O,he,me,z,De),O.l=at}return z}function Sa(C,L,O,M,B){C.l+=2;var z=C.read_shift(2),fe=C.read_shift(2),Ne=d(C);if(z&8257)throw new Error("Unsupported ZIP encryption");for(var ue=C.read_shift(4),he=C.read_shift(4),me=C.read_shift(4),Ae=C.read_shift(2),Be=C.read_shift(2),He="",Fe=0;Fe<Ae;++Fe)He+=String.fromCharCode(C[C.l++]);if(Be){var De=f(C.slice(C.l,C.l+Be));(De[21589]||{}).mt&&(Ne=De[21589].mt),((B||{})[21589]||{}).mt&&(Ne=B[21589].mt)}C.l+=Be;var at=C.slice(C.l,C.l+he);switch(fe){case 8:at=I(C,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+fe)}var St=!1;z&8&&(ue=C.read_shift(4),ue==134695760&&(ue=C.read_shift(4),St=!0),he=C.read_shift(4),me=C.read_shift(4)),he!=L&&Hs(St,"Bad compressed size: "+L+" != "+he),me!=O&&Hs(St,"Bad uncompressed size: "+O+" != "+me),Jn(M,He,at,{unsafe:!0,mt:Ne})}function Ea(C,L){var O=L||{},M=[],B=[],z=ye(1),fe=O.compression?8:0,Ne=0,ue=0,he=0,me=0,Ae=0,Be=C.FullPaths[0],He=Be,Fe=C.FileIndex[0],De=[],at=0;for(ue=1;ue<C.FullPaths.length;++ue)if(He=C.FullPaths[ue].slice(Be.length),Fe=C.FileIndex[ue],!(!Fe.size||!Fe.content||He=="Sh33tJ5")){var St=me,Tt=ye(He.length);for(he=0;he<He.length;++he)Tt.write_shift(1,He.charCodeAt(he)&127);Tt=Tt.slice(0,Tt.l),De[Ae]=F3.buf(Fe.content,0);var Xt=Fe.content;fe==8&&(Xt=E(Xt)),z=ye(30),z.write_shift(4,67324752),z.write_shift(2,20),z.write_shift(2,Ne),z.write_shift(2,fe),Fe.mt?o(z,Fe.mt):z.write_shift(4,0),z.write_shift(-4,De[Ae]),z.write_shift(4,Xt.length),z.write_shift(4,Fe.content.length),z.write_shift(2,Tt.length),z.write_shift(2,0),me+=z.length,M.push(z),me+=Tt.length,M.push(Tt),me+=Xt.length,M.push(Xt),z=ye(46),z.write_shift(4,33639248),z.write_shift(2,0),z.write_shift(2,20),z.write_shift(2,Ne),z.write_shift(2,fe),z.write_shift(4,0),z.write_shift(-4,De[Ae]),z.write_shift(4,Xt.length),z.write_shift(4,Fe.content.length),z.write_shift(2,Tt.length),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(4,0),z.write_shift(4,St),at+=z.l,B.push(z),at+=Tt.length,B.push(Tt),++Ae}return z=ye(22),z.write_shift(4,101010256),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,Ae),z.write_shift(2,Ae),z.write_shift(4,at),z.write_shift(4,me),z.write_shift(2,0),yr([yr(M),yr(B),z])}var us={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function no(C,L){if(C.ctype)return C.ctype;var O=C.name||"",M=O.match(/\.([^\.]+)$/);return M&&us[M[1]]||L&&(M=(O=L).match(/[\.\\]([^\.\\])+$/),M&&us[M[1]])?us[M[1]]:"application/octet-stream"}function ao(C){for(var L=zl(C),O=[],M=0;M<L.length;M+=76)O.push(L.slice(M,M+76));return O.join(`\r
`)+`\r
`}function so(C){var L=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var me=he.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var O=[],M=L.split(`\r
`),B=0;B<M.length;++B){var z=M[B];if(z.length==0){O.push("");continue}for(var fe=0;fe<z.length;){var Ne=76,ue=z.slice(fe,fe+Ne);ue.charAt(Ne-1)=="="?Ne--:ue.charAt(Ne-2)=="="?Ne-=2:ue.charAt(Ne-3)=="="&&(Ne-=3),ue=z.slice(fe,fe+Ne),fe+=Ne,fe<z.length&&(ue+="="),O.push(ue)}}return O.join(`\r
`)}function io(C){for(var L=[],O=0;O<C.length;++O){for(var M=C[O];O<=C.length&&M.charAt(M.length-1)=="=";)M=M.slice(0,M.length-1)+C[++O];L.push(M)}for(var B=0;B<L.length;++B)L[B]=L[B].replace(/[=][0-9A-Fa-f]{2}/g,function(z){return String.fromCharCode(parseInt(z.slice(1),16))});return Dn(L.join(`\r
`))}function zi(C,L,O){for(var M="",B="",z="",fe,Ne=0;Ne<10;++Ne){var ue=L[Ne];if(!ue||ue.match(/^\s*$/))break;var he=ue.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":M=he[2].trim();break;case"content-type":z=he[2].trim();break;case"content-transfer-encoding":B=he[2].trim();break}}switch(++Ne,B.toLowerCase()){case"base64":fe=Dn(wa(L.slice(Ne).join("")));break;case"quoted-printable":fe=io(L.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+B)}var me=Jn(C,M.slice(O.length),fe,{unsafe:!0});z&&(me.ctype=z)}function lo(C,L){if(ve(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var O=L&&L.root||"",M=(pt&&Buffer.isBuffer(C)?C.toString("binary"):ve(C)).split(`\r
`),B=0,z="";for(B=0;B<M.length;++B)if(z=M[B],!!/^Content-Location:/i.test(z)&&(z=z.slice(z.indexOf("file")),O||(O=z.slice(0,z.lastIndexOf("/")+1)),z.slice(0,O.length)!=O))for(;O.length>0&&(O=O.slice(0,O.length-1),O=O.slice(0,O.lastIndexOf("/")+1),z.slice(0,O.length)!=O););var fe=(M[1]||"").match(/boundary="(.*?)"/);if(!fe)throw new Error("MAD cannot find boundary");var Ne="--"+(fe[1]||""),ue=[],he=[],me={FileIndex:ue,FullPaths:he};H(me);var Ae,Be=0;for(B=0;B<M.length;++B){var He=M[B];He!==Ne&&He!==Ne+"--"||(Be++&&zi(me,M.slice(Ae,B),O),Ae=B)}return me}function fs(C,L){var O=L||{},M=O.boundary||"SheetJS";M="------="+M;for(var B=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+M.slice(2)+'"',"","",""],z=C.FullPaths[0],fe=z,Ne=C.FileIndex[0],ue=1;ue<C.FullPaths.length;++ue)if(fe=C.FullPaths[ue].slice(z.length),Ne=C.FileIndex[ue],!(!Ne.size||!Ne.content||fe=="Sh33tJ5")){fe=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var he=Ne.content,me=pt&&Buffer.isBuffer(he)?he.toString("binary"):ve(he),Ae=0,Be=Math.min(1024,me.length),He=0,Fe=0;Fe<=Be;++Fe)(He=me.charCodeAt(Fe))>=32&&He<128&&++Ae;var De=Ae>=Be*4/5;B.push(M),B.push("Content-Location: "+(O.root||"file:///C:/SheetJS/")+fe),B.push("Content-Transfer-Encoding: "+(De?"quoted-printable":"base64")),B.push("Content-Type: "+no(Ne,fe)),B.push(""),B.push(De?so(me):ao(me))}return B.push(M+`--\r
`),B.join(`\r
`)}function Ui(C){var L={};return H(L,C),L}function Jn(C,L,O,M){var B=M&&M.unsafe;B||H(C);var z=!B&&_t.find(C,L);if(!z){var fe=C.FullPaths[0];L.slice(0,fe.length)==fe?fe=L:(fe.slice(-1)!="/"&&(fe+="/"),fe=(fe+L).replace("//","/")),z={name:l(L),type:2},C.FileIndex.push(z),C.FullPaths.push(fe),B||_t.utils.cfb_gc(C)}return z.content=O,z.size=O?O.length:0,M&&(M.CLSID&&(z.clsid=M.CLSID),M.mt&&(z.mt=M.mt),M.ct&&(z.ct=M.ct)),z}function u0(C,L){H(C);var O=_t.find(C,L);if(O){for(var M=0;M<C.FileIndex.length;++M)if(C.FileIndex[M]==O)return C.FileIndex.splice(M,1),C.FullPaths.splice(M,1),!0}return!1}function hs(C,L,O){H(C);var M=_t.find(C,L);if(M){for(var B=0;B<C.FileIndex.length;++B)if(C.FileIndex[B]==M)return C.FileIndex[B].name=l(O),C.FullPaths[B]=O,!0}return!1}function Gs(C){Q(C,!0)}return r.find=ge,r.read=W,r.parse=x,r.write=te,r.writeFile=J,r.utils={cfb_new:Ui,cfb_add:Jn,cfb_del:u0,cfb_mov:hs,cfb_gc:Gs,ReadShift:Al,CheckField:wg,prep_blob:sn,bconcat:yr,use_zlib:P,_deflateRaw:ae,_inflateRaw:ka,consts:ke},r})();function O3(e){return typeof e=="string"?r0(e):Array.isArray(e)?i3(e):e}function Kl(e,r,t){if(typeof Deno!="undefined"){if(t&&typeof r=="string")switch(t){case"utf8":r=new TextEncoder(t).encode(r);break;case"binary":r=r0(r);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,r)}var s=t=="utf8"?$l(r):r;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(s,e);if(typeof Blob!="undefined"){var l=new Blob([O3(s)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(l,e);if(typeof saveAs!="undefined")return saveAs(l,e);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(l);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var d=document.createElement("a");if(d.download!=null)return d.download=e,d.href=o,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var f=File(e);return f.open("w"),f.encoding="binary",Array.isArray(r)&&(r=Xl(r)),f.write(r),f.close(),r}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+e)}function _r(e){for(var r=Object.keys(e),t=[],s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(e,r[s])&&t.push(r[s]);return t}function Tx(e,r){for(var t=[],s=_r(e),l=0;l!==s.length;++l)t[e[s[l]][r]]==null&&(t[e[s[l]][r]]=s[l]);return t}function Wu(e){for(var r=[],t=_r(e),s=0;s!==t.length;++s)r[e[t[s]]]=t[s];return r}function s0(e){for(var r=[],t=_r(e),s=0;s!==t.length;++s)r[e[t[s]]]=parseInt(t[s],10);return r}function M3(e){for(var r=[],t=_r(e),s=0;s!==t.length;++s)r[e[t[s]]]==null&&(r[e[t[s]]]=[]),r[e[t[s]]].push(t[s]);return r}var Uc=new Date(1899,11,30,0,0,0);function Jr(e,r){var t=e.getTime(),s=Uc.getTime()+(e.getTimezoneOffset()-Uc.getTimezoneOffset())*6e4;return(t-s)/(1440*60*1e3)}var rg=new Date,I3=Uc.getTime()+(rg.getTimezoneOffset()-Uc.getTimezoneOffset())*6e4,Cx=rg.getTimezoneOffset();function ng(e){var r=new Date;return r.setTime(e*24*60*60*1e3+I3),r.getTimezoneOffset()!==Cx&&r.setTime(r.getTime()+(r.getTimezoneOffset()-Cx)*6e4),r}var Ax=new Date("2017-02-19T19:06:09.000Z"),ag=isNaN(Ax.getFullYear())?new Date("2/19/17"):Ax,R3=ag.getFullYear()==2017;function Br(e,r){var t=new Date(e);if(R3)return r>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):r<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(e instanceof Date)return e;if(ag.getFullYear()==1917&&!isNaN(t.getFullYear())){var s=t.getFullYear();return e.indexOf(""+s)>-1||t.setFullYear(t.getFullYear()+100),t}var l=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+l[0],+l[1]-1,+l[2],+l[3]||0,+l[4]||0,+l[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function i0(e,r){if(pt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder!="undefined")try{var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return t[o]||o})}catch{}for(var s=[],l=0;l!=e.length;++l)s.push(String.fromCharCode(e[l]));return s.join("")}function Zr(e){if(typeof JSON!="undefined"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=Zr(e[t]));return r}function Ht(e,r){for(var t="";t.length<r;)t+=e;return t}function pa(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var t=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(r=Number(s))||(s=s.replace(/[(](.*)[)]/,function(l,o){return t=-t,o}),!isNaN(r=Number(s)))?r/t:r}var L3=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ul(e){var r=new Date(e),t=new Date(NaN),s=r.getYear(),l=r.getMonth(),o=r.getDate();if(isNaN(o))return t;var d=e.toLowerCase();if(d.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(d=d.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),d.length>3&&L3.indexOf(d)==-1)return t}else if(d.match(/[a-z]/))return t;return s<0||s>8099?t:(l>0||o>1)&&s!=101?r:e.match(/[^-0-9:,\/\\]/)?t:r}function it(e,r,t){if(e.FullPaths){if(typeof t=="string"){var s;return pt?s=ja(t):s=l3(t),_t.utils.cfb_add(e,r,s)}_t.utils.cfb_add(e,r,t)}else e.file(r,t)}function Hu(){return _t.utils.cfb_new()}var nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,B3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Vu=Wu(B3),Gu=/[&<>'"]/g,z3=/[\u0000-\u0008\u000b-\u001f]/g;function Nt(e){var r=e+"";return r.replace(Gu,function(t){return Vu[t]}).replace(z3,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Px(e){return Nt(e).replace(/ /g,"_x0020_")}var sg=/[\u0000-\u001f]/g;function U3(e){var r=e+"";return r.replace(Gu,function(t){return Vu[t]}).replace(/\n/g,"<br/>").replace(sg,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function $3(e){var r=e+"";return r.replace(Gu,function(t){return Vu[t]}).replace(sg,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function W3(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function H3(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function nu(e){for(var r="",t=0,s=0,l=0,o=0,d=0,f=0;t<e.length;){if(s=e.charCodeAt(t++),s<128){r+=String.fromCharCode(s);continue}if(l=e.charCodeAt(t++),s>191&&s<224){d=(s&31)<<6,d|=l&63,r+=String.fromCharCode(d);continue}if(o=e.charCodeAt(t++),s<240){r+=String.fromCharCode((s&15)<<12|(l&63)<<6|o&63);continue}d=e.charCodeAt(t++),f=((s&7)<<18|(l&63)<<12|(o&63)<<6|d&63)-65536,r+=String.fromCharCode(55296+(f>>>10&1023)),r+=String.fromCharCode(56320+(f&1023))}return r}function Dx(e){var r=Is(2*e.length),t,s,l=1,o=0,d=0,f;for(s=0;s<e.length;s+=l)l=1,(f=e.charCodeAt(s))<128?t=f:f<224?(t=(f&31)*64+(e.charCodeAt(s+1)&63),l=2):f<240?(t=(f&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),l=3):(l=4,t=(f&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),t-=65536,d=55296+(t>>>10&1023),t=56320+(t&1023)),d!==0&&(r[o++]=d&255,r[o++]=d>>>8,d=0),r[o++]=t%256,r[o++]=t>>>8;return r.slice(0,o).toString("ucs2")}function Fx(e){return ja(e,"binary").toString("utf8")}var bc="foo bar bazâð£",Cl=pt&&(Fx(bc)==nu(bc)&&Fx||Dx(bc)==nu(bc)&&Dx)||nu,$l=pt?function(e){return ja(e,"utf8").toString("binary")}:function(e){for(var r=[],t=0,s=0,l=0;t<e.length;)switch(s=e.charCodeAt(t++),!0){case s<128:r.push(String.fromCharCode(s));break;case s<2048:r.push(String.fromCharCode(192+(s>>6))),r.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,l=e.charCodeAt(t++)-56320+(s<<10),r.push(String.fromCharCode(240+(l>>18&7))),r.push(String.fromCharCode(144+(l>>12&63))),r.push(String.fromCharCode(128+(l>>6&63))),r.push(String.fromCharCode(128+(l&63)));break;default:r.push(String.fromCharCode(224+(s>>12))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)))}return r.join("")},V3=(function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(t){for(var s=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),l=0;l<e.length;++l)s=s.replace(e[l][0],e[l][1]);return s}})(),ig=/(^\s|\s$|\n)/;function Nr(e,r){return"<"+e+(r.match(ig)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function Wl(e){return _r(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function Me(e,r,t){return"<"+e+(t!=null?Wl(t):"")+(r!=null?(r.match(ig)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function ku(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(r)throw t}return""}function G3(e,r){switch(typeof e){case"string":var t=Me("vt:lpwstr",Nt(e));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Me((e|0)==e?"vt:i4":"vt:r8",Nt(String(e)));case"boolean":return Me("vt:bool",e?"true":"false")}if(e instanceof Date)return Me("vt:filetime",ku(e));throw new Error("Unable to serialize "+e)}var mr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ii=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ln={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Y3(e,r){for(var t=1-2*(e[r+7]>>>7),s=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),l=e[r+6]&15,o=5;o>=0;--o)l=l*256+e[r+o];return s==2047?l==0?t*(1/0):NaN:(s==0?s=-1022:(s-=1023,l+=Math.pow(2,52)),t*Math.pow(2,s-52)*l)}function X3(e,r,t){var s=(r<0||1/r==-1/0?1:0)<<7,l=0,o=0,d=s?-r:r;isFinite(d)?d==0?l=o=0:(l=Math.floor(Math.log(d)/Math.LN2),o=d*Math.pow(2,52-l),l<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?l=-1022:(o-=Math.pow(2,52),l+=1023)):(l=2047,o=isNaN(r)?26985:0);for(var f=0;f<=5;++f,o/=256)e[t+f]=o&255;e[t+6]=(l&15)<<4|o&15,e[t+7]=l>>4|s}var Ox=function(e){for(var r=[],t=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var l=0,o=e[0][s].length;l<o;l+=t)r.push.apply(r,e[0][s].slice(l,l+t));return r},Mx=pt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:ja(r)})):Ox(e)}:Ox,Ix=function(e,r,t){for(var s=[],l=r;l<t;l+=2)s.push(String.fromCharCode(Sl(e,l)));return s.join("").replace(Tl,"")},Yu=pt?function(e,r,t){return Buffer.isBuffer(e)?e.toString("utf16le",r,t).replace(Tl,""):Ix(e,r,t)}:Ix,Rx=function(e,r,t){for(var s=[],l=r;l<r+t;++l)s.push(("0"+e[l].toString(16)).slice(-2));return s.join("")},lg=pt?function(e,r,t){return Buffer.isBuffer(e)?e.toString("hex",r,r+t):Rx(e,r,t)}:Rx,Lx=function(e,r,t){for(var s=[],l=r;l<t;l++)s.push(String.fromCharCode(yi(e,l)));return s.join("")},ql=pt?function(r,t,s){return Buffer.isBuffer(r)?r.toString("utf8",t,s):Lx(r,t,s)}:Lx,og=function(e,r){var t=on(e,r);return t>0?ql(e,r+4,r+4+t-1):""},cg=og,dg=function(e,r){var t=on(e,r);return t>0?ql(e,r+4,r+4+t-1):""},ug=dg,fg=function(e,r){var t=2*on(e,r);return t>0?ql(e,r+4,r+4+t-1):""},hg=fg,mg=function(r,t){var s=on(r,t);return s>0?Yu(r,t+4,t+4+s):""},xg=mg,pg=function(e,r){var t=on(e,r);return t>0?ql(e,r+4,r+4+t):""},gg=pg,vg=function(e,r){return Y3(e,r)},$c=vg,Xu=function(r){return Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array};pt&&(cg=function(r,t){if(!Buffer.isBuffer(r))return og(r,t);var s=r.readUInt32LE(t);return s>0?r.toString("utf8",t+4,t+4+s-1):""},ug=function(r,t){if(!Buffer.isBuffer(r))return dg(r,t);var s=r.readUInt32LE(t);return s>0?r.toString("utf8",t+4,t+4+s-1):""},hg=function(r,t){if(!Buffer.isBuffer(r))return fg(r,t);var s=2*r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+s-1)},xg=function(r,t){if(!Buffer.isBuffer(r))return mg(r,t);var s=r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+s)},gg=function(r,t){if(!Buffer.isBuffer(r))return pg(r,t);var s=r.readUInt32LE(t);return r.toString("utf8",t+4,t+4+s)},$c=function(r,t){return Buffer.isBuffer(r)?r.readDoubleLE(t):vg(r,t)},Xu=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array});var yi=function(e,r){return e[r]},Sl=function(e,r){return e[r+1]*256+e[r]},K3=function(e,r){var t=e[r+1]*256+e[r];return t<32768?t:(65535-t+1)*-1},on=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},As=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},q3=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function Al(e,r){var t="",s,l,o=[],d,f,m,h;switch(r){case"dbcs":if(h=this.l,pt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(m=0;m<e;++m)t+=String.fromCharCode(Sl(this,h)),h+=2;e*=2;break;case"utf8":t=ql(this,this.l,this.l+e);break;case"utf16le":e*=2,t=Yu(this,this.l,this.l+e);break;case"wstr":return Al.call(this,e,"dbcs");case"lpstr-ansi":t=cg(this,this.l),e=4+on(this,this.l);break;case"lpstr-cp":t=ug(this,this.l),e=4+on(this,this.l);break;case"lpwstr":t=hg(this,this.l),e=4+2*on(this,this.l);break;case"lpp4":e=4+on(this,this.l),t=xg(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+on(this,this.l),t=gg(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,t="";(d=yi(this,this.l+e++))!==0;)o.push(gc(d));t=o.join("");break;case"_wstr":for(e=0,t="";(d=Sl(this,this.l+e))!==0;)o.push(gc(d)),e+=2;e+=2,t=o.join("");break;case"dbcs-cont":for(t="",h=this.l,m=0;m<e;++m){if(this.lens&&this.lens.indexOf(h)!==-1)return d=yi(this,h),this.l=h+1,f=Al.call(this,e-m,d?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(gc(Sl(this,h))),h+=2}t=o.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,m=0;m!=e;++m){if(this.lens&&this.lens.indexOf(h)!==-1)return d=yi(this,h),this.l=h+1,f=Al.call(this,e-m,d?"dbcs-cont":"sbcs-cont"),o.join("")+f;o.push(gc(yi(this,h))),h+=1}t=o.join("");break;default:switch(e){case 1:return s=yi(this,this.l),this.l++,s;case 2:return s=(r==="i"?K3:Sl)(this,this.l),this.l+=2,s;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(s=(e>0?As:q3)(this,this.l),this.l+=4,s):(l=on(this,this.l),this.l+=4,l);case 8:case-8:if(r==="f")return e==8?l=$c(this,this.l):l=$c([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,l;e=8;case 16:t=lg(this,this.l,e);break}}return this.l+=e,t}var Q3=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24&255},J3=function(e,r,t){e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},Z3=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255};function eN(e,r,t){var s=0,l=0;if(t==="dbcs"){for(l=0;l!=r.length;++l)Z3(this,r.charCodeAt(l),this.l+2*l);s=2*r.length}else if(t==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),l=0;l!=r.length;++l)this[this.l+l]=r.charCodeAt(l)&255;s=r.length}else if(t==="hex"){for(;l<e;++l)this[this.l++]=parseInt(r.slice(2*l,2*l+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+e,this.length);for(l=0;l<Math.min(r.length,e);++l){var d=r.charCodeAt(l);this[this.l++]=d&255,this[this.l++]=d>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=r&255;break;case 2:s=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:s=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:s=4,Q3(this,r,this.l);break;case 8:if(s=8,t==="f"){X3(this,r,this.l);break}case 16:break;case-4:s=4,J3(this,r,this.l);break}return this.l+=s,this}function wg(e,r){var t=lg(this,this.l,e.length>>1);if(t!==e)throw new Error(r+"Expected "+e+" saw "+t);this.l+=e.length>>1}function sn(e,r){e.l=r,e.read_shift=Al,e.chk=wg,e.write_shift=eN}function qn(e,r){e.l+=r}function ye(e){var r=Is(e);return sn(r,0),r}function Qr(){var e=[],r=pt?256:2048,t=function(h){var x=ye(h);return sn(x,0),x},s=t(r),l=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},o=function(h){return s&&h<s.length-s.l?s:(l(),s=t(Math.max(h+1,r)))},d=function(){return l(),yr(e)},f=function(h){l(),s=h,s.l==null&&(s.l=s.length),o(r)};return{next:o,push:f,end:d,_bufs:e}}function Se(e,r,t,s){var l=+r,o;if(!isNaN(l)){s||(s=YS[l].p||(t||[]).length||0),o=1+(l>=128?1:0)+1,s>=128&&++o,s>=16384&&++o,s>=2097152&&++o;var d=e.next(o);l<=127?d.write_shift(1,l):(d.write_shift(1,(l&127)+128),d.write_shift(1,l>>7));for(var f=0;f!=4;++f)if(s>=128)d.write_shift(1,(s&127)+128),s>>=7;else{d.write_shift(1,s);break}s>0&&Xu(t)&&e.push(t)}}function Pl(e,r,t){var s=Zr(e);if(r.s?(s.cRel&&(s.c+=r.s.c),s.rRel&&(s.r+=r.s.r)):(s.cRel&&(s.c+=r.c),s.rRel&&(s.r+=r.r)),!t||t.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function Bx(e,r,t){var s=Zr(e);return s.s=Pl(s.s,r.s,t),s.e=Pl(s.e,r.s,t),s}function Dl(e,r){if(e.cRel&&e.c<0)for(e=Zr(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=Zr(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var t=jt(e);return!e.cRel&&e.cRel!=null&&(t=nN(t)),!e.rRel&&e.rRel!=null&&(t=tN(t)),t}function au(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Pr(e.s.c)+":"+(e.e.cRel?"":"$")+Pr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+jr(e.s.r)+":"+(e.e.rRel?"":"$")+jr(e.e.r):Dl(e.s,r.biff)+":"+Dl(e.e,r.biff)}function Ku(e){return parseInt(rN(e),10)-1}function jr(e){return""+(e+1)}function tN(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rN(e){return e.replace(/\$(\d+)$/,"$1")}function qu(e){for(var r=aN(e),t=0,s=0;s!==r.length;++s)t=26*t+r.charCodeAt(s)-64;return t-1}function Pr(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function nN(e){return e.replace(/^([A-Z])/,"$$$1")}function aN(e){return e.replace(/^\$([A-Z])/,"$1")}function sN(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xr(e){for(var r=0,t=0,s=0;s<e.length;++s){var l=e.charCodeAt(s);l>=48&&l<=57?r=10*r+(l-48):l>=65&&l<=90&&(t=26*t+(l-64))}return{c:t-1,r:r-1}}function jt(e){for(var r=e.c+1,t="";r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(e.r+1)}function dn(e){var r=e.indexOf(":");return r==-1?{s:xr(e),e:xr(e)}:{s:xr(e.slice(0,r)),e:xr(e.slice(r+1))}}function rr(e,r){return typeof r=="undefined"||typeof r=="number"?rr(e.s,e.e):(typeof e!="string"&&(e=jt(e)),typeof r!="string"&&(r=jt(r)),e==r?e:e+":"+r)}function Mt(e){var r={s:{c:0,r:0},e:{c:0,r:0}},t=0,s=0,l=0,o=e.length;for(t=0;s<o&&!((l=e.charCodeAt(s)-64)<1||l>26);++s)t=26*t+l;for(r.s.c=--t,t=0;s<o&&!((l=e.charCodeAt(s)-48)<0||l>9);++s)t=10*t+l;if(r.s.r=--t,s===o||l!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++s,t=0;s!=o&&!((l=e.charCodeAt(s)-64)<1||l>26);++s)t=26*t+l;for(r.e.c=--t,t=0;s!=o&&!((l=e.charCodeAt(s)-48)<0||l>9);++s)t=10*t+l;return r.e.r=--t,r}function zx(e,r){var t=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=is(e.z,t?Jr(r):r)}catch{}try{return e.w=is((e.XF||{}).numFmtId||(t?14:0),t?Jr(r):r)}catch{return""+r}}function ba(e,r,t){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),e.t=="e"?Ql[e.v]||e.v:r==null?zx(e,e.v):zx(e,r))}function Bs(e,r){var t=r&&r.sheet?r.sheet:"Sheet1",s={};return s[t]=e,{SheetNames:[t],Sheets:s}}function bg(e,r,t){var s=t||{},l=e?Array.isArray(e):s.dense,o=e||(l?[]:{}),d=0,f=0;if(o&&s.origin!=null){if(typeof s.origin=="number")d=s.origin;else{var m=typeof s.origin=="string"?xr(s.origin):s.origin;d=m.r,f=m.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var x=Mt(o["!ref"]);h.s.c=x.s.c,h.s.r=x.s.r,h.e.c=Math.max(h.e.c,x.e.c),h.e.r=Math.max(h.e.r,x.e.r),d==-1&&(h.e.r=d=x.e.r+1)}for(var g=0;g!=r.length;++g)if(r[g]){if(!Array.isArray(r[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var N=0;N!=r[g].length;++N)if(typeof r[g][N]!="undefined"){var y={v:r[g][N]},j=d+g,w=f+N;if(h.s.r>j&&(h.s.r=j),h.s.c>w&&(h.s.c=w),h.e.r<j&&(h.e.r=j),h.e.c<w&&(h.e.c=w),r[g][N]&&typeof r[g][N]=="object"&&!Array.isArray(r[g][N])&&!(r[g][N]instanceof Date))y=r[g][N];else if(Array.isArray(y.v)&&(y.f=r[g][N][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(s.nullError)y.t="e",y.v=0;else if(s.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=s.dateNF||Gt[14],s.cellDates?(y.t="d",y.w=is(y.z,Jr(y.v))):(y.t="n",y.v=Jr(y.v),y.w=is(y.z,y.v))):y.t="s";if(l)o[j]||(o[j]=[]),o[j][w]&&o[j][w].z&&(y.z=o[j][w].z),o[j][w]=y;else{var b=jt({c:w,r:j});o[b]&&o[b].z&&(y.z=o[b].z),o[b]=y}}}return h.s.c<1e7&&(o["!ref"]=rr(h)),o}function Ri(e,r){return bg(null,e,r)}function iN(e){return e.read_shift(4,"i")}function On(e,r){return r||(r=ye(4)),r.write_shift(4,e),r}function Dr(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function pr(e,r){var t=!1;return r==null&&(t=!0,r=ye(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}function lN(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function oN(e,r){return r||(r=ye(4)),r.write_shift(2,0),r.write_shift(2,0),r}function Qu(e,r){var t=e.l,s=e.read_shift(1),l=Dr(e),o=[],d={t:l,h:l};if((s&1)!==0){for(var f=e.read_shift(4),m=0;m!=f;++m)o.push(lN(e));d.r=o}else d.r=[{ich:0,ifnt:0}];return e.l=t+r,d}function cN(e,r){var t=!1;return r==null&&(t=!0,r=ye(15+4*e.t.length)),r.write_shift(1,0),pr(e.t,r),t?r.slice(0,r.l):r}var dN=Qu;function uN(e,r){var t=!1;return r==null&&(t=!0,r=ye(23+4*e.t.length)),r.write_shift(1,1),pr(e.t,r),r.write_shift(4,1),oN({},r),t?r.slice(0,r.l):r}function Nn(e){var r=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:t}}function zs(e,r){return r==null&&(r=ye(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function Us(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function $s(e,r){return r==null&&(r=ye(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var fN=Dr,yg=pr;function Ju(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function Wc(e,r){var t=!1;return r==null&&(t=!0,r=ye(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}var hN=Dr,Su=Ju,Zu=Wc;function Ng(e){var r=e.slice(e.l,e.l+4),t=r[0]&1,s=r[0]&2;e.l+=4;var l=s===0?$c([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):As(r,0)>>2;return t?l/100:l}function jg(e,r){r==null&&(r=ye(4));var t=0,s=0,l=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:l==(l|0)&&l>=-536870912&&l<1<<29&&(s=1,t=1),s)r.write_shift(-4,((t?l:e)<<2)+(t+2));else throw new Error("unsupported RkNumber "+e)}function _g(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function mN(e,r){return r||(r=ye(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var Ws=_g,Li=mN;function Bi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Rs(e,r){return(r||ye(8)).write_shift(8,e,"f")}function xN(e){var r={},t=e.read_shift(1),s=t>>>1,l=e.read_shift(1),o=e.read_shift(2,"i"),d=e.read_shift(1),f=e.read_shift(1),m=e.read_shift(1);switch(e.l++,s){case 0:r.auto=1;break;case 1:r.index=l;var h=_N[l];h&&(r.rgb=Qx(h));break;case 2:r.rgb=Qx([d,f,m]);break;case 3:r.theme=l;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function Hc(e,r){if(r||(r=ye(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),r.write_shift(2,t),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),r.write_shift(1,parseInt(s.slice(0,2),16)),r.write_shift(1,parseInt(s.slice(2,4),16)),r.write_shift(1,parseInt(s.slice(4,6),16)),r.write_shift(1,255)}return r}function pN(e){var r=e.read_shift(1);e.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function gN(e,r){r||(r=ye(2));var t=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,t),r.write_shift(1,0),r}var kg=2,an=3,yc=11,Vc=19,Nc=64,vN=65,wN=71,bN=4108,yN=4126,br=80,Ux={1:{n:"CodePage",t:kg},2:{n:"Category",t:br},3:{n:"PresentationFormat",t:br},4:{n:"ByteCount",t:an},5:{n:"LineCount",t:an},6:{n:"ParagraphCount",t:an},7:{n:"SlideCount",t:an},8:{n:"NoteCount",t:an},9:{n:"HiddenCount",t:an},10:{n:"MultimediaClipCount",t:an},11:{n:"ScaleCrop",t:yc},12:{n:"HeadingPairs",t:bN},13:{n:"TitlesOfParts",t:yN},14:{n:"Manager",t:br},15:{n:"Company",t:br},16:{n:"LinksUpToDate",t:yc},17:{n:"CharacterCount",t:an},19:{n:"SharedDoc",t:yc},22:{n:"HyperlinksChanged",t:yc},23:{n:"AppVersion",t:an,p:"version"},24:{n:"DigSig",t:vN},26:{n:"ContentType",t:br},27:{n:"ContentStatus",t:br},28:{n:"Language",t:br},29:{n:"Version",t:br},255:{},2147483648:{n:"Locale",t:Vc},2147483651:{n:"Behavior",t:Vc},1919054434:{}},$x={1:{n:"CodePage",t:kg},2:{n:"Title",t:br},3:{n:"Subject",t:br},4:{n:"Author",t:br},5:{n:"Keywords",t:br},6:{n:"Comments",t:br},7:{n:"Template",t:br},8:{n:"LastAuthor",t:br},9:{n:"RevNumber",t:br},10:{n:"EditTime",t:Nc},11:{n:"LastPrinted",t:Nc},12:{n:"CreatedDate",t:Nc},13:{n:"ModifiedDate",t:Nc},14:{n:"PageCount",t:an},15:{n:"WordCount",t:an},16:{n:"CharCount",t:an},17:{n:"Thumbnail",t:wN},18:{n:"Application",t:br},19:{n:"DocSecurity",t:an},255:{},2147483648:{n:"Locale",t:Vc},2147483651:{n:"Behavior",t:Vc},1919054434:{}};function NN(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var jN=NN([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_N=Zr(jN),Ql={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Sg(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Eg(e,r){var t=M3(kN),s=[],l;s[s.length]=nr,s[s.length]=Me("Types",null,{xmlns:mr.CT,"xmlns:xsd":mr.xsd,"xmlns:xsi":mr.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return Me("Default",null,{Extension:m[0],ContentType:m[1]})}));var o=function(m){e[m]&&e[m].length>0&&(l=e[m][0],s[s.length]=Me("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:jc[m][r.bookType]||jc[m].xlsx}))},d=function(m){(e[m]||[]).forEach(function(h){s[s.length]=Me("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:jc[m][r.bookType]||jc[m].xlsx})})},f=function(m){(e[m]||[]).forEach(function(h){s[s.length]=Me("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[m][0]})})};return o("workbooks"),d("sheets"),d("charts"),f("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),d("metadata"),f("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Tg(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Si(e){var r=[nr,Me("Relationships",null,{xmlns:mr.RELS})];return _r(e["!id"]).forEach(function(t){r[r.length]=Me("Relationship",null,e["!id"][t])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function yt(e,r,t,s,l,o){if(l||(l={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,l.Id="rId"+r,l.Type=s,l.Target=t,[mt.HLINK,mt.XPATH,mt.XMISS].indexOf(l.Type)>-1&&(l.TargetMode="External"),e["!id"][l.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][l.Id]=l,e[("/"+l.Target).replace("//","/")]=l,r}function SN(e){var r=[nr];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<e.length;++t)r.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function Wx(e,r,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function EN(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function TN(e){var r=[nr];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=e.length;++t)r.push(Wx(e[t][0],e[t][1])),r.push(EN("",e[t][0]));return r.push(Wx("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function Cg(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ic.version+"</meta:generator></office:meta></office:document-meta>"}var Fs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function su(e,r,t,s,l){l[e]!=null||r==null||r===""||(l[e]=r,r=Nt(r),s[s.length]=t?Me(e,r,t):Nr(e,r))}function Ag(e,r){var t=r||{},s=[nr,Me("cp:coreProperties",null,{"xmlns:cp":mr.CORE_PROPS,"xmlns:dc":mr.dc,"xmlns:dcterms":mr.dcterms,"xmlns:dcmitype":mr.dcmitype,"xmlns:xsi":mr.xsi})],l={};if(!e&&!t.Props)return s.join("");e&&(e.CreatedDate!=null&&su("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ku(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,l),e.ModifiedDate!=null&&su("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ku(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},s,l));for(var o=0;o!=Fs.length;++o){var d=Fs[o],f=t.Props&&t.Props[d[1]]!=null?t.Props[d[1]]:e?e[d[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&su(d[0],f,null,s,l)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Ei=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Pg=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Dg(e){var r=[],t=Me;return e||(e={}),e.Application="SheetJS",r[r.length]=nr,r[r.length]=Me("Properties",null,{xmlns:mr.EXT_PROPS,"xmlns:vt":mr.vt}),Ei.forEach(function(s){if(e[s[1]]!==void 0){var l;switch(s[2]){case"string":l=Nt(String(e[s[1]]));break;case"bool":l=e[s[1]]?"true":"false";break}l!==void 0&&(r[r.length]=t(s[0],l))}}),r[r.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Nt(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function Fg(e){var r=[nr,Me("Properties",null,{xmlns:mr.CUST_PROPS,"xmlns:vt":mr.vt})];if(!e)return r.join("");var t=1;return _r(e).forEach(function(l){++t,r[r.length]=Me("property",G3(e[l]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Nt(l)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var Hx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function CN(e,r){var t=[];return _r(Hx).map(function(s){for(var l=0;l<Fs.length;++l)if(Fs[l][1]==s)return Fs[l];for(l=0;l<Ei.length;++l)if(Ei[l][1]==s)return Ei[l];throw s}).forEach(function(s){if(e[s[1]]!=null){var l=r&&r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e[s[1]];switch(s[2]){case"date":l=new Date(l).toISOString().replace(/\.\d*Z/,"Z");break}typeof l=="number"?l=String(l):l===!0||l===!1?l=l?"1":"0":l instanceof Date&&(l=new Date(l).toISOString().replace(/\.\d*Z/,"")),t.push(Nr(Hx[s[1]]||s[1],l))}}),Me("DocumentProperties",t.join(""),{xmlns:ln.o})}function AN(e,r){var t=["Worksheets","SheetNames"],s="CustomDocumentProperties",l=[];return e&&_r(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)){for(var d=0;d<Fs.length;++d)if(o==Fs[d][1])return;for(d=0;d<Ei.length;++d)if(o==Ei[d][1])return;for(d=0;d<t.length;++d)if(o==t[d])return;var f=e[o],m="string";typeof f=="number"?(m="float",f=String(f)):f===!0||f===!1?(m="boolean",f=f?"1":"0"):f=String(f),l.push(Me(Px(o),f,{"dt:dt":m}))}}),r&&_r(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(e&&Object.prototype.hasOwnProperty.call(e,o))){var d=r[o],f="string";typeof d=="number"?(f="float",d=String(d)):d===!0||d===!1?(f="boolean",d=d?"1":"0"):d instanceof Date?(f="dateTime.tz",d=d.toISOString()):d=String(d),l.push(Me(Px(o),d,{"dt:dt":f}))}}),"<"+s+' xmlns="'+ln.o+'">'+l.join("")+"</"+s+">"}function PN(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,t=r.getTime()/1e3+11644473600,s=t%Math.pow(2,32),l=(t-s)/Math.pow(2,32);s*=1e7,l*=1e7;var o=s/Math.pow(2,32)|0;o>0&&(s=s%Math.pow(2,32),l+=o);var d=ye(8);return d.write_shift(4,s),d.write_shift(4,l),d}function Vx(e,r){var t=ye(4),s=ye(4);switch(t.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,r);break;case 5:s=ye(8),s.write_shift(8,r,"f");break;case 11:s.write_shift(4,r?1:0);break;case 64:s=PN(r);break;case 31:case 80:for(s=ye(4+2*(r.length+1)+(r.length%2?0:2)),s.write_shift(4,r.length+1),s.write_shift(0,r,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return yr([t,s])}var Og=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function DN(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Gx(e,r,t){var s=ye(8),l=[],o=[],d=8,f=0,m=ye(8),h=ye(8);if(m.write_shift(4,2),m.write_shift(4,1200),h.write_shift(4,1),o.push(m),l.push(h),d+=8+m.length,!r){h=ye(8),h.write_shift(4,0),l.unshift(h);var x=[ye(4)];for(x[0].write_shift(4,e.length),f=0;f<e.length;++f){var g=e[f][0];for(m=ye(8+2*(g.length+1)+(g.length%2?0:2)),m.write_shift(4,f+2),m.write_shift(4,g.length+1),m.write_shift(0,g,"dbcs");m.l!=m.length;)m.write_shift(1,0);x.push(m)}m=yr(x),o.unshift(m),d+=8+m.length}for(f=0;f<e.length;++f)if(!(r&&!r[e[f][0]])&&!(Og.indexOf(e[f][0])>-1||Pg.indexOf(e[f][0])>-1)&&e[f][1]!=null){var N=e[f][1],y=0;if(r){y=+r[e[f][0]];var j=t[y];if(j.p=="version"&&typeof N=="string"){var w=N.split(".");N=(+w[0]<<16)+(+w[1]||0)}m=Vx(j.t,N)}else{var b=DN(N);b==-1&&(b=31,N=String(N)),m=Vx(b,N)}o.push(m),h=ye(8),h.write_shift(4,r?y:2+f),l.push(h),d+=8+m.length}var T=8*(o.length+1);for(f=0;f<o.length;++f)l[f].write_shift(4,T),T+=o[f].length;return s.write_shift(4,d),s.write_shift(4,o.length),yr([s].concat(l).concat(o))}function Yx(e,r,t,s,l,o){var d=ye(l?68:48),f=[d];d.write_shift(2,65534),d.write_shift(2,0),d.write_shift(4,842412599),d.write_shift(16,_t.utils.consts.HEADER_CLSID,"hex"),d.write_shift(4,l?2:1),d.write_shift(16,r,"hex"),d.write_shift(4,l?68:48);var m=Gx(e,t,s);if(f.push(m),l){var h=Gx(l,null,null);d.write_shift(16,o,"hex"),d.write_shift(4,68+m.length),f.push(h)}return yr(f)}function FN(e,r){r||(r=ye(e));for(var t=0;t<e;++t)r.write_shift(1,0);return r}function ON(e,r){return e.read_shift(r)===1}function Rr(e,r){return r||(r=ye(2)),r.write_shift(2,+!!e),r}function Mg(e){return e.read_shift(2,"u")}function wn(e,r){return r||(r=ye(2)),r.write_shift(2,e),r}function Ig(e,r,t){return t||(t=ye(2)),t.write_shift(1,r=="e"?+e:+!!e),t.write_shift(1,r=="e"?1:0),t}function Rg(e,r,t){var s=e.read_shift(t&&t.biff>=12?2:1),l="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=e.read_shift(1);o&&(l="dbcs-cont")}else t.biff==12&&(l="wstr");t.biff>=2&&t.biff<=5&&(l="cpstr");var d=s?e.read_shift(s,l):"";return d}function MN(e){var r=e.t||"",t=ye(3);t.write_shift(2,r.length),t.write_shift(1,1);var s=ye(2*r.length);s.write_shift(2*r.length,r,"utf16le");var l=[t,s];return yr(l)}function IN(e,r,t){var s;if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(r,"cpstr");if(t.biff>=12)return e.read_shift(r,"dbcs-cont")}var l=e.read_shift(1);return l===0?s=e.read_shift(r,"sbcs-cont"):s=e.read_shift(r,"dbcs-cont"),s}function RN(e,r,t){var s=e.read_shift(t&&t.biff==2?1:2);return s===0?(e.l++,""):IN(e,s,t)}function LN(e,r,t){if(t.biff>5)return RN(e,r,t);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Lg(e,r,t){return t||(t=ye(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function Xx(e,r){r||(r=ye(6+e.length*2)),r.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)r.write_shift(2,e.charCodeAt(t));return r.write_shift(2,0),r}function BN(e){var r=ye(512),t=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var l=s.indexOf("#"),o=l>-1?31:23;switch(s.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var d=[8,6815827,6619237,4849780,83];for(t=0;t<d.length;++t)r.write_shift(4,d[t]);if(o==28)s=s.slice(1),Xx(s,r);else if(o&2){for(d="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<d.length;++t)r.write_shift(1,parseInt(d[t],16));var f=l>-1?s.slice(0,l):s;for(r.write_shift(4,2*(f.length+1)),t=0;t<f.length;++t)r.write_shift(2,f.charCodeAt(t));r.write_shift(2,0),o&8&&Xx(l>-1?s.slice(l+1):"",r)}else{for(d="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<d.length;++t)r.write_shift(1,parseInt(d[t],16));for(var m=0;s.slice(m*3,m*3+3)=="../"||s.slice(m*3,m*3+3)=="..\\";)++m;for(r.write_shift(2,m),r.write_shift(4,s.length-3*m+1),t=0;t<s.length-3*m;++t)r.write_shift(1,s.charCodeAt(t+3*m)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),t=0;t<6;++t)r.write_shift(4,0)}return r.slice(0,r.l)}function Ls(e,r,t,s){return s||(s=ye(6)),s.write_shift(2,e),s.write_shift(2,r),s.write_shift(2,t||0),s}function zN(e,r,t){var s=t.biff>8?4:2,l=e.read_shift(s),o=e.read_shift(s,"i"),d=e.read_shift(s,"i");return[l,o,d]}function UN(e){var r=e.read_shift(2),t=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2);return{s:{c:s,r},e:{c:l,r:t}}}function Bg(e,r){return r||(r=ye(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function ef(e,r,t){var s=1536,l=16;switch(t.bookType){case"biff8":break;case"biff5":s=1280,l=8;break;case"biff4":s=4,l=6;break;case"biff3":s=3,l=6;break;case"biff2":s=2,l=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ye(l);return o.write_shift(2,s),o.write_shift(2,r),l>4&&o.write_shift(2,29282),l>6&&o.write_shift(2,1997),l>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function $N(e,r){var t=!r||r.biff==8,s=ye(t?112:54);for(s.write_shift(r.biff==8?2:1,7),t&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(t?0:536870912));s.l<s.length;)s.write_shift(1,t?0:32);return s}function WN(e,r){var t=!r||r.biff>=8?2:1,s=ye(8+t*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),r.biff>=8&&s.write_shift(1,1),s.write_shift(t*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var l=s.slice(0,s.l);return l.l=s.l,l}function HN(e,r){var t=ye(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var s=[],l=0;l<e.length;++l)s[l]=MN(e[l]);var o=yr([t].concat(s));return o.parts=[t.length].concat(s.map(function(d){return d.length})),o}function VN(){var e=ye(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function GN(e){var r=ye(18),t=1718;return e&&e.RTL&&(t|=64),r.write_shift(2,t),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function YN(e,r){var t=e.name||"Arial",s=r&&r.biff==5,l=s?15+t.length:16+2*t.length,o=ye(l);return o.write_shift(2,e.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le"),o}function XN(e,r,t,s){var l=ye(10);return Ls(e,r,s,l),l.write_shift(4,t),l}function KN(e,r,t,s,l){var o=!l||l.biff==8,d=ye(8+ +o+(1+o)*t.length);return Ls(e,r,s,d),d.write_shift(2,t.length),o&&d.write_shift(1,1),d.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),d}function qN(e,r,t,s){var l=t&&t.biff==5;s||(s=ye(l?3+r.length:5+2*r.length)),s.write_shift(2,e),s.write_shift(l?1:2,r.length),l||s.write_shift(1,1),s.write_shift((l?1:2)*r.length,r,l?"sbcs":"utf16le");var o=s.length>s.l?s.slice(0,s.l):s;return o.l==null&&(o.l=o.length),o}function QN(e,r){var t=r.biff==8||!r.biff?4:2,s=ye(2*t+6);return s.write_shift(t,e.s.r),s.write_shift(t,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function Kx(e,r,t,s){var l=t&&t.biff==5;s||(s=ye(l?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,r<<4));var o=0;return e.numFmtId>0&&l&&(o|=1024),s.write_shift(4,o),s.write_shift(4,0),l||s.write_shift(4,0),s.write_shift(2,0),s}function JN(e){var r=ye(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function ZN(e,r,t,s,l,o){var d=ye(8);return Ls(e,r,s,d),Ig(t,o,d),d}function e5(e,r,t,s){var l=ye(14);return Ls(e,r,s,l),Rs(t,l),l}function t5(e,r,t){if(t.biff<8)return r5(e,r,t);for(var s=[],l=e.l+r,o=e.read_shift(t.biff>8?4:2);o--!==0;)s.push(zN(e,t.biff>8?12:6,t));if(e.l!=l)throw new Error("Bad ExternSheet: "+e.l+" != "+l);return s}function r5(e,r,t){e[e.l+1]==3&&e[e.l]++;var s=Rg(e,r,t);return s.charCodeAt(0)==3?s.slice(1):s}function n5(e){var r=ye(2+e.length*8);r.write_shift(2,e.length);for(var t=0;t<e.length;++t)Bg(e[t],r);return r}function a5(e){var r=ye(24),t=xr(e[0]);r.write_shift(2,t.r),r.write_shift(2,t.r),r.write_shift(2,t.c),r.write_shift(2,t.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),l=0;l<16;++l)r.write_shift(1,parseInt(s[l],16));return yr([r,BN(e[1])])}function s5(e){var r=e[1].Tooltip,t=ye(10+2*(r.length+1));t.write_shift(2,2048);var s=xr(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var l=0;l<r.length;++l)t.write_shift(2,r.charCodeAt(l));return t.write_shift(2,0),t}function i5(e){return e||(e=ye(4)),e.write_shift(2,1),e.write_shift(2,1),e}function l5(e,r,t){if(!t.cellStyles)return qn(e,r);var s=t&&t.biff>=12?4:2,l=e.read_shift(s),o=e.read_shift(s),d=e.read_shift(s),f=e.read_shift(s),m=e.read_shift(2);s==2&&(e.l+=2);var h={s:l,e:o,w:d,ixfe:f,flags:m};return(t.biff>=5||!t.biff)&&(h.level=m>>8&7),h}function o5(e,r){var t=ye(12);t.write_shift(2,r),t.write_shift(2,r),t.write_shift(2,e.width*256),t.write_shift(2,0);var s=0;return e.hidden&&(s|=1),t.write_shift(1,s),s=e.level||0,t.write_shift(1,s),t.write_shift(2,0),t}function c5(e){for(var r=ye(2*e),t=0;t<e;++t)r.write_shift(2,t+1);return r}function d5(e,r,t){var s=ye(15);return Zl(s,e,r),s.write_shift(8,t,"f"),s}function u5(e,r,t){var s=ye(9);return Zl(s,e,r),s.write_shift(2,t),s}var f5=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=Wu({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(f,m){var h=[],x=Is(1);switch(m.type){case"base64":x=Dn(wa(f));break;case"binary":x=Dn(f);break;case"buffer":case"array":x=f;break}sn(x,0);var g=x.read_shift(1),N=!!(g&136),y=!1,j=!1;switch(g){case 2:break;case 3:break;case 48:y=!0,N=!0;break;case 49:y=!0,N=!0;break;case 131:break;case 139:break;case 140:j=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,b=521;g==2&&(w=x.read_shift(2)),x.l+=3,g!=2&&(w=x.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(b=x.read_shift(2));var T=x.read_shift(2),_=m.codepage||1252;g!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(_=e[x[x.l]]),x.l+=1,x.l+=2),j&&(x.l+=36);for(var k=[],A={},G=Math.min(x.length,g==2?521:b-10-(y?264:0)),W=j?32:11;x.l<G&&x[x.l]!=13;)switch(A={},A.name=Rc.utils.decode(_,x.slice(x.l,x.l+W)).replace(/[\u0000\r\n].*$/g,""),x.l+=W,A.type=String.fromCharCode(x.read_shift(1)),g!=2&&!j&&(A.offset=x.read_shift(4)),A.len=x.read_shift(1),g==2&&(A.offset=x.read_shift(2)),A.dec=x.read_shift(1),A.name.length&&k.push(A),g!=2&&(x.l+=j?13:14),A.type){case"B":(!y||A.len!=8)&&m.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(x[x.l]!==13&&(x.l=b-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=b;var H=0,ne=0;for(h[0]=[],ne=0;ne!=k.length;++ne)h[0][ne]=k[ne].name;for(;w-- >0;){if(x[x.l]===42){x.l+=T;continue}for(++x.l,h[++H]=[],ne=0,ne=0;ne!=k.length;++ne){var Q=x.slice(x.l,x.l+k[ne].len);x.l+=k[ne].len,sn(Q,0);var le=Rc.utils.decode(_,Q);switch(k[ne].type){case"C":le.trim().length&&(h[H][ne]=le.replace(/\s+$/,""));break;case"D":le.length===8?h[H][ne]=new Date(+le.slice(0,4),+le.slice(4,6)-1,+le.slice(6,8)):h[H][ne]=le;break;case"F":h[H][ne]=parseFloat(le.trim());break;case"+":case"I":h[H][ne]=j?Q.read_shift(-4,"i")^2147483648:Q.read_shift(4,"i");break;case"L":switch(le.trim().toUpperCase()){case"Y":case"T":h[H][ne]=!0;break;case"N":case"F":h[H][ne]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+le+"|")}break;case"M":if(!N)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[H][ne]="##MEMO##"+(j?parseInt(le.trim(),10):Q.read_shift(4));break;case"N":le=le.replace(/\u0000/g,"").trim(),le&&le!="."&&(h[H][ne]=+le||0);break;case"@":h[H][ne]=new Date(Q.read_shift(-8,"f")-621356832e5);break;case"T":h[H][ne]=new Date((Q.read_shift(4)-2440588)*864e5+Q.read_shift(4));break;case"Y":h[H][ne]=Q.read_shift(4,"i")/1e4+Q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[H][ne]=-Q.read_shift(-8,"f");break;case"B":if(y&&k[ne].len==8){h[H][ne]=Q.read_shift(8,"f");break}case"G":case"P":Q.l+=k[ne].len;break;case"0":if(k[ne].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[ne].type)}}}if(g!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return m&&m.sheetRows&&(h=h.slice(0,m.sheetRows)),m.DBF=k,h}function s(f,m){var h=m||{};h.dateNF||(h.dateNF="yyyymmdd");var x=Ri(t(f,h),h);return x["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,x}function l(f,m){try{return Bs(s(f,m),m)}catch(h){if(m&&m.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function d(f,m){var h=m||{};if(+h.codepage>=0&&Bl(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var x=Qr(),g=qc(f,{header:1,raw:!0,cellDates:!0}),N=g[0],y=g.slice(1),j=f["!cols"]||[],w=0,b=0,T=0,_=1;for(w=0;w<N.length;++w){if(((j[w]||{}).DBF||{}).name){N[w]=j[w].DBF.name,++T;continue}if(N[w]!=null){if(++T,typeof N[w]=="number"&&(N[w]=N[w].toString(10)),typeof N[w]!="string")throw new Error("DBF Invalid column name "+N[w]+" |"+typeof N[w]+"|");if(N.indexOf(N[w])!==w){for(b=0;b<1024;++b)if(N.indexOf(N[w]+"_"+b)==-1){N[w]+="_"+b;break}}}}var k=Mt(f["!ref"]),A=[],G=[],W=[];for(w=0;w<=k.e.c-k.s.c;++w){var H="",ne="",Q=0,le=[];for(b=0;b<y.length;++b)y[b][w]!=null&&le.push(y[b][w]);if(le.length==0||N[w]==null){A[w]="?";continue}for(b=0;b<le.length;++b){switch(typeof le[b]){case"number":ne="B";break;case"string":ne="C";break;case"boolean":ne="L";break;case"object":ne=le[b]instanceof Date?"D":"C";break;default:ne="C"}Q=Math.max(Q,String(le[b]).length),H=H&&H!=ne?"C":ne}Q>250&&(Q=250),ne=((j[w]||{}).DBF||{}).type,ne=="C"&&j[w].DBF.len>Q&&(Q=j[w].DBF.len),H=="B"&&ne=="N"&&(H="N",W[w]=j[w].DBF.dec,Q=j[w].DBF.len),G[w]=H=="C"||ne=="N"?Q:o[H]||0,_+=G[w],A[w]=H}var ge=x.next(32);for(ge.write_shift(4,318902576),ge.write_shift(4,y.length),ge.write_shift(2,296+32*T),ge.write_shift(2,_),w=0;w<4;++w)ge.write_shift(4,0);for(ge.write_shift(4,0|(+r[Up]||3)<<8),w=0,b=0;w<N.length;++w)if(N[w]!=null){var oe=x.next(32),we=(N[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);oe.write_shift(1,we,"sbcs"),oe.write_shift(1,A[w]=="?"?"C":A[w],"sbcs"),oe.write_shift(4,b),oe.write_shift(1,G[w]||o[A[w]]||0),oe.write_shift(1,W[w]||0),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(1,0),oe.write_shift(4,0),oe.write_shift(4,0),b+=G[w]||o[A[w]]||0}var $e=x.next(264);for($e.write_shift(4,13),w=0;w<65;++w)$e.write_shift(4,0);for(w=0;w<y.length;++w){var Re=x.next(_);for(Re.write_shift(1,0),b=0;b<N.length;++b)if(N[b]!=null)switch(A[b]){case"L":Re.write_shift(1,y[w][b]==null?63:y[w][b]?84:70);break;case"B":Re.write_shift(8,y[w][b]||0,"f");break;case"N":var qe="0";for(typeof y[w][b]=="number"&&(qe=y[w][b].toFixed(W[b]||0)),T=0;T<G[b]-qe.length;++T)Re.write_shift(1,32);Re.write_shift(1,qe,"sbcs");break;case"D":y[w][b]?(Re.write_shift(4,("0000"+y[w][b].getFullYear()).slice(-4),"sbcs"),Re.write_shift(2,("00"+(y[w][b].getMonth()+1)).slice(-2),"sbcs"),Re.write_shift(2,("00"+y[w][b].getDate()).slice(-2),"sbcs")):Re.write_shift(8,"00000000","sbcs");break;case"C":var ke=String(y[w][b]!=null?y[w][b]:"").slice(0,G[b]);for(Re.write_shift(1,ke,"sbcs"),T=0;T<G[b]-ke.length;++T)Re.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:l,to_sheet:s,from_sheet:d}})(),h5=(function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+_r(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(N,y){var j=e[y];return typeof j=="number"?wx(j):j},s=function(N,y,j){var w=y.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return w==59?N:wx(w)};e["|"]=254;function l(N,y){switch(y.type){case"base64":return o(wa(N),y);case"binary":return o(N,y);case"buffer":return o(pt&&Buffer.isBuffer(N)?N.toString("binary"):Xl(N),y);case"array":return o(i0(N),y)}throw new Error("Unrecognized type "+y.type)}function o(N,y){var j=N.split(/[\n\r]+/),w=-1,b=-1,T=0,_=0,k=[],A=[],G=null,W={},H=[],ne=[],Q=[],le=0,ge;for(+y.codepage>=0&&Bl(+y.codepage);T!==j.length;++T){le=0;var oe=j[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(r,t),we=oe.replace(/;;/g,"\0").split(";").map(function(F){return F.replace(/\u0000/g,";")}),$e=we[0],Re;if(oe.length>0)switch($e){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":we[1].charAt(0)=="P"&&A.push(oe.slice(3).replace(/;;/g,";"));break;case"C":var qe=!1,ke=!1,J=!1,ve=!1,te=-1,V=-1;for(_=1;_<we.length;++_)switch(we[_].charAt(0)){case"A":break;case"X":b=parseInt(we[_].slice(1))-1,ke=!0;break;case"Y":for(w=parseInt(we[_].slice(1))-1,ke||(b=0),ge=k.length;ge<=w;++ge)k[ge]=[];break;case"K":Re=we[_].slice(1),Re.charAt(0)==='"'?Re=Re.slice(1,Re.length-1):Re==="TRUE"?Re=!0:Re==="FALSE"?Re=!1:isNaN(pa(Re))?isNaN(Ul(Re).getDate())||(Re=Br(Re)):(Re=pa(Re),G!==null&&Zp(G)&&(Re=ng(Re))),qe=!0;break;case"E":ve=!0;var P=uj(we[_].slice(1),{r:w,c:b});k[w][b]=[k[w][b],P];break;case"S":J=!0,k[w][b]=[k[w][b],"S5S"];break;case"G":break;case"R":te=parseInt(we[_].slice(1))-1;break;case"C":V=parseInt(we[_].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+oe)}if(qe&&(k[w][b]&&k[w][b].length==2?k[w][b][0]=Re:k[w][b]=Re,G=null),J){if(ve)throw new Error("SYLK shared formula cannot have own formula");var I=te>-1&&k[te][V];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");k[w][b][1]=fj(I[1],{r:w-te,c:b-V})}break;case"F":var E=0;for(_=1;_<we.length;++_)switch(we[_].charAt(0)){case"X":b=parseInt(we[_].slice(1))-1,++E;break;case"Y":for(w=parseInt(we[_].slice(1))-1,ge=k.length;ge<=w;++ge)k[ge]=[];break;case"M":le=parseInt(we[_].slice(1))/20;break;case"F":break;case"G":break;case"P":G=A[parseInt(we[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Q=we[_].slice(1).split(" "),ge=parseInt(Q[0],10);ge<=parseInt(Q[1],10);++ge)le=parseInt(Q[2],10),ne[ge-1]=le===0?{hidden:!0}:{wch:le},tf(ne[ge-1]);break;case"C":b=parseInt(we[_].slice(1))-1,ne[b]||(ne[b]={});break;case"R":w=parseInt(we[_].slice(1))-1,H[w]||(H[w]={}),le>0?(H[w].hpt=le,H[w].hpx=Hg(le)):le===0&&(H[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+oe)}E<1&&(G=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+oe)}}return H.length>0&&(W["!rows"]=H),ne.length>0&&(W["!cols"]=ne),y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),[k,W]}function d(N,y){var j=l(N,y),w=j[0],b=j[1],T=Ri(w,y);return _r(b).forEach(function(_){T[_]=b[_]}),T}function f(N,y){return Bs(d(N,y),y)}function m(N,y,j,w){var b="C;Y"+(j+1)+";X"+(w+1)+";K";switch(N.t){case"n":b+=N.v||0,N.f&&!N.F&&(b+=";E"+nf(N.f,{r:j,c:w}));break;case"b":b+=N.v?"TRUE":"FALSE";break;case"e":b+=N.w||N.v;break;case"d":b+='"'+(N.w||N.v)+'"';break;case"s":b+='"'+N.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function h(N,y){y.forEach(function(j,w){var b="F;W"+(w+1)+" "+(w+1)+" ";j.hidden?b+="0":(typeof j.width=="number"&&!j.wpx&&(j.wpx=Gc(j.width)),typeof j.wpx=="number"&&!j.wch&&(j.wch=Yc(j.wpx)),typeof j.wch=="number"&&(b+=Math.round(j.wch))),b.charAt(b.length-1)!=" "&&N.push(b)})}function x(N,y){y.forEach(function(j,w){var b="F;";j.hidden?b+="M0;":j.hpt?b+="M"+20*j.hpt+";":j.hpx&&(b+="M"+20*Xc(j.hpx)+";"),b.length>2&&N.push(b+"R"+(w+1))})}function g(N,y){var j=["ID;PWXL;N;E"],w=[],b=Mt(N["!ref"]),T,_=Array.isArray(N),k=`\r
`;j.push("P;PGeneral"),j.push("F;P0;DG0G8;M255"),N["!cols"]&&h(j,N["!cols"]),N["!rows"]&&x(j,N["!rows"]),j.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var A=b.s.r;A<=b.e.r;++A)for(var G=b.s.c;G<=b.e.c;++G){var W=jt({r:A,c:G});T=_?(N[A]||[])[G]:N[W],!(!T||T.v==null&&(!T.f||T.F))&&w.push(m(T,N,A,G))}return j.join(k)+k+w.join(k)+k+"E"+k}return{to_workbook:f,to_sheet:d,from_sheet:g}})(),m5=(function(){function e(o,d){switch(d.type){case"base64":return r(wa(o),d);case"binary":return r(o,d);case"buffer":return r(pt&&Buffer.isBuffer(o)?o.toString("binary"):Xl(o),d);case"array":return r(i0(o),d)}throw new Error("Unrecognized type "+d.type)}function r(o,d){for(var f=o.split(`
`),m=-1,h=-1,x=0,g=[];x!==f.length;++x){if(f[x].trim()==="BOT"){g[++m]=[],h=0;continue}if(!(m<0)){var N=f[x].trim().split(","),y=N[0],j=N[1];++x;for(var w=f[x]||"";(w.match(/["]/g)||[]).length&1&&x<f.length-1;)w+=`
`+f[++x];switch(w=w.trim(),+y){case-1:if(w==="BOT"){g[++m]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[m][h]=!0:w==="FALSE"?g[m][h]=!1:isNaN(pa(j))?isNaN(Ul(j).getDate())?g[m][h]=j:g[m][h]=Br(j):g[m][h]=pa(j),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[m][h++]=w!==""?w:null;break}if(w==="EOD")break}}return d&&d.sheetRows&&(g=g.slice(0,d.sheetRows)),g}function t(o,d){return Ri(e(o,d),d)}function s(o,d){return Bs(t(o,d),d)}var l=(function(){var o=function(m,h,x,g,N){m.push(h),m.push(x+","+g),m.push('"'+N.replace(/"/g,'""')+'"')},d=function(m,h,x,g){m.push(h+","+x),m.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(m){var h=[],x=Mt(m["!ref"]),g,N=Array.isArray(m);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,x.e.r-x.s.r+1,""),o(h,"TUPLES",0,x.e.c-x.s.c+1,""),o(h,"DATA",0,0,"");for(var y=x.s.r;y<=x.e.r;++y){d(h,-1,0,"BOT");for(var j=x.s.c;j<=x.e.c;++j){var w=jt({r:y,c:j});if(g=N?(m[y]||[])[j]:m[w],!g){d(h,1,0,"");continue}switch(g.t){case"n":var b=g.w;!b&&g.v!=null&&(b=g.v),b==null?g.f&&!g.F?d(h,1,0,"="+g.f):d(h,1,0,""):d(h,0,b,"V");break;case"b":d(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":d(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=is(g.z||Gt[14],Jr(Br(g.v)))),d(h,0,g.w,"V");break;default:d(h,1,0,"")}}}d(h,-1,0,"EOD");var T=`\r
`,_=h.join(T);return _}})();return{to_workbook:s,to_sheet:t,from_sheet:l}})(),zg=(function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(g,N){for(var y=g.split(`
`),j=-1,w=-1,b=0,T=[];b!==y.length;++b){var _=y[b].trim().split(":");if(_[0]==="cell"){var k=xr(_[1]);if(T.length<=k.r)for(j=T.length;j<=k.r;++j)T[j]||(T[j]=[]);switch(j=k.r,w=k.c,_[2]){case"t":T[j][w]=e(_[3]);break;case"v":T[j][w]=+_[3];break;case"vtf":var A=_[_.length-1];case"vtc":switch(_[3]){case"nl":T[j][w]=!!+_[4];break;default:T[j][w]=+_[4];break}_[2]=="vtf"&&(T[j][w]=[T[j][w],A])}}}return N&&N.sheetRows&&(T=T.slice(0,N.sheetRows)),T}function s(g,N){return Ri(t(g,N),N)}function l(g,N){return Bs(s(g,N),N)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),d=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var N=[],y=[],j,w="",b=dn(g["!ref"]),T=Array.isArray(g),_=b.s.r;_<=b.e.r;++_)for(var k=b.s.c;k<=b.e.c;++k)if(w=jt({r:_,c:k}),j=T?(g[_]||[])[k]:g[w],!(!j||j.v==null||j.t==="z")){switch(y=["cell",w,"t"],j.t){case"s":case"str":y.push(r(j.v));break;case"n":j.f?(y[2]="vtf",y[3]="n",y[4]=j.v,y[5]=r(j.f)):(y[2]="v",y[3]=j.v);break;case"b":y[2]="vt"+(j.f?"f":"c"),y[3]="nl",y[4]=j.v?"1":"0",y[5]=r(j.f||(j.v?"TRUE":"FALSE"));break;case"d":var A=Jr(Br(j.v));y[2]="vtc",y[3]="nd",y[4]=""+A,y[5]=j.w||is(j.z||Gt[14],A);break;case"e":continue}N.push(y.join(":"))}return N.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),N.push("valueformat:1:text-wiki"),N.join(`
`)}function x(g){return[o,d,f,d,h(g),m].join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:x}})(),x5=(function(){function e(x,g,N,y,j){j.raw?g[N][y]=x:x===""||(x==="TRUE"?g[N][y]=!0:x==="FALSE"?g[N][y]=!1:isNaN(pa(x))?isNaN(Ul(x).getDate())?g[N][y]=x:g[N][y]=Br(x):g[N][y]=pa(x))}function r(x,g){var N=g||{},y=[];if(!x||x.length===0)return y;for(var j=x.split(/[\r\n]/),w=j.length-1;w>=0&&j[w].length===0;)--w;for(var b=10,T=0,_=0;_<=w;++_)T=j[_].indexOf(" "),T==-1?T=j[_].length:T++,b=Math.max(b,T);for(_=0;_<=w;++_){y[_]=[];var k=0;for(e(j[_].slice(0,b).trim(),y,_,k,N),k=1;k<=(j[_].length-b)/10+1;++k)e(j[_].slice(b+(k-1)*10,b+k*10).trim(),y,_,k,N)}return N.sheetRows&&(y=y.slice(0,N.sheetRows)),y}var t={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function l(x){for(var g={},N=!1,y=0,j=0;y<x.length;++y)(j=x.charCodeAt(y))==34?N=!N:!N&&j in t&&(g[j]=(g[j]||0)+1);j=[];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&j.push([g[y],y]);if(!j.length){g=s;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&j.push([g[y],y])}return j.sort(function(w,b){return w[0]-b[0]||s[w[1]]-s[b[1]]}),t[j.pop()[1]]||44}function o(x,g){var N=g||{},y="",j=N.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(y=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(y=x.charAt(4),x=x.slice(6)):y=l(x.slice(0,1024)):N&&N.FS?y=N.FS:y=l(x.slice(0,1024));var b=0,T=0,_=0,k=0,A=0,G=y.charCodeAt(0),W=!1,H=0,ne=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var Q=N.dateNF!=null?P3(N.dateNF):null;function le(){var ge=x.slice(k,A),oe={};if(ge.charAt(0)=='"'&&ge.charAt(ge.length-1)=='"'&&(ge=ge.slice(1,-1).replace(/""/g,'"')),ge.length===0)oe.t="z";else if(N.raw)oe.t="s",oe.v=ge;else if(ge.trim().length===0)oe.t="s",oe.v=ge;else if(ge.charCodeAt(0)==61)ge.charCodeAt(1)==34&&ge.charCodeAt(ge.length-1)==34?(oe.t="s",oe.v=ge.slice(2,-1).replace(/""/g,'"')):hj(ge)?(oe.t="n",oe.f=ge.slice(1)):(oe.t="s",oe.v=ge);else if(ge=="TRUE")oe.t="b",oe.v=!0;else if(ge=="FALSE")oe.t="b",oe.v=!1;else if(!isNaN(_=pa(ge)))oe.t="n",N.cellText!==!1&&(oe.w=ge),oe.v=_;else if(!isNaN(Ul(ge).getDate())||Q&&ge.match(Q)){oe.z=N.dateNF||Gt[14];var we=0;Q&&ge.match(Q)&&(ge=D3(ge,N.dateNF,ge.match(Q)||[]),we=1),N.cellDates?(oe.t="d",oe.v=Br(ge,we)):(oe.t="n",oe.v=Jr(Br(ge,we))),N.cellText!==!1&&(oe.w=is(oe.z,oe.v instanceof Date?Jr(oe.v):oe.v)),N.cellNF||delete oe.z}else oe.t="s",oe.v=ge;if(oe.t=="z"||(N.dense?(j[b]||(j[b]=[]),j[b][T]=oe):j[jt({c:T,r:b})]=oe),k=A+1,ne=x.charCodeAt(k),w.e.c<T&&(w.e.c=T),w.e.r<b&&(w.e.r=b),H==G)++T;else if(T=0,++b,N.sheetRows&&N.sheetRows<=b)return!0}e:for(;A<x.length;++A)switch(H=x.charCodeAt(A)){case 34:ne===34&&(W=!W);break;case G:case 10:case 13:if(!W&&le())break e;break}return A-k>0&&le(),j["!ref"]=rr(w),j}function d(x,g){return!(g&&g.PRN)||g.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?o(x,g):Ri(r(x,g),g)}function f(x,g){var N="",y=g.type=="string"?[0,0,0,0]:EE(x,g);switch(g.type){case"base64":N=wa(x);break;case"binary":N=x;break;case"buffer":g.codepage==65001?N=x.toString("utf8"):g.codepage&&typeof Rc!="undefined"||(N=pt&&Buffer.isBuffer(x)?x.toString("binary"):Xl(x));break;case"array":N=i0(x);break;case"string":N=x;break;default:throw new Error("Unrecognized type "+g.type)}return y[0]==239&&y[1]==187&&y[2]==191?N=Cl(N.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?N=Cl(N):g.type=="binary",N.slice(0,19)=="socialcalc:version:"?zg.to_sheet(g.type=="string"?N:Cl(N),g):d(N,g)}function m(x,g){return Bs(f(x,g),g)}function h(x){for(var g=[],N=Mt(x["!ref"]),y,j=Array.isArray(x),w=N.s.r;w<=N.e.r;++w){for(var b=[],T=N.s.c;T<=N.e.c;++T){var _=jt({r:w,c:T});if(y=j?(x[w]||[])[T]:x[_],!y||y.v==null){b.push("          ");continue}for(var k=(y.w||(ba(y),y.w)||"").slice(0,10);k.length<10;)k+=" ";b.push(k+(T===0?" ":""))}g.push(b.join(""))}return g.join(`
`)}return{to_workbook:m,to_sheet:f,from_sheet:h}})(),qx=(function(){function e(P,I,E){if(P){sn(P,P.l||0);for(var F=E.Enum||te;P.l<P.length;){var X=P.read_shift(2),Z=F[X]||F[65535],q=P.read_shift(2),se=P.l+q,ce=Z.f&&Z.f(P,q,E);if(P.l=se,I(ce,Z,X))return}}}function r(P,I){switch(I.type){case"base64":return t(Dn(wa(P)),I);case"binary":return t(Dn(P),I);case"buffer":case"array":return t(P,I)}throw"Unsupported type "+I.type}function t(P,I){if(!P)return P;var E=I||{},F=E.dense?[]:{},X="Sheet1",Z="",q=0,se={},ce=[],_e=[],re={s:{r:0,c:0},e:{r:0,c:0}},je=E.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)E.Enum=te,e(P,function(Y,be,ze){switch(ze){case 0:E.vers=Y,Y>=4096&&(E.qpro=!0);break;case 6:re=Y;break;case 204:Y&&(Z=Y);break;case 222:Z=Y;break;case 15:case 51:E.qpro||(Y[1].v=Y[1].v.slice(1));case 13:case 14:case 16:ze==14&&(Y[2]&112)==112&&(Y[2]&15)>1&&(Y[2]&15)<15&&(Y[1].z=E.dateNF||Gt[14],E.cellDates&&(Y[1].t="d",Y[1].v=ng(Y[1].v))),E.qpro&&Y[3]>q&&(F["!ref"]=rr(re),se[X]=F,ce.push(X),F=E.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},q=Y[3],X=Z||"Sheet"+(q+1),Z="");var Ue=E.dense?(F[Y[0].r]||[])[Y[0].c]:F[jt(Y[0])];if(Ue){Ue.t=Y[1].t,Ue.v=Y[1].v,Y[1].z!=null&&(Ue.z=Y[1].z),Y[1].f!=null&&(Ue.f=Y[1].f);break}E.dense?(F[Y[0].r]||(F[Y[0].r]=[]),F[Y[0].r][Y[0].c]=Y[1]):F[jt(Y[0])]=Y[1];break}},E);else if(P[2]==26||P[2]==14)E.Enum=V,P[2]==14&&(E.qpro=!0,P.l=0),e(P,function(Y,be,ze){switch(ze){case 204:X=Y;break;case 22:Y[1].v=Y[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Y[3]>q&&(F["!ref"]=rr(re),se[X]=F,ce.push(X),F=E.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},q=Y[3],X="Sheet"+(q+1)),je>0&&Y[0].r>=je)break;E.dense?(F[Y[0].r]||(F[Y[0].r]=[]),F[Y[0].r][Y[0].c]=Y[1]):F[jt(Y[0])]=Y[1],re.e.c<Y[0].c&&(re.e.c=Y[0].c),re.e.r<Y[0].r&&(re.e.r=Y[0].r);break;case 27:Y[14e3]&&(_e[Y[14e3][0]]=Y[14e3][1]);break;case 1537:_e[Y[0]]=Y[1],Y[0]==q&&(X=Y[1]);break}},E);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(F["!ref"]=rr(re),se[Z||X]=F,ce.push(Z||X),!_e.length)return{SheetNames:ce,Sheets:se};for(var Ce={},R=[],xe=0;xe<_e.length;++xe)se[ce[xe]]?(R.push(_e[xe]||ce[xe]),Ce[_e[xe]]=se[_e[xe]]||se[ce[xe]]):(R.push(_e[xe]),Ce[_e[xe]]={"!ref":"A1"});return{SheetNames:R,Sheets:Ce}}function s(P,I){var E=I||{};if(+E.codepage>=0&&Bl(+E.codepage),E.type=="string")throw new Error("Cannot write WK1 to JS string");var F=Qr(),X=Mt(P["!ref"]),Z=Array.isArray(P),q=[];Ie(F,0,o(1030)),Ie(F,6,m(X));for(var se=Math.min(X.e.r,8191),ce=X.s.r;ce<=se;++ce)for(var _e=jr(ce),re=X.s.c;re<=X.e.c;++re){ce===X.s.r&&(q[re]=Pr(re));var je=q[re]+_e,Ce=Z?(P[ce]||[])[re]:P[je];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?Ie(F,13,y(ce,re,Ce.v)):Ie(F,14,w(ce,re,Ce.v));else{var R=ba(Ce);Ie(F,15,g(ce,re,R.slice(0,239)))}}return Ie(F,1),F.end()}function l(P,I){var E=I||{};if(+E.codepage>=0&&Bl(+E.codepage),E.type=="string")throw new Error("Cannot write WK3 to JS string");var F=Qr();Ie(F,0,d(P));for(var X=0,Z=0;X<P.SheetNames.length;++X)(P.Sheets[P.SheetNames[X]]||{})["!ref"]&&Ie(F,27,ve(P.SheetNames[X],Z++));var q=0;for(X=0;X<P.SheetNames.length;++X){var se=P.Sheets[P.SheetNames[X]];if(!(!se||!se["!ref"])){for(var ce=Mt(se["!ref"]),_e=Array.isArray(se),re=[],je=Math.min(ce.e.r,8191),Ce=ce.s.r;Ce<=je;++Ce)for(var R=jr(Ce),xe=ce.s.c;xe<=ce.e.c;++xe){Ce===ce.s.r&&(re[xe]=Pr(xe));var Y=re[xe]+R,be=_e?(se[Ce]||[])[xe]:se[Y];if(!(!be||be.t=="z"))if(be.t=="n")Ie(F,23,le(Ce,xe,q,be.v));else{var ze=ba(be);Ie(F,22,H(Ce,xe,q,ze.slice(0,239)))}}++q}}return Ie(F,1),F.end()}function o(P){var I=ye(2);return I.write_shift(2,P),I}function d(P){var I=ye(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var E=0,F=0,X=0,Z=0;Z<P.SheetNames.length;++Z){var q=P.SheetNames[Z],se=P.Sheets[q];if(!(!se||!se["!ref"])){++X;var ce=dn(se["!ref"]);E<ce.e.r&&(E=ce.e.r),F<ce.e.c&&(F=ce.e.c)}}return E>8191&&(E=8191),I.write_shift(2,E),I.write_shift(1,X),I.write_shift(1,F),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function f(P,I,E){var F={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&E.qpro?(F.s.c=P.read_shift(1),P.l++,F.s.r=P.read_shift(2),F.e.c=P.read_shift(1),P.l++,F.e.r=P.read_shift(2),F):(F.s.c=P.read_shift(2),F.s.r=P.read_shift(2),I==12&&E.qpro&&(P.l+=2),F.e.c=P.read_shift(2),F.e.r=P.read_shift(2),I==12&&E.qpro&&(P.l+=2),F.s.c==65535&&(F.s.c=F.e.c=F.s.r=F.e.r=0),F)}function m(P){var I=ye(8);return I.write_shift(2,P.s.c),I.write_shift(2,P.s.r),I.write_shift(2,P.e.c),I.write_shift(2,P.e.r),I}function h(P,I,E){var F=[{c:0,r:0},{t:"n",v:0},0,0];return E.qpro&&E.vers!=20768?(F[0].c=P.read_shift(1),F[3]=P.read_shift(1),F[0].r=P.read_shift(2),P.l+=2):(F[2]=P.read_shift(1),F[0].c=P.read_shift(2),F[0].r=P.read_shift(2)),F}function x(P,I,E){var F=P.l+I,X=h(P,I,E);if(X[1].t="s",E.vers==20768){P.l++;var Z=P.read_shift(1);return X[1].v=P.read_shift(Z,"utf8"),X}return E.qpro&&P.l++,X[1].v=P.read_shift(F-P.l,"cstr"),X}function g(P,I,E){var F=ye(7+E.length);F.write_shift(1,255),F.write_shift(2,I),F.write_shift(2,P),F.write_shift(1,39);for(var X=0;X<F.length;++X){var Z=E.charCodeAt(X);F.write_shift(1,Z>=128?95:Z)}return F.write_shift(1,0),F}function N(P,I,E){var F=h(P,I,E);return F[1].v=P.read_shift(2,"i"),F}function y(P,I,E){var F=ye(7);return F.write_shift(1,255),F.write_shift(2,I),F.write_shift(2,P),F.write_shift(2,E,"i"),F}function j(P,I,E){var F=h(P,I,E);return F[1].v=P.read_shift(8,"f"),F}function w(P,I,E){var F=ye(13);return F.write_shift(1,255),F.write_shift(2,I),F.write_shift(2,P),F.write_shift(8,E,"f"),F}function b(P,I,E){var F=P.l+I,X=h(P,I,E);if(X[1].v=P.read_shift(8,"f"),E.qpro)P.l=F;else{var Z=P.read_shift(2);A(P.slice(P.l,P.l+Z),X),P.l+=Z}return X}function T(P,I,E){var F=I&32768;return I&=-32769,I=(F?P:0)+(I>=8192?I-16384:I),(F?"":"$")+(E?Pr(I):jr(I))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(P,I){sn(P,0);for(var E=[],F=0,X="",Z="",q="",se="";P.l<P.length;){var ce=P[P.l++];switch(ce){case 0:E.push(P.read_shift(8,"f"));break;case 1:Z=T(I[0].c,P.read_shift(2),!0),X=T(I[0].r,P.read_shift(2),!1),E.push(Z+X);break;case 2:{var _e=T(I[0].c,P.read_shift(2),!0),re=T(I[0].r,P.read_shift(2),!1);Z=T(I[0].c,P.read_shift(2),!0),X=T(I[0].r,P.read_shift(2),!1),E.push(_e+re+":"+Z+X)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:E.push("("+E.pop()+")");break;case 5:E.push(P.read_shift(2));break;case 6:{for(var je="";ce=P[P.l++];)je+=String.fromCharCode(ce);E.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:E.push("-"+E.pop());break;case 23:E.push("+"+E.pop());break;case 22:E.push("NOT("+E.pop()+")");break;case 20:case 21:se=E.pop(),q=E.pop(),E.push(["AND","OR"][ce-20]+"("+q+","+se+")");break;default:if(ce<32&&k[ce])se=E.pop(),q=E.pop(),E.push(q+k[ce]+se);else if(_[ce]){if(F=_[ce][1],F==69&&(F=P[P.l++]),F>E.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+E.join("|")+"|");return}var Ce=E.slice(-F);E.length-=F,E.push(_[ce][0]+"("+Ce.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}E.length==1?I[1].f=""+E[0]:console.error("WK1 bad formula parse |"+E.join("|")+"|")}function G(P){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=P.read_shift(2),I[3]=P[P.l++],I[0].c=P[P.l++],I}function W(P,I){var E=G(P);return E[1].t="s",E[1].v=P.read_shift(I-4,"cstr"),E}function H(P,I,E,F){var X=ye(6+F.length);X.write_shift(2,P),X.write_shift(1,E),X.write_shift(1,I),X.write_shift(1,39);for(var Z=0;Z<F.length;++Z){var q=F.charCodeAt(Z);X.write_shift(1,q>=128?95:q)}return X.write_shift(1,0),X}function ne(P,I){var E=G(P);E[1].v=P.read_shift(2);var F=E[1].v>>1;if(E[1].v&1)switch(F&7){case 0:F=(F>>3)*5e3;break;case 1:F=(F>>3)*500;break;case 2:F=(F>>3)/20;break;case 3:F=(F>>3)/200;break;case 4:F=(F>>3)/2e3;break;case 5:F=(F>>3)/2e4;break;case 6:F=(F>>3)/16;break;case 7:F=(F>>3)/64;break}return E[1].v=F,E}function Q(P,I){var E=G(P),F=P.read_shift(4),X=P.read_shift(4),Z=P.read_shift(2);if(Z==65535)return F===0&&X===3221225472?(E[1].t="e",E[1].v=15):F===0&&X===3489660928?(E[1].t="e",E[1].v=42):E[1].v=0,E;var q=Z&32768;return Z=(Z&32767)-16446,E[1].v=(1-q*2)*(X*Math.pow(2,Z+32)+F*Math.pow(2,Z)),E}function le(P,I,E,F){var X=ye(14);if(X.write_shift(2,P),X.write_shift(1,E),X.write_shift(1,I),F==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var Z=0,q=0,se=0,ce=0;return F<0&&(Z=1,F=-F),q=Math.log2(F)|0,F/=Math.pow(2,q-31),ce=F>>>0,(ce&2147483648)==0&&(F/=2,++q,ce=F>>>0),F-=ce,ce|=2147483648,ce>>>=0,F*=Math.pow(2,32),se=F>>>0,X.write_shift(4,se),X.write_shift(4,ce),q+=16383+(Z?32768:0),X.write_shift(2,q),X}function ge(P,I){var E=Q(P);return P.l+=I-14,E}function oe(P,I){var E=G(P),F=P.read_shift(4);return E[1].v=F>>6,E}function we(P,I){var E=G(P),F=P.read_shift(8,"f");return E[1].v=F,E}function $e(P,I){var E=we(P);return P.l+=I-10,E}function Re(P,I){return P[P.l+I-1]==0?P.read_shift(I,"cstr"):""}function qe(P,I){var E=P[P.l++];E>I-1&&(E=I-1);for(var F="";F.length<E;)F+=String.fromCharCode(P[P.l++]);return F}function ke(P,I,E){if(!(!E.qpro||I<21)){var F=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var X=P.read_shift(I-21,"cstr");return[F,X]}}function J(P,I){for(var E={},F=P.l+I;P.l<F;){var X=P.read_shift(2);if(X==14e3){for(E[X]=[0,""],E[X][0]=P.read_shift(2);P[P.l];)E[X][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return E}function ve(P,I){var E=ye(5+P.length);E.write_shift(2,14e3),E.write_shift(2,I);for(var F=0;F<P.length;++F){var X=P.charCodeAt(F);E[E.l++]=X>127?95:X}return E[E.l++]=0,E}var te={0:{n:"BOF",f:Mg},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:N},14:{n:"NUMBER",f:j},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Re},222:{n:"SHEETNAMELP",f:qe},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:Q},24:{n:"NUMBER18",f:ne},25:{n:"FORMULA19",f:ge},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:oe},38:{n:"??"},39:{n:"NUMBER27",f:we},40:{n:"FORMULA28",f:$e},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:l,to_workbook:r}})(),p5=/^\s|\s$|[\t\n\r]/;function Ug(e,r){if(!r.bookSST)return"";var t=[nr];t[t.length]=Me("sst",null,{xmlns:Ii[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var l=e[s],o="<si>";l.r?o+=l.r:(o+="<t",l.t||(l.t=""),l.t.match(p5)&&(o+=' xml:space="preserve"'),o+=">"+Nt(l.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function g5(e){return[e.read_shift(4),e.read_shift(4)]}function v5(e,r){return r||(r=ye(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var w5=cN;function b5(e){var r=Qr();Se(r,159,v5(e));for(var t=0;t<e.length;++t)Se(r,19,w5(e[t]));return Se(r,160),r.end()}function y5(e){for(var r=[],t=e.split(""),s=0;s<t.length;++s)r[s]=t[s].charCodeAt(0);return r}function $g(e){var r=0,t,s=y5(e),l=s.length+1,o,d,f,m,h;for(t=Is(l),t[0]=s.length,o=1;o!=l;++o)t[o]=s[o-1];for(o=l-1;o>=0;--o)d=t[o],f=(r&16384)===0?0:1,m=r<<1&32767,h=f|m,r=h^d;return r^52811}var N5=(function(){function e(l,o){switch(o.type){case"base64":return r(wa(l),o);case"binary":return r(l,o);case"buffer":return r(pt&&Buffer.isBuffer(l)?l.toString("binary"):Xl(l),o);case"array":return r(i0(l),o)}throw new Error("Unrecognized type "+o.type)}function r(l,o){var d=o||{},f=d.dense?[]:{},m=l.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(x,g){Array.isArray(f)&&(f[g]=[]);for(var N=/\\\w+\b/g,y=0,j,w=-1;j=N.exec(x);){switch(j[0]){case"\\cell":var b=x.slice(y,N.lastIndex-j[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var T={v:b,t:"s"};Array.isArray(f)?f[g][w]=T:f[jt({r:g,c:w})]=T}break}y=N.lastIndex}w>h.e.c&&(h.e.c=w)}),f["!ref"]=rr(h),f}function t(l,o){return Bs(e(l,o),o)}function s(l){for(var o=["{\\rtf1\\ansi"],d=Mt(l["!ref"]),f,m=Array.isArray(l),h=d.s.r;h<=d.e.r;++h){o.push("\\trowd\\trautofit1");for(var x=d.s.c;x<=d.e.c;++x)o.push("\\cellx"+(x+1));for(o.push("\\pard\\intbl"),x=d.s.c;x<=d.e.c;++x){var g=jt({r:h,c:x});f=m?(l[h]||[])[x]:l[g],!(!f||f.v==null&&(!f.f||f.F))&&(o.push(" "+(f.w||(ba(f),f.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:s}})();function Qx(e){for(var r=0,t=1;r!=3;++r)t=t*256+(e[r]>255?255:e[r]<0?0:e[r]);return t.toString(16).toUpperCase().slice(1)}var j5=6,ga=j5;function Gc(e){return Math.floor((e+Math.round(128/ga)/256)*ga)}function Yc(e){return Math.floor((e-5)/ga*100+.5)/100}function Eu(e){return Math.round((e*ga+5)/ga*256)/256}function tf(e){e.width?(e.wpx=Gc(e.width),e.wch=Yc(e.wpx),e.MDW=ga):e.wpx?(e.wch=Yc(e.wpx),e.width=Eu(e.wch),e.MDW=ga):typeof e.wch=="number"&&(e.width=Eu(e.wch),e.wpx=Gc(e.width),e.MDW=ga),e.customWidth&&delete e.customWidth}var _5=96,Wg=_5;function Xc(e){return e*96/Wg}function Hg(e){return e*Wg/96}function k5(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var s=t[0];s<=t[1];++s)e[s]!=null&&(r[r.length]=Me("numFmt",null,{numFmtId:s,formatCode:Nt(e[s])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=Me("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function S5(e){var r=[];return r[r.length]=Me("cellXfs",null),e.forEach(function(t){r[r.length]=Me("xf",null,t)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=Me("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function Vg(e,r){var t=[nr,Me("styleSheet",null,{xmlns:Ii[0],"xmlns:vt":mr.vt})],s;return e.SSF&&(s=k5(e.SSF))!=null&&(t[t.length]=s),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=S5(r.cellXfs))&&(t[t.length]=s),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function E5(e,r){var t=e.read_shift(2),s=Dr(e);return[t,s]}function T5(e,r,t){t||(t=ye(6+4*r.length)),t.write_shift(2,e),pr(r,t);var s=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),s}function C5(e,r,t){var s={};s.sz=e.read_shift(2)/20;var l=pN(e);l.fItalic&&(s.italic=1),l.fCondense&&(s.condense=1),l.fExtend&&(s.extend=1),l.fShadow&&(s.shadow=1),l.fOutline&&(s.outline=1),l.fStrikeout&&(s.strike=1);var o=e.read_shift(2);switch(o===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var d=e.read_shift(1);d!=0&&(s.underline=d);var f=e.read_shift(1);f>0&&(s.family=f);var m=e.read_shift(1);switch(m>0&&(s.charset=m),e.l++,s.color=xN(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Dr(e),s}function A5(e,r){r||(r=ye(153)),r.write_shift(2,e.sz*20),gN(e,r),r.write_shift(2,e.bold?700:400);var t=0;e.vertAlign=="superscript"?t=1:e.vertAlign=="subscript"&&(t=2),r.write_shift(2,t),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),Hc(e.color,r);var s=0;return s=2,r.write_shift(1,s),pr(e.name,r),r.length>r.l?r.slice(0,r.l):r}var P5=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iu,D5=qn;function Jx(e,r){r||(r=ye(84)),iu||(iu=Wu(P5));var t=iu[e.patternType];t==null&&(t=40),r.write_shift(4,t);var s=0;if(t!=40)for(Hc({auto:1},r),Hc({auto:1},r);s<12;++s)r.write_shift(4,0);else{for(;s<4;++s)r.write_shift(4,0);for(;s<12;++s)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function F5(e,r){var t=e.l+r,s=e.read_shift(2),l=e.read_shift(2);return e.l=t,{ixfe:s,numFmtId:l}}function Gg(e,r,t){t||(t=ye(16)),t.write_shift(2,r||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var s=0;return t.write_shift(1,s),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function jl(e,r){return r||(r=ye(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var O5=qn;function M5(e,r){return r||(r=ye(51)),r.write_shift(1,0),jl(null,r),jl(null,r),jl(null,r),jl(null,r),jl(null,r),r.length>r.l?r.slice(0,r.l):r}function I5(e,r){return r||(r=ye(52)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Wc(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function R5(e,r,t){var s=ye(2052);return s.write_shift(4,e),Wc(r,s),Wc(t,s),s.length>s.l?s.slice(0,s.l):s}function L5(e,r){if(r){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var l=s[0];l<=s[1];++l)r[l]!=null&&++t}),t!=0&&(Se(e,615,On(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var l=s[0];l<=s[1];++l)r[l]!=null&&Se(e,44,T5(l,r[l]))}),Se(e,616))}}function B5(e){var r=1;Se(e,611,On(r)),Se(e,43,A5({sz:12,color:{theme:1},name:"Calibri",family:2})),Se(e,612)}function z5(e){var r=2;Se(e,603,On(r)),Se(e,45,Jx({patternType:"none"})),Se(e,45,Jx({patternType:"gray125"})),Se(e,604)}function U5(e){var r=1;Se(e,613,On(r)),Se(e,46,M5()),Se(e,614)}function $5(e){var r=1;Se(e,626,On(r)),Se(e,47,Gg({numFmtId:0},65535)),Se(e,627)}function W5(e,r){Se(e,617,On(r.length)),r.forEach(function(t){Se(e,47,Gg(t,0))}),Se(e,618)}function H5(e){var r=1;Se(e,619,On(r)),Se(e,48,I5({xfId:0,name:"Normal"})),Se(e,620)}function V5(e){var r=0;Se(e,505,On(r)),Se(e,506)}function G5(e){var r=0;Se(e,508,R5(r,"TableStyleMedium9","PivotStyleMedium4")),Se(e,509)}function Y5(e,r){var t=Qr();return Se(t,278),L5(t,e.SSF),B5(t),z5(t),U5(t),$5(t),W5(t,r.cellXfs),H5(t),V5(t),G5(t),Se(t,279),t.end()}function Yg(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var t=[nr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function X5(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:Dr(e)}}function K5(e){var r=ye(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),pr(e.name,r),r.slice(0,r.l)}function q5(e){for(var r=[],t=e.read_shift(4);t-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function Q5(e){var r=ye(4+8*e.length);r.write_shift(4,e.length);for(var t=0;t<e.length;++t)r.write_shift(4,e[t][0]),r.write_shift(4,e[t][1]);return r}function J5(e,r){var t=ye(8+2*r.length);return t.write_shift(4,e),pr(r,t),t.slice(0,t.l)}function Z5(e){return e.l+=4,e.read_shift(4)!=0}function ej(e,r){var t=ye(8);return t.write_shift(4,e),t.write_shift(4,1),t}function tj(){var e=Qr();return Se(e,332),Se(e,334,On(1)),Se(e,335,K5({name:"XLDAPR",version:12e4,flags:3496657072})),Se(e,336),Se(e,339,J5(1,"XLDAPR")),Se(e,52),Se(e,35,On(514)),Se(e,4096,On(0)),Se(e,4097,wn(1)),Se(e,36),Se(e,53),Se(e,340),Se(e,337,ej(1)),Se(e,51,Q5([[1,0]])),Se(e,338),Se(e,333),e.end()}function Xg(){var e=[nr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function rj(e){var r={};r.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),r.r=jt(t);var s=e.read_shift(1);return s&2&&(r.l="1"),s&8&&(r.a="1"),r}var Ni=1024;function Kg(e,r){for(var t=[21600,21600],s=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),l=[Me("xml",null,{"xmlns:v":ln.v,"xmlns:o":ln.o,"xmlns:x":ln.x,"xmlns:mv":ln.mv}).replace(/\/>/,">"),Me("o:shapelayout",Me("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Me("v:shapetype",[Me("v:stroke",null,{joinstyle:"miter"}),Me("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:s})];Ni<e*1e3;)Ni+=1e3;return r.forEach(function(o){var d=xr(o[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var m=f.type=="gradient"?Me("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Me("v:fill",m,f),x={on:"t",obscured:"t"};++Ni,l=l.concat(["<v:shape"+Wl({id:"_x0000_s"+Ni,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Me("v:shadow",null,x),Me("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Nr("x:Anchor",[d.c+1,0,d.r+1,0,d.c+3,20,d.r+5,20].join(",")),Nr("x:AutoFill","False"),Nr("x:Row",String(d.r)),Nr("x:Column",String(d.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),l.push("</xml>"),l.join("")}function qg(e){var r=[nr,Me("comments",null,{xmlns:Ii[0]})],t=[];return r.push("<authors>"),e.forEach(function(s){s[1].forEach(function(l){var o=Nt(l.a);t.indexOf(o)==-1&&(t.push(o),r.push("<author>"+o+"</author>")),l.T&&l.ID&&t.indexOf("tc="+l.ID)==-1&&(t.push("tc="+l.ID),r.push("<author>tc="+l.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(s){var l=0,o=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?l=t.indexOf("tc="+s[1][0].ID):s[1].forEach(function(m){m.a&&(l=t.indexOf(Nt(m.a))),o.push(m.t||"")}),r.push('<comment ref="'+s[0]+'" authorId="'+l+'"><text>'),o.length<=1)r.push(Nr("t",Nt(o[0]||"")));else{for(var d=`Comment:
    `+o[0]+`
`,f=1;f<o.length;++f)d+=`Reply:
    `+o[f]+`
`;r.push(Nr("t",Nt(d)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function nj(e,r,t){var s=[nr,Me("ThreadedComments",null,{xmlns:mr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(l){var o="";(l[1]||[]).forEach(function(d,f){if(!d.T){delete d.ID;return}d.a&&r.indexOf(d.a)==-1&&r.push(d.a);var m={ref:l[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};f==0?o=m.id:m.parentId=o,d.ID=m.id,d.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(d.a)).slice(-12)+"}"),s.push(Me("threadedComment",Nr("text",d.t||""),m))})}),s.push("</ThreadedComments>"),s.join("")}function aj(e){var r=[nr,Me("personList",null,{xmlns:mr.TCMNT,"xmlns:x":Ii[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,s){r.push(Me("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:t,providerId:"None"}))}),r.push("</personList>"),r.join("")}function sj(e){var r={};r.iauthor=e.read_shift(4);var t=Ws(e);return r.rfx=t.s,r.ref=jt(t.s),e.l+=16,r}function ij(e,r){return r==null&&(r=ye(36)),r.write_shift(4,e[1].iauthor),Li(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var lj=Dr;function oj(e){return pr(e.slice(0,54))}function cj(e){var r=Qr(),t=[];return Se(r,628),Se(r,630),e.forEach(function(s){s[1].forEach(function(l){t.indexOf(l.a)>-1||(t.push(l.a.slice(0,54)),Se(r,632,oj(l.a)))})}),Se(r,631),Se(r,633),e.forEach(function(s){s[1].forEach(function(l){l.iauthor=t.indexOf(l.a);var o={s:xr(s[0]),e:xr(s[0])};Se(r,635,ij([o,l])),l.t&&l.t.length>0&&Se(r,637,uN(l)),Se(r,636),delete l.iauthor})}),Se(r,634),Se(r,629),r.end()}function dj(e,r){r.FullPaths.forEach(function(t,s){if(s!=0){var l=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");l.slice(-1)!=="/"&&_t.utils.cfb_add(e,l,r.FileIndex[s].content)}})}var Qg=["xlsb","xlsm","xlam","biff8","xla"],uj=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function t(s,l,o,d){var f=!1,m=!1;o.length==0?m=!0:o.charAt(0)=="["&&(m=!0,o=o.slice(1,-1)),d.length==0?f=!0:d.charAt(0)=="["&&(f=!0,d=d.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,x=d.length>0?parseInt(d,10)|0:0;return f?x+=r.c:--x,m?h+=r.r:--h,l+(f?"":"$")+Pr(x)+(m?"":"$")+jr(h)}return function(l,o){return r=o,l.replace(e,t)}})(),rf=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,nf=(function(){return function(r,t){return r.replace(rf,function(s,l,o,d,f,m){var h=qu(d)-(o?0:t.c),x=Ku(m)-(f?0:t.r),g=x==0?"":f?x+1:"["+x+"]",N=h==0?"":o?h+1:"["+h+"]";return l+"R"+g+"C"+N})}})();function fj(e,r){return e.replace(rf,function(t,s,l,o,d,f){return s+(l=="$"?l+o:Pr(qu(o)+r.c))+(d=="$"?d+f:jr(Ku(f)+r.r))})}function hj(e){return e.length!=1}function er(e){e.l+=1}function ls(e,r){var t=e.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Jg(e,r,t){var s=2;if(t){if(t.biff>=2&&t.biff<=5)return Zg(e);t.biff==12&&(s=4)}var l=e.read_shift(s),o=e.read_shift(s),d=ls(e),f=ls(e);return{s:{r:l,c:d[0],cRel:d[1],rRel:d[2]},e:{r:o,c:f[0],cRel:f[1],rRel:f[2]}}}function Zg(e){var r=ls(e),t=ls(e),s=e.read_shift(1),l=e.read_shift(1);return{s:{r:r[0],c:s,cRel:r[1],rRel:r[2]},e:{r:t[0],c:l,cRel:t[1],rRel:t[2]}}}function mj(e,r,t){if(t.biff<8)return Zg(e);var s=e.read_shift(t.biff==12?4:2),l=e.read_shift(t.biff==12?4:2),o=ls(e),d=ls(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:l,c:d[0],cRel:d[1],rRel:d[2]}}}function e1(e,r,t){if(t&&t.biff>=2&&t.biff<=5)return xj(e);var s=e.read_shift(t&&t.biff==12?4:2),l=ls(e);return{r:s,c:l[0],cRel:l[1],rRel:l[2]}}function xj(e){var r=ls(e),t=e.read_shift(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function pj(e){var r=e.read_shift(2),t=e.read_shift(2);return{r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function gj(e,r,t){var s=t&&t.biff?t.biff:8;if(s>=2&&s<=5)return vj(e);var l=e.read_shift(s>=12?4:2),o=e.read_shift(2),d=(o&16384)>>14,f=(o&32768)>>15;if(o&=16383,f==1)for(;l>524287;)l-=1048576;if(d==1)for(;o>8191;)o=o-16384;return{r:l,c:o,cRel:d,rRel:f}}function vj(e){var r=e.read_shift(2),t=e.read_shift(1),s=(r&32768)>>15,l=(r&16384)>>14;return r&=16383,s==1&&r>=8192&&(r=r-16384),l==1&&t>=128&&(t=t-256),{r,c:t,cRel:l,rRel:s}}function wj(e,r,t){var s=(e[e.l++]&96)>>5,l=Jg(e,t.biff>=2&&t.biff<=5?6:8,t);return[s,l]}function bj(e,r,t){var s=(e[e.l++]&96)>>5,l=e.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}var d=Jg(e,o,t);return[s,l,d]}function yj(e,r,t){var s=(e[e.l++]&96)>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[s]}function Nj(e,r,t){var s=(e[e.l++]&96)>>5,l=e.read_shift(2),o=8;if(t)switch(t.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}return e.l+=o,[s,l]}function jj(e,r,t){var s=(e[e.l++]&96)>>5,l=mj(e,r-1,t);return[s,l]}function _j(e,r,t){var s=(e[e.l++]&96)>>5;return e.l+=t.biff==2?6:t.biff==12?14:7,[s]}function Zx(e){var r=e[e.l+1]&1,t=1;return e.l+=4,[r,t]}function kj(e,r,t){e.l+=2;for(var s=e.read_shift(t&&t.biff==2?1:2),l=[],o=0;o<=s;++o)l.push(e.read_shift(t&&t.biff==2?1:2));return l}function Sj(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(t&&t.biff==2?1:2)]}function Ej(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(t&&t.biff==2?1:2)]}function Tj(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function Cj(e,r,t){var s=e[e.l+1]&255?1:0;return e.l+=t&&t.biff==2?3:4,[s]}function t1(e){var r=e.read_shift(1),t=e.read_shift(1);return[r,t]}function Aj(e){return e.read_shift(2),t1(e)}function Pj(e){return e.read_shift(2),t1(e)}function Dj(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var l=e1(e,0,t);return[s,l]}function Fj(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var l=gj(e,0,t);return[s,l]}function Oj(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var l=e.read_shift(2);t&&t.biff==5&&(e.l+=12);var o=e1(e,0,t);return[s,l,o]}function Mj(e,r,t){var s=(e[e.l]&96)>>5;e.l+=1;var l=e.read_shift(t&&t.biff<=3?1:2);return[M_[l],a1[l],s]}function Ij(e,r,t){var s=e[e.l++],l=e.read_shift(1),o=t&&t.biff<=3?[s==88?-1:0,e.read_shift(1)]:Rj(e);return[l,(o[0]===0?a1:O_)[o[1]]]}function Rj(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Lj(e,r,t){e.l+=t&&t.biff==2?3:4}function Bj(e,r,t){if(e.l++,t&&t.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),l=e.read_shift(t&&t.biff==2?1:2);return[s,l]}function zj(e){return e.l++,Ql[e.read_shift(1)]}function Uj(e){return e.l++,e.read_shift(2)}function $j(e){return e.l++,e.read_shift(1)!==0}function Wj(e){return e.l++,Bi(e)}function Hj(e,r,t){return e.l++,Rg(e,r-1,t)}function Vj(e,r){var t=[e.read_shift(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=ON(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:t[1]=Ql[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=Bi(e);break;case 2:t[1]=LN(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Gj(e,r,t){for(var s=e.read_shift(t.biff==12?4:2),l=[],o=0;o!=s;++o)l.push((t.biff==12?Ws:UN)(e));return l}function Yj(e,r,t){var s=0,l=0;t.biff==12?(s=e.read_shift(4),l=e.read_shift(4)):(l=1+e.read_shift(1),s=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--s,--l==0&&(l=256));for(var o=0,d=[];o!=s&&(d[o]=[]);++o)for(var f=0;f!=l;++f)d[o][f]=Vj(e,t.biff);return d}function Xj(e,r,t){var s=e.read_shift(1)>>>5&3,l=!t||t.biff>=8?4:2,o=e.read_shift(l);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,o]}function Kj(e,r,t){if(t.biff==5)return qj(e);var s=e.read_shift(1)>>>5&3,l=e.read_shift(2),o=e.read_shift(4);return[s,l,o]}function qj(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[r,t,s]}function Qj(e,r,t){var s=e.read_shift(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var l=e.read_shift(t&&t.biff==2?1:2);return[s,l]}function Jj(e,r,t){var s=e.read_shift(1)>>>5&3,l=e.read_shift(t&&t.biff==2?1:2);return[s,l]}function Zj(e,r,t){var s=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,t.biff==12&&(e.l+=2),[s]}function e_(e,r,t){var s=(e[e.l++]&96)>>5,l=e.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return e.l+=o,[s,l]}var t_=qn,r_=qn,n_=qn;function Jl(e,r,t){return e.l+=2,[pj(e)]}function af(e){return e.l+=6,[]}var a_=Jl,s_=af,i_=af,l_=Jl;function r1(e){return e.l+=2,[Mg(e),e.read_shift(2)&1]}var o_=Jl,c_=r1,d_=af,u_=Jl,f_=Jl,h_=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function m_(e){e.l+=2;var r=e.read_shift(2),t=e.read_shift(2),s=e.read_shift(4),l=e.read_shift(2),o=e.read_shift(2),d=h_[t>>2&31];return{ixti:r,coltype:t&3,rt:d,idx:s,c:l,C:o}}function x_(e){return e.l+=2,[e.read_shift(4)]}function p_(e,r,t){return e.l+=5,e.l+=2,e.l+=t.biff==2?1:4,["PTGSHEET"]}function g_(e,r,t){return e.l+=t.biff==2?4:5,["PTGENDSHEET"]}function v_(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function w_(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function b_(e){return e.l+=4,[0,0]}var ep={1:{n:"PtgExp",f:Bj},2:{n:"PtgTbl",f:n_},3:{n:"PtgAdd",f:er},4:{n:"PtgSub",f:er},5:{n:"PtgMul",f:er},6:{n:"PtgDiv",f:er},7:{n:"PtgPower",f:er},8:{n:"PtgConcat",f:er},9:{n:"PtgLt",f:er},10:{n:"PtgLe",f:er},11:{n:"PtgEq",f:er},12:{n:"PtgGe",f:er},13:{n:"PtgGt",f:er},14:{n:"PtgNe",f:er},15:{n:"PtgIsect",f:er},16:{n:"PtgUnion",f:er},17:{n:"PtgRange",f:er},18:{n:"PtgUplus",f:er},19:{n:"PtgUminus",f:er},20:{n:"PtgPercent",f:er},21:{n:"PtgParen",f:er},22:{n:"PtgMissArg",f:er},23:{n:"PtgStr",f:Hj},26:{n:"PtgSheet",f:p_},27:{n:"PtgEndSheet",f:g_},28:{n:"PtgErr",f:zj},29:{n:"PtgBool",f:$j},30:{n:"PtgInt",f:Uj},31:{n:"PtgNum",f:Wj},32:{n:"PtgArray",f:_j},33:{n:"PtgFunc",f:Mj},34:{n:"PtgFuncVar",f:Ij},35:{n:"PtgName",f:Xj},36:{n:"PtgRef",f:Dj},37:{n:"PtgArea",f:wj},38:{n:"PtgMemArea",f:Qj},39:{n:"PtgMemErr",f:t_},40:{n:"PtgMemNoMem",f:r_},41:{n:"PtgMemFunc",f:Jj},42:{n:"PtgRefErr",f:Zj},43:{n:"PtgAreaErr",f:yj},44:{n:"PtgRefN",f:Fj},45:{n:"PtgAreaN",f:jj},46:{n:"PtgMemAreaN",f:v_},47:{n:"PtgMemNoMemN",f:w_},57:{n:"PtgNameX",f:Kj},58:{n:"PtgRef3d",f:Oj},59:{n:"PtgArea3d",f:bj},60:{n:"PtgRefErr3d",f:e_},61:{n:"PtgAreaErr3d",f:Nj},255:{}},y_={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},N_={1:{n:"PtgElfLel",f:r1},2:{n:"PtgElfRw",f:u_},3:{n:"PtgElfCol",f:a_},6:{n:"PtgElfRwV",f:f_},7:{n:"PtgElfColV",f:l_},10:{n:"PtgElfRadical",f:o_},11:{n:"PtgElfRadicalS",f:d_},13:{n:"PtgElfColS",f:s_},15:{n:"PtgElfColSV",f:i_},16:{n:"PtgElfRadicalLel",f:c_},25:{n:"PtgList",f:m_},29:{n:"PtgSxName",f:x_},255:{}},j_={0:{n:"PtgAttrNoop",f:b_},1:{n:"PtgAttrSemi",f:Cj},2:{n:"PtgAttrIf",f:Ej},4:{n:"PtgAttrChoose",f:kj},8:{n:"PtgAttrGoto",f:Sj},16:{n:"PtgAttrSum",f:Lj},32:{n:"PtgAttrBaxcel",f:Zx},33:{n:"PtgAttrBaxcel",f:Zx},64:{n:"PtgAttrSpace",f:Aj},65:{n:"PtgAttrSpaceSemi",f:Pj},128:{n:"PtgAttrIfError",f:Tj},255:{}};function __(e,r,t,s){if(s.biff<8)return qn(e,r);for(var l=e.l+r,o=[],d=0;d!==t.length;++d)switch(t[d][0]){case"PtgArray":t[d][1]=Yj(e,0,s),o.push(t[d][1]);break;case"PtgMemArea":t[d][2]=Gj(e,t[d][1],s),o.push(t[d][2]);break;case"PtgExp":s&&s.biff==12&&(t[d][1][1]=e.read_shift(4),o.push(t[d][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[d][0]}return r=l-e.l,r!==0&&o.push(qn(e,r)),o}function k_(e,r,t){for(var s=e.l+r,l,o,d=[];s!=e.l;)r=s-e.l,o=e[e.l],l=ep[o]||ep[y_[o]],(o===24||o===25)&&(l=(o===24?N_:j_)[e[e.l+1]]),!l||!l.f?qn(e,r):d.push([l.n,l.f(e,r,t)]);return d}function S_(e){for(var r=[],t=0;t<e.length;++t){for(var s=e[t],l=[],o=0;o<s.length;++o){var d=s[o];if(d)switch(d[0]){case 2:l.push('"'+d[1].replace(/"/g,'""')+'"');break;default:l.push(d[1])}else l.push("")}r.push(l.join(","))}return r.join(";")}var E_={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function T_(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function n1(e,r,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[r];if(t.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!s)return"SH33TJSERR1";var l="";if(t.biff>8)switch(e[s[0]][0]){case 357:return l=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?l:l+":"+e.SheetNames[s[2]];case 358:return t.SID!=null?e.SheetNames[t.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return l=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?l:l+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return e[s[0]][0][3]?(l=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?l:l+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function tp(e,r,t){var s=n1(e,r,t);return s=="#REF"?s:T_(s,t)}function Fi(e,r,t,s,l){var o=l&&l.biff||8,d={s:{c:0,r:0}},f=[],m,h,x,g=0,N=0,y,j="";if(!e[0]||!e[0][0])return"";for(var w=-1,b="",T=0,_=e[0].length;T<_;++T){var k=e[0][T];switch(k[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=f.pop(),h=f.pop(),w>=0){switch(e[0][w][1][0]){case 0:b=Ht(" ",e[0][w][1][1]);break;case 1:b=Ht("\r",e[0][w][1][1]);break;default:if(b="",l.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}h=h+b,w=-1}f.push(h+E_[k[0]]+m);break;case"PtgIsect":m=f.pop(),h=f.pop(),f.push(h+" "+m);break;case"PtgUnion":m=f.pop(),h=f.pop(),f.push(h+","+m);break;case"PtgRange":m=f.pop(),h=f.pop(),f.push(h+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=Pl(k[1][1],d,l),f.push(Dl(x,o));break;case"PtgRefN":x=t?Pl(k[1][1],t,l):k[1][1],f.push(Dl(x,o));break;case"PtgRef3d":g=k[1][1],x=Pl(k[1][2],d,l),j=tp(s,g,l),f.push(j+"!"+Dl(x,o));break;case"PtgFunc":case"PtgFuncVar":var A=k[1][0],G=k[1][1];A||(A=0),A&=127;var W=A==0?[]:f.slice(-A);f.length-=A,G==="User"&&(G=W.shift()),f.push(G+"("+W.join(",")+")");break;case"PtgBool":f.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(k[1]);break;case"PtgNum":f.push(String(k[1]));break;case"PtgStr":f.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(k[1]);break;case"PtgAreaN":y=Bx(k[1][1],t?{s:t}:d,l),f.push(au(y,l));break;case"PtgArea":y=Bx(k[1][1],d,l),f.push(au(y,l));break;case"PtgArea3d":g=k[1][1],y=k[1][2],j=tp(s,g,l),f.push(j+"!"+au(y,l));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":N=k[1][2];var H=(s.names||[])[N-1]||(s[0]||[])[N],ne=H?H.Name:"SH33TJSNAME"+String(N);ne&&ne.slice(0,6)=="_xlfn."&&!l.xlfn&&(ne=ne.slice(6)),f.push(ne);break;case"PtgNameX":var Q=k[1][1];N=k[1][2];var le;if(l.biff<=5)Q<0&&(Q=-Q),s[Q]&&(le=s[Q][N]);else{var ge="";if(((s[Q]||[])[0]||[])[0]==14849||(((s[Q]||[])[0]||[])[0]==1025?s[Q][N]&&s[Q][N].itab>0&&(ge=s.SheetNames[s[Q][N].itab-1]+"!"):ge=s.SheetNames[N-1]+"!"),s[Q]&&s[Q][N])ge+=s[Q][N].Name;else if(s[0]&&s[0][N])ge+=s[0][N].Name;else{var oe=(n1(s,Q,l)||"").split(";;");oe[N-1]?ge=oe[N-1]:ge+="SH33TJSERRX"}f.push(ge);break}le||(le={Name:"SH33TJSERRY"}),f.push(le.Name);break;case"PtgParen":var we="(",$e=")";if(w>=0){switch(b="",e[0][w][1][0]){case 2:we=Ht(" ",e[0][w][1][1])+we;break;case 3:we=Ht("\r",e[0][w][1][1])+we;break;case 4:$e=Ht(" ",e[0][w][1][1])+$e;break;case 5:$e=Ht("\r",e[0][w][1][1])+$e;break;default:if(l.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}f.push(we+f.pop()+$e);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":x={c:k[1][1],r:k[1][0]};var Re={c:t.c,r:t.r};if(s.sharedf[jt(x)]){var qe=s.sharedf[jt(x)];f.push(Fi(qe,d,Re,s,l))}else{var ke=!1;for(m=0;m!=s.arrayf.length;++m)if(h=s.arrayf[m],!(x.c<h[0].s.c||x.c>h[0].e.c)&&!(x.r<h[0].s.r||x.r>h[0].e.r)){f.push(Fi(h[1],d,Re,s,l)),ke=!0;break}ke||f.push(k[1])}break;case"PtgArray":f.push("{"+S_(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(l.biff!=3&&w>=0&&J.indexOf(e[0][T][0])==-1){k=e[0][w];var ve=!0;switch(k[1][0]){case 4:ve=!1;case 0:b=Ht(" ",k[1][1]);break;case 5:ve=!1;case 1:b=Ht("\r",k[1][1]);break;default:if(b="",l.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}f.push((ve?b:"")+f.pop()+(ve?"":b)),w=-1}}if(f.length>1&&l.WTF)throw new Error("bad formula stack");return f[0]}function C_(e){if(e==null){var r=ye(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return Rs(e);return Rs(0)}function A_(e,r,t,s,l){var o=Ls(r,t,l),d=C_(e.v),f=ye(6),m=33;f.write_shift(2,m),f.write_shift(4,0);for(var h=ye(e.bf.length),x=0;x<e.bf.length;++x)h[x]=e.bf[x];var g=yr([o,d,f,h]);return g}function l0(e,r,t){var s=e.read_shift(4),l=k_(e,s,t),o=e.read_shift(4),d=o>0?__(e,o,l,t):null;return[l,d]}var P_=l0,o0=l0,D_=l0,F_=l0,O_={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},a1={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},M_={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function I_(e){var r="of:="+e.replace(rf,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function R_(e){return e.replace(/\./,"!")}var Fl=typeof Map!="undefined";function sf(e,r,t){var s=0,l=e.length;if(t){if(Fl?t.has(r):Object.prototype.hasOwnProperty.call(t,r)){for(var o=Fl?t.get(r):t[r];s<o.length;++s)if(e[o[s]].t===r)return e.Count++,o[s]}}else for(;s<l;++s)if(e[s].t===r)return e.Count++,s;return e[l]={t:r},e.Count++,e.Unique++,t&&(Fl?(t.has(r)||t.set(r,[]),t.get(r).push(l)):(Object.prototype.hasOwnProperty.call(t,r)||(t[r]=[]),t[r].push(l))),l}function c0(e,r){var t={min:e+1,max:e+1},s=-1;return r.MDW&&(ga=r.MDW),r.width!=null?t.customWidth=1:r.wpx!=null?s=Yc(r.wpx):r.wch!=null&&(s=r.wch),s>-1?(t.width=Eu(s),t.customWidth=1):r.width!=null&&(t.width=r.width),r.hidden&&(t.hidden=!0),r.level!=null&&(t.outlineLevel=t.level=r.level),t}function s1(e,r){if(e){var t=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=t[0]),e.right==null&&(e.right=t[1]),e.top==null&&(e.top=t[2]),e.bottom==null&&(e.bottom=t[3]),e.header==null&&(e.header=t[4]),e.footer==null&&(e.footer=t[5])}}function ds(e,r,t){var s=t.revssf[r.z!=null?r.z:"General"],l=60,o=e.length;if(s==null&&t.ssf){for(;l<392;++l)if(t.ssf[l]==null){eg(r.z,l),t.ssf[l]=r.z,t.revssf[r.z]=s=l;break}}for(l=0;l!=o;++l)if(e[l].numFmtId===s)return l;return e[o]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function L_(e,r,t){if(e&&e["!ref"]){var s=Mt(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}function B_(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)r+='<mergeCell ref="'+rr(e[t])+'"/>';return r+"</mergeCells>"}function z_(e,r,t,s,l){var o=!1,d={},f=null;if(s.bookType!=="xlsx"&&r.vbaraw){var m=r.SheetNames[t];try{r.Workbook&&(m=r.Workbook.Sheets[t].CodeName||m)}catch{}o=!0,d.codeName=$l(Nt(m))}if(e&&e["!outline"]){var h={summaryBelow:1,summaryRight:1};e["!outline"].above&&(h.summaryBelow=0),e["!outline"].left&&(h.summaryRight=0),f=(f||"")+Me("outlinePr",null,h)}!o&&!f||(l[l.length]=Me("sheetPr",f,d))}var U_=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$_=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function W_(e){var r={sheet:1};return U_.forEach(function(t){e[t]!=null&&e[t]&&(r[t]="1")}),$_.forEach(function(t){e[t]!=null&&!e[t]&&(r[t]="0")}),e.password&&(r.password=$g(e.password).toString(16).toUpperCase()),Me("sheetProtection",null,r)}function H_(e){return s1(e),Me("pageMargins",null,e)}function V_(e,r){for(var t=["<cols>"],s,l=0;l!=r.length;++l)(s=r[l])&&(t[t.length]=Me("col",null,c0(l,s)));return t[t.length]="</cols>",t.join("")}function G_(e,r,t,s){var l=typeof e.ref=="string"?e.ref:rr(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,d=dn(l);d.s.r==d.e.r&&(d.e.r=dn(r["!ref"]).e.r,l=rr(d));for(var f=0;f<o.length;++f){var m=o[f];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==s){m.Ref="'"+t.SheetNames[s]+"'!"+l;break}}return f==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+l}),Me("autoFilter",null,{ref:l})}function Y_(e,r,t,s){var l={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(l.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Me("sheetViews",Me("sheetView",null,l),{})}function X_(e,r,t,s){if(e.c&&t["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var l="",o=e.t,d=e.v;if(e.t!=="z")switch(e.t){case"b":l=e.v?"1":"0";break;case"n":l=""+e.v;break;case"e":l=Ql[e.v];break;case"d":s&&s.cellDates?l=Br(e.v,-1).toISOString():(e=Zr(e),e.t="n",l=""+(e.v=Jr(Br(e.v)))),typeof e.z=="undefined"&&(e.z=Gt[14]);break;default:l=e.v;break}var f=Nr("v",Nt(l)),m={r},h=ds(s.cellXfs,e,s);switch(h!==0&&(m.s=h),e.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){f=Nr("v",""+sf(s.Strings,e.v,s.revStrings)),m.t="s";break}m.t="str";break}if(e.t!=o&&(e.t=o,e.v=d),typeof e.f=="string"&&e.f){var x=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;f=Me("f",Nt(e.f),x)+(e.v!=null?f:"")}return e.l&&t["!links"].push([r,e.l]),e.D&&(m.cm=1),Me("c",f,m)}function K_(e,r,t,s){var l=[],o=[],d=Mt(e["!ref"]),f="",m,h="",x=[],g=0,N=0,y=e["!rows"],j=Array.isArray(e),w={r:h},b,T=-1;for(N=d.s.c;N<=d.e.c;++N)x[N]=Pr(N);for(g=d.s.r;g<=d.e.r;++g){for(o=[],h=jr(g),N=d.s.c;N<=d.e.c;++N){m=x[N]+h;var _=j?(e[g]||[])[N]:e[m];_!==void 0&&(f=X_(_,m,e,r))!=null&&o.push(f)}(o.length>0||y&&y[g])&&(w={r:h},y&&y[g]&&(b=y[g],b.hidden&&(w.hidden=1),T=-1,b.hpx?T=Xc(b.hpx):b.hpt&&(T=b.hpt),T>-1&&(w.ht=T,w.customHeight=1),b.level&&(w.outlineLevel=b.level)),l[l.length]=Me("row",o.join(""),w))}if(y)for(;g<y.length;++g)y&&y[g]&&(w={r:g+1},b=y[g],b.hidden&&(w.hidden=1),T=-1,b.hpx?T=Xc(b.hpx):b.hpt&&(T=b.hpt),T>-1&&(w.ht=T,w.customHeight=1),b.level&&(w.outlineLevel=b.level),l[l.length]=Me("row","",w));return l.join("")}function i1(e,r,t,s){var l=[nr,Me("worksheet",null,{xmlns:Ii[0],"xmlns:r":mr.r})],o=t.SheetNames[e],d=0,f="",m=t.Sheets[o];m==null&&(m={});var h=m["!ref"]||"A1",x=Mt(h);if(x.e.c>16383||x.e.r>1048575){if(r.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575),h=rr(x)}s||(s={}),m["!comments"]=[];var g=[];z_(m,t,e,r,l),l[l.length]=Me("dimension",null,{ref:h}),l[l.length]=Y_(m,r,e,t),r.sheetFormat&&(l[l.length]=Me("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(l[l.length]=V_(m,m["!cols"])),l[d=l.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(f=K_(m,r),f.length>0&&(l[l.length]=f)),l.length>d+1&&(l[l.length]="</sheetData>",l[d]=l[d].replace("/>",">")),m["!protect"]&&(l[l.length]=W_(m["!protect"])),m["!autofilter"]!=null&&(l[l.length]=G_(m["!autofilter"],m,t,e)),m["!merges"]!=null&&m["!merges"].length>0&&(l[l.length]=B_(m["!merges"]));var N=-1,y,j=-1;return m["!links"].length>0&&(l[l.length]="<hyperlinks>",m["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(j=yt(s,-1,Nt(w[1].Target).replace(/#.*$/,""),mt.HLINK),y["r:id"]="rId"+j),(N=w[1].Target.indexOf("#"))>-1&&(y.location=Nt(w[1].Target.slice(N+1))),w[1].Tooltip&&(y.tooltip=Nt(w[1].Tooltip)),l[l.length]=Me("hyperlink",null,y))}),l[l.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(l[l.length]=H_(m["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(l[l.length]=Nr("ignoredErrors",Me("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(j=yt(s,-1,"../drawings/drawing"+(e+1)+".xml",mt.DRAW),l[l.length]=Me("drawing",null,{"r:id":"rId"+j}),m["!drawing"]=g),m["!comments"].length>0&&(j=yt(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",mt.VML),l[l.length]=Me("legacyDrawing",null,{"r:id":"rId"+j}),m["!legacy"]=j),l.length>1&&(l[l.length]="</worksheet>",l[1]=l[1].replace("/>",">")),l.join("")}function q_(e,r){var t={},s=e.l+r;t.r=e.read_shift(4),e.l+=4;var l=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=s,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=l/20),t}function Q_(e,r,t){var s=ye(145),l=(t["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var o=320;l.hpx?o=Xc(l.hpx)*20:l.hpt&&(o=l.hpt*20),s.write_shift(2,o),s.write_shift(1,0);var d=0;l.level&&(d|=l.level),l.hidden&&(d|=16),(l.hpx||l.hpt)&&(d|=32),s.write_shift(1,d),s.write_shift(1,0);var f=0,m=s.l;s.l+=4;for(var h={r:e,c:0},x=0;x<16;++x)if(!(r.s.c>x+1<<10||r.e.c<x<<10)){for(var g=-1,N=-1,y=x<<10;y<x+1<<10;++y){h.c=y;var j=Array.isArray(t)?(t[h.r]||[])[h.c]:t[jt(h)];j&&(g<0&&(g=y),N=y)}g<0||(++f,s.write_shift(4,g),s.write_shift(4,N))}var w=s.l;return s.l=m,s.write_shift(4,f),s.l=w,s.length>s.l?s.slice(0,s.l):s}function J_(e,r,t,s){var l=Q_(s,t,r);(l.length>17||(r["!rows"]||[])[s])&&Se(e,0,l)}var Z_=Ws,ek=Li;function tk(){}function rk(e,r){var t={},s=e[e.l];return++e.l,t.above=!(s&64),t.left=!(s&128),e.l+=18,t.name=fN(e),t}function nk(e,r,t){t==null&&(t=ye(84+4*e.length));var s=192;r&&(r.above&&(s&=-65),r.left&&(s&=-129)),t.write_shift(1,s);for(var l=1;l<3;++l)t.write_shift(1,0);return Hc({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),yg(e,t),t.slice(0,t.l)}function ak(e){var r=Nn(e);return[r]}function sk(e,r,t){return t==null&&(t=ye(8)),zs(r,t)}function ik(e){var r=Us(e);return[r]}function lk(e,r,t){return t==null&&(t=ye(4)),$s(r,t)}function ok(e){var r=Nn(e),t=e.read_shift(1);return[r,t,"b"]}function ck(e,r,t){return t==null&&(t=ye(9)),zs(r,t),t.write_shift(1,e.v?1:0),t}function dk(e){var r=Us(e),t=e.read_shift(1);return[r,t,"b"]}function uk(e,r,t){return t==null&&(t=ye(5)),$s(r,t),t.write_shift(1,e.v?1:0),t}function fk(e){var r=Nn(e),t=e.read_shift(1);return[r,t,"e"]}function hk(e,r,t){return t==null&&(t=ye(9)),zs(r,t),t.write_shift(1,e.v),t}function mk(e){var r=Us(e),t=e.read_shift(1);return[r,t,"e"]}function xk(e,r,t){return t==null&&(t=ye(8)),$s(r,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}function pk(e){var r=Nn(e),t=e.read_shift(4);return[r,t,"s"]}function gk(e,r,t){return t==null&&(t=ye(12)),zs(r,t),t.write_shift(4,r.v),t}function vk(e){var r=Us(e),t=e.read_shift(4);return[r,t,"s"]}function wk(e,r,t){return t==null&&(t=ye(8)),$s(r,t),t.write_shift(4,r.v),t}function bk(e){var r=Nn(e),t=Bi(e);return[r,t,"n"]}function yk(e,r,t){return t==null&&(t=ye(16)),zs(r,t),Rs(e.v,t),t}function Nk(e){var r=Us(e),t=Bi(e);return[r,t,"n"]}function jk(e,r,t){return t==null&&(t=ye(12)),$s(r,t),Rs(e.v,t),t}function _k(e){var r=Nn(e),t=Ng(e);return[r,t,"n"]}function kk(e,r,t){return t==null&&(t=ye(12)),zs(r,t),jg(e.v,t),t}function Sk(e){var r=Us(e),t=Ng(e);return[r,t,"n"]}function Ek(e,r,t){return t==null&&(t=ye(8)),$s(r,t),jg(e.v,t),t}function Tk(e){var r=Nn(e),t=Qu(e);return[r,t,"is"]}function Ck(e){var r=Nn(e),t=Dr(e);return[r,t,"str"]}function Ak(e,r,t){return t==null&&(t=ye(12+4*e.v.length)),zs(r,t),pr(e.v,t),t.length>t.l?t.slice(0,t.l):t}function Pk(e){var r=Us(e),t=Dr(e);return[r,t,"str"]}function Dk(e,r,t){return t==null&&(t=ye(8+4*e.v.length)),$s(r,t),pr(e.v,t),t.length>t.l?t.slice(0,t.l):t}function Fk(e,r,t){var s=e.l+r,l=Nn(e);l.r=t["!row"];var o=e.read_shift(1),d=[l,o,"b"];if(t.cellFormula){e.l+=2;var f=o0(e,s-e.l,t);d[3]=Fi(f,null,l,t.supbooks,t)}else e.l=s;return d}function Ok(e,r,t){var s=e.l+r,l=Nn(e);l.r=t["!row"];var o=e.read_shift(1),d=[l,o,"e"];if(t.cellFormula){e.l+=2;var f=o0(e,s-e.l,t);d[3]=Fi(f,null,l,t.supbooks,t)}else e.l=s;return d}function Mk(e,r,t){var s=e.l+r,l=Nn(e);l.r=t["!row"];var o=Bi(e),d=[l,o,"n"];if(t.cellFormula){e.l+=2;var f=o0(e,s-e.l,t);d[3]=Fi(f,null,l,t.supbooks,t)}else e.l=s;return d}function Ik(e,r,t){var s=e.l+r,l=Nn(e);l.r=t["!row"];var o=Dr(e),d=[l,o,"str"];if(t.cellFormula){e.l+=2;var f=o0(e,s-e.l,t);d[3]=Fi(f,null,l,t.supbooks,t)}else e.l=s;return d}var Rk=Ws,Lk=Li;function Bk(e,r){return r==null&&(r=ye(4)),r.write_shift(4,e),r}function zk(e,r){var t=e.l+r,s=Ws(e),l=Ju(e),o=Dr(e),d=Dr(e),f=Dr(e);e.l=t;var m={rfx:s,relId:l,loc:o,display:f};return d&&(m.Tooltip=d),m}function Uk(e,r){var t=ye(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Li({s:xr(e[0]),e:xr(e[0])},t),Zu("rId"+r,t);var s=e[1].Target.indexOf("#"),l=s==-1?"":e[1].Target.slice(s+1);return pr(l||"",t),pr(e[1].Tooltip||"",t),pr("",t),t.slice(0,t.l)}function $k(){}function Wk(e,r,t){var s=e.l+r,l=_g(e),o=e.read_shift(1),d=[l];if(d[2]=o,t.cellFormula){var f=P_(e,s-e.l,t);d[1]=f}else e.l=s;return d}function Hk(e,r,t){var s=e.l+r,l=Ws(e),o=[l];if(t.cellFormula){var d=F_(e,s-e.l,t);o[1]=d,e.l=s}else e.l=s;return o}function Vk(e,r,t){t==null&&(t=ye(18));var s=c0(e,r);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,(s.width||10)*256),t.write_shift(4,0);var l=0;return r.hidden&&(l|=1),typeof s.width=="number"&&(l|=2),r.level&&(l|=r.level<<8),t.write_shift(2,l),t}var l1=["left","right","top","bottom","header","footer"];function Gk(e){var r={};return l1.forEach(function(t){r[t]=Bi(e)}),r}function Yk(e,r){return r==null&&(r=ye(48)),s1(e),l1.forEach(function(t){Rs(e[t],r)}),r}function Xk(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function Kk(e,r,t){t==null&&(t=ye(30));var s=924;return(((r||{}).Views||[])[0]||{}).RTL&&(s|=32),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function qk(e){var r=ye(24);return r.write_shift(4,4),r.write_shift(4,1),Li(e,r),r}function Qk(e,r){return r==null&&(r=ye(66)),r.write_shift(2,e.password?$g(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?r.write_shift(4,e[t[0]]!=null&&!e[t[0]]?1:0):r.write_shift(4,e[t[0]]!=null&&e[t[0]]?0:1)}),r}function Jk(){}function Zk(){}function eS(e,r,t,s,l,o,d){if(r.v===void 0)return!1;var f="";switch(r.t){case"b":f=r.v?"1":"0";break;case"d":r=Zr(r),r.z=r.z||Gt[14],r.v=Jr(Br(r.v)),r.t="n";break;case"n":case"e":f=""+r.v;break;default:f=r.v;break}var m={r:t,c:s};switch(m.s=ds(l.cellXfs,r,l),r.l&&o["!links"].push([jt(m),r.l]),r.c&&o["!comments"].push([jt(m),r.c]),r.t){case"s":case"str":return l.bookSST?(f=sf(l.Strings,r.v,l.revStrings),m.t="s",m.v=f,d?Se(e,18,wk(r,m)):Se(e,7,gk(r,m))):(m.t="str",d?Se(e,17,Dk(r,m)):Se(e,6,Ak(r,m))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?d?Se(e,13,Ek(r,m)):Se(e,2,kk(r,m)):d?Se(e,16,jk(r,m)):Se(e,5,yk(r,m)),!0;case"b":return m.t="b",d?Se(e,15,uk(r,m)):Se(e,4,ck(r,m)),!0;case"e":return m.t="e",d?Se(e,14,xk(r,m)):Se(e,3,hk(r,m)),!0}return d?Se(e,12,lk(r,m)):Se(e,1,sk(r,m)),!0}function tS(e,r,t,s){var l=Mt(r["!ref"]||"A1"),o,d="",f=[];Se(e,145);var m=Array.isArray(r),h=l.e.r;r["!rows"]&&(h=Math.max(l.e.r,r["!rows"].length-1));for(var x=l.s.r;x<=h;++x){d=jr(x),J_(e,r,l,x);var g=!1;if(x<=l.e.r)for(var N=l.s.c;N<=l.e.c;++N){x===l.s.r&&(f[N]=Pr(N)),o=f[N]+d;var y=m?(r[x]||[])[N]:r[o];if(!y){g=!1;continue}g=eS(e,y,x,N,s,r,g)}}Se(e,146)}function rS(e,r){!r||!r["!merges"]||(Se(e,177,Bk(r["!merges"].length)),r["!merges"].forEach(function(t){Se(e,176,Lk(t))}),Se(e,178))}function nS(e,r){!r||!r["!cols"]||(Se(e,390),r["!cols"].forEach(function(t,s){t&&Se(e,60,Vk(s,t))}),Se(e,391))}function aS(e,r){!r||!r["!ref"]||(Se(e,648),Se(e,649,qk(Mt(r["!ref"]))),Se(e,650))}function sS(e,r,t){r["!links"].forEach(function(s){if(s[1].Target){var l=yt(t,-1,s[1].Target.replace(/#.*$/,""),mt.HLINK);Se(e,494,Uk(s,l))}}),delete r["!links"]}function iS(e,r,t,s){if(r["!comments"].length>0){var l=yt(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",mt.VML);Se(e,551,Zu("rId"+l)),r["!legacy"]=l}}function lS(e,r,t,s){if(r["!autofilter"]){var l=r["!autofilter"],o=typeof l.ref=="string"?l.ref:rr(l.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var d=t.Workbook.Names,f=dn(o);f.s.r==f.e.r&&(f.e.r=dn(r["!ref"]).e.r,o=rr(f));for(var m=0;m<d.length;++m){var h=d[m];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==s){h.Ref="'"+t.SheetNames[s]+"'!"+o;break}}m==d.length&&d.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+t.SheetNames[s]+"'!"+o}),Se(e,161,Li(Mt(o))),Se(e,162)}}function oS(e,r,t){Se(e,133),Se(e,137,Kk(r,t)),Se(e,138),Se(e,134)}function cS(e,r){r["!protect"]&&Se(e,535,Qk(r["!protect"]))}function dS(e,r,t,s){var l=Qr(),o=t.SheetNames[e],d=t.Sheets[o]||{},f=o;try{t&&t.Workbook&&(f=t.Workbook.Sheets[e].CodeName||f)}catch{}var m=Mt(d["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(r.WTF)throw new Error("Range "+(d["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return d["!links"]=[],d["!comments"]=[],Se(l,129),(t.vbaraw||d["!outline"])&&Se(l,147,nk(f,d["!outline"])),Se(l,148,ek(m)),oS(l,d,t.Workbook),nS(l,d),tS(l,d,e,r),cS(l,d),lS(l,d,t,e),rS(l,d),sS(l,d,s),d["!margins"]&&Se(l,476,Yk(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&aS(l,d),iS(l,d,e,s),Se(l,130),l.end()}function uS(e,r){e.l+=10;var t=Dr(e);return{name:t}}var fS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function hS(e){return!e.Workbook||!e.Workbook.WBProps?"false":H3(e.Workbook.WBProps.date1904)?"true":"false"}var mS="][*?/\\".split("");function o1(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return mS.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function xS(e,r,t){e.forEach(function(s,l){o1(s);for(var o=0;o<l;++o)if(s==e[o])throw new Error("Duplicate Sheet Name: "+s);if(t){var d=r&&r[l]&&r[l].CodeName||s;if(d.charCodeAt(0)==95&&d.length>22)throw new Error("Bad Code Name: Worksheet"+d)}})}function pS(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];xS(e.SheetNames,r,!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)L_(e.Sheets[e.SheetNames[t]],e.SheetNames[t],t)}function c1(e){var r=[nr];r[r.length]=Me("workbook",null,{xmlns:Ii[0],"xmlns:r":mr.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(fS.forEach(function(f){e.Workbook.WBProps[f[0]]!=null&&e.Workbook.WBProps[f[0]]!=f[1]&&(s[f[0]]=e.Workbook.WBProps[f[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),r[r.length]=Me("workbookPr",null,s);var l=e.Workbook&&e.Workbook.Sheets||[],o=0;if(l&&l[0]&&l[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=e.SheetNames.length&&!(!l[o]||!l[o].Hidden);++o);o==e.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var d={name:Nt(e.SheetNames[o].slice(0,31))};if(d.sheetId=""+(o+1),d["r:id"]="rId"+(o+1),l[o])switch(l[o].Hidden){case 1:d.state="hidden";break;case 2:d.state="veryHidden";break}r[r.length]=Me("sheet",null,d)}return r[r.length]="</sheets>",t&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(f){var m={name:f.Name};f.Comment&&(m.comment=f.Comment),f.Sheet!=null&&(m.localSheetId=""+f.Sheet),f.Hidden&&(m.hidden="1"),f.Ref&&(r[r.length]=Me("definedName",Nt(f.Ref),m))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function gS(e,r){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=Su(e),t.name=Dr(e),t}function vS(e,r){return r||(r=ye(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),Zu(e.strRelID,r),pr(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function wS(e,r){var t={},s=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var l=r>8?Dr(e):"";return l.length>0&&(t.CodeName=l),t.autoCompressPictures=!!(s&65536),t.backupFile=!!(s&64),t.checkCompatibility=!!(s&4096),t.date1904=!!(s&1),t.filterPrivacy=!!(s&8),t.hidePivotFieldList=!!(s&1024),t.promptedSolutions=!!(s&16),t.publishItems=!!(s&2048),t.refreshAllConnections=!!(s&262144),t.saveExternalLinkValues=!!(s&128),t.showBorderUnselectedTables=!!(s&4),t.showInkAnnotation=!!(s&32),t.showObjects=["all","placeholders","none"][s>>13&3],t.showPivotChartFilter=!!(s&32768),t.updateLinks=["userSet","never","always"][s>>8&3],t}function bS(e,r){r||(r=ye(72));var t=0;return e&&e.filterPrivacy&&(t|=8),r.write_shift(4,t),r.write_shift(4,0),yg(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function yS(e,r,t){var s=e.l+r;e.l+=4,e.l+=1;var l=e.read_shift(4),o=hN(e),d=D_(e,0,t),f=Ju(e);e.l=s;var m={Name:o,Ptg:d};return l<268435455&&(m.Sheet=l),f&&(m.Comment=f),m}function NS(e,r){Se(e,143);for(var t=0;t!=r.SheetNames.length;++t){var s=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t]&&r.Workbook.Sheets[t].Hidden||0,l={Hidden:s,iTabID:t+1,strRelID:"rId"+(t+1),name:r.SheetNames[t]};Se(e,156,vS(l))}Se(e,144)}function jS(e,r){r||(r=ye(127));for(var t=0;t!=4;++t)r.write_shift(4,0);return pr("SheetJS",r),pr(Ic.version,r),pr(Ic.version,r),pr("7262",r),r.length>r.l?r.slice(0,r.l):r}function _S(e,r){r||(r=ye(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var t=120;return r.write_shift(1,t),r.length>r.l?r.slice(0,r.l):r}function kS(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var t=r.Workbook.Sheets,s=0,l=-1,o=-1;s<t.length;++s)!t[s]||!t[s].Hidden&&l==-1?l=s:t[s].Hidden==1&&o==-1&&(o=s);o>l||(Se(e,135),Se(e,158,_S(l)),Se(e,136))}}function SS(e,r){var t=Qr();return Se(t,131),Se(t,128,jS()),Se(t,153,bS(e.Workbook&&e.Workbook.WBProps||null)),kS(t,e),NS(t,e),Se(t,132),t.end()}function ES(e,r,t){return(r.slice(-4)===".bin"?SS:c1)(e)}function TS(e,r,t,s,l){return(r.slice(-4)===".bin"?dS:i1)(e,t,s,l)}function CS(e,r,t){return(r.slice(-4)===".bin"?Y5:Vg)(e,t)}function AS(e,r,t){return(r.slice(-4)===".bin"?b5:Ug)(e,t)}function PS(e,r,t){return(r.slice(-4)===".bin"?cj:qg)(e)}function DS(e){return(e.slice(-4)===".bin"?tj:Xg)()}function FS(e,r){var t=[];return e.Props&&t.push(CN(e.Props,r)),e.Custprops&&t.push(AN(e.Props,e.Custprops)),t.join("")}function OS(){return""}function MS(e,r){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(s,l){var o=[];o.push(Me("NumberFormat",null,{"ss:Format":Nt(Gt[s.numFmtId])}));var d={"ss:ID":"s"+(21+l)};t.push(Me("Style",o.join(""),d))}),Me("Styles",t.join(""))}function d1(e){return Me("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+nf(e.Ref,{r:0,c:0})})}function IS(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,t=[],s=0;s<r.length;++s){var l=r[s];l.Sheet==null&&(l.Name.match(/^_xlfn\./)||t.push(d1(l)))}return Me("Names",t.join(""))}function RS(e,r,t,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var l=s.Workbook.Names,o=[],d=0;d<l.length;++d){var f=l[d];f.Sheet==t&&(f.Name.match(/^_xlfn\./)||o.push(d1(f)))}return o.join("")}function LS(e,r,t,s){if(!e)return"";var l=[];if(e["!margins"]&&(l.push("<PageSetup>"),e["!margins"].header&&l.push(Me("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&l.push(Me("Footer",null,{"x:Margin":e["!margins"].footer})),l.push(Me("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),l.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[t])if(s.Workbook.Sheets[t].Hidden)l.push(Me("Visible",s.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(s.Workbook.Sheets[o]&&!s.Workbook.Sheets[o].Hidden);++o);o==t&&l.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&l.push("<DisplayRightToLeft/>"),e["!protect"]&&(l.push(Nr("ProtectContents","True")),e["!protect"].objects&&l.push(Nr("ProtectObjects","True")),e["!protect"].scenarios&&l.push(Nr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?l.push(Nr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&l.push(Nr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(d){e["!protect"][d[0]]&&l.push("<"+d[1]+"/>")})),l.length==0?"":Me("WorksheetOptions",l.join(""),{xmlns:ln.x})}function BS(e){return e.map(function(r){var t=W3(r.t||""),s=Me("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Me("Comment",s,{"ss:Author":r.a})}).join("")}function zS(e,r,t,s,l,o,d){if(!e||e.v==null&&e.f==null)return"";var f={};if(e.f&&(f["ss:Formula"]="="+Nt(nf(e.f,d))),e.F&&e.F.slice(0,r.length)==r){var m=xr(e.F.slice(r.length+1));f["ss:ArrayRange"]="RC:R"+(m.r==d.r?"":"["+(m.r-d.r)+"]")+"C"+(m.c==d.c?"":"["+(m.c-d.c)+"]")}if(e.l&&e.l.Target&&(f["ss:HRef"]=Nt(e.l.Target),e.l.Tooltip&&(f["x:HRefScreenTip"]=Nt(e.l.Tooltip))),t["!merges"])for(var h=t["!merges"],x=0;x!=h.length;++x)h[x].s.c!=d.c||h[x].s.r!=d.r||(h[x].e.c>h[x].s.c&&(f["ss:MergeAcross"]=h[x].e.c-h[x].s.c),h[x].e.r>h[x].s.r&&(f["ss:MergeDown"]=h[x].e.r-h[x].s.r));var g="",N="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":g="Number",N=String(e.v);break;case"b":g="Boolean",N=e.v?"1":"0";break;case"e":g="Error",N=Ql[e.v];break;case"d":g="DateTime",N=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gt[14]);break;case"s":g="String",N=$3(e.v||"");break}var y=ds(s.cellXfs,e,s);f["ss:StyleID"]="s"+(21+y),f["ss:Index"]=d.c+1;var j=e.v!=null?N:"",w=e.t=="z"?"":'<Data ss:Type="'+g+'">'+j+"</Data>";return(e.c||[]).length>0&&(w+=BS(e.c)),Me("Cell",w,f)}function US(e,r){var t='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=Hg(r.hpt)),r.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(t+=' ss:Hidden="1"')),t+">"}function $S(e,r,t,s){if(!e["!ref"])return"";var l=Mt(e["!ref"]),o=e["!merges"]||[],d=0,f=[];e["!cols"]&&e["!cols"].forEach(function(b,T){tf(b);var _=!!b.width,k=c0(T,b),A={"ss:Index":T+1};_&&(A["ss:Width"]=Gc(k.width)),b.hidden&&(A["ss:Hidden"]="1"),f.push(Me("Column",null,A))});for(var m=Array.isArray(e),h=l.s.r;h<=l.e.r;++h){for(var x=[US(h,(e["!rows"]||[])[h])],g=l.s.c;g<=l.e.c;++g){var N=!1;for(d=0;d!=o.length;++d)if(!(o[d].s.c>g)&&!(o[d].s.r>h)&&!(o[d].e.c<g)&&!(o[d].e.r<h)){(o[d].s.c!=g||o[d].s.r!=h)&&(N=!0);break}if(!N){var y={r:h,c:g},j=jt(y),w=m?(e[h]||[])[g]:e[j];x.push(zS(w,j,e,r,t,s,y))}}x.push("</Row>"),x.length>2&&f.push(x.join(""))}return f.join("")}function WS(e,r,t){var s=[],l=t.SheetNames[e],o=t.Sheets[l],d=o?RS(o,r,e,t):"";return d.length>0&&s.push("<Names>"+d+"</Names>"),d=o?$S(o,r,e,t):"",d.length>0&&s.push("<Table>"+d+"</Table>"),s.push(LS(o,r,e,t)),s.join("")}function HS(e,r){r||(r={}),e.SSF||(e.SSF=Zr(Gt)),e.SSF&&(a0(),n0(e.SSF),r.revssf=s0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],ds(r.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(FS(e,r)),t.push(OS()),t.push(""),t.push("");for(var s=0;s<e.SheetNames.length;++s)t.push(Me("Worksheet",WS(s,r,e),{"ss:Name":Nt(e.SheetNames[s])}));return t[2]=MS(e,r),t[3]=IS(e),nr+Me("Workbook",t.join(""),{xmlns:ln.ss,"xmlns:o":ln.o,"xmlns:x":ln.x,"xmlns:ss":ln.ss,"xmlns:dt":ln.dt,"xmlns:html":ln.html})}var lu={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VS(e,r){var t=[],s=[],l=[],o=0,d,f=Tx(Ux,"n"),m=Tx($x,"n");if(e.Props)for(d=_r(e.Props),o=0;o<d.length;++o)(Object.prototype.hasOwnProperty.call(f,d[o])?t:Object.prototype.hasOwnProperty.call(m,d[o])?s:l).push([d[o],e.Props[d[o]]]);if(e.Custprops)for(d=_r(e.Custprops),o=0;o<d.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},d[o])||(Object.prototype.hasOwnProperty.call(f,d[o])?t:Object.prototype.hasOwnProperty.call(m,d[o])?s:l).push([d[o],e.Custprops[d[o]]]);var h=[];for(o=0;o<l.length;++o)Og.indexOf(l[o][0])>-1||Pg.indexOf(l[o][0])>-1||l[o][1]!=null&&h.push(l[o]);s.length&&_t.utils.cfb_add(r,"/SummaryInformation",Yx(s,lu.SI,m,$x)),(t.length||h.length)&&_t.utils.cfb_add(r,"/DocumentSummaryInformation",Yx(t,lu.DSI,f,Ux,h.length?h:null,lu.UDI))}function GS(e,r){var t=r||{},s=_t.utils.cfb_new({root:"R"}),l="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":l="/Workbook",t.biff=8;break;case"biff5":l="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return _t.utils.cfb_add(s,l,u1(e,t)),t.biff==8&&(e.Props||e.Custprops)&&VS(e,s),t.biff==8&&e.vbaraw&&dj(s,_t.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var YS={0:{f:q_},1:{f:ak},2:{f:_k},3:{f:fk},4:{f:ok},5:{f:bk},6:{f:Ck},7:{f:pk},8:{f:Ik},9:{f:Mk},10:{f:Fk},11:{f:Ok},12:{f:ik},13:{f:Sk},14:{f:mk},15:{f:dk},16:{f:Nk},17:{f:Pk},18:{f:vk},19:{f:Qu},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yS},40:{},42:{},43:{f:C5},44:{f:E5},45:{f:D5},46:{f:O5},47:{f:F5},48:{},49:{f:iN},50:{},51:{f:q5},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:l5},62:{f:Tk},63:{f:rj},64:{f:Jk},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xk},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rk},148:{f:Z_,p:16},151:{f:$k},152:{},153:{f:wS},154:{},155:{},156:{f:gS},157:{},158:{},159:{T:1,f:g5},160:{T:-1},161:{T:1,f:Ws},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Rk},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:X5},336:{T:-1},337:{f:Z5,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Su},357:{},358:{},359:{},360:{T:1},361:{},362:{f:t5},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Wk},427:{f:Hk},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gk},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tk},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zk},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Su},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lj},633:{T:1},634:{T:-1},635:{T:1,f:sj},636:{T:-1},637:{f:dN},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uS},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Zk},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ie(e,r,t,s){var l=r;if(!isNaN(l)){var o=s||(t||[]).length||0,d=e.next(4);d.write_shift(2,l),d.write_shift(2,o),o>0&&Xu(t)&&e.push(t)}}function XS(e,r,t,s){var l=(t||[]).length||0;if(l<=8224)return Ie(e,r,t,l);var o=r;if(!isNaN(o)){for(var d=t.parts||[],f=0,m=0,h=0;h+(d[f]||8224)<=8224;)h+=d[f]||8224,f++;var x=e.next(4);for(x.write_shift(2,o),x.write_shift(2,h),e.push(t.slice(m,m+h)),m+=h;m<l;){for(x=e.next(4),x.write_shift(2,60),h=0;h+(d[f]||8224)<=8224;)h+=d[f]||8224,f++;x.write_shift(2,h),e.push(t.slice(m,m+h)),m+=h}}}function Zl(e,r,t){return e||(e=ye(7)),e.write_shift(2,r),e.write_shift(2,t),e.write_shift(2,0),e.write_shift(1,0),e}function KS(e,r,t,s){var l=ye(9);return Zl(l,e,r),Ig(t,s||"b",l),l}function qS(e,r,t){var s=ye(8+2*t.length);return Zl(s,e,r),s.write_shift(1,t.length),s.write_shift(t.length,t,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function QS(e,r,t,s){if(r.v!=null)switch(r.t){case"d":case"n":var l=r.t=="d"?Jr(Br(r.v)):r.v;l==(l|0)&&l>=0&&l<65536?Ie(e,2,u5(t,s,l)):Ie(e,3,d5(t,s,l));return;case"b":case"e":Ie(e,5,KS(t,s,r.v,r.t));return;case"s":case"str":Ie(e,4,qS(t,s,(r.v||"").slice(0,255)));return}Ie(e,1,Zl(null,t,s))}function JS(e,r,t,s){var l=Array.isArray(r),o=Mt(r["!ref"]||"A1"),d,f="",m=[];if(o.e.c>255||o.e.r>16383){if(s.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),d=rr(o)}for(var h=o.s.r;h<=o.e.r;++h){f=jr(h);for(var x=o.s.c;x<=o.e.c;++x){h===o.s.r&&(m[x]=Pr(x)),d=m[x]+f;var g=l?(r[h]||[])[x]:r[d];g&&QS(e,g,h,x)}}}function ZS(e,r){for(var t=r||{},s=Qr(),l=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==t.sheet&&(l=o);if(l==0&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Ie(s,t.biff==4?1033:t.biff==3?521:9,ef(e,16,t)),JS(s,e.Sheets[e.SheetNames[l]],l,t),Ie(s,10),s.end()}function eE(e,r,t){Ie(e,49,YN({sz:12,name:"Arial"},t))}function tE(e,r,t){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var l=s[0];l<=s[1];++l)r[l]!=null&&Ie(e,1054,qN(l,r[l],t))})}function rE(e,r){var t=ye(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Ie(e,2151,t),t=ye(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),Bg(Mt(r["!ref"]||"A1"),t),t.write_shift(4,4),Ie(e,2152,t)}function nE(e,r){for(var t=0;t<16;++t)Ie(e,224,Kx({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(s){Ie(e,224,Kx(s,0,r))})}function aE(e,r){for(var t=0;t<r["!links"].length;++t){var s=r["!links"][t];Ie(e,440,a5(s)),s[1].Tooltip&&Ie(e,2048,s5(s))}delete r["!links"]}function sE(e,r){if(r){var t=0;r.forEach(function(s,l){++t<=256&&s&&Ie(e,125,o5(c0(l,s),l))})}}function iE(e,r,t,s,l){var o=16+ds(l.cellXfs,r,l);if(r.v==null&&!r.bf){Ie(e,513,Ls(t,s,o));return}if(r.bf)Ie(e,6,A_(r,t,s,l,o));else switch(r.t){case"d":case"n":var d=r.t=="d"?Jr(Br(r.v)):r.v;Ie(e,515,e5(t,s,d,o));break;case"b":case"e":Ie(e,517,ZN(t,s,r.v,o,l,r.t));break;case"s":case"str":if(l.bookSST){var f=sf(l.Strings,r.v,l.revStrings);Ie(e,253,XN(t,s,f,o))}else Ie(e,516,KN(t,s,(r.v||"").slice(0,255),o,l));break;default:Ie(e,513,Ls(t,s,o))}}function lE(e,r,t){var s=Qr(),l=t.SheetNames[e],o=t.Sheets[l]||{},d=(t||{}).Workbook||{},f=(d.Sheets||[])[e]||{},m=Array.isArray(o),h=r.biff==8,x,g="",N=[],y=Mt(o["!ref"]||"A1"),j=h?65536:16384;if(y.e.c>255||y.e.r>=j){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,j-1)}Ie(s,2057,ef(t,16,r)),Ie(s,13,wn(1)),Ie(s,12,wn(100)),Ie(s,15,Rr(!0)),Ie(s,17,Rr(!1)),Ie(s,16,Rs(.001)),Ie(s,95,Rr(!0)),Ie(s,42,Rr(!1)),Ie(s,43,Rr(!1)),Ie(s,130,wn(1)),Ie(s,128,JN()),Ie(s,131,Rr(!1)),Ie(s,132,Rr(!1)),h&&sE(s,o["!cols"]),Ie(s,512,QN(y,r)),h&&(o["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){g=jr(w);for(var b=y.s.c;b<=y.e.c;++b){w===y.s.r&&(N[b]=Pr(b)),x=N[b]+g;var T=m?(o[w]||[])[b]:o[x];T&&(iE(s,T,w,b,r),h&&T.l&&o["!links"].push([x,T.l]))}}var _=f.CodeName||f.name||l;return h&&Ie(s,574,GN((d.Views||[])[0])),h&&(o["!merges"]||[]).length&&Ie(s,229,n5(o["!merges"])),h&&aE(s,o),Ie(s,442,Lg(_)),h&&rE(s,o),Ie(s,10),s.end()}function oE(e,r,t){var s=Qr(),l=(e||{}).Workbook||{},o=l.Sheets||[],d=l.WBProps||{},f=t.biff==8,m=t.biff==5;if(Ie(s,2057,ef(e,5,t)),t.bookType=="xla"&&Ie(s,135),Ie(s,225,f?wn(1200):null),Ie(s,193,FN(2)),m&&Ie(s,191),m&&Ie(s,192),Ie(s,226),Ie(s,92,$N("SheetJS",t)),Ie(s,66,wn(f?1200:1252)),f&&Ie(s,353,wn(0)),f&&Ie(s,448),Ie(s,317,c5(e.SheetNames.length)),f&&e.vbaraw&&Ie(s,211),f&&e.vbaraw){var h=d.CodeName||"ThisWorkbook";Ie(s,442,Lg(h))}Ie(s,156,wn(17)),Ie(s,25,Rr(!1)),Ie(s,18,Rr(!1)),Ie(s,19,wn(0)),f&&Ie(s,431,Rr(!1)),f&&Ie(s,444,wn(0)),Ie(s,61,VN()),Ie(s,64,Rr(!1)),Ie(s,141,wn(0)),Ie(s,34,Rr(hS(e)=="true")),Ie(s,14,Rr(!0)),f&&Ie(s,439,Rr(!1)),Ie(s,218,wn(0)),eE(s,e,t),tE(s,e.SSF,t),nE(s,t),f&&Ie(s,352,Rr(!1));var x=s.end(),g=Qr();f&&Ie(g,140,i5()),f&&t.Strings&&XS(g,252,HN(t.Strings)),Ie(g,10);var N=g.end(),y=Qr(),j=0,w=0;for(w=0;w<e.SheetNames.length;++w)j+=(f?12:11)+(f?2:1)*e.SheetNames[w].length;var b=x.length+j+N.length;for(w=0;w<e.SheetNames.length;++w){var T=o[w]||{};Ie(y,133,WN({pos:b,hs:T.Hidden||0,dt:0,name:e.SheetNames[w]},t)),b+=r[w].length}var _=y.end();if(j!=_.length)throw new Error("BS8 "+j+" != "+_.length);var k=[];return x.length&&k.push(x),_.length&&k.push(_),N.length&&k.push(N),yr(k)}function cE(e,r){var t=r||{},s=[];e&&!e.SSF&&(e.SSF=Zr(Gt)),e&&e.SSF&&(a0(),n0(e.SSF),t.revssf=s0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lf(t),t.cellXfs=[],ds(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var l=0;l<e.SheetNames.length;++l)s[s.length]=lE(l,t,e);return s.unshift(oE(e,s,t)),yr(s)}function u1(e,r){for(var t=0;t<=e.SheetNames.length;++t){var s=e.Sheets[e.SheetNames[t]];if(!(!s||!s["!ref"])){var l=dn(s["!ref"]);l.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return cE(e,r);case 4:case 3:case 2:return ZS(e,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function dE(e,r,t,s){for(var l=e["!merges"]||[],o=[],d=r.s.c;d<=r.e.c;++d){for(var f=0,m=0,h=0;h<l.length;++h)if(!(l[h].s.r>t||l[h].s.c>d)&&!(l[h].e.r<t||l[h].e.c<d)){if(l[h].s.r<t||l[h].s.c<d){f=-1;break}f=l[h].e.r-l[h].s.r+1,m=l[h].e.c-l[h].s.c+1;break}if(!(f<0)){var x=jt({r:t,c:d}),g=s.dense?(e[t]||[])[d]:e[x],N=g&&g.v!=null&&(g.h||U3(g.w||(ba(g),g.w)||""))||"",y={};f>1&&(y.rowspan=f),m>1&&(y.colspan=m),s.editable?N='<span contenteditable="true">'+N+"</span>":g&&(y["data-t"]=g&&g.t||"z",g.v!=null&&(y["data-v"]=g.v),g.z!=null&&(y["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(N='<a href="'+g.l.Target+'">'+N+"</a>")),y.id=(s.id||"sjs")+"-"+x,o.push(Me("td",N,y))}}var j="<tr>";return j+o.join("")+"</tr>"}var uE='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fE="</body></html>";function hE(e,r,t){var s=[];return s.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function f1(e,r){var t=r||{},s=t.header!=null?t.header:uE,l=t.footer!=null?t.footer:fE,o=[s],d=dn(e["!ref"]);t.dense=Array.isArray(e),o.push(hE(e,d,t));for(var f=d.s.r;f<=d.e.r;++f)o.push(dE(e,d,f,t));return o.push("</table>"+l),o.join("")}function h1(e,r,t){var s=t||{},l=0,o=0;if(s.origin!=null)if(typeof s.origin=="number")l=s.origin;else{var d=typeof s.origin=="string"?xr(s.origin):s.origin;l=d.r,o=d.c}var f=r.getElementsByTagName("tr"),m=Math.min(s.sheetRows||1e7,f.length),h={s:{r:0,c:0},e:{r:l,c:o}};if(e["!ref"]){var x=dn(e["!ref"]);h.s.r=Math.min(h.s.r,x.s.r),h.s.c=Math.min(h.s.c,x.s.c),h.e.r=Math.max(h.e.r,x.e.r),h.e.c=Math.max(h.e.c,x.e.c),l==-1&&(h.e.r=l=x.e.r+1)}var g=[],N=0,y=e["!rows"]||(e["!rows"]=[]),j=0,w=0,b=0,T=0,_=0,k=0;for(e["!cols"]||(e["!cols"]=[]);j<f.length&&w<m;++j){var A=f[j];if(rp(A)){if(s.display)continue;y[w]={hidden:!0}}var G=A.children;for(b=T=0;b<G.length;++b){var W=G[b];if(!(s.display&&rp(W))){var H=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):V3(W.innerHTML),ne=W.getAttribute("data-z")||W.getAttribute("z");for(N=0;N<g.length;++N){var Q=g[N];Q.s.c==T+o&&Q.s.r<w+l&&w+l<=Q.e.r&&(T=Q.e.c+1-o,N=-1)}k=+W.getAttribute("colspan")||1,((_=+W.getAttribute("rowspan")||1)>1||k>1)&&g.push({s:{r:w+l,c:T+o},e:{r:w+l+(_||1)-1,c:T+o+(k||1)-1}});var le={t:"s",v:H},ge=W.getAttribute("data-t")||W.getAttribute("t")||"";H!=null&&(H.length==0?le.t=ge||"z":s.raw||H.trim().length==0||ge=="s"||(H==="TRUE"?le={t:"b",v:!0}:H==="FALSE"?le={t:"b",v:!1}:isNaN(pa(H))?isNaN(Ul(H).getDate())||(le={t:"d",v:Br(H)},s.cellDates||(le={t:"n",v:Jr(le.v)}),le.z=s.dateNF||Gt[14]):le={t:"n",v:pa(H)})),le.z===void 0&&ne!=null&&(le.z=ne);var oe="",we=W.getElementsByTagName("A");if(we&&we.length)for(var $e=0;$e<we.length&&!(we[$e].hasAttribute("href")&&(oe=we[$e].getAttribute("href"),oe.charAt(0)!="#"));++$e);oe&&oe.charAt(0)!="#"&&(le.l={Target:oe}),s.dense?(e[w+l]||(e[w+l]=[]),e[w+l][T+o]=le):e[jt({c:T+o,r:w+l})]=le,h.e.c<T+o&&(h.e.c=T+o),T+=k}}++w}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+l),e["!ref"]=rr(h),w>=m&&(e["!fullref"]=rr((h.e.r=f.length-j+w-1+l,h))),e}function m1(e,r){var t=r||{},s=t.dense?[]:{};return h1(s,e,r)}function mE(e,r){return Bs(m1(e,r),r)}function rp(e){var r="",t=xE(e);return t&&(r=t(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function xE(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var pE=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+Wl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return nr+r}})(),np=(function(){var e=function(o){return Nt(o).replace(/  +/g,function(d){return'<text:s text:c="'+d.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,s=function(o,d,f){var m=[];m.push('      <table:table table:name="'+Nt(d.SheetNames[f])+`" table:style-name="ta1">
`);var h=0,x=0,g=dn(o["!ref"]||"A1"),N=o["!merges"]||[],y=0,j=Array.isArray(o);if(o["!cols"])for(x=0;x<=g.e.c;++x)m.push("        <table:table-column"+(o["!cols"][x]?' table:style-name="co'+o["!cols"][x].ods+'"':"")+`></table:table-column>
`);var w="",b=o["!rows"]||[];for(h=0;h<g.s.r;++h)w=b[h]?' table:style-name="ro'+b[h].ods+'"':"",m.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=b[h]?' table:style-name="ro'+b[h].ods+'"':"",m.push("        <table:table-row"+w+`>
`),x=0;x<g.s.c;++x)m.push(r);for(;x<=g.e.c;++x){var T=!1,_={},k="";for(y=0;y!=N.length;++y)if(!(N[y].s.c>x)&&!(N[y].s.r>h)&&!(N[y].e.c<x)&&!(N[y].e.r<h)){(N[y].s.c!=x||N[y].s.r!=h)&&(T=!0),_["table:number-columns-spanned"]=N[y].e.c-N[y].s.c+1,_["table:number-rows-spanned"]=N[y].e.r-N[y].s.r+1;break}if(T){m.push(t);continue}var A=jt({r:h,c:x}),G=j?(o[h]||[])[x]:o[A];if(G&&G.f&&(_["table:formula"]=Nt(I_(G.f)),G.F&&G.F.slice(0,A.length)==A)){var W=dn(G.F);_["table:number-matrix-columns-spanned"]=W.e.c-W.s.c+1,_["table:number-matrix-rows-spanned"]=W.e.r-W.s.r+1}if(!G){m.push(r);continue}switch(G.t){case"b":k=G.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=G.v?"true":"false";break;case"n":k=G.w||String(G.v||0),_["office:value-type"]="float",_["office:value"]=G.v||0;break;case"s":case"str":k=G.v==null?"":G.v,_["office:value-type"]="string";break;case"d":k=G.w||Br(G.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Br(G.v).toISOString(),_["table:style-name"]="ce1";break;default:m.push(r);continue}var H=e(k);if(G.l&&G.l.Target){var ne=G.l.Target;ne=ne.charAt(0)=="#"?"#"+R_(ne.slice(1)):ne,ne.charAt(0)!="#"&&!ne.match(/^\w+:/)&&(ne="../"+ne),H=Me("text:a",H,{"xlink:href":ne.replace(/&/g,"&amp;")})}m.push("          "+Me("table:table-cell",Me("text:p",H,{}),_)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},l=function(o,d){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var f=0;d.SheetNames.map(function(h){return d.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var x=0;x<h["!cols"].length;++x)if(h["!cols"][x]){var g=h["!cols"][x];if(g.width==null&&g.wpx==null&&g.wch==null)continue;tf(g),g.ods=f;var N=h["!cols"][x].wpx+"px";o.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+N+`"/>
`),o.push(`  </style:style>
`),++f}}});var m=0;d.SheetNames.map(function(h){return d.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var x=0;x<h["!rows"].length;++x)if(h["!rows"][x]){h["!rows"][x].ods=m;var g=h["!rows"][x].hpx+"px";o.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),o.push(`  </style:style>
`),++m}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(d,f){var m=[nr],h=Wl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),x=Wl({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(m.push("<office:document"+h+x+`>
`),m.push(Cg().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+h+`>
`),l(m,d),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var g=0;g!=d.SheetNames.length;++g)m.push(s(d.Sheets[d.SheetNames[g]],d,g));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),f.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}})();function x1(e,r){if(r.bookType=="fods")return np(e,r);var t=Hu(),s="",l=[],o=[];return s="mimetype",it(t,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",it(t,s,np(e,r)),l.push([s,"text/xml"]),o.push([s,"ContentFile"]),s="styles.xml",it(t,s,pE(e,r)),l.push([s,"text/xml"]),o.push([s,"StylesFile"]),s="meta.xml",it(t,s,nr+Cg()),l.push([s,"text/xml"]),o.push([s,"MetadataFile"]),s="manifest.rdf",it(t,s,TN(o)),l.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",it(t,s,SN(l)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function gE(e){return typeof TextEncoder!="undefined"?new TextEncoder().encode(e):Dn($l(e))}function vE(e,r){e:for(var t=0;t<=e.length-r.length;++t){for(var s=0;s<r.length;++s)if(e[t+s]!=r[s])continue e;return!0}return!1}function os(e){var r=e.reduce(function(l,o){return l+o.length},0),t=new Uint8Array(r),s=0;return e.forEach(function(l){t.set(l,s),s+=l.length}),t}function wE(e,r,t){var s=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,l=t/Math.pow(10,s-6176);e[r+15]|=s>>7,e[r+14]|=(s&127)<<1;for(var o=0;l>=1;++o,l/=256)e[r+o]=l&255;e[r+15]|=t>=0?0:128}function Hl(e,r){var t=r?r[0]:0,s=e[t]&127;e:if(e[t++]>=128&&(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,28),++t,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,35),++t,e[t++]<128)||(s+=(e[t]&127)*Math.pow(2,42),++t,e[t++]<128)))break e;return r&&(r[0]=t),s}function wt(e){var r=new Uint8Array(7);r[0]=e&127;var t=1;e:if(e>127){if(r[t-1]|=128,r[t]=e>>7&127,++t,e<=16383||(r[t-1]|=128,r[t]=e>>14&127,++t,e<=2097151)||(r[t-1]|=128,r[t]=e>>21&127,++t,e<=268435455)||(r[t-1]|=128,r[t]=e/256>>>21&127,++t,e<=34359738367)||(r[t-1]|=128,r[t]=e/65536>>>21&127,++t,e<=4398046511103))break e;r[t-1]|=128,r[t]=e/16777216>>>21&127,++t}return r.slice(0,t)}function Ti(e){var r=0,t=e[r]&127;e:if(e[r++]>=128){if(t|=(e[r]&127)<<7,e[r++]<128||(t|=(e[r]&127)<<14,e[r++]<128)||(t|=(e[r]&127)<<21,e[r++]<128))break e;t|=(e[r]&127)<<28}return t}function lr(e){for(var r=[],t=[0];t[0]<e.length;){var s=t[0],l=Hl(e,t),o=l&7;l=Math.floor(l/8);var d=0,f;if(l==0)break;switch(o){case 0:{for(var m=t[0];e[t[0]++]>=128;);f=e.slice(m,t[0])}break;case 5:d=4,f=e.slice(t[0],t[0]+d),t[0]+=d;break;case 1:d=8,f=e.slice(t[0],t[0]+d),t[0]+=d;break;case 2:d=Hl(e,t),f=e.slice(t[0],t[0]+d),t[0]+=d;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(l," at offset ").concat(s))}var h={data:f,type:o};r[l]==null?r[l]=[h]:r[l].push(h)}return r}function wr(e){var r=[];return e.forEach(function(t,s){t.forEach(function(l){l.data&&(r.push(wt(s*8+l.type)),l.type==2&&r.push(wt(l.data.length)),r.push(l.data))})}),os(r)}function An(e){for(var r,t=[],s=[0];s[0]<e.length;){var l=Hl(e,s),o=lr(e.slice(s[0],s[0]+l));s[0]+=l;var d={id:Ti(o[1][0].data),messages:[]};o[2].forEach(function(f){var m=lr(f.data),h=Ti(m[3][0].data);d.messages.push({meta:m,data:e.slice(s[0],s[0]+h)}),s[0]+=h}),(r=o[3])!=null&&r[0]&&(d.merge=Ti(o[3][0].data)>>>0>0),t.push(d)}return t}function wi(e){var r=[];return e.forEach(function(t){var s=[];s[1]=[{data:wt(t.id),type:0}],s[2]=[],t.merge!=null&&(s[3]=[{data:wt(+!!t.merge),type:0}]);var l=[];t.messages.forEach(function(d){l.push(d.data),d.meta[3]=[{type:0,data:wt(d.data.length)}],s[2].push({data:wr(d.meta),type:2})});var o=wr(s);r.push(wt(o.length)),r.push(o),l.forEach(function(d){return r.push(d)})}),os(r)}function bE(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],s=Hl(r,t),l=[];t[0]<r.length;){var o=r[t[0]]&3;if(o==0){var d=r[t[0]++]>>2;if(d<60)++d;else{var f=d-59;d=r[t[0]],f>1&&(d|=r[t[0]+1]<<8),f>2&&(d|=r[t[0]+2]<<16),f>3&&(d|=r[t[0]+3]<<24),d>>>=0,d++,t[0]+=f}l.push(r.slice(t[0],t[0]+d)),t[0]+=d;continue}else{var m=0,h=0;if(o==1?(h=(r[t[0]]>>2&7)+4,m=(r[t[0]++]&224)<<3,m|=r[t[0]++]):(h=(r[t[0]++]>>2)+1,o==2?(m=r[t[0]]|r[t[0]+1]<<8,t[0]+=2):(m=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0,t[0]+=4)),l=[os(l)],m==0)throw new Error("Invalid offset 0");if(m>l[0].length)throw new Error("Invalid offset beyond length");if(h>=m)for(l.push(l[0].slice(-m)),h-=m;h>=l[l.length-1].length;)l.push(l[l.length-1]),h-=l[l.length-1].length;l.push(l[0].slice(-m,-m+h))}}var x=os(l);if(x.length!=s)throw new Error("Unexpected length: ".concat(x.length," != ").concat(s));return x}function Pn(e){for(var r=[],t=0;t<e.length;){var s=e[t++],l=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3,r.push(bE(s,e.slice(t,t+l))),t+=l}if(t!==e.length)throw new Error("data is not a valid framed stream!");return os(r)}function bi(e){for(var r=[],t=0;t<e.length;){var s=Math.min(e.length-t,268435455),l=new Uint8Array(4);r.push(l);var o=wt(s),d=o.length;r.push(o),s<=60?(d++,r.push(new Uint8Array([s-1<<2]))):s<=256?(d+=2,r.push(new Uint8Array([240,s-1&255]))):s<=65536?(d+=3,r.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(d+=4,r.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(d+=5,r.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),r.push(e.slice(t,t+s)),d+=s,l[0]=0,l[1]=d&255,l[2]=d>>8&255,l[3]=d>>16&255,t+=s}return os(r)}function ou(e,r){var t=new Uint8Array(32),s=Kc(t),l=12,o=0;switch(t[0]=5,e.t){case"n":t[1]=2,wE(t,l,e.v),o|=1,l+=16;break;case"b":t[1]=6,s.setFloat64(l,e.v?1:0,!0),o|=2,l+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[1]=3,s.setUint32(l,r.indexOf(e.v),!0),o|=8,l+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,o,!0),t.slice(0,l)}function cu(e,r){var t=new Uint8Array(32),s=Kc(t),l=12,o=0;switch(t[0]=3,e.t){case"n":t[2]=2,s.setFloat64(l,e.v,!0),o|=32,l+=8;break;case"b":t[2]=6,s.setFloat64(l,e.v?1:0,!0),o|=32,l+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[2]=3,s.setUint32(l,r.indexOf(e.v),!0),o|=16,l+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,o,!0),t.slice(0,l)}function Ka(e){var r=lr(e);return Hl(r[1][0].data)}function yE(e,r,t){var s,l,o,d;if(!((s=e[6])!=null&&s[0])||!((l=e[7])!=null&&l[0]))throw"Mutation only works on post-BNC storages!";var f=((d=(o=e[8])==null?void 0:o[0])==null?void 0:d.data)&&Ti(e[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var m=0,h=Kc(e[7][0].data),x=0,g=[],N=Kc(e[4][0].data),y=0,j=[],w=0;w<r.length;++w){if(r[w]==null){h.setUint16(w*2,65535,!0),N.setUint16(w*2,65535);continue}h.setUint16(w*2,x,!0),N.setUint16(w*2,y,!0);var b,T;switch(typeof r[w]){case"string":b=ou({t:"s",v:r[w]},t),T=cu({t:"s",v:r[w]},t);break;case"number":b=ou({t:"n",v:r[w]},t),T=cu({t:"n",v:r[w]},t);break;case"boolean":b=ou({t:"b",v:r[w]},t),T=cu({t:"b",v:r[w]},t);break;default:throw new Error("Unsupported value "+r[w])}g.push(b),x+=b.length,j.push(T),y+=T.length,++m}for(e[2][0].data=wt(m);w<e[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),N.setUint16(w*2,65535,!0);return e[6][0].data=os(g),e[3][0].data=os(j),m}function NE(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=dn(t["!ref"]);s.s.r=s.s.c=0;var l=!1;s.e.c>9&&(l=!0,s.e.c=9),s.e.r>49&&(l=!0,s.e.r=49),l&&console.error("The Numbers writer is currently limited to ".concat(rr(s)));var o=qc(t,{range:s,header:1}),d=["~Sh33tJ5~"];o.forEach(function(I){return I.forEach(function(E){typeof E=="string"&&d.push(E)})});var f={},m=[],h=_t.read(r.numbers,{type:"base64"});h.FileIndex.map(function(I,E){return[I,h.FullPaths[E]]}).forEach(function(I){var E=I[0],F=I[1];if(E.type==2&&E.name.match(/\.iwa/)){var X=E.content,Z=Pn(X),q=An(Z);q.forEach(function(se){m.push(se.id),f[se.id]={deps:[],location:F,type:Ti(se.messages[0].meta[1][0].data)}})}}),m.sort(function(I,E){return I-E});var x=m.filter(function(I){return I>1}).map(function(I){return[I,wt(I)]});h.FileIndex.map(function(I,E){return[I,h.FullPaths[E]]}).forEach(function(I){var E=I[0];if(I[1],!!E.name.match(/\.iwa/)){var F=An(Pn(E.content));F.forEach(function(X){X.messages.forEach(function(Z){x.forEach(function(q){X.messages.some(function(se){return Ti(se.meta[1][0].data)!=11006&&vE(se.data,q[1])})&&f[q[0]].deps.push(X.id)})})})}});for(var g=_t.find(h,f[1].location),N=An(Pn(g.content)),y,j=0;j<N.length;++j){var w=N[j];w.id==1&&(y=w)}var b=Ka(lr(y.messages[0].data)[1][0].data);for(g=_t.find(h,f[b].location),N=An(Pn(g.content)),j=0;j<N.length;++j)w=N[j],w.id==b&&(y=w);for(b=Ka(lr(y.messages[0].data)[2][0].data),g=_t.find(h,f[b].location),N=An(Pn(g.content)),j=0;j<N.length;++j)w=N[j],w.id==b&&(y=w);for(b=Ka(lr(y.messages[0].data)[2][0].data),g=_t.find(h,f[b].location),N=An(Pn(g.content)),j=0;j<N.length;++j)w=N[j],w.id==b&&(y=w);var T=lr(y.messages[0].data);{T[6][0].data=wt(s.e.r+1),T[7][0].data=wt(s.e.c+1);var _=Ka(T[46][0].data),k=_t.find(h,f[_].location),A=An(Pn(k.content));{for(var G=0;G<A.length&&A[G].id!=_;++G);if(A[G].id!=_)throw"Bad ColumnRowUIDMapArchive";var W=lr(A[G].messages[0].data);W[1]=[],W[2]=[],W[3]=[];for(var H=0;H<=s.e.c;++H){var ne=[];ne[1]=ne[2]=[{type:0,data:wt(H+420690)}],W[1].push({type:2,data:wr(ne)}),W[2].push({type:0,data:wt(H)}),W[3].push({type:0,data:wt(H)})}W[4]=[],W[5]=[],W[6]=[];for(var Q=0;Q<=s.e.r;++Q)ne=[],ne[1]=ne[2]=[{type:0,data:wt(Q+726270)}],W[4].push({type:2,data:wr(ne)}),W[5].push({type:0,data:wt(Q)}),W[6].push({type:0,data:wt(Q)});A[G].messages[0].data=wr(W)}k.content=bi(wi(A)),k.size=k.content.length,delete T[46];var le=lr(T[4][0].data);{le[7][0].data=wt(s.e.r+1);var ge=lr(le[1][0].data),oe=Ka(ge[2][0].data);k=_t.find(h,f[oe].location),A=An(Pn(k.content));{if(A[0].id!=oe)throw"Bad HeaderStorageBucket";var we=lr(A[0].messages[0].data);for(Q=0;Q<o.length;++Q){var $e=lr(we[2][0].data);$e[1][0].data=wt(Q),$e[4][0].data=wt(o[Q].length),we[2][Q]={type:we[2][0].type,data:wr($e)}}A[0].messages[0].data=wr(we)}k.content=bi(wi(A)),k.size=k.content.length;var Re=Ka(le[2][0].data);k=_t.find(h,f[Re].location),A=An(Pn(k.content));{if(A[0].id!=Re)throw"Bad HeaderStorageBucket";for(we=lr(A[0].messages[0].data),H=0;H<=s.e.c;++H)$e=lr(we[2][0].data),$e[1][0].data=wt(H),$e[4][0].data=wt(s.e.r+1),we[2][H]={type:we[2][0].type,data:wr($e)};A[0].messages[0].data=wr(we)}k.content=bi(wi(A)),k.size=k.content.length;var qe=Ka(le[4][0].data);(function(){for(var I=_t.find(h,f[qe].location),E=An(Pn(I.content)),F,X=0;X<E.length;++X){var Z=E[X];Z.id==qe&&(F=Z)}var q=lr(F.messages[0].data);{q[3]=[];var se=[];d.forEach(function(re,je){se[1]=[{type:0,data:wt(je)}],se[2]=[{type:0,data:wt(1)}],se[3]=[{type:2,data:gE(re)}],q[3].push({type:2,data:wr(se)})})}F.messages[0].data=wr(q);var ce=wi(E),_e=bi(ce);I.content=_e,I.size=I.content.length})();var ke=lr(le[3][0].data);{var J=ke[1][0];delete ke[2];var ve=lr(J.data);{var te=Ka(ve[2][0].data);(function(){for(var I=_t.find(h,f[te].location),E=An(Pn(I.content)),F,X=0;X<E.length;++X){var Z=E[X];Z.id==te&&(F=Z)}var q=lr(F.messages[0].data);{delete q[6],delete ke[7];var se=new Uint8Array(q[5][0].data);q[5]=[];for(var ce=0,_e=0;_e<=s.e.r;++_e){var re=lr(se);ce+=yE(re,o[_e],d),re[1][0].data=wt(_e),q[5].push({data:wr(re),type:2})}q[1]=[{type:0,data:wt(s.e.c+1)}],q[2]=[{type:0,data:wt(s.e.r+1)}],q[3]=[{type:0,data:wt(ce)}],q[4]=[{type:0,data:wt(s.e.r+1)}]}F.messages[0].data=wr(q);var je=wi(E),Ce=bi(je);I.content=Ce,I.size=I.content.length})()}J.data=wr(ve)}le[3][0].data=wr(ke)}T[4][0].data=wr(le)}y.messages[0].data=wr(T);var V=wi(N),P=bi(V);return g.content=P,g.size=g.content.length,h}function jE(e){return function(t){for(var s=0;s!=e.length;++s){var l=e[s];t[l[0]]===void 0&&(t[l[0]]=l[1]),l[2]==="n"&&(t[l[0]]=Number(t[l[0]]))}}}function lf(e){jE([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function _E(e,r){return r.bookType=="ods"?x1(e,r):r.bookType=="numbers"?NE(e,r):r.bookType=="xlsb"?kE(e,r):SE(e,r)}function kE(e,r){Ni=1024,e&&!e.SSF&&(e.SSF=Zr(Gt)),e&&e.SSF&&(a0(),n0(e.SSF),r.revssf=s0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fl?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t=r.bookType=="xlsb"?"bin":"xml",s=Qg.indexOf(r.bookType)>-1,l=Sg();lf(r=r||{});var o=Hu(),d="",f=0;if(r.cellXfs=[],ds(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),d="docProps/core.xml",it(o,d,Ag(e.Props,r)),l.coreprops.push(d),yt(r.rels,2,d,mt.CORE_PROPS),d="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var m=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&m.push(e.SheetNames[h]);e.Props.SheetNames=m}for(e.Props.Worksheets=e.Props.SheetNames.length,it(o,d,Dg(e.Props)),l.extprops.push(d),yt(r.rels,3,d,mt.EXT_PROPS),e.Custprops!==e.Props&&_r(e.Custprops||{}).length>0&&(d="docProps/custom.xml",it(o,d,Fg(e.Custprops)),l.custprops.push(d),yt(r.rels,4,d,mt.CUST_PROPS)),f=1;f<=e.SheetNames.length;++f){var x={"!id":{}},g=e.Sheets[e.SheetNames[f-1]],N=(g||{})["!type"]||"sheet";switch(N){case"chart":default:d="xl/worksheets/sheet"+f+"."+t,it(o,d,TS(f-1,d,r,e,x)),l.sheets.push(d),yt(r.wbrels,-1,"worksheets/sheet"+f+"."+t,mt.WS[0])}if(g){var y=g["!comments"],j=!1,w="";y&&y.length>0&&(w="xl/comments"+f+"."+t,it(o,w,PS(y,w)),l.comments.push(w),yt(x,-1,"../comments"+f+"."+t,mt.CMNT),j=!0),g["!legacy"]&&j&&it(o,"xl/drawings/vmlDrawing"+f+".vml",Kg(f,g["!comments"])),delete g["!comments"],delete g["!legacy"]}x["!id"].rId1&&it(o,Tg(d),Si(x))}return r.Strings!=null&&r.Strings.length>0&&(d="xl/sharedStrings."+t,it(o,d,AS(r.Strings,d,r)),l.strs.push(d),yt(r.wbrels,-1,"sharedStrings."+t,mt.SST)),d="xl/workbook."+t,it(o,d,ES(e,d)),l.workbooks.push(d),yt(r.rels,1,d,mt.WB),d="xl/theme/theme1.xml",it(o,d,Yg(e.Themes,r)),l.themes.push(d),yt(r.wbrels,-1,"theme/theme1.xml",mt.THEME),d="xl/styles."+t,it(o,d,CS(e,d,r)),l.styles.push(d),yt(r.wbrels,-1,"styles."+t,mt.STY),e.vbaraw&&s&&(d="xl/vbaProject.bin",it(o,d,e.vbaraw),l.vba.push(d),yt(r.wbrels,-1,"vbaProject.bin",mt.VBA)),d="xl/metadata."+t,it(o,d,DS(d)),l.metadata.push(d),yt(r.wbrels,-1,"metadata."+t,mt.XLMETA),it(o,"[Content_Types].xml",Eg(l,r)),it(o,"_rels/.rels",Si(r.rels)),it(o,"xl/_rels/workbook."+t+".rels",Si(r.wbrels)),delete r.revssf,delete r.ssf,o}function SE(e,r){Ni=1024,e&&!e.SSF&&(e.SSF=Zr(Gt)),e&&e.SSF&&(a0(),n0(e.SSF),r.revssf=s0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fl?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t="xml",s=Qg.indexOf(r.bookType)>-1,l=Sg();lf(r=r||{});var o=Hu(),d="",f=0;if(r.cellXfs=[],ds(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),d="docProps/core.xml",it(o,d,Ag(e.Props,r)),l.coreprops.push(d),yt(r.rels,2,d,mt.CORE_PROPS),d="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var m=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&m.push(e.SheetNames[h]);e.Props.SheetNames=m}e.Props.Worksheets=e.Props.SheetNames.length,it(o,d,Dg(e.Props)),l.extprops.push(d),yt(r.rels,3,d,mt.EXT_PROPS),e.Custprops!==e.Props&&_r(e.Custprops||{}).length>0&&(d="docProps/custom.xml",it(o,d,Fg(e.Custprops)),l.custprops.push(d),yt(r.rels,4,d,mt.CUST_PROPS));var x=["SheetJ5"];for(r.tcid=0,f=1;f<=e.SheetNames.length;++f){var g={"!id":{}},N=e.Sheets[e.SheetNames[f-1]],y=(N||{})["!type"]||"sheet";switch(y){case"chart":default:d="xl/worksheets/sheet"+f+"."+t,it(o,d,i1(f-1,r,e,g)),l.sheets.push(d),yt(r.wbrels,-1,"worksheets/sheet"+f+"."+t,mt.WS[0])}if(N){var j=N["!comments"],w=!1,b="";if(j&&j.length>0){var T=!1;j.forEach(function(_){_[1].forEach(function(k){k.T==!0&&(T=!0)})}),T&&(b="xl/threadedComments/threadedComment"+f+"."+t,it(o,b,nj(j,x,r)),l.threadedcomments.push(b),yt(g,-1,"../threadedComments/threadedComment"+f+"."+t,mt.TCMNT)),b="xl/comments"+f+"."+t,it(o,b,qg(j)),l.comments.push(b),yt(g,-1,"../comments"+f+"."+t,mt.CMNT),w=!0}N["!legacy"]&&w&&it(o,"xl/drawings/vmlDrawing"+f+".vml",Kg(f,N["!comments"])),delete N["!comments"],delete N["!legacy"]}g["!id"].rId1&&it(o,Tg(d),Si(g))}return r.Strings!=null&&r.Strings.length>0&&(d="xl/sharedStrings."+t,it(o,d,Ug(r.Strings,r)),l.strs.push(d),yt(r.wbrels,-1,"sharedStrings."+t,mt.SST)),d="xl/workbook."+t,it(o,d,c1(e)),l.workbooks.push(d),yt(r.rels,1,d,mt.WB),d="xl/theme/theme1.xml",it(o,d,Yg(e.Themes,r)),l.themes.push(d),yt(r.wbrels,-1,"theme/theme1.xml",mt.THEME),d="xl/styles."+t,it(o,d,Vg(e,r)),l.styles.push(d),yt(r.wbrels,-1,"styles."+t,mt.STY),e.vbaraw&&s&&(d="xl/vbaProject.bin",it(o,d,e.vbaraw),l.vba.push(d),yt(r.wbrels,-1,"vbaProject.bin",mt.VBA)),d="xl/metadata."+t,it(o,d,Xg()),l.metadata.push(d),yt(r.wbrels,-1,"metadata."+t,mt.XLMETA),x.length>1&&(d="xl/persons/person.xml",it(o,d,aj(x)),l.people.push(d),yt(r.wbrels,-1,"persons/person.xml",mt.PEOPLE)),it(o,"[Content_Types].xml",Eg(l,r)),it(o,"_rels/.rels",Si(r.rels)),it(o,"xl/_rels/workbook."+t+".rels",Si(r.wbrels)),delete r.revssf,delete r.ssf,o}function EE(e,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=wa(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function p1(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return Kl(r.file,_t.write(e,{type:pt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return _t.write(e,r)}function TE(e,r){var t=Zr(r||{}),s=_E(e,t);return CE(s,t)}function CE(e,r){var t={},s=pt?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(r.compression&&(t.compression="DEFLATE"),r.password)t.type=s;else switch(r.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":t.type=s;break;default:throw new Error("Unrecognized type "+r.type)}var l=e.FullPaths?_t.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!r.compression}):e.generate(t);if(typeof Deno!="undefined"&&typeof l=="string"){if(r.type=="binary"||r.type=="base64")return l;l=new Uint8Array(r0(l))}return r.password&&typeof encrypt_agile!="undefined"?p1(encrypt_agile(l,r.password),r):r.type==="file"?Kl(r.file,l):r.type=="string"?Cl(l):l}function AE(e,r){var t=r||{},s=GS(e,t);return p1(s,t)}function Hn(e,r,t){t||(t="");var s=t+e;switch(r.type){case"base64":return zl($l(s));case"binary":return $l(s);case"string":return e;case"file":return Kl(r.file,s,"utf8");case"buffer":return pt?ja(s,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(s):Hn(s,{type:"binary"}).split("").map(function(l){return l.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function PE(e,r){switch(r.type){case"base64":return zl(e);case"binary":return e;case"string":return e;case"file":return Kl(r.file,e,"binary");case"buffer":return pt?ja(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function _c(e,r){switch(r.type){case"string":case"base64":case"binary":for(var t="",s=0;s<e.length;++s)t+=String.fromCharCode(e[s]);return r.type=="base64"?zl(t):r.type=="string"?Cl(t):t;case"file":return Kl(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function g1(e,r){s3(),pS(e);var t=Zr(r||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var s=g1(e,t);return t.type="array",r0(s)}var l=0;if(t.sheet&&(typeof t.sheet=="number"?l=t.sheet:l=e.SheetNames.indexOf(t.sheet),!e.SheetNames[l]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Hn(HS(e,t),t);case"slk":case"sylk":return Hn(h5.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"htm":case"html":return Hn(f1(e.Sheets[e.SheetNames[l]],t),t);case"txt":return PE(v1(e.Sheets[e.SheetNames[l]],t),t);case"csv":return Hn(of(e.Sheets[e.SheetNames[l]],t),t,"\uFEFF");case"dif":return Hn(m5.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"dbf":return _c(f5.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"prn":return Hn(x5.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"rtf":return Hn(N5.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"eth":return Hn(zg.from_sheet(e.Sheets[e.SheetNames[l]],t),t);case"fods":return Hn(x1(e,t),t);case"wk1":return _c(qx.sheet_to_wk1(e.Sheets[e.SheetNames[l]],t),t);case"wk3":return _c(qx.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),_c(u1(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),AE(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return TE(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function DE(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function FE(e,r,t){var s={};return s.type="file",s.file=r,DE(s),g1(e,s)}function OE(e,r,t,s,l,o,d,f){var m=jr(t),h=f.defval,x=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),g=!0,N=l===1?[]:{};if(l!==1)if(Object.defineProperty)try{Object.defineProperty(N,"__rowNum__",{value:t,enumerable:!1})}catch{N.__rowNum__=t}else N.__rowNum__=t;if(!d||e[t])for(var y=r.s.c;y<=r.e.c;++y){var j=d?e[t][y]:e[s[y]+m];if(j===void 0||j.t===void 0){if(h===void 0)continue;o[y]!=null&&(N[o[y]]=h);continue}var w=j.v;switch(j.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+j.t)}if(o[y]!=null){if(w==null)if(j.t=="e"&&w===null)N[o[y]]=null;else if(h!==void 0)N[o[y]]=h;else if(x&&w===null)N[o[y]]=null;else continue;else N[o[y]]=x&&(j.t!=="n"||j.t==="n"&&f.rawNumbers!==!1)?w:ba(j,w,f);w!=null&&(g=!1)}}return{row:N,isempty:g}}function qc(e,r){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},s=0,l=1,o=[],d=0,f="",m={s:{r:0,c:0},e:{r:0,c:0}},h=r||{},x=h.range!=null?h.range:e["!ref"];switch(h.header===1?s=1:h.header==="A"?s=2:Array.isArray(h.header)?s=3:h.header==null&&(s=0),typeof x){case"string":m=Mt(x);break;case"number":m=Mt(e["!ref"]),m.s.r=x;break;default:m=x}s>0&&(l=0);var g=jr(m.s.r),N=[],y=[],j=0,w=0,b=Array.isArray(e),T=m.s.r,_=0,k={};b&&!e[T]&&(e[T]=[]);var A=h.skipHidden&&e["!cols"]||[],G=h.skipHidden&&e["!rows"]||[];for(_=m.s.c;_<=m.e.c;++_)if(!(A[_]||{}).hidden)switch(N[_]=Pr(_),t=b?e[T][_]:e[N[_]+g],s){case 1:o[_]=_-m.s.c;break;case 2:o[_]=N[_];break;case 3:o[_]=h.header[_-m.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),f=d=ba(t,null,h),w=k[d]||0,!w)k[d]=1;else{do f=d+"_"+w++;while(k[f]);k[d]=w,k[f]=1}o[_]=f}for(T=m.s.r+l;T<=m.e.r;++T)if(!(G[T]||{}).hidden){var W=OE(e,m,T,N,s,o,b,h);(W.isempty===!1||(s===1?h.blankrows!==!1:h.blankrows))&&(y[j++]=W.row)}return y.length=j,y}var ap=/"/g;function ME(e,r,t,s,l,o,d,f){for(var m=!0,h=[],x="",g=jr(t),N=r.s.c;N<=r.e.c;++N)if(s[N]){var y=f.dense?(e[t]||[])[N]:e[s[N]+g];if(y==null)x="";else if(y.v!=null){m=!1,x=""+(f.rawNumbers&&y.t=="n"?y.v:ba(y,null,f));for(var j=0,w=0;j!==x.length;++j)if((w=x.charCodeAt(j))===l||w===o||w===34||f.forceQuotes){x='"'+x.replace(ap,'""')+'"';break}x=="ID"&&(x='"ID"')}else y.f!=null&&!y.F?(m=!1,x="="+y.f,x.indexOf(",")>=0&&(x='"'+x.replace(ap,'""')+'"')):x="";h.push(x)}return f.blankrows===!1&&m?null:h.join(d)}function of(e,r){var t=[],s=r==null?{}:r;if(e==null||e["!ref"]==null)return"";var l=Mt(e["!ref"]),o=s.FS!==void 0?s.FS:",",d=o.charCodeAt(0),f=s.RS!==void 0?s.RS:`
`,m=f.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),x="",g=[];s.dense=Array.isArray(e);for(var N=s.skipHidden&&e["!cols"]||[],y=s.skipHidden&&e["!rows"]||[],j=l.s.c;j<=l.e.c;++j)(N[j]||{}).hidden||(g[j]=Pr(j));for(var w=0,b=l.s.r;b<=l.e.r;++b)(y[b]||{}).hidden||(x=ME(e,l,b,g,d,m,o,s),x!=null&&(s.strip&&(x=x.replace(h,"")),(x||s.blankrows!==!1)&&t.push((w++?f:"")+x)));return delete s.dense,t.join("")}function v1(e,r){r||(r={}),r.FS="	",r.RS=`
`;var t=of(e,r);return t}function IE(e){var r="",t,s="";if(e==null||e["!ref"]==null)return[];var l=Mt(e["!ref"]),o="",d=[],f,m=[],h=Array.isArray(e);for(f=l.s.c;f<=l.e.c;++f)d[f]=Pr(f);for(var x=l.s.r;x<=l.e.r;++x)for(o=jr(x),f=l.s.c;f<=l.e.c;++f)if(r=d[f]+o,t=h?(e[x]||[])[f]:e[r],s="",t!==void 0){if(t.F!=null){if(r=t.F,!t.f)continue;s=t.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(t.f!=null)s=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)s=""+t.v;else if(t.t=="b")s=t.v?"TRUE":"FALSE";else if(t.w!==void 0)s="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?s="'"+t.v:s=""+t.v}}m[m.length]=r+"="+s}return m}function w1(e,r,t){var s=t||{},l=+!s.skipHeader,o=e||{},d=0,f=0;if(o&&s.origin!=null)if(typeof s.origin=="number")d=s.origin;else{var m=typeof s.origin=="string"?xr(s.origin):s.origin;d=m.r,f=m.c}var h,x={s:{c:0,r:0},e:{c:f,r:d+r.length-1+l}};if(o["!ref"]){var g=Mt(o["!ref"]);x.e.c=Math.max(x.e.c,g.e.c),x.e.r=Math.max(x.e.r,g.e.r),d==-1&&(d=g.e.r+1,x.e.r=d+r.length-1+l)}else d==-1&&(d=0,x.e.r=r.length-1+l);var N=s.header||[],y=0;r.forEach(function(w,b){_r(w).forEach(function(T){(y=N.indexOf(T))==-1&&(N[y=N.length]=T);var _=w[T],k="z",A="",G=jt({c:f+y,r:d+b+l});h=Vl(o,G),_&&typeof _=="object"&&!(_ instanceof Date)?o[G]=_:(typeof _=="number"?k="n":typeof _=="boolean"?k="b":typeof _=="string"?k="s":_ instanceof Date?(k="d",s.cellDates||(k="n",_=Jr(_)),A=s.dateNF||Gt[14]):_===null&&s.nullError&&(k="e",_=0),h?(h.t=k,h.v=_,delete h.w,delete h.R,A&&(h.z=A)):o[G]=h={t:k,v:_},A&&(h.z=A))})}),x.e.c=Math.max(x.e.c,f+N.length-1);var j=jr(d);if(l)for(y=0;y<N.length;++y)o[Pr(y+f)+j]={t:"s",v:N[y]};return o["!ref"]=rr(x),o}function RE(e,r){return w1(null,e,r)}function Vl(e,r,t){if(typeof r=="string"){if(Array.isArray(e)){var s=xr(r);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?Vl(e,jt(r)):Vl(e,jt({r,c:t||0}))}function LE(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=e.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function BE(){return{SheetNames:[],Sheets:{}}}function zE(e,r,t,s){var l=1;if(!t)for(;l<=65535&&e.SheetNames.indexOf(t="Sheet"+l)!=-1;++l,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);l=o&&+o[2]||0;var d=o&&o[1]||t;for(++l;l<=65535&&e.SheetNames.indexOf(t=d+l)!=-1;++l);}if(o1(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=r,t}function UE(e,r,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=LE(e,r);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[s].Hidden=t}function $E(e,r){return e.z=r,e}function b1(e,r,t){return r?(e.l={Target:r},t&&(e.l.Tooltip=t)):delete e.l,e}function WE(e,r,t){return b1(e,"#"+r,t)}function HE(e,r,t){e.c||(e.c=[]),e.c.push({t:r,a:t||"SheetJS"})}function VE(e,r,t,s){for(var l=typeof r!="string"?r:Mt(r),o=typeof r=="string"?r:rr(r),d=l.s.r;d<=l.e.r;++d)for(var f=l.s.c;f<=l.e.c;++f){var m=Vl(e,d,f);m.t="n",m.F=o,delete m.v,d==l.s.r&&f==l.s.c&&(m.f=t,s&&(m.D=!0))}return e}var du={encode_col:Pr,encode_row:jr,encode_cell:jt,encode_range:rr,decode_col:qu,decode_row:Ku,split_cell:sN,decode_cell:xr,decode_range:dn,format_cell:ba,sheet_add_aoa:bg,sheet_add_json:w1,sheet_add_dom:h1,aoa_to_sheet:Ri,json_to_sheet:RE,table_to_sheet:m1,table_to_book:mE,sheet_to_csv:of,sheet_to_txt:v1,sheet_to_json:qc,sheet_to_html:f1,sheet_to_formulae:IE,sheet_to_row_object_array:qc,sheet_get_cell:Vl,book_new:BE,book_append_sheet:zE,book_set_sheet_visibility:UE,cell_set_number_format:$E,cell_set_hyperlink:b1,cell_set_internal_link:WE,cell_add_comment:HE,sheet_set_array_formula:VE,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const GE=({isOpen:e,onClose:r,inventory:t=[],onSnapshotCreated:s,onInventoryReset:l})=>{const{user:o}=Jt(),{showSuccess:d,showError:f,showWarning:m}=zr(),[h,x]=D.useState({items:[]}),[g,N]=D.useState(!1),[y,j]=D.useState(!1);D.useEffect(()=>{if(e&&t.length>0){const k=t.map(A=>{const G=A.initialStock||0,W=A.entries||0,H=A.exits||0,ne=A.sales||0,Q=G+W-H-ne,le=A.stock||A.currentStock||A.quantity||0,ge=A.realStock||le;return{productId:A._id,productName:A.name||"Sin nombre",category:A.category||"Sin categoría",initialStock:G,entries:W,exits:H,sales:ne,expectedStock:Q,realStock:ge,difference:ge-Q}});x({items:k})}},[e,t]);const w=async()=>{try{console.log("🔄 Reiniciando inventario después del snapshot...");const k=h.items.map(A=>{const G=t.find(W=>W._id===A.productId);return G?{productId:A.productId,name:G.name,code:G.code,category:G.category,price:G.price,description:G.description,minStock:G.minStock,unit:G.unit,initialStock:A.realStock,entries:0,exits:0,sales:0,realStock:A.realStock,stock:A.realStock}:null}).filter(Boolean);console.log("📦 Datos para reiniciar inventario:",k);for(const A of k)await oa.updateInventoryItem(A.productId,{name:A.name,code:A.code,category:A.category,price:A.price,description:A.description,minStock:A.minStock,unit:A.unit,initialStock:A.initialStock,entries:A.entries,exits:A.exits,sales:A.sales,realStock:A.realStock,stock:A.stock});console.log("✅ Inventario reiniciado exitosamente")}catch(k){throw console.error("❌ Error al reiniciar inventario:",k),f("Error al reiniciar el inventario: "+k.message),k}},b=async()=>{try{if(j(!0),h.items.length===0){m("No hay productos para guardar en el snapshot");return}console.log("📸 Guardando snapshot de inventario:",h),(await Sc.createSnapshot(h)).success&&(console.log("✅ Snapshot guardado, ahora reiniciando inventario..."),await w(),d("Inventario guardado y reiniciado exitosamente"),s&&s(),l&&l(),r())}catch(k){console.error("❌ Error al guardar snapshot o reiniciar inventario:",k),f(k.message||"Error al guardar el snapshot de inventario")}finally{j(!1)}},T=k=>k>0?{icon:n.jsx(t0,{className:"w-4 h-4 text-green-400"}),text:`+${k}`,className:"text-green-400 bg-green-900/30"}:k<0?{icon:n.jsx(Kb,{className:"w-4 h-4 text-red-400"}),text:k.toString(),className:"text-red-400 bg-red-900/30"}:{icon:n.jsx(Ap,{className:"w-4 h-4 text-gray-400"}),text:"0",className:"text-gray-400 bg-gray-900/30"},_=h.items.reduce((k,A)=>k+A.difference,0);return e?n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
          }
          
          .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 3px;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.6), 0 0 12px rgba(59, 130, 246, 0.4);
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #f3f4f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.8), 0 0 16px rgba(59, 130, 246, 0.5);
          }
          
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #ffffff transparent;
          }
        `}),n.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",onClick:r,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}})]}),n.jsx("div",{className:"relative z-10 flex min-h-full items-center justify-center p-4",children:n.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 w-full max-w-6xl h-[90vh] flex flex-col",onClick:k=>k.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Zc,{className:"w-6 h-6 text-blue-400"}),n.jsxs("div",{children:[n.jsx(Je,{className:"text-xl font-semibold",children:"Guardar Inventario"}),n.jsx("p",{className:"text-sm text-gray-300",children:"Registra el estado actual del inventario"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-300",children:["Total diferencia:",n.jsxs("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${_>0?"text-green-300 bg-green-900/30":_<0?"text-red-300 bg-red-900/30":"text-gray-300 bg-gray-900/30"}`,children:[_>0?"+":"",_]})]}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:n.jsx(yn,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-white/5 sticky top-0 backdrop-blur-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Inicial"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Entradas"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Salidas"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Ventas"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock Sistema"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock Real"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Diferencia"})]})}),n.jsx("tbody",{className:"divide-y divide-white/10",children:h.items.map((k,A)=>{const G=T(k.difference);return n.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium text-white",children:k.productName}),n.jsx("div",{className:"text-xs text-gray-400 capitalize",children:k.category})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-gray-300",children:k.initialStock})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-green-400",children:k.entries})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-red-400",children:k.exits})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-orange-400",children:k.sales})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-purple-400",children:k.expectedStock})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"font-medium text-blue-400",children:k.realStock})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${G.className}`,children:[G.icon,G.text]})})]},k.productId)})})]})})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-white/10 bg-white/5 backdrop-blur-sm",children:[n.jsxs("div",{className:"text-sm text-gray-300",children:[h.items.length," productos • Registro del ",new Date().toLocaleDateString("es-ES")]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gt,{onClick:r,variant:"secondary",className:"px-4 py-2 text-gray-200",children:"Cancelar"}),n.jsx(gt,{onClick:b,disabled:y||h.items.length===0,className:"inline-flex items-center justify-center gap-2 px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:y?"Guardando...":"Guardar Inventario"})]})})]})]})]})})]}):null},YE=({isOpen:e,onClose:r})=>{const[t,s]=D.useState([]),[l,o]=D.useState(!1),[d,f]=D.useState({}),[m,h]=D.useState({}),{showSuccess:x,showError:g}=zr();D.useEffect(()=>{e&&N()},[e]);const N=async()=>{try{o(!0);const T=await Sc.getSnapshots({limit:50,page:1});s(T.data||[])}catch(T){console.error("Error al cargar inventarios guardados:",T),g("Error al cargar los inventarios guardados")}finally{o(!1)}},y=async T=>{try{f(W=>({...W,[T._id]:!0}));const _=await Sc.downloadSnapshot(T._id),k=window.URL.createObjectURL(_),A=document.createElement("a");A.href=k;const G=new Date(T.date).toLocaleDateString("es-ES").replace(/\//g,"-");A.download=`inventario-guardado-${G}.xlsx`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(k),x("Inventario descargado exitosamente")}catch(_){console.error("Error al descargar inventario:",_),g("Error al descargar el inventario")}finally{f(_=>({..._,[T._id]:!1}))}},j=async T=>{if(window.confirm("¿Estás seguro de que quieres eliminar este inventario guardado? Esta acción no se puede deshacer."))try{h(_=>({..._,[T._id]:!0})),await Sc.deleteSnapshot(T._id),s(_=>_.filter(k=>k._id!==T._id)),x("Inventario eliminado exitosamente")}catch(_){console.error("Error al eliminar inventario:",_),g("Error al eliminar el inventario")}finally{h(_=>({..._,[T._id]:!1}))}},w=T=>new Date(T).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=T=>T===0?{text:"0",color:"text-gray-600"}:T>0?{text:`+${T}`,color:"text-green-600"}:{text:T.toString(),color:"text-red-600"};return e?n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
          }
          
          .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 3px;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.6), 0 0 12px rgba(59, 130, 246, 0.4);
          }
          
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #f3f4f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.8), 0 0 16px rgba(59, 130, 246, 0.5);
          }
          
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #ffffff transparent;
          }
        `}),n.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",onClick:r,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}})]}),n.jsx("div",{className:"relative z-10 flex min-h-full items-center justify-center p-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-4xl max-h-[85vh] bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20 flex flex-col",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ac,{className:"h-8 w-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx(Je,{className:"text-lg font-medium",children:"Inventarios Guardados"}),n.jsx("p",{className:"text-sm text-gray-300",children:"Historial de inventarios registrados"})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(yn,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-hidden p-6 pt-2",children:[l&&n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),n.jsx("span",{className:"ml-2 text-gray-300",children:"Cargando inventarios..."})]}),!l&&t.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ac,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"No hay inventarios guardados"}),n.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Aún no se han registrado inventarios."})]}),!l&&t.length>0&&n.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(T=>{var G;const _=b(T.totalDifference),k=d[T._id],A=m[T._id];return n.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[n.jsx(Et,{className:"h-4 w-4 mr-1"}),w(T.date)]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[n.jsx(Ut,{className:"h-4 w-4 mr-1"}),((G=T.createdBy)==null?void 0:G.name)||"Usuario"]})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Ai,{className:"h-4 w-4 mr-1 text-blue-400"}),n.jsxs("span",{className:"text-white font-medium",children:[T.totalItems," productos"]})]}),n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("span",{className:"text-white font-medium mr-1",children:"Diferencia:"}),n.jsx("span",{className:`font-semibold ${_.color==="text-gray-600"?"text-gray-300":_.color==="text-green-600"?"text-green-300":"text-red-300"}`,children:_.text})]})]}),T.notes&&n.jsxs("p",{className:"text-sm text-gray-300 mt-2 italic",children:['"',T.notes,'"']})]}),n.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[n.jsx(gt,{onClick:()=>y(T),disabled:k,className:"inline-flex items-center justify-center px-3 py-2 text-sm leading-4 font-medium",children:k?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Descargando..."})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ou,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:"Descargar"})]})}),n.jsx("button",{onClick:()=>j(T),disabled:A,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Eliminar inventario",children:A?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-400"}):n.jsx(ss,{className:"h-4 w-4"})})]})]})},T._id)})})]}),n.jsx("div",{className:"flex justify-end p-6 border-t border-white/10",children:n.jsx(gt,{type:"button",onClick:r,variant:"secondary",className:"px-4 py-2 text-sm font-medium",children:"Cerrar"})})]})})]}):null},XE=()=>{const{user:e}=Jt(),{refreshTrigger:r,needsRefresh:t,markRefreshed:s}=Sp(),[l,o]=D.useState([]),[d,f]=D.useState(!0),[m,h]=D.useState(""),[x,g]=D.useState(""),[N,y]=D.useState(null),[j,w]=D.useState(""),[b,T]=D.useState(null),[_,k]=D.useState({name:"",code:"",category:"insumos",initialStock:"",entries:"",exits:"",minStock:"",realStock:"",price:"",description:""}),[A,G]=D.useState(null),[W,H]=D.useState(null),[ne,Q]=D.useState({type:"entry",quantity:"",reason:"",notes:""}),[le,ge]=D.useState({quantity:"1"}),[oe,we]=D.useState({realStock:"",entries:"",exits:"",notes:""}),[$e,Re]=D.useState(!1),[qe,ke]=D.useState(!1),J=["cannabicos","gorras","insumos","productos_pelo","lociones","ceras","geles","maquinas","accesorios","otros"];D.useEffect(()=>{ve()},[]),D.useEffect(()=>{console.log("🔄 InventoryAdmin: useEffect trigger -",{refreshTrigger:r,lastRefreshTime:N,needsRefresh:t(N)}),t(N)&&(console.log("🔄 InventoryAdmin: Detectada venta nueva, recargando..."),ve())},[r,N,t]),D.useEffect(()=>{console.log("🔄 InventoryAdmin: Componente montado, verificando si necesita recarga..."),t(N)&&(console.log("🔄 InventoryAdmin: Necesita recarga al montar, ejecutando..."),ve())},[]);const ve=async()=>{try{f(!0),console.log("🔄 InventoryAdmin: Cargando inventario...");const R=Date.now(),xe=await oa.getInventory({_t:R});let Y=[];xe&&xe.data&&Array.isArray(xe.data)?Y=xe.data:xe&&Array.isArray(xe.success)&&(Y=xe.success),o(Y),y(s()),console.log("✅ InventoryAdmin: Inventario cargado, productos:",Y.length)}catch(R){console.error("❌ InventoryAdmin: Error al cargar inventario:",R),h("Error al cargar el inventario"),o([])}finally{f(!1)}},te=async R=>{R.preventDefault();try{const xe={..._,initialStock:_.initialStock?parseInt(_.initialStock,10):0,entries:_.entries?parseInt(_.entries,10):0,exits:_.exits?parseInt(_.exits,10):0,stock:_.initialStock?parseInt(_.initialStock,10):0,minStock:_.minStock?parseInt(_.minStock,10):0,realStock:_.realStock?parseInt(_.realStock,10):void 0,price:_.price?parseFloat(_.price):0};A?(await oa.updateInventoryItem(A._id,xe),g("Producto actualizado exitosamente")):(await oa.createInventoryItem(xe),g("Producto creado exitosamente")),V(),T(null),ve(),setTimeout(()=>g(""),3e3)}catch(xe){console.error("Error al guardar producto:",xe),h(xe.message||"Error al guardar el producto"),setTimeout(()=>h(""),3e3)}},V=()=>{k({name:"",code:"",category:"insumos",initialStock:"",entries:"",exits:"",minStock:"",realStock:"",price:"",description:""}),G(null)},P=R=>{var xe,Y,be,ze,Ue,st;k({name:R.name,code:R.code||"",category:R.category,initialStock:((xe=R.initialStock)==null?void 0:xe.toString())||"",entries:((Y=R.entries)==null?void 0:Y.toString())||"",exits:((be=R.exits)==null?void 0:be.toString())||"",minStock:((ze=R.minStock)==null?void 0:ze.toString())||"",realStock:((Ue=R.realStock)==null?void 0:Ue.toString())||"",price:((st=R.price)==null?void 0:st.toString())||"",description:R.description||""}),G(R),T("form")},I=async R=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await oa.deleteInventoryItem(R),g("Producto eliminado exitosamente"),ve(),setTimeout(()=>g(""),3e3)}catch(xe){console.error("Error al eliminar producto:",xe),h("Error al eliminar el producto"),setTimeout(()=>h(""),3e3)}},E=()=>{V(),T("form")},F=R=>{H(R),Q({type:"entry",quantity:"",reason:"",notes:""}),T("movement")},X=R=>{H(R),ge({quantity:"1"}),T("sale")},Z=R=>{H(R),we({realStock:R.realStock||R.stock||"",entries:"",exits:"",notes:""}),T("count")},q=()=>{Re(!1),ve()},se=R=>{const xe=R.realStock||R.stock||R.currentStock||R.quantity||0,Y=R.minStock||0;return xe<=0?{status:"out",label:"Sin stock",color:"text-red-400",bgColor:"bg-red-500/10"}:xe<=Y?{status:"low",label:"Stock bajo",color:"text-yellow-400",bgColor:"bg-yellow-500/10"}:{status:"good",label:"Stock normal",color:"text-green-400",bgColor:"bg-green-500/10"}},ce=Array.isArray(l)?l.filter(R=>R.name.toLowerCase().includes(j.toLowerCase())||R.category.toLowerCase().includes(j.toLowerCase())):[],_e=async R=>{R.preventDefault();try{const xe=parseInt(ne.quantity),Y=W.stock||W.currentStock||W.quantity||0;let be,ze=W.entries||0,Ue=W.exits||0;ne.type==="entry"?(be=Y+xe,ze+=xe):(be=Math.max(0,Y-xe),Ue+=xe);const st={...W,stock:be,entries:ze,exits:Ue,quantity:be};await oa.updateInventoryItem(W._id,st),g(`Movimiento registrado exitosamente: ${ne.type==="entry"?"Entrada":"Salida"} de ${xe} unidades`),Q({type:"entry",quantity:"",reason:"",notes:""}),T(null),ve(),setTimeout(()=>g(""),3e3)}catch(xe){console.error("Error al registrar movimiento:",xe),h("Error al registrar el movimiento"),setTimeout(()=>h(""),3e3)}},re=async R=>{R.preventDefault();try{const xe=parseInt(le.quantity),Y=W.stock||W.currentStock||W.quantity||0;if(xe>Y){h("No hay suficiente stock para realizar esta venta"),setTimeout(()=>h(""),3e3);return}const be={productId:W._id,quantity:xe,barberId:e._id,customerName:`Venta directa - ${e.name}`,notes:`Venta registrada por ${e.name} desde inventario`};if(!(await fetch("/api/v1/sales",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(be)})).ok)throw new Error("Error al registrar la venta");const Ue=Y-xe,st=(W.exits||0)+xe,Ze=(W.sales||0)+xe,kt={...W,stock:Ue,exits:st,sales:Ze,quantity:Ue};await oa.updateInventoryItem(W._id,kt),g(`Venta registrada exitosamente: ${xe} unidades`),ge({quantity:"1"}),T(null),ve(),setTimeout(()=>g(""),3e3)}catch(xe){console.error("Error al registrar venta:",xe),h("Error al registrar la venta"),setTimeout(()=>h(""),3e3)}},je=async R=>{R.preventDefault();try{const xe=parseInt(oe.realStock)||0,Y=parseInt(oe.entries)||0,be=parseInt(oe.exits)||0,ze={...W,realStock:xe,entries:(W.entries||0)+Y,exits:(W.exits||0)+be,notes:oe.notes};await oa.updateInventoryItem(W._id,ze),g(`Conteo registrado exitosamente para ${W.name}`),we({realStock:"",entries:"",exits:"",notes:""}),T(null),ve(),setTimeout(()=>g(""),3e3)}catch(xe){console.error("Error al registrar conteo:",xe),h("Error al registrar el conteo"),setTimeout(()=>h(""),3e3)}},Ce=()=>{try{const R=ce.map(Ze=>({Código:Ze.code||"",Nombre:Ze.name||"",Categoría:Ze.category?Ze.category.replace("_"," ").toUpperCase():"","Stock Inicial":Ze.initialStock||0,Entradas:Ze.entries||0,Salidas:Ze.exits||0,"Stock Actual":Ze.stock||Ze.currentStock||Ze.quantity||0,"Stock Mínimo":Ze.minStock||0,Precio:Ze.price?`$${Ze.price.toLocaleString("es-CO")}`:"$0",Estado:(Ze.stock||Ze.currentStock||Ze.quantity||0)<=(Ze.minStock||0)?"Stock Bajo":"Normal",Descripción:Ze.description||""})),xe=du.json_to_sheet(R),Y=Ze=>Math.max(...Ze.map(kt=>(kt||"").toString().length)),be=Object.keys(R[0]||{}).map(Ze=>({wch:Math.min(Math.max(Y(R.map(kt=>kt[Ze])),Ze.length),50)}));xe["!cols"]=be;const ze=du.book_new();du.book_append_sheet(ze,xe,"Inventario");const Ue=new Date,st=`inventario_${Ue.getFullYear()}-${(Ue.getMonth()+1).toString().padStart(2,"0")}-${Ue.getDate().toString().padStart(2,"0")}.xlsx`;FE(ze,st),g(`Inventario exportado exitosamente: ${st}`),setTimeout(()=>g(""),3e3)}catch(R){console.error("Error al exportar inventario:",R),h("Error al exportar el inventario"),setTimeout(()=>h(""),3e3)}};return n.jsxs(n.Fragment,{children:[n.jsx(Ot,{children:n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6 space-y-8",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 rounded-xl border border-purple-500/20 shadow-xl shadow-blue-500/20",children:n.jsx(Zd,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-purple-400"})}),n.jsx(Je,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Gestión de Inventario"})]})}),m&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2 shadow-xl shadow-blue-500/20",children:[n.jsx(va,{className:"w-4 h-4"}),m]}),x&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2 shadow-xl shadow-blue-500/20",children:[n.jsx(ns,{className:"w-4 h-4"}),x]}),"        ",n.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:[n.jsxs("div",{className:"p-4 sm:p-6 border-b border-white/10 space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center sm:justify-start",children:[(e==null?void 0:e.role)==="admin"&&n.jsx(gt,{onClick:E,className:"text-sm px-6 py-3 w-full sm:w-auto min-w-[160px] shadow-xl shadow-blue-500/20",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(El,{className:"w-4 h-4"}),n.jsx("span",{children:"Nuevo Producto"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 w-full sm:w-auto",children:[(e==null?void 0:e.role)==="admin"&&n.jsxs("button",{onClick:Ce,className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30 rounded-lg transition-colors text-sm shadow-xl shadow-blue-500/20",disabled:ce.length===0,children:[n.jsx(Ou,{className:"w-4 h-4"}),n.jsx("span",{children:"Exportar Excel"})]}),(e==null?void 0:e.role)==="admin"&&n.jsxs("button",{onClick:()=>Re(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 border border-blue-500/30 rounded-lg transition-colors text-sm shadow-xl shadow-blue-500/20",disabled:ce.length===0,children:[n.jsx(Zc,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Guardar"}),n.jsx("span",{className:"sm:hidden",children:"Inventario"})]}),(e==null?void 0:e.role)==="admin"&&n.jsxs("button",{onClick:()=>ke(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 border border-purple-500/30 rounded-lg transition-colors text-sm shadow-xl shadow-blue-500/20",children:[n.jsx(Et,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Ver"}),n.jsx("span",{className:"sm:hidden",children:"Inventarios"})]})]})]}),n.jsx("div",{className:"flex justify-center sm:justify-end",children:n.jsxs("div",{className:"relative w-full sm:w-64",children:[n.jsx(Pp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Buscar productos...",value:j,onChange:R=>w(R.target.value),className:"glassmorphism-input pl-9 pr-4 w-full shadow-xl shadow-blue-500/20"})]})})]}),b==="form"&&(e==null?void 0:e.role)==="admin"&&n.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:n.jsx(Je,{className:"text-lg font-semibold",children:A?"Editar Producto":"Nuevo Producto"})}),n.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(kl,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:te,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre"}),n.jsx("input",{type:"text",value:_.name,onChange:R=>k({..._,name:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Código"}),n.jsx("input",{type:"text",value:_.code,onChange:R=>k({..._,code:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20",placeholder:"Ej: PRD001",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Categoría"}),n.jsx("select",{value:_.category,onChange:R=>k({..._,category:R.target.value}),className:"glassmorphism-select w-full shadow-xl shadow-blue-500/20",children:J.map(R=>n.jsx("option",{value:R,children:R.replace("_"," ").toUpperCase()},R))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Inicial"}),n.jsx("input",{type:"number",value:_.initialStock,onChange:R=>k({..._,initialStock:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Mínimo"}),n.jsx("input",{type:"number",value:_.minStock,onChange:R=>k({..._,minStock:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20",min:"0"})]}),(e==null?void 0:e.role)==="admin"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Stock Real (Conteo)"}),n.jsx("input",{type:"number",value:_.realStock||"",onChange:R=>k({..._,realStock:R.target.value}),className:"w-full px-3 py-2 bg-blue-500/10 border border-blue-500/30 rounded-lg text-blue-300 text-sm backdrop-blur-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400",min:"0",placeholder:"Stock físico contado"}),n.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:"Stock físico verificado por conteo manual"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Precio"}),n.jsx("input",{type:"number",step:"0.01",value:_.price,onChange:R=>k({..._,price:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20",min:"0"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Descripción"}),n.jsx("input",{type:"text",value:_.description,onChange:R=>k({..._,description:R.target.value}),className:"glassmorphism-input w-full shadow-xl shadow-blue-500/20"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex flex-col sm:flex-row gap-3 pt-4",children:[n.jsx(gt,{type:"submit",className:"text-sm px-6 py-3 w-full sm:w-auto shadow-xl shadow-blue-500/20",children:A?"Actualizar":"Crear"}),n.jsx("button",{type:"button",onClick:()=>{V(),T(null)},className:"px-6 py-3 w-full sm:w-auto bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm shadow-xl shadow-blue-500/20",children:"Cancelar"})]})]})]}),b==="movement"&&W&&(e==null?void 0:e.role)==="admin"&&n.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:n.jsxs(Je,{className:"text-lg font-semibold",children:["Movimiento - ",W.name]})}),n.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(kl,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:_e,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Tipo"}),n.jsxs("select",{value:ne.type,onChange:R=>Q({...ne,type:R.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",children:[n.jsx("option",{value:"entry",children:"Entrada"}),n.jsx("option",{value:"exit",children:"Salida"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Cantidad"}),n.jsx("input",{type:"number",value:ne.quantity,onChange:R=>Q({...ne,quantity:R.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"1",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Motivo"}),n.jsx("input",{type:"text",value:ne.reason,onChange:R=>Q({...ne,reason:R.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx(gt,{type:"submit",className:"text-sm px-4 py-2",children:"Registrar"}),n.jsx("button",{type:"button",onClick:()=>T(null),className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),b==="sale"&&W&&(e==null?void 0:e.role)==="admin"&&n.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:n.jsxs(Je,{className:"text-lg font-semibold",children:["Venta - ",W.name]})}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("span",{className:"text-3xl font-bold text-green-400",children:["$",W.price||0]}),n.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"por unidad"})]})]}),n.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white transition-colors lg:self-start",children:n.jsx(kl,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:re,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cantidad"}),n.jsx("input",{type:"number",value:le.quantity,onChange:R=>ge({...le,quantity:R.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center font-semibold",min:"1",max:W.stock||W.currentStock||W.quantity||0,required:!0}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-center",children:["Stock disponible: ",W.stock||W.currentStock||W.quantity||0]})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Total a Pagar"}),n.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-xl p-4 text-center",children:n.jsxs("span",{className:"text-4xl font-bold text-green-400",children:["$",((parseFloat(le.quantity)||0)*(parseFloat(W.price)||0)).toFixed(2)]})})]})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx(gt,{type:"submit",className:"flex-1 text-base py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Zd,{className:"w-5 h-5"}),n.jsx("span",{children:"Registrar Venta"})]})}),n.jsx("button",{type:"button",onClick:()=>T(null),className:"px-6 py-3 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-base backdrop-blur-sm",children:"Cancelar"})]})]})]}),b==="count"&&W&&n.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-yellow-500/20",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:n.jsxs(Je,{className:"text-lg font-semibold",children:["Conteo de Stock - ",W.name]})}),n.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[n.jsxs("div",{children:["Stock Esperado: ",n.jsx("span",{className:"text-purple-400 font-medium",children:W.initialStock+(W.entries||0)-(W.exits||0)-(W.sales||0)})]}),n.jsxs("div",{children:["Stock Actual: ",n.jsx("span",{className:"text-blue-400 font-medium",children:W.realStock||W.stock||0})]})]})]}),n.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white transition-colors lg:self-start",children:n.jsx(kl,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:je,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Contado"}),n.jsx("input",{type:"number",value:oe.realStock,onChange:R=>we({...oe,realStock:R.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center font-semibold",min:"0",placeholder:"Ingrese stock real",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entradas"}),n.jsx("input",{type:"number",value:oe.entries,onChange:R=>we({...oe,entries:R.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center",min:"0",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Salidas"}),n.jsx("input",{type:"number",value:oe.exits,onChange:R=>we({...oe,exits:R.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white text-lg backdrop-blur-sm text-center",min:"0",placeholder:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notas (Opcional)"}),n.jsx("textarea",{value:oe.notes,onChange:R=>we({...oe,notes:R.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white backdrop-blur-sm",rows:"3",placeholder:"Observaciones del conteo..."})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx(gt,{type:"submit",className:"flex-1 text-base py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Jd,{className:"w-5 h-5"}),n.jsx("span",{children:"Guardar Conteo"})]})}),n.jsx("button",{type:"button",onClick:()=>T(null),className:"px-6 py-3 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-base backdrop-blur-sm",children:"Cancelar"})]})]})]}),n.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-white/10 to-white/5 border-b border-white/20 backdrop-blur-sm shadow-xl shadow-blue-500/20",children:[n.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-2 text-xs font-semibold text-gray-200 uppercase tracking-wide",children:[n.jsx("div",{className:"col-span-2 text-purple-300",children:"Producto"}),n.jsx("div",{className:"col-span-1 text-center text-gray-300",children:"Inicial"}),n.jsx("div",{className:"col-span-1 text-center text-green-300",children:"Entradas"}),n.jsx("div",{className:"col-span-1 text-center text-red-300",children:"Salidas"}),n.jsx("div",{className:"col-span-1 text-center text-orange-300",children:"Ventas"}),n.jsx("div",{className:"col-span-1 text-center text-purple-300",children:"Esperado"}),n.jsx("div",{className:"col-span-1 text-center text-blue-300",children:"Real"}),n.jsx("div",{className:"col-span-1 text-center text-yellow-300",children:"Diferencia"}),n.jsx("div",{className:"col-span-1 text-center text-cyan-300",children:"Estado"}),n.jsx("div",{className:"col-span-2 text-center text-pink-300",children:"Acciones"})]}),n.jsx("div",{className:"block md:hidden text-center",children:n.jsx(Je,{className:"text-sm font-semibold",children:"Inventario de Productos"})})]}),d?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando..."})]}):ce.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Zd,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No hay productos en el inventario"})]}):n.jsx("div",{className:"divide-y divide-white/10",children:ce.map(R=>{var It,ar;const xe=se(R),Y=R.stock||R.currentStock||R.quantity||0,be=R.initialStock||0,ze=R.entries||0,Ue=R.exits||0,st=R.sales||0;R.minStock;const Ze=R.realStock||Y,kt=be+ze-Ue-st,ft=Ze-kt;return n.jsxs("div",{className:"px-4 py-4 md:py-3 hover:bg-white/5 transition-colors backdrop-blur-sm border-b border-white/5 group",children:[n.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-2 items-center",children:[n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(Je,{className:"font-semibold text-sm group-hover:text-purple-300 transition-colors",children:R.name}),n.jsx("p",{className:"text-xs text-gray-400 capitalize",children:(It=R.category)==null?void 0:It.replace("_"," ")})]})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-gray-600/20 text-gray-300 font-semibold text-sm rounded-md",children:be})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-green-600/20 text-green-400 font-semibold text-sm rounded-md",children:ze})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 font-semibold text-sm rounded-md",children:Ue})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-orange-600/20 text-orange-400 font-semibold text-sm rounded-md",children:st})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-400 font-semibold text-sm rounded-md",children:kt})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-400 font-semibold text-sm rounded-md",children:Ze})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsxs("span",{className:`px-2 py-1 font-semibold text-sm rounded-md ${ft>=0?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400"}`,children:[ft>0?"+":"",ft]})}),n.jsx("div",{className:"col-span-1 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xe.bgColor} ${xe.color}`,children:xe.status==="out"?"Sin":xe.status==="low"?"Bajo":"OK"})}),n.jsx("div",{className:"col-span-2 flex justify-center gap-1",children:(e==null?void 0:e.role)==="admin"?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>P(R),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-all duration-200 shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/30",title:"Editar",children:n.jsx(Nu,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>F(R),className:"p-2 bg-purple-600/20 text-purple-400 rounded-lg hover:bg-purple-600/30 transition-all duration-200 shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30",title:"Movimiento",children:n.jsx(lx,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>X(R),className:"p-2 bg-green-600/20 text-green-400 rounded-lg hover:bg-green-600/30 transition-all duration-200 shadow-lg shadow-green-500/20 hover:shadow-xl hover:shadow-green-500/30",title:"Venta",children:n.jsx(ji,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(R._id),className:"p-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-all duration-200 shadow-lg shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30",title:"Eliminar",children:n.jsx(ss,{className:"w-4 h-4"})})]}):n.jsx("button",{onClick:()=>Z(R),className:"p-2 bg-yellow-600/20 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition-all duration-200 shadow-lg shadow-yellow-500/20 hover:shadow-xl hover:shadow-yellow-500/30",title:"Conteo de Stock",children:n.jsx(Jd,{className:"w-4 h-4"})})})]}),n.jsxs("div",{className:"block md:hidden space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-white/10",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Je,{className:"font-semibold text-base group-hover:text-purple-300 transition-colors",children:R.name}),n.jsx("p",{className:"text-sm text-gray-400 capitalize mt-1",children:(ar=R.category)==null?void 0:ar.replace("_"," ")})]}),n.jsx("div",{className:"ml-4",children:n.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium ${xe.bgColor} ${xe.color}`,children:xe.status==="out"?"Sin Stock":xe.status==="low"?"Stock Bajo":"En Stock"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:"Inicial"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-gray-600/20 text-gray-300 font-semibold text-sm rounded-lg block text-center",children:be})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-green-400 uppercase tracking-wide",children:"Entradas"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-green-600/20 text-green-400 font-semibold text-sm rounded-lg block text-center",children:ze})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-red-400 uppercase tracking-wide",children:"Salidas"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-red-600/20 text-red-400 font-semibold text-sm rounded-lg block text-center",children:Ue})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-orange-400 uppercase tracking-wide",children:"Ventas"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-orange-600/20 text-orange-400 font-semibold text-sm rounded-lg block text-center",children:st})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-purple-400 uppercase tracking-wide",children:"Esperado"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-purple-600/20 text-purple-400 font-semibold text-sm rounded-lg block text-center",children:kt})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-blue-400 uppercase tracking-wide",children:"Real"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-3 py-2 bg-blue-600/20 text-blue-400 font-semibold text-sm rounded-lg block text-center",children:Ze})})]})]})]}),n.jsxs("div",{className:"pt-3 border-t border-white/10",children:[n.jsx("label",{className:"text-xs font-medium text-yellow-400 uppercase tracking-wide",children:"Diferencia"}),n.jsx("div",{className:"mt-2",children:n.jsxs("span",{className:`px-4 py-2 font-semibold text-sm rounded-lg block text-center ${ft>=0?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400"}`,children:[ft>0?"+":"",ft]})})]}),n.jsxs("div",{className:"pt-4 border-t border-white/10",children:[n.jsx("label",{className:"text-xs font-medium text-pink-400 uppercase tracking-wide mb-3 block",children:"Acciones"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:(e==null?void 0:e.role)==="admin"?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>P(R),className:"flex-1 min-w-0 px-4 py-3 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-all duration-200 shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/30 flex items-center justify-center gap-2",children:[n.jsx(Nu,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Editar"})]}),n.jsxs("button",{onClick:()=>F(R),className:"flex-1 min-w-0 px-4 py-3 bg-purple-600/20 text-purple-400 rounded-lg hover:bg-purple-600/30 transition-all duration-200 shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30 flex items-center justify-center gap-2",children:[n.jsx(lx,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Movimiento"})]}),n.jsxs("button",{onClick:()=>X(R),className:"flex-1 min-w-0 px-4 py-3 bg-green-600/20 text-green-400 rounded-lg hover:bg-green-600/30 transition-all duration-200 shadow-lg shadow-green-500/20 hover:shadow-xl hover:shadow-green-500/30 flex items-center justify-center gap-2",children:[n.jsx(ji,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Venta"})]}),n.jsxs("button",{onClick:()=>I(R._id),className:"flex-1 min-w-0 px-4 py-3 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-all duration-200 shadow-lg shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2",children:[n.jsx(ss,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Eliminar"})]})]}):n.jsxs("button",{onClick:()=>Z(R),className:"w-full px-4 py-3 bg-yellow-600/20 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition-all duration-200 shadow-lg shadow-yellow-500/20 hover:shadow-xl hover:shadow-yellow-500/30 flex items-center justify-center gap-2",children:[n.jsx(Jd,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Conteo de Stock"})]})})]})]})]},R._id)})})]})]})}),n.jsx(GE,{isOpen:$e,onClose:()=>Re(!1),inventory:l,onSnapshotCreated:q,onInventoryReset:ve}),n.jsx(YE,{isOpen:qe,onClose:()=>ke(!1)})]})};var rt=function(){return rt=Object.assign||function(r){for(var t,s=1,l=arguments.length;s<l;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},rt.apply(this,arguments)};function KE(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(t[s[l]]=e[s[l]]);return t}function y1(e,r,t){for(var s=0,l=r.length,o;s<l;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return e.concat(o||Array.prototype.slice.call(r))}function eo(e){return e.mode==="multiple"}function to(e){return e.mode==="range"}function d0(e){return e.mode==="single"}var qE={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function QE(e,r){return tr(e,"LLLL y",r)}function JE(e,r){return tr(e,"d",r)}function ZE(e,r){return tr(e,"LLLL",r)}function e6(e){return"".concat(e)}function t6(e,r){return tr(e,"cccccc",r)}function r6(e,r){return tr(e,"yyyy",r)}var n6=Object.freeze({__proto__:null,formatCaption:QE,formatDay:JE,formatMonthCaption:ZE,formatWeekNumber:e6,formatWeekdayName:t6,formatYearCaption:r6}),a6=function(e,r,t){return tr(e,"do MMMM (EEEE)",t)},s6=function(){return"Month: "},i6=function(){return"Go to next month"},l6=function(){return"Go to previous month"},o6=function(e,r){return tr(e,"cccc",r)},c6=function(e){return"Week n. ".concat(e)},d6=function(){return"Year: "},u6=Object.freeze({__proto__:null,labelDay:a6,labelMonthDropdown:s6,labelNext:i6,labelPrevious:l6,labelWeekNumber:c6,labelWeekday:o6,labelYearDropdown:d6});function f6(){var e="buttons",r=qE,t=Ip,s={},l={},o=1,d={},f=new Date;return{captionLayout:e,classNames:r,formatters:n6,labels:u6,locale:t,modifiersClassNames:s,modifiers:l,numberOfMonths:o,styles:d,today:f,mode:"default"}}function h6(e){var r=e.fromYear,t=e.toYear,s=e.fromMonth,l=e.toMonth,o=e.fromDate,d=e.toDate;return s?o=qr(s):r&&(o=new Date(r,0,1)),l?d=Ru(l):t&&(d=new Date(t,11,31)),{fromDate:o?Ms(o):void 0,toDate:d?Ms(d):void 0}}var N1=D.createContext(void 0);function m6(e){var r,t=e.initialProps,s=f6(),l=h6(t),o=l.fromDate,d=l.toDate,f=(r=t.captionLayout)!==null&&r!==void 0?r:s.captionLayout;f!=="buttons"&&(!o||!d)&&(f="buttons");var m;(d0(t)||eo(t)||to(t))&&(m=t.onSelect);var h=rt(rt(rt({},s),t),{captionLayout:f,classNames:rt(rt({},s.classNames),t.classNames),components:rt({},t.components),formatters:rt(rt({},s.formatters),t.formatters),fromDate:o,labels:rt(rt({},s.labels),t.labels),mode:t.mode||s.mode,modifiers:rt(rt({},s.modifiers),t.modifiers),modifiersClassNames:rt(rt({},s.modifiersClassNames),t.modifiersClassNames),onSelect:m,styles:rt(rt({},s.styles),t.styles),toDate:d});return n.jsx(N1.Provider,{value:h,children:e.children})}function At(){var e=D.useContext(N1);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function j1(e){var r=At(),t=r.locale,s=r.classNames,l=r.styles,o=r.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:l.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:t})})}function x6(e){return n.jsx("svg",rt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _1(e){var r,t,s=e.onChange,l=e.value,o=e.children,d=e.caption,f=e.className,m=e.style,h=At(),x=(t=(r=h.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&t!==void 0?t:x6;return n.jsxs("div",{className:f,style:m,children:[n.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:l,onChange:s,children:o}),n.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[d,n.jsx(x,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function p6(e){var r,t=At(),s=t.fromDate,l=t.toDate,o=t.styles,d=t.locale,f=t.formatters.formatMonthCaption,m=t.classNames,h=t.components,x=t.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!l)return n.jsx(n.Fragment,{});var g=[];if(g4(s,l))for(var N=qr(s),y=s.getMonth();y<=l.getMonth();y++)g.push(tu(N,y));else for(var N=qr(new Date),y=0;y<=11;y++)g.push(tu(N,y));var j=function(b){var T=Number(b.target.value),_=tu(qr(e.displayMonth),T);e.onChange(_)},w=(r=h==null?void 0:h.Dropdown)!==null&&r!==void 0?r:_1;return n.jsx(w,{name:"months","aria-label":x(),className:m.dropdown_month,style:o.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:f(e.displayMonth,{locale:d}),children:g.map(function(b){return n.jsx("option",{value:b.getMonth(),children:f(b,{locale:d})},b.getMonth())})})}function g6(e){var r,t=e.displayMonth,s=At(),l=s.fromDate,o=s.toDate,d=s.locale,f=s.styles,m=s.classNames,h=s.components,x=s.formatters.formatYearCaption,g=s.labels.labelYearDropdown,N=[];if(!l)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var y=l.getFullYear(),j=o.getFullYear(),w=y;w<=j;w++)N.push(fx(Fp(new Date),w));var b=function(_){var k=fx(qr(t),Number(_.target.value));e.onChange(k)},T=(r=h==null?void 0:h.Dropdown)!==null&&r!==void 0?r:_1;return n.jsx(T,{name:"years","aria-label":g(),className:m.dropdown_year,style:f.dropdown_year,onChange:b,value:t.getFullYear(),caption:x(t,{locale:d}),children:N.map(function(_){return n.jsx("option",{value:_.getFullYear(),children:x(_,{locale:d})},_.getFullYear())})})}function v6(e,r){var t=D.useState(e),s=t[0],l=t[1],o=r===void 0?s:r;return[o,l]}function w6(e){var r=e.month,t=e.defaultMonth,s=e.today,l=r||t||s||new Date,o=e.toDate,d=e.fromDate,f=e.numberOfMonths,m=f===void 0?1:f;if(o&&Ll(o,l)<0){var h=-1*(m-1);l=Mn(o,h)}return d&&Ll(l,d)<0&&(l=d),qr(l)}function b6(){var e=At(),r=w6(e),t=v6(r,e.month),s=t[0],l=t[1],o=function(d){var f;if(!e.disableNavigation){var m=qr(d);l(m),(f=e.onMonthChange)===null||f===void 0||f.call(e,m)}};return[s,o]}function y6(e,r){for(var t=r.reverseMonths,s=r.numberOfMonths,l=qr(e),o=qr(Mn(l,s)),d=Ll(o,l),f=[],m=0;m<d;m++){var h=Mn(l,m);f.push(h)}return t&&(f=f.reverse()),f}function N6(e,r){if(!r.disableNavigation){var t=r.toDate,s=r.pagedNavigation,l=r.numberOfMonths,o=l===void 0?1:l,d=s?o:1,f=qr(e);if(!t)return Mn(f,d);var m=Ll(t,e);if(!(m<o))return Mn(f,d)}}function j6(e,r){if(!r.disableNavigation){var t=r.fromDate,s=r.pagedNavigation,l=r.numberOfMonths,o=l===void 0?1:l,d=s?o:1,f=qr(e);if(!t)return Mn(f,-d);var m=Ll(f,t);if(!(m<=0))return Mn(f,-d)}}var k1=D.createContext(void 0);function _6(e){var r=At(),t=b6(),s=t[0],l=t[1],o=y6(s,r),d=N6(s,r),f=j6(s,r),m=function(g){return o.some(function(N){return zu(g,N)})},h=function(g,N){m(g)||(N&&Bu(g,N)?l(Mn(g,1+r.numberOfMonths*-1)):l(g))},x={currentMonth:s,displayMonths:o,goToMonth:l,goToDate:h,previousMonth:f,nextMonth:d,isDateDisplayed:m};return n.jsx(k1.Provider,{value:x,children:e.children})}function ro(){var e=D.useContext(k1);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function sp(e){var r,t=At(),s=t.classNames,l=t.styles,o=t.components,d=ro().goToMonth,f=function(x){d(Mn(x,e.displayIndex?-e.displayIndex:0))},m=(r=o==null?void 0:o.CaptionLabel)!==null&&r!==void 0?r:j1,h=n.jsx(m,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:l.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:h}),n.jsx(p6,{onChange:f,displayMonth:e.displayMonth}),n.jsx(g6,{onChange:f,displayMonth:e.displayMonth})]})}function k6(e){return n.jsx("svg",rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function S6(e){return n.jsx("svg",rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Qc=D.forwardRef(function(e,r){var t=At(),s=t.classNames,l=t.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var d=o.join(" "),f=rt(rt({},l.button_reset),l.button);return e.style&&Object.assign(f,e.style),n.jsx("button",rt({},e,{ref:r,type:"button",className:d,style:f}))});function E6(e){var r,t,s=At(),l=s.dir,o=s.locale,d=s.classNames,f=s.styles,m=s.labels,h=m.labelPrevious,x=m.labelNext,g=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var N=h(e.previousMonth,{locale:o}),y=[d.nav_button,d.nav_button_previous].join(" "),j=x(e.nextMonth,{locale:o}),w=[d.nav_button,d.nav_button_next].join(" "),b=(r=g==null?void 0:g.IconRight)!==null&&r!==void 0?r:S6,T=(t=g==null?void 0:g.IconLeft)!==null&&t!==void 0?t:k6;return n.jsxs("div",{className:d.nav,style:f.nav,children:[!e.hidePrevious&&n.jsx(Qc,{name:"previous-month","aria-label":N,className:y,style:f.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:l==="rtl"?n.jsx(b,{className:d.nav_icon,style:f.nav_icon}):n.jsx(T,{className:d.nav_icon,style:f.nav_icon})}),!e.hideNext&&n.jsx(Qc,{name:"next-month","aria-label":j,className:w,style:f.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:l==="rtl"?n.jsx(T,{className:d.nav_icon,style:f.nav_icon}):n.jsx(b,{className:d.nav_icon,style:f.nav_icon})})]})}function ip(e){var r=At().numberOfMonths,t=ro(),s=t.previousMonth,l=t.nextMonth,o=t.goToMonth,d=t.displayMonths,f=d.findIndex(function(j){return zu(e.displayMonth,j)}),m=f===0,h=f===d.length-1,x=r>1&&(m||!h),g=r>1&&(h||!m),N=function(){s&&o(s)},y=function(){l&&o(l)};return n.jsx(E6,{displayMonth:e.displayMonth,hideNext:x,hidePrevious:g,nextMonth:l,previousMonth:s,onPreviousClick:N,onNextClick:y})}function T6(e){var r,t=At(),s=t.classNames,l=t.disableNavigation,o=t.styles,d=t.captionLayout,f=t.components,m=(r=f==null?void 0:f.CaptionLabel)!==null&&r!==void 0?r:j1,h;return l?h=n.jsx(m,{id:e.id,displayMonth:e.displayMonth}):d==="dropdown"?h=n.jsx(sp,{displayMonth:e.displayMonth,id:e.id}):d==="dropdown-buttons"?h=n.jsxs(n.Fragment,{children:[n.jsx(sp,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(ip,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=n.jsxs(n.Fragment,{children:[n.jsx(m,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ip,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:o.caption,children:h})}function C6(e){var r=At(),t=r.footer,s=r.styles,l=r.classNames.tfoot;return t?n.jsx("tfoot",{className:l,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:t})})}):n.jsx(n.Fragment,{})}function A6(e,r,t){for(var s=t?Os(new Date):Kn(new Date,{locale:e,weekStartsOn:r}),l=[],o=0;o<7;o++){var d=Mr(s,o);l.push(d)}return l}function P6(){var e=At(),r=e.classNames,t=e.styles,s=e.showWeekNumber,l=e.locale,o=e.weekStartsOn,d=e.ISOWeek,f=e.formatters.formatWeekdayName,m=e.labels.labelWeekday,h=A6(l,o,d);return n.jsxs("tr",{style:t.head_row,className:r.head_row,children:[s&&n.jsx("td",{style:t.head_cell,className:r.head_cell}),h.map(function(x,g){return n.jsx("th",{scope:"col",className:r.head_cell,style:t.head_cell,"aria-label":m(x,{locale:l}),children:f(x,{locale:l})},g)})]})}function D6(){var e,r=At(),t=r.classNames,s=r.styles,l=r.components,o=(e=l==null?void 0:l.HeadRow)!==null&&e!==void 0?e:P6;return n.jsx("thead",{style:s.head,className:t.head,children:n.jsx(o,{})})}function F6(e){var r=At(),t=r.locale,s=r.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:t})})}var cf=D.createContext(void 0);function O6(e){if(!eo(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return n.jsx(cf.Provider,{value:r,children:e.children})}return n.jsx(M6,{initialProps:e.initialProps,children:e.children})}function M6(e){var r=e.initialProps,t=e.children,s=r.selected,l=r.min,o=r.max,d=function(h,x,g){var N,y;(N=r.onDayClick)===null||N===void 0||N.call(r,h,x,g);var j=!!(x.selected&&l&&(s==null?void 0:s.length)===l);if(!j){var w=!!(!x.selected&&o&&(s==null?void 0:s.length)===o);if(!w){var b=s?y1([],s):[];if(x.selected){var T=b.findIndex(function(_){return Lr(h,_)});b.splice(T,1)}else b.push(h);(y=r.onSelect)===null||y===void 0||y.call(r,b,h,x,g)}}},f={disabled:[]};s&&f.disabled.push(function(h){var x=o&&s.length>o-1,g=s.some(function(N){return Lr(N,h)});return!!(x&&!g)});var m={selected:s,onDayClick:d,modifiers:f};return n.jsx(cf.Provider,{value:m,children:t})}function df(){var e=D.useContext(cf);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function I6(e,r){var t=r||{},s=t.from,l=t.to;return s&&l?Lr(l,e)&&Lr(s,e)?void 0:Lr(l,e)?{from:l,to:void 0}:Lr(s,e)?void 0:Mc(s,e)?{from:e,to:l}:{from:s,to:e}:l?Mc(e,l)?{from:l,to:e}:{from:e,to:l}:s?Bu(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var uf=D.createContext(void 0);function R6(e){if(!to(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(uf.Provider,{value:r,children:e.children})}return n.jsx(L6,{initialProps:e.initialProps,children:e.children})}function L6(e){var r=e.initialProps,t=e.children,s=r.selected,l=s||{},o=l.from,d=l.to,f=r.min,m=r.max,h=function(y,j,w){var b,T;(b=r.onDayClick)===null||b===void 0||b.call(r,y,j,w);var _=I6(y,s);(T=r.onSelect)===null||T===void 0||T.call(r,_,y,j,w)},x={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(x.range_start=[o],d?(x.range_end=[d],Lr(o,d)||(x.range_middle=[{after:o,before:d}])):x.range_end=[o]):d&&(x.range_start=[d],x.range_end=[d]),f&&(o&&!d&&x.disabled.push({after:eu(o,f-1),before:Mr(o,f-1)}),o&&d&&x.disabled.push({after:o,before:Mr(o,f-1)}),!o&&d&&x.disabled.push({after:eu(d,f-1),before:Mr(d,f-1)})),m){if(o&&!d&&(x.disabled.push({before:Mr(o,-m+1)}),x.disabled.push({after:Mr(o,m-1)})),o&&d){var g=Xn(d,o)+1,N=m-g;x.disabled.push({before:eu(o,N)}),x.disabled.push({after:Mr(d,N)})}!o&&d&&(x.disabled.push({before:Mr(d,-m+1)}),x.disabled.push({after:Mr(d,m-1)}))}return n.jsx(uf.Provider,{value:{selected:s,onDayClick:h,modifiers:x},children:t})}function ff(){var e=D.useContext(uf);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ec(e){return Array.isArray(e)?y1([],e):e!==void 0?[e]:[]}function B6(e){var r={};return Object.entries(e).forEach(function(t){var s=t[0],l=t[1];r[s]=Ec(l)}),r}var In;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(In||(In={}));var z6=In.Selected,la=In.Disabled,U6=In.Hidden,$6=In.Today,uu=In.RangeEnd,fu=In.RangeMiddle,hu=In.RangeStart,W6=In.Outside;function H6(e,r,t){var s,l=(s={},s[z6]=Ec(e.selected),s[la]=Ec(e.disabled),s[U6]=Ec(e.hidden),s[$6]=[e.today],s[uu]=[],s[fu]=[],s[hu]=[],s[W6]=[],s);return e.fromDate&&l[la].push({before:e.fromDate}),e.toDate&&l[la].push({after:e.toDate}),eo(e)?l[la]=l[la].concat(r.modifiers[la]):to(e)&&(l[la]=l[la].concat(t.modifiers[la]),l[hu]=t.modifiers[hu],l[fu]=t.modifiers[fu],l[uu]=t.modifiers[uu]),l}var S1=D.createContext(void 0);function V6(e){var r=At(),t=df(),s=ff(),l=H6(r,t,s),o=B6(r.modifiers),d=rt(rt({},l),o);return n.jsx(S1.Provider,{value:d,children:e.children})}function E1(){var e=D.useContext(S1);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function G6(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Y6(e){return!!(e&&typeof e=="object"&&"from"in e)}function X6(e){return!!(e&&typeof e=="object"&&"after"in e)}function K6(e){return!!(e&&typeof e=="object"&&"before"in e)}function q6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Q6(e,r){var t,s=r.from,l=r.to;if(s&&l){var o=Xn(l,s)<0;o&&(t=[l,s],s=t[0],l=t[1]);var d=Xn(e,s)>=0&&Xn(l,e)>=0;return d}return l?Lr(l,e):s?Lr(s,e):!1}function J6(e){return Iu(e)}function Z6(e){return Array.isArray(e)&&e.every(Iu)}function eT(e,r){return r.some(function(t){if(typeof t=="boolean")return t;if(J6(t))return Lr(e,t);if(Z6(t))return t.includes(e);if(Y6(t))return Q6(e,t);if(q6(t))return t.dayOfWeek.includes(e.getDay());if(G6(t)){var s=Xn(t.before,e),l=Xn(t.after,e),o=s>0,d=l<0,f=Mc(t.before,t.after);return f?d&&o:o||d}return X6(t)?Xn(e,t.after)>0:K6(t)?Xn(t.before,e)>0:typeof t=="function"?t(e):!1})}function hf(e,r,t){var s=Object.keys(r).reduce(function(o,d){var f=r[d];return eT(e,f)&&o.push(d),o},[]),l={};return s.forEach(function(o){return l[o]=!0}),t&&!zu(e,t)&&(l.outside=!0),l}function tT(e,r){for(var t=qr(e[0]),s=Ru(e[e.length-1]),l,o,d=t;d<=s;){var f=hf(d,r),m=!f.disabled&&!f.hidden;if(!m){d=Mr(d,1);continue}if(f.selected)return d;f.today&&!o&&(o=d),l||(l=d),d=Mr(d,1)}return o||l}var rT=365;function T1(e,r){var t=r.moveBy,s=r.direction,l=r.context,o=r.modifiers,d=r.retry,f=d===void 0?{count:0,lastFocused:e}:d,m=l.weekStartsOn,h=l.fromDate,x=l.toDate,g=l.locale,N={day:Mr,week:ju,month:Mn,year:my,startOfWeek:function(b){return l.ISOWeek?Os(b):Kn(b,{locale:g,weekStartsOn:m})},endOfWeek:function(b){return l.ISOWeek?Op(b):Lu(b,{locale:g,weekStartsOn:m})}},y=N[t](e,s==="after"?1:-1);s==="before"&&h?y=xy([h,y]):s==="after"&&x&&(y=py([x,y]));var j=!0;if(o){var w=hf(y,o);j=!w.disabled&&!w.hidden}return j?y:f.count>rT?f.lastFocused:T1(y,{moveBy:t,direction:s,context:l,modifiers:o,retry:rt(rt({},f),{count:f.count+1})})}var C1=D.createContext(void 0);function nT(e){var r=ro(),t=E1(),s=D.useState(),l=s[0],o=s[1],d=D.useState(),f=d[0],m=d[1],h=tT(r.displayMonths,t),x=(l!=null?l:f&&r.isDateDisplayed(f))?f:h,g=function(){m(l),o(void 0)},N=function(b){o(b)},y=At(),j=function(b,T){if(l){var _=T1(l,{moveBy:b,direction:T,context:y,modifiers:t});Lr(l,_)||(r.goToDate(_,l),N(_))}},w={focusedDay:l,focusTarget:x,blur:g,focus:N,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return n.jsx(C1.Provider,{value:w,children:e.children})}function mf(){var e=D.useContext(C1);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function aT(e,r){var t=E1(),s=hf(e,t,r);return s}var xf=D.createContext(void 0);function sT(e){if(!d0(e.initialProps)){var r={selected:void 0};return n.jsx(xf.Provider,{value:r,children:e.children})}return n.jsx(iT,{initialProps:e.initialProps,children:e.children})}function iT(e){var r=e.initialProps,t=e.children,s=function(o,d,f){var m,h,x;if((m=r.onDayClick)===null||m===void 0||m.call(r,o,d,f),d.selected&&!r.required){(h=r.onSelect)===null||h===void 0||h.call(r,void 0,o,d,f);return}(x=r.onSelect)===null||x===void 0||x.call(r,o,o,d,f)},l={selected:r.selected,onDayClick:s};return n.jsx(xf.Provider,{value:l,children:t})}function A1(){var e=D.useContext(xf);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function lT(e,r){var t=At(),s=A1(),l=df(),o=ff(),d=mf(),f=d.focusDayAfter,m=d.focusDayBefore,h=d.focusWeekAfter,x=d.focusWeekBefore,g=d.blur,N=d.focus,y=d.focusMonthBefore,j=d.focusMonthAfter,w=d.focusYearBefore,b=d.focusYearAfter,T=d.focusStartOfWeek,_=d.focusEndOfWeek,k=function(ke){var J,ve,te,V;d0(t)?(J=s.onDayClick)===null||J===void 0||J.call(s,e,r,ke):eo(t)?(ve=l.onDayClick)===null||ve===void 0||ve.call(l,e,r,ke):to(t)?(te=o.onDayClick)===null||te===void 0||te.call(o,e,r,ke):(V=t.onDayClick)===null||V===void 0||V.call(t,e,r,ke)},A=function(ke){var J;N(e),(J=t.onDayFocus)===null||J===void 0||J.call(t,e,r,ke)},G=function(ke){var J;g(),(J=t.onDayBlur)===null||J===void 0||J.call(t,e,r,ke)},W=function(ke){var J;(J=t.onDayMouseEnter)===null||J===void 0||J.call(t,e,r,ke)},H=function(ke){var J;(J=t.onDayMouseLeave)===null||J===void 0||J.call(t,e,r,ke)},ne=function(ke){var J;(J=t.onDayPointerEnter)===null||J===void 0||J.call(t,e,r,ke)},Q=function(ke){var J;(J=t.onDayPointerLeave)===null||J===void 0||J.call(t,e,r,ke)},le=function(ke){var J;(J=t.onDayTouchCancel)===null||J===void 0||J.call(t,e,r,ke)},ge=function(ke){var J;(J=t.onDayTouchEnd)===null||J===void 0||J.call(t,e,r,ke)},oe=function(ke){var J;(J=t.onDayTouchMove)===null||J===void 0||J.call(t,e,r,ke)},we=function(ke){var J;(J=t.onDayTouchStart)===null||J===void 0||J.call(t,e,r,ke)},$e=function(ke){var J;(J=t.onDayKeyUp)===null||J===void 0||J.call(t,e,r,ke)},Re=function(ke){var J;switch(ke.key){case"ArrowLeft":ke.preventDefault(),ke.stopPropagation(),t.dir==="rtl"?f():m();break;case"ArrowRight":ke.preventDefault(),ke.stopPropagation(),t.dir==="rtl"?m():f();break;case"ArrowDown":ke.preventDefault(),ke.stopPropagation(),h();break;case"ArrowUp":ke.preventDefault(),ke.stopPropagation(),x();break;case"PageUp":ke.preventDefault(),ke.stopPropagation(),ke.shiftKey?w():y();break;case"PageDown":ke.preventDefault(),ke.stopPropagation(),ke.shiftKey?b():j();break;case"Home":ke.preventDefault(),ke.stopPropagation(),T();break;case"End":ke.preventDefault(),ke.stopPropagation(),_();break}(J=t.onDayKeyDown)===null||J===void 0||J.call(t,e,r,ke)},qe={onClick:k,onFocus:A,onBlur:G,onKeyDown:Re,onKeyUp:$e,onMouseEnter:W,onMouseLeave:H,onPointerEnter:ne,onPointerLeave:Q,onTouchCancel:le,onTouchEnd:ge,onTouchMove:oe,onTouchStart:we};return qe}function oT(){var e=At(),r=A1(),t=df(),s=ff(),l=d0(e)?r.selected:eo(e)?t.selected:to(e)?s.selected:void 0;return l}function cT(e){return Object.values(In).includes(e)}function dT(e,r){var t=[e.classNames.day];return Object.keys(r).forEach(function(s){var l=e.modifiersClassNames[s];if(l)t.push(l);else if(cT(s)){var o=e.classNames["day_".concat(s)];o&&t.push(o)}}),t}function uT(e,r){var t=rt({},e.styles.day);return Object.keys(r).forEach(function(s){var l;t=rt(rt({},t),(l=e.modifiersStyles)===null||l===void 0?void 0:l[s])}),t}function fT(e,r,t){var s,l,o,d=At(),f=mf(),m=aT(e,r),h=lT(e,m),x=oT(),g=!!(d.onDayClick||d.mode!=="default");D.useEffect(function(){var W;m.outside||f.focusedDay&&g&&Lr(f.focusedDay,e)&&((W=t.current)===null||W===void 0||W.focus())},[f.focusedDay,e,t,g,m.outside]);var N=dT(d,m).join(" "),y=uT(d,m),j=!!(m.outside&&!d.showOutsideDays||m.hidden),w=(o=(l=d.components)===null||l===void 0?void 0:l.DayContent)!==null&&o!==void 0?o:F6,b=n.jsx(w,{date:e,displayMonth:r,activeModifiers:m}),T={style:y,className:N,children:b,role:"gridcell"},_=f.focusTarget&&Lr(f.focusTarget,e)&&!m.outside,k=f.focusedDay&&Lr(f.focusedDay,e),A=rt(rt(rt({},T),(s={disabled:m.disabled,role:"gridcell"},s["aria-selected"]=m.selected,s.tabIndex=k||_?0:-1,s)),h),G={isButton:g,isHidden:j,activeModifiers:m,selectedDays:x,buttonProps:A,divProps:T};return G}function hT(e){var r=D.useRef(null),t=fT(e.date,e.displayMonth,r);return t.isHidden?n.jsx("div",{role:"gridcell"}):t.isButton?n.jsx(Qc,rt({name:"day",ref:r},t.buttonProps)):n.jsx("div",rt({},t.divProps))}function mT(e){var r=e.number,t=e.dates,s=At(),l=s.onWeekNumberClick,o=s.styles,d=s.classNames,f=s.locale,m=s.labels.labelWeekNumber,h=s.formatters.formatWeekNumber,x=h(Number(r),{locale:f});if(!l)return n.jsx("span",{className:d.weeknumber,style:o.weeknumber,children:x});var g=m(Number(r),{locale:f}),N=function(y){l(r,t,y)};return n.jsx(Qc,{name:"week-number","aria-label":g,className:d.weeknumber,style:o.weeknumber,onClick:N,children:x})}function xT(e){var r,t,s=At(),l=s.styles,o=s.classNames,d=s.showWeekNumber,f=s.components,m=(r=f==null?void 0:f.Day)!==null&&r!==void 0?r:hT,h=(t=f==null?void 0:f.WeekNumber)!==null&&t!==void 0?t:mT,x;return d&&(x=n.jsx("td",{className:o.cell,style:l.cell,children:n.jsx(h,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:l.row,children:[x,e.dates.map(function(g){return n.jsx("td",{className:o.cell,style:l.cell,role:"presentation",children:n.jsx(m,{displayMonth:e.displayMonth,date:g})},m4(g))})]})}function lp(e,r,t){for(var s=t!=null&&t.ISOWeek?Op(r):Lu(r,t),l=t!=null&&t.ISOWeek?Os(e):Kn(e,t),o=Xn(s,l),d=[],f=0;f<=o;f++)d.push(Mr(l,f));var m=d.reduce(function(h,x){var g=t!=null&&t.ISOWeek?Rp(x):Bp(x,t),N=h.find(function(y){return y.weekNumber===g});return N?(N.dates.push(x),h):(h.push({weekNumber:g,dates:[x]}),h)},[]);return m}function pT(e,r){var t=lp(qr(e),Ru(e),r);if(r!=null&&r.useFixedWeeks){var s=p4(e,r);if(s<6){var l=t[t.length-1],o=l.dates[l.dates.length-1],d=ju(o,6-s),f=lp(ju(o,1),d,r);t.push.apply(t,f)}}return t}function gT(e){var r,t,s,l=At(),o=l.locale,d=l.classNames,f=l.styles,m=l.hideHead,h=l.fixedWeeks,x=l.components,g=l.weekStartsOn,N=l.firstWeekContainsDate,y=l.ISOWeek,j=pT(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:o,weekStartsOn:g,firstWeekContainsDate:N}),w=(r=x==null?void 0:x.Head)!==null&&r!==void 0?r:D6,b=(t=x==null?void 0:x.Row)!==null&&t!==void 0?t:xT,T=(s=x==null?void 0:x.Footer)!==null&&s!==void 0?s:C6;return n.jsxs("table",{id:e.id,className:d.table,style:f.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!m&&n.jsx(w,{}),n.jsx("tbody",{className:d.tbody,style:f.tbody,children:j.map(function(_){return n.jsx(b,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),n.jsx(T,{displayMonth:e.displayMonth})]})}function vT(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var wT=vT()?D.useLayoutEffect:D.useEffect,mu=!1,bT=0;function op(){return"react-day-picker-".concat(++bT)}function yT(e){var r,t=e!=null?e:mu?op():null,s=D.useState(t),l=s[0],o=s[1];return wT(function(){l===null&&o(op())},[]),D.useEffect(function(){mu===!1&&(mu=!0)},[]),(r=e!=null?e:l)!==null&&r!==void 0?r:void 0}function NT(e){var r,t,s=At(),l=s.dir,o=s.classNames,d=s.styles,f=s.components,m=ro().displayMonths,h=yT(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),x=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,g=[o.month],N=d.month,y=e.displayIndex===0,j=e.displayIndex===m.length-1,w=!y&&!j;l==="rtl"&&(r=[y,j],j=r[0],y=r[1]),y&&(g.push(o.caption_start),N=rt(rt({},N),d.caption_start)),j&&(g.push(o.caption_end),N=rt(rt({},N),d.caption_end)),w&&(g.push(o.caption_between),N=rt(rt({},N),d.caption_between));var b=(t=f==null?void 0:f.Caption)!==null&&t!==void 0?t:T6;return n.jsxs("div",{className:g.join(" "),style:N,children:[n.jsx(b,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(gT,{id:x,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function jT(e){var r=At(),t=r.classNames,s=r.styles;return n.jsx("div",{className:t.months,style:s.months,children:e.children})}function _T(e){var r,t,s=e.initialProps,l=At(),o=mf(),d=ro(),f=D.useState(!1),m=f[0],h=f[1];D.useEffect(function(){l.initialFocus&&o.focusTarget&&(m||(o.focus(o.focusTarget),h(!0)))},[l.initialFocus,m,o.focus,o.focusTarget,o]);var x=[l.classNames.root,l.className];l.numberOfMonths>1&&x.push(l.classNames.multiple_months),l.showWeekNumber&&x.push(l.classNames.with_weeknumber);var g=rt(rt({},l.styles.root),l.style),N=Object.keys(s).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var b;return rt(rt({},j),(b={},b[w]=s[w],b))},{}),y=(t=(r=s.components)===null||r===void 0?void 0:r.Months)!==null&&t!==void 0?t:jT;return n.jsx("div",rt({className:x.join(" "),style:g,dir:l.dir,id:l.id,nonce:s.nonce,title:s.title,lang:s.lang},N,{children:n.jsx(y,{children:d.displayMonths.map(function(j,w){return n.jsx(NT,{displayIndex:w,displayMonth:j},w)})})}))}function kT(e){var r=e.children,t=KE(e,["children"]);return n.jsx(m6,{initialProps:t,children:n.jsx(_6,{children:n.jsx(sT,{initialProps:t,children:n.jsx(O6,{initialProps:t,children:n.jsx(R6,{initialProps:t,children:n.jsx(V6,{children:n.jsx(nT,{children:r})})})})})})})}function ST(e){return n.jsx(kT,rt({},e,{children:n.jsx(_T,{initialProps:e})}))}const Lt=(e,...r)=>{console.log(e,...r)},ET=()=>{const{showError:e,showSuccess:r}=zr(),[t,s]=D.useState([]),[l,o]=D.useState({}),[d,f]=D.useState({}),[m,h]=D.useState(!0),[x,g]=D.useState(""),[N,y]=D.useState([]),[j,w]=D.useState({}),[b,T]=D.useState("General"),[_,k]=D.useState(""),[A,G]=D.useState(!1),[W,H]=D.useState(null),[ne,Q]=D.useState(!1),[le,ge]=D.useState(null),oe=D.useMemo(()=>N.sort((I,E)=>new Date(E)-new Date(I)),[N]);D.useEffect(()=>{(async()=>{try{const E=await qa.getAvailableDates(),F=(E==null?void 0:E.data)||[];let X=[];const Z=[...new Set([...F,...X])].filter(q=>q&&q.trim()!=="").sort((q,se)=>new Date(se)-new Date(q));Lt("📅 Fechas disponibles cargadas:",Z),y(Z)}catch(E){console.error("Error cargando fechas globales:",E),y([])}})()},[]),D.useEffect(()=>{if(Lt("🔄 Aplicando filtro:",b,_,"Barbers:",t.length),b==="General"||!_){Lt("📋 Usando estadísticas generales - limpiando filtros"),f({}),G(!1);return}if(t.length===0){Lt("⚠️ No hay barberos para filtrar");return}if(A){Lt("⏳ Filtrado ya en progreso, saltando...");return}Lt("🎯 Ejecutando filtrado por tipo:",b,"fecha base:",_),qe()},[b,_,t]);const we=()=>{if(!_||b==="General")return[];const I=new Date(_+"T12:00:00"),E=[];if(b==="Día")E.push(new Date(I));else if(b==="Semana")for(let F=0;F<7;F++){const X=new Date(I);X.setDate(I.getDate()-F),E.push(new Date(X))}else if(b==="Mes")for(let F=0;F<30;F++){const X=new Date(I);X.setDate(I.getDate()-F),E.push(new Date(X))}return Lt("🎯 Rango a resaltar:",b,_,E.map(F=>{const X=F.getFullYear(),Z=(F.getMonth()+1).toString().padStart(2,"0"),q=F.getDate().toString().padStart(2,"0");return`${X}-${Z}-${q}`})),E},$e=async()=>{if(!_||b==="General")return oe;const I=new Date(_+"T12:00:00"),E=b==="Semana"?7:b==="Mes"?30:1,F=oe.filter(X=>{const Z=new Date(X+"T12:00:00"),q=Math.floor((I-Z)/(1e3*60*60*24));return q>=0&&q<E});return Lt("📅 Fechas válidas para rango:",b,_,F),F},Re=(I,E)=>{if(!E)return[];const F=new Date(E+"T00:00:00.000Z"),X=[];if(I==="Día")X.push(F.toISOString().split("T")[0]);else if(I==="Semana")for(let q=0;q<7;q++){const se=new Date(F);se.setDate(F.getDate()-q),X.push(se.toISOString().split("T")[0])}else if(I==="Mes")for(let q=0;q<30;q++){const se=new Date(F);se.setDate(F.getDate()-q),X.push(se.toISOString().split("T")[0])}const Z=X.filter(q=>oe.includes(q));return Lt(`📅 Rango para ${I} desde ${E}:`,`Total generado: ${X.length}, Con datos: ${Z.length}`,Z),Z},qe=async()=>{if(!_||b==="General"){f({}),G(!1);return}G(!0),console.log(`🔍 INICIANDO FILTRO: ${b} - ${_}`),b==="Día"?await ke(_):await J(),console.log(`✅ FILTRO COMPLETADO: ${b} - ${_}`)},ke=async I=>{var F,X,Z,q;console.log("📅 FILTRO DIARIO ALTERNATIVO - Filtrando desde datos existentes:",I),G(!0);const E={};for(const se of t)try{console.log(`📊 Procesando día ${I} para barbero ${((F=se.user)==null?void 0:F.name)||se._id}...`),E[se._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}};try{const[ce,_e]=await Promise.all([qa.getDailyReport(I,se._id),hc.getDailyReport(I,se._id)]);if(console.log(`� Datos del día para ${(X=se.user)==null?void 0:X.name}:`,{ventas:ce,citas:_e}),ce!=null&&ce.success&&(ce!=null&&ce.data)){let re=0,je=0,Ce=0,R=0;Array.isArray(ce.data)?ce.data.forEach(xe=>{xe.type==="product"?(re+=xe.total||0,je+=1):(xe.type==="walkIn"||xe.type==="corte")&&(Ce+=xe.total||0,R+=1)}):ce.data.total!==void 0&&(re=ce.data.total||0,je=ce.data.count||0),E[se._id].sales={total:re,count:je},E[se._id].cortes={count:R,total:Ce},console.log(`💰 Ventas del día ${I}:`,{totalVentas:re,countVentas:je,totalCortes:Ce,countCortes:R})}if(_e!=null&&_e.success&&(_e!=null&&_e.data)){let re=0,je=0;Array.isArray(_e.data)?_e.data.forEach(Ce=>{var R;re+=Ce.total||((R=Ce.service)==null?void 0:R.price)||0,Ce.status==="completed"&&(je+=1)}):_e.data.total!==void 0&&(re=_e.data.total||0,je=_e.data.completed||0),E[se._id].appointments={completed:je,total:re},console.log(`📅 Citas del día ${I}:`,{totalCitas:re,countCitas:je})}}catch(ce){console.warn(`⚠️ Error obteniendo datos del día ${I} para ${(Z=se.user)==null?void 0:Z.name}:`,ce.message)}console.log(`✅ FINAL día ${I} para ${(q=se.user)==null?void 0:q.name}:`,E[se._id])}catch(ce){console.error(`❌ Error processing day ${I} for barber ${se._id}:`,ce)}console.log("📊 RESULTADO FINAL - Estadísticas del día:",E),f(E),G(!1)},J=async()=>{var F,X,Z;if(!t||t.length===0)return;G(!0);const I=Re(b,_);if(Lt(`📅 Procesando ${b} - Fechas válidas:`,I),I.length===0){Lt("❌ No hay fechas válidas para el rango, mostrando estadísticas vacías");const q={};t.forEach(se=>{q[se._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}),f(q),G(!1);return}const E={};for(const q of t)try{Lt(`📊 Procesando ${b} para barbero ${((F=q.user)==null?void 0:F.name)||q._id}...`);let se=0,ce=0,_e=0,re=0,je=0,Ce=0;for(const R of I)try{Lt(`📅 Procesando fecha ${R} para ${(X=q.user)==null?void 0:X.name}...`);const[xe,Y]=await Promise.all([qa.getBarberSalesStats(q._id,{date:R}),hc.getBarberAppointmentStats(q._id,{date:R})]);if(xe!=null&&xe.success&&(xe!=null&&xe.data)){const be=xe.data;be.ventas&&Array.isArray(be.ventas)&&be.ventas.forEach(ze=>{se+=ze.total||0,ce+=1}),be.cortes&&Array.isArray(be.cortes)&&be.cortes.forEach(ze=>{_e+=ze.total||0,re+=1}),be.total!==void 0&&!be.ventas&&(se+=be.total),be.cortesTotal!==void 0&&!be.cortes&&(_e+=be.cortesTotal),Lt(`💰 ${R} - Ventas: ${be.total||0}, Cortes: ${be.cortesTotal||0}`)}if(Y!=null&&Y.success&&(Y!=null&&Y.data)){const be=Y.data;be.citas&&Array.isArray(be.citas)&&be.citas.forEach(ze=>{var Ue;je+=ze.revenue||((Ue=ze.service)==null?void 0:Ue.price)||0,ze.status==="completed"&&(Ce+=1)}),be.revenue!==void 0&&!be.citas&&(je+=be.revenue),be.completed!==void 0&&!be.citas&&(Ce+=be.completed),Lt(`📅 ${R} - Citas: ${be.revenue||0}, Completadas: ${be.completed||0}`)}}catch(xe){Lt(`⚠️ Error procesando fecha ${R} para barbero ${q._id}:`,xe.message)}E[q._id]={sales:{total:se,count:ce},cortes:{count:re,total:_e},appointments:{completed:Ce,total:je}},Lt(`✅ TOTAL ${b} para ${(Z=q.user)==null?void 0:Z.name}:`,`Ventas: ${se}, Cortes: ${_e}, Citas: ${je}`,`Fechas procesadas: ${I.length}`)}catch(se){console.error(`❌ Error procesando ${b} para barbero ${q._id}:`,se),E[q._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}Lt(`📊 FINAL - Estadísticas filtradas por ${b}:`,E),f(E),G(!1)},ve=async()=>{h(!0),g("");try{const I=await fa.getAllBarbers();let E=[];Array.isArray(I)?E=I:I&&I.data&&Array.isArray(I.data)?E=I.data:I&&Array.isArray(I.success)&&(E=I.success),s(E),await te(E)}catch(I){console.error("Error al cargar barberos:",I),s([]),g("Error al cargar los datos")}finally{h(!1)}},te=async I=>{var F,X;Lt("📊 Cargando estadísticas para",I.length,"barberos...");const E={};for(let Z=0;Z<I.length;Z++){const q=I[Z];try{Lt(`🔄 Cargando stats para barbero ${Z+1}/${I.length}: ${((F=q.user)==null?void 0:F.name)||q._id}`),Z>0&&await new Promise(Y=>setTimeout(Y,150*Z));const[se,ce]=await Promise.all([qa.getBarberSalesStats(q._id),hc.getBarberAppointmentStats(q._id)]);let _e=0,re=0;se.data&&Array.isArray(se.data.ventas)?se.data.ventas.forEach(Y=>{_e+=Y.total||0,re+=1}):se.data&&typeof se.data.total=="number"&&(_e=se.data.total,re=se.data.count||0);let je=0,Ce=0;se.data&&Array.isArray(se.data.cortes)&&se.data.cortes.forEach(Y=>{Ce+=Y.total||0,je+=1});let R=0,xe=0;ce.data&&Array.isArray(ce.data.citas)?ce.data.citas.forEach(Y=>{var be;R+=Y.revenue||((be=Y.service)==null?void 0:be.price)||0,xe+=1}):ce.data&&typeof ce.data.revenue=="number"&&(R=ce.data.revenue,xe=ce.data.completed||0),E[q._id]={sales:{total:_e,count:re},cortes:{count:je,total:Ce},appointments:{completed:xe,total:R}},Lt(`✅ Stats cargadas para ${((X=q.user)==null?void 0:X.name)||q._id}:`,E[q._id])}catch(se){console.error(`❌ Error loading stats for barber ${q._id}:`,se),E[q._id]={sales:{total:0,count:0},cortes:{count:0,total:0},appointments:{completed:0,total:0}}}}Lt("📈 Todas las estadísticas cargadas:",E),o(E)},V=async I=>{try{const[E,F]=await Promise.all([qa.getAvailableDates(I),hc.getAvailableDates(I)]),X=[...new Set([...(E==null?void 0:E.data)||[],...(F==null?void 0:F.data)||[]])].sort((Z,q)=>new Date(q)-new Date(Z));w(Z=>({...Z,[I]:X}))}catch(E){console.error("Error cargando fechas disponibles:",E),e("Error al cargar fechas disponibles")}},P=async(I,E=null)=>{Q(!0),ge(I);try{const F=E||new Date().toISOString().split("T")[0],X=await qa.getDailyReport(F,I);Lt("🔍 Respuesta del servidor:",X);const Z=t.find(se=>se._id===I),q=(X==null?void 0:X.data)||X;return Lt("📊 Datos procesados:",q),H({date:F,barber:Z,sales:(q==null?void 0:q.sales)||[],appointments:(q==null?void 0:q.appointments)||[],walkIns:(q==null?void 0:q.walkIns)||[],totals:(q==null?void 0:q.totals)||{}}),r("Reporte generado exitosamente"),!0}catch(F){return console.error("Error generando reporte:",F),e("Error al generar el reporte"),!1}finally{Q(!1),ge(null)}};return D.useEffect(()=>{ve()},[]),{barbers:t,statistics:l,filteredStats:d,loading:m,error:x,globalAvailableDates:N,allAvailableDates:oe,availableDates:j,filterType:b,filterDate:_,filterLoading:A,reportData:W,loadingReport:ne,selectedBarber:le,setFilterType:T,setFilterDate:k,getHighlightedRange:we,getValidDatesForRange:$e,getDateRange:Re,loadData:ve,loadStatistics:te,loadBarberAvailableDates:V,generateBarberReport:P,setReportData:H}},TT=()=>{const[e,r]=D.useState(!1),[t,s]=D.useState({}),[l,o]=D.useState(()=>new Date),d=async(b,T)=>{t[b]?s(_=>({..._,[b]:!1})):(s(_=>({..._,[b]:!0})),T&&await T(b))},f=b=>{s(T=>({...T,[b]:!1}))},m=()=>{s({})},h=()=>{r(!0)};return{showReportModal:e,barberMenus:t,calendarMonth:l,setShowReportModal:r,setBarberMenus:s,setCalendarMonth:o,toggleBarberMenu:d,closeBarberMenu:f,closeAllMenus:m,openReportModal:h,closeReportModal:()=>{r(!1)},handleGenerateReport:async(b,T,_,k)=>{await _(b,T)&&(h(),k&&k(b))},generateQuickReport:async(b,T,_,k,A)=>{var H;const G=new Date;G.setDate(G.getDate()-T);const W=G.toISOString().split("T")[0];(H=_[b])!=null&&H.includes(W)?await k(b,W):A(`No hay datos para ${T===1?"ayer":"anteayer"}`)},handleManualDateSelect:async(b,T,_,k,A)=>{var G;return(G=_[T])!=null&&G.includes(b)?(await k(T,b),!0):(b&&A("No hay datos disponibles para la fecha seleccionada"),!1)},isDateDisabled:(b,T)=>{const _=b.getFullYear(),k=(b.getMonth()+1).toString().padStart(2,"0"),A=b.getDate().toString().padStart(2,"0"),G=`${_}-${k}-${A}`;return!T.includes(G)},handleDateSelect:(b,T,_)=>{if(!b)return;const k=b.getFullYear(),A=(b.getMonth()+1).toString().padStart(2,"0"),G=b.getDate().toString().padStart(2,"0"),W=`${k}-${A}-${G}`;console.log("📅 Día seleccionado:",W,"Disponible:",T.includes(W)),T.includes(W)?_(W):console.warn("⚠️ Día no disponible seleccionado:",W)}}},CT=`
  .compact-calendar {
    font-size: 11px;
    color: #e5e7eb;
  }
  
  .compact-calendar .rdp-months {
    width: 100%;
    max-width: 280px;
  }
  
  .compact-calendar .rdp-day {
    color: #9ca3af;
    width: 28px;
    height: 28px;
    font-size: 11px;
  }
  
  .compact-calendar .rdp-day_button {
    width: 28px !important;
    height: 28px !important;
    border-radius: 50% !important;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    border: 1px solid transparent !important;
  }
  
  .compact-calendar .rdp-day_button:hover {
    background-color: rgba(59, 130, 246, 0.3) !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .available-day .rdp-day_button {
    background-color: rgba(34, 197, 94, 0.25) !important;
    color: #86efac !important;
    border: 1px solid rgba(34, 197, 94, 0.4) !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .rdp-day_selected .rdp-day_button,
  .compact-calendar .selected-day .rdp-day_button {
    background-color: #2563eb !important;
    color: white !important;
    font-weight: bold !important;
    border: 2px solid #60a5fa !important;
    border-radius: 50% !important;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3) !important;
  }
  
  .compact-calendar .highlight-day .rdp-day_button {
    background-color: #1d4ed8 !important;
    color: white !important;
    font-weight: bold !important;
    border: 2px solid #93c5fd !important;
    border-radius: 50% !important;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4) !important;
  }
  
  .compact-calendar .rdp-caption {
    color: #e5e7eb;
    font-size: 12px;
    font-weight: 600;
  }
  
  .compact-calendar .rdp-nav {
    color: #e5e7eb;
  }
  
  .compact-calendar .rdp-head_cell {
    color: #9ca3af;
    font-size: 10px;
    font-weight: 500;
  }
  
  /* Asegurar que los estilos de selección tengan prioridad */
  .compact-calendar .rdp-day_selected {
    background-color: #2563eb !important;
    border-radius: 50% !important;
  }
  
  .compact-calendar .rdp-day_selected .rdp-day_button {
    background-color: #2563eb !important;
    color: white !important;
  }
`;if(typeof document!="undefined"){const e="compact-calendar-styles";if(!document.getElementById(e)){const r=document.createElement("style");r.id=e,r.textContent=CT,document.head.appendChild(r)}}const AT=()=>{const{user:e}=Jt(),{showError:r}=zr(),{barbers:t,statistics:s,filteredStats:l,loading:o,error:d,globalAvailableDates:f,allAvailableDates:m,availableDates:h,filterType:x,filterDate:g,filterLoading:N,reportData:y,loadingReport:j,selectedBarber:w,setFilterType:b,setFilterDate:T,getHighlightedRange:_,loadBarberAvailableDates:k,generateBarberReport:A}=ET(),{showReportModal:G,barberMenus:W,calendarMonth:H,setCalendarMonth:ne,toggleBarberMenu:Q,closeReportModal:le,handleGenerateReport:ge,generateQuickReport:oe,handleManualDateSelect:we,isDateDisabled:$e,handleDateSelect:Re}=TT(),qe=te=>{var V;return((V=te.user)==null?void 0:V.role)==="admin"?n.jsx(xb,{className:"h-6 w-6 text-yellow-400"}):n.jsx(Wb,{className:"h-6 w-6 text-blue-400"})},ke=te=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(te||0),J=()=>{if(!y)return;const te=ve(y),V=new Blob([te],{type:"text/html"}),P=URL.createObjectURL(V),I=document.createElement("a");I.href=P,I.download=`reporte-${y.date}.html`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(P)},ve=te=>{if(!te)return"<p>No hay datos disponibles para el reporte</p>";const V=Array.isArray(te.sales)?te.sales:[],P=Array.isArray(te.appointments)?te.appointments:[],I=Array.isArray(te.walkIns)?te.walkIns:[],E=q=>new Date(q).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),F=q=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(q),Z=(()=>{const q=V.reduce((_e,re)=>_e+(re.total||0),0),se=P.reduce((_e,re)=>_e+(re.total||0),0),ce=I.reduce((_e,re)=>_e+(re.total||0),0);return{productTotal:q,appointmentTotal:se,walkInTotal:ce,grandTotal:q+se+ce}})();return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Diario - ${E(te.date)}</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: white;
            color: black;
            margin: 0;
            padding: 20px;
            font-size: 12px;
            line-height: 1.4;
        }
        .header {
            text-align: center;
            border-block-end: 2px solid #000;
            padding-block-end: 10px;
            margin-block-end: 20px;
        }
        .shop-name {
            font-size: 18px;
            font-weight: bold;
            margin-block-end: 5px;
        }
        .report-title {
            font-size: 14px;
            margin-block-end: 5px;
        }
        .date {
            font-size: 12px;
        }
        .section {
            margin-block-end: 25px;
        }
        .section-title {
            font-size: 14px;
            font-weight: bold;
            border-block-end: 1px solid #000;
            padding-block-end: 5px;
            margin-block-end: 10px;
        }
        .item {
            display: flex;
            justify-content: space-between;
            padding: 2px 0;
            border-block-end: 1px dotted #ccc;
        }
        .item-name {
            flex: 1;
            padding-inline-end: 10px;
        }
        .item-price {
            font-weight: bold;
        }
        .subtotal {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-block-start: 1px solid #000;
            font-weight: bold;
        }
        .total {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-block-start: 2px solid #000;
            font-weight: bold;
            font-size: 14px;
        }
        .footer {
            text-align: center;
            margin-block-start: 30px;
            padding-block-start: 10px;
            border-block-start: 1px solid #000;
            font-size: 10px;
        }
        @media print {
            body { margin: 0; padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="shop-name">THE BROTHERS BARBER SHOP</div>
        <div class="report-title">REPORTE DIARIO</div>
        <div class="date">${E(te.date)}</div>
    </div>

    <!-- PRODUCTOS VENDIDOS -->
    <div class="section">
        <div class="section-title">PRODUCTOS VENDIDOS</div>
        ${V.length===0?"<div>No hay ventas registradas</div>":""}
        ${V.map(q=>{var se;return`
            <div class="item">
                <div class="item-name">${((se=q.products)==null?void 0:se.map(ce=>{var _e;return`${((_e=ce.product)==null?void 0:_e.name)||"Producto"} x${ce.quantity}`}).join(", "))||"Venta"}</div>
                <div class="item-price">${F(q.total)}</div>
            </div>
        `}).join("")}
        ${V.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL PRODUCTOS:</div>
                <div>${F(Z.productTotal)}</div>
            </div>
        `:""}
    </div>

    <!-- CORTES SIN CITA -->
    <div class="section">
        <div class="section-title">CORTES SIN CITA</div>
        ${I.length===0?"<div>No hay cortes sin cita registrados</div>":""}
        ${I.map(q=>{var se,ce,_e;return`
            <div class="item">
                <div class="item-name">${((se=q.service)==null?void 0:se.name)||"Servicio"} - ${((_e=(ce=q.barber)==null?void 0:ce.user)==null?void 0:_e.name)||"Barbero"}</div>
                <div class="item-price">${F(q.total)}</div>
            </div>
        `}).join("")}
        ${I.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL CORTES:</div>
                <div>${F(Z.walkInTotal)}</div>
            </div>
        `:""}
    </div>

    <!-- CITAS COMPLETADAS -->
    <div class="section">
        <div class="section-title">CITAS COMPLETADAS</div>
        ${P.length===0?"<div>No hay citas completadas</div>":""}
        ${P.map(q=>{var se,ce,_e,re;return`
            <div class="item">
                <div class="item-name">${((se=q.service)==null?void 0:se.name)||"Servicio"} - ${((_e=(ce=q.barber)==null?void 0:ce.user)==null?void 0:_e.name)||"Barbero"} - ${((re=q.user)==null?void 0:re.name)||"Cliente"}</div>
                <div class="item-price">${F(q.total||0)}</div>
            </div>
        `}).join("")}
        ${P.length>0?`
            <div class="subtotal">
                <div>SUBTOTAL CITAS:</div>
                <div>${F(Z.appointmentTotal)}</div>
            </div>
        `:""}
    </div>

    <div class="total">
        <div>TOTAL GENERAL:</div>
        <div>${F(Z.grandTotal)}</div>
    </div>

    <div class="footer">
        Reporte generado el ${new Date().toLocaleString("es-ES")}
    </div>
</body>
</html>
    `.trim()};return n.jsxs(Ot,{children:[n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/8 via-purple-900/8 to-blue-900/8"}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),n.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),n.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8 flex flex-col items-center gap-2",children:[n.jsx("div",{className:"flex gap-2 bg-white/5 rounded-lg p-1 border border-white/10",children:["General","Día","Semana","Mes"].map(te=>n.jsx("button",{className:`px-4 py-1.5 rounded-md text-sm font-medium transition-colors ${x===te?"bg-blue-500/80 text-white":"text-blue-200 hover:bg-blue-500/30"}`,onClick:()=>{b(te),te==="General"&&T("")},children:te},te))}),n.jsxs("div",{className:"text-xs text-center",children:[f.length>0?n.jsxs("div",{className:"text-green-400 bg-green-500/10 px-3 py-1 rounded-full border border-green-500/20",children:["✅ ",f.length," días con datos disponibles"]}):n.jsx("div",{className:"text-yellow-400 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:"⏳ Cargando fechas con datos..."}),x!=="General"&&g&&n.jsxs("div",{className:"mt-2 text-blue-400 bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:["🔍 Filtro activo: ",x," - ",g,N&&n.jsx("span",{className:"ml-2 animate-pulse",children:"⏳"})]}),x!=="General"&&!g&&n.jsxs("div",{className:"mt-2 text-yellow-400 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:["⚠️ Selecciona una fecha para aplicar el filtro ",x]})]}),x!=="General"&&n.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-xs text-gray-300",children:"Selecciona fecha base:"}),n.jsxs("div",{className:"bg-gray-900/80 rounded-lg p-3 border border-gray-700/40 max-w-xs",children:[n.jsx(ST,{mode:"single",selected:g?new Date(g+"T12:00:00"):void 0,onSelect:te=>Re(te,m,T),month:H,onMonthChange:ne,disabled:te=>$e(te,m),modifiers:{highlight:_(),available:m.map(te=>new Date(te+"T12:00:00")),selected:g?[new Date(g+"T12:00:00")]:[]},modifiersClassNames:{highlight:"highlight-day",available:"available-day",selected:"selected-day"},showOutsideDays:!1,className:"compact-calendar"}),n.jsxs("div",{className:"text-xs text-gray-600 bg-gray-800/30 rounded px-2 py-1 mt-2",children:["💡 Solo los días con datos están habilitados (verde). El rango ",x.toLowerCase()," se resalta en azul.",m.length>0&&n.jsxs("div",{className:"mt-1 text-green-400",children:["📊 ",m.length," días con datos disponibles"]})]})]})]})]}),d&&n.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-300 backdrop-blur-sm shadow-2xl shadow-red-500/20",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(va,{className:"h-5 w-5 mr-2"}),d]})}),n.jsx("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:o?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando estadísticas..."})]}):t.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Rl,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No hay barberos registrados"})]}):n.jsx("div",{className:"divide-y divide-white/10",children:t.map(te=>{var F,X,Z,q,se,ce,_e,re,je,Ce,R,xe,Y;const V=x!=="General"&&g,P=Object.keys(l).length>0,I=V&&P&&l[te._id],E=I?l[te._id]:s[te._id]||{};return console.log(`� DEBUG ${(F=te.user)==null?void 0:F.name}:`,{filterType:x,filterDate:g,hasFilterDate:V,hasFilteredData:P,useFiltered:I,filteredStatsKeys:Object.keys(l),barberFilteredStats:l[te._id],barberGeneralStats:s[te._id],finalStats:E}),n.jsxs("div",{className:"px-4 py-6 hover:bg-white/5 transition-colors backdrop-blur-sm",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:qe(te)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"text-xl font-semibold",children:n.jsx(Je,{className:"text-xl font-semibold",children:((X=te.user)==null?void 0:X.name)||"Sin nombre"})}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${te.isActive?"text-green-400":"text-red-400"} bg-current/10`,children:te.isActive?"Activo":"Inactivo"})]}),n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:te.specialty}),n.jsxs("p",{className:"text-sm text-blue-400",children:[te.experience," años de experiencia"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 w-full lg:w-auto",children:[N?n.jsx("div",{className:"col-span-4 text-center py-4 text-xs text-blue-300",children:"Cargando datos del rango seleccionado..."}):null,n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[n.jsx(Dc,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),n.jsx("div",{className:"text-base font-bold text-green-400",children:ke(((Z=E.sales)==null?void 0:Z.total)||0)}),n.jsxs("div",{className:"text-[11px] text-gray-400",children:[((q=E.sales)==null?void 0:q.count)||0," ventas"]})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[n.jsx(Vt,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),n.jsx("div",{className:"text-base font-bold text-purple-400",children:((se=E.cortes)==null?void 0:se.count)||0}),n.jsx("div",{className:"text-[11px] text-gray-400",children:"cortes"})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[n.jsx(xc,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),n.jsx("div",{className:"text-base font-bold text-blue-400",children:ke(((ce=E.appointments)==null?void 0:ce.total)||0)}),n.jsxs("div",{className:"text-[10px] text-gray-500",children:[((_e=E.appointments)==null?void 0:_e.completed)||0," citas"]})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center border border-white/10",children:[n.jsx(t0,{className:"w-5 h-5 text-yellow-400 mx-auto mb-1"}),n.jsx("div",{className:"text-base font-bold text-yellow-400",children:ke((((re=E.sales)==null?void 0:re.total)||0)+(((je=E.appointments)==null?void 0:je.total)||0))}),n.jsx("div",{className:"text-[11px] text-gray-400",children:"ingresos totales"})]})]}),n.jsx("div",{className:"relative",children:n.jsx("button",{onClick:()=>Q(te._id,k),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center justify-center",disabled:j,children:j&&w===te._id?n.jsx("div",{className:"w-5 h-5 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}):n.jsx(Ac,{className:"w-5 h-5"})})})]}),W[te._id]&&n.jsxs("div",{className:"mt-4 bg-white/5 rounded-lg border border-white/10 p-4 transition-all duration-300 ease-in-out",children:[n.jsxs("h5",{className:"text-sm font-medium text-gray-300 mb-3",children:["Generar Reporte - ",((Ce=te.user)==null?void 0:Ce.name)||"Barbero"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>ge(te._id,null,A,()=>Q(te._id)),className:"w-full text-left px-3 py-2 text-sm bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[n.jsx(xc,{className:"w-4 h-4"}),"Reporte del día actual"]}),n.jsx("div",{className:"border-t border-gray-700/50"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Seleccionar fecha específica:"}),((R=h[te._id])==null?void 0:R.length)>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Períodos rápidos:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:()=>oe(te._id,1,h,A,r),className:"px-2 py-1.5 text-xs bg-green-600/20 text-green-400 rounded-md hover:bg-green-600/30 transition-colors",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:"Ayer"}),n.jsx("div",{className:"text-[10px] opacity-75",children:(()=>{const be=new Date;return be.setDate(be.getDate()-1),be.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})()})]})}),n.jsx("button",{onClick:()=>oe(te._id,2,h,A,r),className:"px-2 py-1.5 text-xs bg-yellow-600/20 text-yellow-400 rounded-md hover:bg-yellow-600/30 transition-colors",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:"Anteayer"}),n.jsx("div",{className:"text-[10px] opacity-75",children:(()=>{const be=new Date;return be.setDate(be.getDate()-2),be.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})()})]})})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2",children:"Fecha específica:"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",className:"w-full px-3 py-2 bg-gray-700/50 border border-gray-600/50 rounded-lg text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50",onChange:be=>{const ze=be.target.value;ze&&we(ze,te._id,h,A,r).then(()=>{be.target.value=""})},min:((xe=h[te._id])==null?void 0:xe.length)>0?h[te._id][h[te._id].length-1]:"",max:((Y=h[te._id])==null?void 0:Y.length)>0?h[te._id][0]:"",placeholder:"Seleccionar fecha..."}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx(xc,{className:"w-4 h-4 text-gray-500"})})]}),n.jsx("div",{className:"text-xs text-gray-600 bg-gray-800/30 rounded px-2 py-1 mt-1",children:"💡 Solo las fechas con datos están disponibles"})]}),n.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Acceso rápido (últimas 5 fechas):"}),n.jsx("div",{className:"grid grid-cols-1 gap-1 max-h-24 overflow-y-auto",children:h[te._id].slice(0,5).map(be=>n.jsxs("button",{onClick:()=>ge(te._id,be,A,()=>Q(te._id)),className:"text-left px-3 py-1.5 text-xs text-gray-300 hover:bg-white/10 rounded-md transition-colors flex items-center gap-2",children:[n.jsx(xc,{className:"w-3 h-3"}),new Date(be).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short",year:"numeric"})]},be))})]}):n.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 text-center",children:"No hay fechas disponibles"})]})]})]})]},te._id)})})})]})]}),G&&y&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:le}),n.jsxs("div",{className:"relative bg-gray-800/95 backdrop-blur-md border border-gray-700/50 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[n.jsx("h3",{className:"text-xl font-bold",children:n.jsxs(Je,{className:"text-xl font-bold",children:["Reporte del ",new Date(y.date).toLocaleDateString("es-ES")]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:J,className:"px-4 py-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center gap-2",children:[n.jsx(Ou,{className:"w-4 h-4"}),"Descargar"]}),n.jsx("button",{onClick:le,className:"p-2 text-gray-400 hover:text-white transition-colors",children:n.jsx(yn,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:y&&n.jsx("div",{className:"bg-white text-black p-6 rounded-lg font-mono text-sm",dangerouslySetInnerHTML:{__html:ve(y).replace(/<!DOCTYPE.*?<body[^>]*>/,"").replace(/<\/body>.*?<\/html>/,"")}})})]})]})]})},PT=()=>{const[e,r]=D.useState(new Date().toISOString().split("T")[0]),[t,s]=D.useState("daily"),[l,o]=D.useState([]),[d,f]=D.useState(!1),[m,h]=D.useState(""),[x,g]=D.useState({period:"",dateRange:""}),[N,y]=D.useState({totalRevenue:0,totalCuts:0,totalProducts:0,activeBarbers:0}),j=[{value:"daily",label:"Diario",icon:Et},{value:"weekly",label:"Semanal",icon:Ai},{value:"monthly",label:"Mensual",icon:t0}];D.useEffect(()=>{w()},[e,t]);const w=async()=>{var k,A;try{f(!0),h("");const G=await fetch(`/api/v1/sales/reports?type=${t}&date=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!G.ok)throw new Error("Error al cargar el reporte");const W=await G.json();o(W.data||[]),g({period:W.period||"",dateRange:W.dateRange||""});const H=(W.data||[]).reduce((ne,Q)=>{var le;return ne.totalRevenue+=Q.totalRevenue,ne.totalCuts+=Q.totalCuts,ne.totalProducts+=Q.totalProducts,ne.activeBarbers=((le=W.data)==null?void 0:le.length)||0,ne},{totalRevenue:0,totalCuts:0,totalProducts:0,activeBarbers:0});y(H)}catch(G){console.error("Error al cargar reporte:",G),h(`Error al cargar el reporte ${(A=(k=j.find(W=>W.value===t))==null?void 0:k.label)==null?void 0:A.toLowerCase()}`)}finally{f(!1)}},b=k=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(k),T=k=>new Date(k+"T00:00:00").toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}),_=()=>{const k=new Date(e+"T00:00:00");switch(t){case"daily":return`Reporte del día: ${T(e)}`;case"weekly":const A=new Date(k);A.setDate(A.getDate()-6);const G=A.toISOString().split("T")[0];return`Reporte semanal: ${T(G)} - ${T(e)}`;case"monthly":const W=new Date(k);W.setDate(W.getDate()-29);const H=W.toISOString().split("T")[0];return`Reporte mensual: ${T(H)} - ${T(e)}`;default:return`Reporte: ${T(e)}`}};return d?n.jsx(Ot,{children:n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-400 mx-auto mb-4"}),n.jsx("p",{className:"text-white text-lg",children:"Cargando reporte..."})]})})}):n.jsx(Ot,{children:n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-green-500/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute top-3/4 left-3/4 w-64 h-64 bg-purple-500/10 rounded-full blur-2xl"})]}),n.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-green-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Reportes"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Análisis de ventas y servicios por barbero"}),n.jsx("p",{className:"text-blue-400 mt-2 font-medium",children:_()}),x.dateRange&&n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Datos del servidor: ",x.dateRange]})]}),n.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cp,{className:"h-5 w-5 text-blue-400"}),n.jsx("label",{className:"text-gray-300 font-medium",children:"Tipo:"})]}),n.jsx("div",{className:"flex gap-2",children:j.map(k=>{const A=k.icon;return n.jsxs("button",{onClick:()=>s(k.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${t===k.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[n.jsx(A,{className:"h-4 w-4"}),k.label]},k.value)})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-blue-400"}),n.jsx("label",{className:"text-gray-300 font-medium",children:t==="daily"?"Fecha:":"Fecha final:"})]}),n.jsx("input",{type:"date",value:e,onChange:k=>r(k.target.value),className:"px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),n.jsxs("span",{className:"text-gray-400",children:["(",T(e),")"]}),(t==="weekly"||t==="monthly")&&n.jsx("span",{className:"text-xs text-gray-500 italic",children:t==="weekly"?"(7 días hacia atrás)":"(30 días hacia atrás)"})]})]}),m&&n.jsx("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-300",children:m}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Ingresos Totales"}),n.jsx("p",{className:"text-2xl font-bold text-green-400",children:b(N.totalRevenue)})]}),n.jsx(Pi,{className:"h-8 w-8 text-green-400"})]})}),n.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Cortes"}),n.jsx("p",{className:"text-2xl font-bold text-blue-400",children:N.totalCuts})]}),n.jsx(Vt,{className:"h-8 w-8 text-blue-400"})]})}),n.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Productos Vendidos"}),n.jsx("p",{className:"text-2xl font-bold text-purple-400",children:N.totalProducts})]}),n.jsx(ji,{className:"h-8 w-8 text-purple-400"})]})}),n.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Barberos Activos"}),n.jsx("p",{className:"text-2xl font-bold text-orange-400",children:N.activeBarbers})]}),n.jsx(Rl,{className:"h-8 w-8 text-orange-400"})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Detalle por Barbero"}),l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ai,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No hay datos"}),n.jsx("p",{className:"text-gray-500",children:"No se registraron ventas ni servicios para esta fecha"})]}):l.map((k,A)=>n.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 hover:bg-gray-800/60 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full flex items-center justify-center",children:n.jsxs("span",{className:"text-xl font-bold text-blue-400",children:["#",A+1]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:k.barberName}),n.jsxs("p",{className:"text-gray-400",children:["Total: ",b(k.totalRevenue)]})]})]}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-blue-400 font-semibold",children:k.totalCuts}),n.jsx("div",{className:"text-gray-400",children:"Cortes"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-purple-400 font-semibold",children:k.totalProducts}),n.jsx("div",{className:"text-gray-400",children:"Productos"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[n.jsx(Vt,{className:"h-5 w-5"}),"Servicios (",k.totalCuts,")"]}),k.cuts.length===0?n.jsx("p",{className:"text-gray-500 text-sm",children:"No se registraron cortes"}):n.jsxs("div",{className:"space-y-2",children:[k.cuts.map((G,W)=>n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-300",children:G.serviceName}),n.jsx("p",{className:"text-gray-400 text-sm",children:G.customerName})]}),n.jsx("span",{className:"text-blue-400 font-semibold",children:b(G.servicePrice)})]})},W)),n.jsx("div",{className:"text-right pt-2 border-t border-blue-500/30",children:n.jsxs("span",{className:"text-blue-400 font-bold",children:["Subtotal: ",b(k.totalCutsRevenue)]})})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-3 flex items-center gap-2",children:[n.jsx(Dc,{className:"h-5 w-5"}),"Productos (",k.totalProducts,")"]}),k.productSales.length===0?n.jsx("p",{className:"text-gray-500 text-sm",children:"No se vendieron productos"}):n.jsxs("div",{className:"space-y-2",children:[k.productSales.map((G,W)=>n.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-purple-300",children:G.productName}),n.jsxs("p",{className:"text-gray-400 text-sm",children:[G.quantity," x ",b(G.unitPrice),G.customerName&&` - ${G.customerName}`]})]}),n.jsx("span",{className:"text-purple-400 font-semibold",children:b(G.totalAmount)})]})},W)),n.jsx("div",{className:"text-right pt-2 border-t border-purple-500/30",children:n.jsxs("span",{className:"text-purple-400 font-bold",children:["Subtotal: ",b(k.totalProductRevenue)]})})]})]})]})]},k.barberId))]})]})]})})};function _l({children:e,requiredRole:r}){const{user:t,loading:s,error:l,refreshToken:o}=Jt(),d=ya();if(D.useEffect(()=>{const f=localStorage.getItem("token");!s&&f&&!t&&!l&&o().catch(()=>{})},[s,t,l,o]),s)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t)return n.jsx(Kr,{to:"/login",state:{from:d.pathname},replace:!0});if(r){const f=Array.isArray(r)?r:[r];if(!f.includes(t.role))return console.warn(`Acceso denegado: se requiere uno de estos roles [${f.join(", ")}], usuario tiene rol ${t.role}`),n.jsx(Kr,{to:"/",replace:!0})}return e}function DT({children:e}){const{user:r}=Jt();return r?e({user:r}):n.jsx(Kr,{to:"/login",replace:!0})}const cp=({children:e})=>{const{user:r,loading:t}=Jt(),s=ya(),{state:l}=s;if(t)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(r){if(l!=null&&l.from)return n.jsx(Kr,{to:l.from,replace:!0});if(s.pathname==="/")return n.jsx(Kr,{to:"/",replace:!0});switch(r.role){case"admin":return n.jsx(Kr,{to:"/",replace:!0});case"barber":return n.jsx(Kr,{to:"/",replace:!0});default:return n.jsx(Kr,{to:"/",replace:!0})}}return e};function FT(){return Ww(),n.jsxs(Hw,{children:[n.jsx(kc,{children:n.jsxs(xt,{element:n.jsx(zw,{}),children:[n.jsx(xt,{path:"/",element:n.jsx(sy,{})}),n.jsx(xt,{path:"/services",element:n.jsx(gx,{})}),n.jsx(xt,{path:"/barbers",element:n.jsx(J4,{})}),n.jsx(xt,{path:"/barbers/:id",element:n.jsx(vx,{})}),n.jsx(xt,{path:"/login",element:n.jsx(cp,{children:n.jsx(Z4,{})})}),n.jsx(xt,{path:"/register",element:n.jsx(cp,{children:n.jsx(e3,{})})}),n.jsx(xt,{path:"/profile",element:n.jsx(_l,{children:n.jsx(iy,{})})}),n.jsx(xt,{path:"/profile-edit",element:n.jsx(_l,{children:n.jsx(dy,{})})}),n.jsxs(xt,{path:"/admin",element:n.jsx(_l,{requiredRole:["admin","barber"],children:n.jsx(pu,{})}),children:[n.jsx(xt,{index:!0,element:n.jsx(DT,{children:({user:e})=>n.jsx(Kr,{to:e.role==="barber"?"/admin/sales":"/admin/barbers",replace:!0})})}),n.jsx(xt,{path:"inventory",element:n.jsx(XE,{})}),n.jsx(xt,{path:"sales",element:n.jsx(t3,{})}),n.jsxs(xt,{element:n.jsx(_l,{requiredRole:["admin"],children:n.jsx(pu,{})}),children:[n.jsx(xt,{path:"services",element:n.jsx(gx,{})}),n.jsx(xt,{path:"roles",element:n.jsx(r3,{})}),n.jsx(xt,{path:"barbers",element:n.jsx(AT,{})}),n.jsx(xt,{path:"barbers/:id",element:n.jsx(vx,{})}),n.jsx(xt,{path:"reports",element:n.jsx(PT,{})})]})]}),n.jsx(xt,{path:"/appointment",element:n.jsx(_l,{children:n.jsx(X4,{})})}),n.jsx(xt,{path:"*",element:n.jsx(Kr,{to:"/",replace:!0})})]})}),n.jsx($w,{})]})}const OT="/TheBrothersBarberShop/";k2.createRoot(document.getElementById("root")).render(n.jsx(up.StrictMode,{children:n.jsx(Sw,{basename:OT,children:n.jsx(Ow,{children:n.jsx(Uw,{children:n.jsx(FT,{})})})})}));
