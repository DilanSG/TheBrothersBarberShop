const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/AdminBarbers-DAKhYz0u.js","assets/js/vendor-CqFXMR30.js","assets/js/utils-DFsqPVhN.js","assets/js/Inventory-rb1GD8_8.js","assets/js/InventoryLogs-DAh0eV7y.js","assets/js/Reports-CxN3rmpp.js","assets/js/UserRoleManager-D8WRDVDN.js"])))=>i.map(i=>d[i]);
import{a as ja,b as Na,g as ka,r as x,u as xr,c as Yr,L as V,O as Rr,d as Ca,N as xe,R as jr,e as G,f as Sa,h as Ea,B as Pa}from"./vendor-CqFXMR30.js";import{P as Ma,M as Ur,U as he,A as Ft,S as Ye,a as ye,C as ze,b as Cr,c as Ht,X as Re,d as Gr,e as ce,f as Ve,F as _a,L as or,B as xt,E as Lr,g as cr,h as er,i as qe,j as tr,k as Ze,T as Vt,l as Xr,m as Fr,n as ht,o as qt,p as Yt,q as gt,r as Nr,s as Da,D as Sr,t as La,u as Hr,v as Ta,w as Tr,x as bt,y as za}from"./utils-DFsqPVhN.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var zr={exports:{}},ir={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt;function Ba(){if(pt)return ir;pt=1;var r=ja(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(l,d,m){var c,b={},f=null,h=null;m!==void 0&&(f=""+m),d.key!==void 0&&(f=""+d.key),d.ref!==void 0&&(h=d.ref);for(c in d)s.call(d,c)&&!o.hasOwnProperty(c)&&(b[c]=d[c]);if(l&&l.defaultProps)for(c in d=l.defaultProps,d)b[c]===void 0&&(b[c]=d[c]);return{$$typeof:t,type:l,key:f,ref:h,props:b,_owner:n.current}}return ir.Fragment=a,ir.jsx=i,ir.jsxs=i,ir}var ft;function Aa(){return ft||(ft=1,zr.exports=Ba()),zr.exports}var e=Aa(),yr={},vt;function $a(){if(vt)return yr;vt=1;var r=Na();return yr.createRoot=r.createRoot,yr.hydrateRoot=r.hydrateRoot,yr}var Ia=$a();const Oa=ka(Ia),Wa="modulepreload",Ra=function(r){return"/TheBrothersBarberShop/"+r},yt={},hr=function(t,a,s){let n=Promise.resolve();if(a&&a.length>0){let d=function(m){return Promise.all(m.map(c=>Promise.resolve(c).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=d(a.map(m=>{if(m=Ra(m),m in yt)return;yt[m]=!0;const c=m.endsWith(".css"),b=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Wa,c||(f.as="script"),f.crossOrigin="",f.href=m,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};class Oe{static logError(t,a={}){const s={message:t.message,stack:t.stack,timestamp:new Date().toISOString(),context:a,url:window.location.href,userAgent:navigator.userAgent};this.sendToLoggingService(s)}static sendToLoggingService(t){}static logPerformance(t,a,s={}){}}const Qe="https://thebrothersbarbershop.onrender.com/api/v1",Fa="1.0.0",wt=r=>new Promise(t=>setTimeout(t,r));let te=null;const jt=r=>{te=r},Ie={async open(r){if(typeof caches=="undefined")return null;try{return await caches.open(r)}catch(t){return console.warn("Error al abrir cach√©:",t),null}},async delete(r){if(typeof caches=="undefined")return!1;try{return await caches.delete(r)}catch(t){return console.warn("Error al eliminar cach√©:",t),!1}},async keys(){if(typeof caches=="undefined")return[];try{return await caches.keys()}catch(r){return console.warn("Error al obtener keys de cach√©:",r),[]}}},ur={async get(r){const t=await Ie.open("api-cache");if(!t)return null;try{const a=await t.match(r);if(a){const s=await a.json();if(s.expiry&&s.expiry>Date.now())return s.value;await t.delete(r)}}catch(a){console.warn("Error al obtener del cach√©:",a)}return null},async set(r,t,a=3e5){const s=await Ie.open("api-cache");if(s)try{const n={value:t,expiry:Date.now()+a,timestamp:Date.now()},o=new Response(JSON.stringify(n));await s.put(r,o)}catch(n){console.warn("Error al guardar en cach√©:",n)}},async clear(){try{const r=await Ie.keys();await Promise.all(r.map(t=>Ie.delete(t)))}catch(r){console.warn("Error al limpiar cach√©:",r)}}},$e=async(r,t,a=3,s=1e3)=>{const n=t.headers&&t.headers["Content-Type"]==="multipart/form-data",o=r.includes("/inventory-snapshots"),i=n||o?3e4:1e4,l=new AbortController;let d;try{d=setTimeout(()=>l.abort(),i),t.headers={...t.headers,"X-Client-Version":Fa,"X-Request-ID":Math.random().toString(36).substring(7)},t.signal=l.signal;const m=performance.now(),c=await fetch(r,t),b=performance.now();if(clearTimeout(d),c.status===429&&a>0)return await wt(s),$e(r,t,a-1,s*2);if(!c.ok){let f;try{f=await c.text();try{f=JSON.parse(f)}catch{}}catch{f="Error desconocido"}const h=new Error(`HTTP error! status: ${c.status}
Endpoint: ${r}
Details: ${typeof f=="object"?JSON.stringify(f):f}`);throw h.response=c,h.data=f,h}return c}catch(m){if(d&&clearTimeout(d),m.name==="AbortError")throw new Error(`La operaci√≥n tard√≥ demasiado (m√°s de ${i/1e3}s). Esto puede deberse a problemas de conectividad.`);if(a>0&&(m.name==="TypeError"||m.message.includes("failed to fetch")))return await wt(s),$e(r,t,a-1,s*2);throw Oe.logError(m,{url:r,method:t.method,retries:a,operation:"fetchWithRetry"}),m}},Ha=()=>{console.log("üïê Sesi√≥n expirada - iniciando proceso de limpieza"),te?(console.log("üì¢ Mostrando notificaci√≥n de sesi√≥n expirada"),te.showSessionExpired()):(console.warn("‚ö†Ô∏è NotificationContext no disponible para mostrar sesi√≥n expirada"),alert("Tu sesi√≥n ha expirado. Ser√°s redirigido al login.")),localStorage.removeItem("token"),localStorage.removeItem("user"),ur.clear(),setTimeout(()=>{console.log("üîÑ Redirigiendo a login..."),window.location.href="/login"},2e3)},Ce=(r,t,a="")=>{if(console.log("üîê Manejando error de autenticaci√≥n:",{status:r.status,message:t.message,endpoint:a,data:t,notificationContext:!!te}),r.status===401){const s=t.message||"";throw a.includes("/auth/login")||a.includes("/auth/register")?new Error(s||"Error de autenticaci√≥n"):window.location.pathname==="/login"||window.location.pathname==="/register"?new Error(s||"Error de autenticaci√≥n"):s.toLowerCase().includes("expirado")||s.toLowerCase().includes("expired")||s.toLowerCase().includes("jwt")?(console.log("üïê Token expirado detectado, llamando handleSessionExpired"),Ha(),new Error("Tu sesi√≥n ha expirado. Por favor, inicia sesi√≥n nuevamente.")):s.toLowerCase().includes("no proporcionado")||s.toLowerCase().includes("token requerido")||s.toLowerCase().includes("acceso denegado")||s.toLowerCase().includes("unauthorized")?(console.log("üö´ Acceso no autorizado, mostrando notificaci√≥n"),te&&te.showError("Tu sesi√≥n ha expirado o no tienes los permisos necesarios. Redirigiendo al login...","Sesi√≥n Expirada"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Se requiere autenticaci√≥n. Redirigiendo al inicio de sesi√≥n...")):(console.log("‚ùå Otro error de autenticaci√≥n"),te&&te.showError("Error de autenticaci√≥n. Por favor, inicia sesi√≥n nuevamente.","Acceso Denegado"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3),new Error("Error de autenticaci√≥n. Redirigiendo al inicio de sesi√≥n..."))}},lr=r=>{if(te)if(r.message.includes("failed to fetch")||r.name==="TypeError")te.showConnectionError();else if(r.message.includes("429"))te.showWarning("El servidor est√° ocupado. Por favor, espera un momento y vuelve a intentarlo.","Servidor Ocupado");else{if(r.message.includes("HTTP error! status: 400"))return;if(r.message.includes("HTTP error! status: 401"))return;r.message.includes("HTTP error! status: 403")?te.showError("No tienes permisos para realizar esta acci√≥n.","Acceso Prohibido"):r.message.includes("HTTP error! status: 404")?te.showError("El recurso solicitado no fue encontrado.","No Encontrado"):r.message.includes("HTTP error! status: 500")?te.showError("Error interno del servidor. Por favor, int√©ntalo m√°s tarde.","Error del Servidor"):r.message.includes("HTTP error! status:")||te.showError(r.message,"Error de Servidor")}},Ke=()=>{const r=localStorage.getItem("token");if(!r)return null;try{const t=JSON.parse(atob(r.split(".")[1])),a=Math.floor(Date.now()/1e3);return t.exp&&t.exp<a?(console.log("üö® Token expirado, removiendo del localStorage"),localStorage.removeItem("token"),localStorage.removeItem("user"),null):r}catch(t){return console.error("‚ùå Error al validar token:",t),localStorage.removeItem("token"),localStorage.removeItem("user"),null}},_={get:async(r,t=!0,a=3e5)=>{try{const s=Ke(),n=`${Qe}${r}`;if(t){const l=await ur.get(n);if(l)return l}const o=await $e(n,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}}),i=await o.json();return Ce(o,i,r),t&&o.ok&&await ur.set(n,i,a),i}catch(s){if(console.log("üö® Error en api.get:",s),s.response&&s.data)try{Ce(s.response,s.data,r)}catch(n){throw n}throw lr(s),s}},post:async(r,t)=>{try{const a=Ke(),s=await $e(`${Qe}${r}`,{method:"POST",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}},body:JSON.stringify(t)}),n=await s.json();if(Ce(s,n,r),s.ok)try{const o=new RegExp(r.split("/")[1]),i=await Ie.open("api-cache");if(i){const l=await i.keys();for(const d of l)o.test(d.url)&&await i.delete(d)}}catch(o){console.warn("Error al invalidar cach√©:",o)}return n}catch(a){if(console.log("üö® Error en api.post:",a),a.response&&a.data){try{Ce(a.response,a.data,r)}catch(s){throw s}if(a.response.status===400&&te){const s=a.data;let n="Error de validaci√≥n";throw s!=null&&s.details&&Array.isArray(s.details)?n=`Error de validaci√≥n: ${s.details.map(i=>`${i.field}: ${i.message}`).join(", ")}`:s!=null&&s.message&&(n=s.message),te.showError(n,"Error de Validaci√≥n"),new Error(n)}}throw lr(a),a}},put:async(r,t,a={})=>{try{const s=Ke(),n=t instanceof FormData;console.log(`PUT ${r} - isFormData: ${n}`);const o={method:"PUT",headers:{...s&&{Authorization:`Bearer ${s}`},...a.headers}};n?o.body=t:(o.headers["Content-Type"]="application/json",o.body=t?JSON.stringify(t):void 0),console.log("Enviando request con headers:",o.headers);const i=await $e(`${Qe}${r}`,o);console.log("Response status:",i.status,"ok:",i.ok);const l=await i.json();if(console.log("Response data:",l),Ce(i,l,r),i.ok)try{const d=new RegExp(r.split("/")[1]),m=await Ie.open("api-cache");if(m){const c=await m.keys();for(const b of c)d.test(b.url)&&await m.delete(b)}}catch(d){console.warn("Error al invalidar cach√©:",d)}return l}catch(s){if(console.log("üö® Error en api.put:",s),s.response&&s.data){try{Ce(s.response,s.data,r)}catch(n){throw n}if(s.response.status===400&&te){const n=s.data;let o="Error de validaci√≥n";throw n!=null&&n.details&&Array.isArray(n.details)?o=`Error de validaci√≥n: ${n.details.map(l=>`${l.field}: ${l.message}`).join(", ")}`:n!=null&&n.message&&(o=n.message),te.showError(o,"Error de Validaci√≥n"),new Error(o)}}throw lr(s),s}},delete:async r=>{try{const t=Ke(),a=await $e(`${Qe}${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}),s=await a.json();if(Ce(a,s,r),a.ok)try{const n=new RegExp(r.split("/")[1]),o=await Ie.open("api-cache");if(o){const i=await o.keys();for(const l of i)n.test(l.url)&&await o.delete(l)}}catch(n){console.warn("Error al invalidar cach√©:",n)}return s}catch(t){if(console.log("üö® Error en api.delete:",t),t.response&&t.data){try{Ce(t.response,t.data,r)}catch(a){throw a}if(t.response.status===400&&te){const a=t.data;let s="Error de validaci√≥n";throw a!=null&&a.details&&Array.isArray(a.details)?s=`Error de validaci√≥n: ${a.details.map(o=>`${o.field}: ${o.message}`).join(", ")}`:a!=null&&a.message&&(s=a.message),te.showError(s,"Error de Validaci√≥n"),new Error(s)}}throw lr(t),t}},upload:async(r,t)=>{try{const a=Ke(),s=await $e(`${Qe}${r}`,{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:t}),n=await s.json();if(Ce(s,n,r),s.ok)try{const o=new RegExp(r.split("/")[1]),i=await Ie.open("api-cache");if(i){const l=await i.keys();for(const d of l)o.test(d.url)&&await i.delete(d)}}catch(o){console.warn("Error al invalidar cach√©:",o)}return n}catch(a){if(console.log("üö® Error en api.upload:",a),a.response&&a.data){try{Ce(a.response,a.data,r)}catch(s){throw s}if(a.response.status===400&&te){const s=a.data;let n="Error de validaci√≥n";throw s!=null&&s.details&&Array.isArray(s.details)?n=`Error de validaci√≥n: ${s.details.map(i=>`${i.field}: ${i.message}`).join(", ")}`:s!=null&&s.message&&(n=s.message),te.showError(n,"Error de Validaci√≥n"),new Error(n)}}throw lr(a),a}}},me={getAppointments:()=>_.get("/appointments",!0,6e4),getBarberAppointments:r=>_.get(`/appointments/barber/${r}`,!0,6e4),createAppointment:r=>_.post("/appointments",r),updateAppointment:(r,t)=>_.put(`/appointments/${r}`,t),cancelAppointment:(r,t)=>_.put(`/appointments/${r}/cancel`,{reason:t}),approveAppointment:r=>_.put(`/appointments/${r}/approve`,{}),completeAppointment:r=>_.put(`/appointments/${r}/complete`,{}),markNoShow:r=>_.put(`/appointments/${r}/no-show`,{}),deleteAppointment:r=>_.delete(`/appointments/${r}`),getAvailableTimes:(r,t)=>_.get(`/appointments/availability/${r}?date=${t}&duration=30`)},We={getAllBarbers:()=>_.get("/barbers",!0,3e5),getBarberById:r=>_.get(`/barbers/${r}`,!0,3e5),getBarberByUserId:r=>_.get(`/barbers/by-user/${r}`,!0,3e5),createBarber:r=>_.post("/barbers",r),updateBarber:(r,t)=>_.put(`/barbers/${r}`,t),removeBarber:r=>_.put(`/barbers/${r}/remove`),getBarberProfile:async()=>{const r=JSON.parse(localStorage.getItem("user")||"{}");if(!r._id)throw new Error("Usuario no autenticado");return _.get(`/barbers/by-user/${r._id}`,!0,3e5)},updateBarberProfile:(r,t)=>_.put(`/barbers/${r}`,t),updateMyProfile:async r=>{const t=JSON.parse(localStorage.getItem("user")||"{}");if(!t._id)throw new Error("Usuario no autenticado");const a=await _.get(`/barbers/by-user/${t._id}`,!1),s=a.data||a;if(!s||!s._id)throw new Error("No se pudo obtener el ID del barbero");return _.put(`/barbers/${s._id}/profile`,r)},getBarberStats:r=>_.get(`/barbers/${r}/stats`,!0,9e5)},Nt={getBarberSalesStats:(r,t={})=>{const a=new URLSearchParams(t).toString(),s=`/sales/barber/${r}/stats${a?`?${a}`:""}`;return _.get(s,!0,3e5)},getAvailableDates:(r=null)=>r?_.get(`/sales/barber/${r}/available-dates`,!0,3e5):_.get("/sales/available-dates",!0,3e5),getDailyReport:(r,t=null)=>{const a=new URLSearchParams({date:r});return t&&a.append("barberId",t),_.get(`/sales/daily-report?${a.toString()}`,!1)},getBarberRangeReport:(r,t,a)=>{const s=new URLSearchParams({type:r,date:t});return a&&s.append("barberId",a),_.get(`/sales/reports?${s.toString()}`,!1)},createSale:r=>_.post("/sales",r),createWalkInSale:r=>_.post("/sales/walk-in",r)},Ui={getBarberAppointmentStats:(r,t={})=>{const a=new URLSearchParams(t).toString(),s=`/appointments/barber/${r}/stats${a?`?${a}`:""}`;return _.get(s,!0,3e5)},getAvailableDates:r=>_.get(`/appointments/barber/${r}/available-dates`,!0,3e5),getDailyReport:(r,t=null)=>{const a=new URLSearchParams({date:r});return t&&a.append("barberId",t),_.get(`/appointments/daily-report?${a.toString()}`,!1)}},Jr={getAllServices:()=>_.get("/services",!0,3e5),getServiceById:r=>_.get(`/services/${r}`,!0,3e5),createService:r=>_.post("/services",r),updateService:(r,t)=>_.put(`/services/${r}`,t),deleteService:r=>_.delete(`/services/${r}`)},Va={getInventory:(r={})=>{const t=new URLSearchParams(r).toString();return _.get(`/inventory${t?`?${t}`:""}`,!0,3e5)},getInventoryItem:r=>_.get(`/inventory/${r}`,!0,3e5),createInventoryItem:r=>_.post("/inventory",r),updateInventoryItem:(r,t)=>_.put(`/inventory/${r}`,t),deleteInventoryItem:r=>_.delete(`/inventory/${r}`),adjustStock:(r,t)=>_.post(`/inventory/${r}/stock`,t),getLowStockItems:r=>_.get(`/inventory/low-stock${r?`?threshold=${r}`:""}`,!0,3e5),getItemsByCategory:r=>_.get(`/inventory/category/${r}`,!0,3e5),getMovementHistory:(r,t,a)=>{const s=new URLSearchParams;return t&&s.append("startDate",t),a&&s.append("endDate",a),_.get(`/inventory/${r}/history${s.toString()?`?${s.toString()}`:""}`,!0,3e5)},getStats:()=>_.get("/inventory/stats/overview",!0,3e5),getLogs:r=>_.get(`/inventory/logs${r?`?${r}`:""}`,!0,6e4),getLogStats:(r,t)=>{const a=new URLSearchParams;return r&&a.append("startDate",r),t&&a.append("endDate",t),_.get(`/inventory/logs/stats${a.toString()?`?${a.toString()}`:""}`,!0,3e5)},getDailyReport:r=>{const t=new URLSearchParams({date:r});return _.get(`/inventory/daily-report?${t.toString()}`,!1)}},Gi={createSnapshot:r=>_.post("/inventory-snapshots",r),getSnapshots:(r={})=>{const t=new URLSearchParams(r).toString();return _.get(`/inventory-snapshots${t?`?${t}`:""}`,!0,3e5)},getSnapshotById:r=>_.get(`/inventory-snapshots/${r}`,!0,3e5),deleteSnapshot:r=>_.delete(`/inventory-snapshots/${r}`),getStats:(r={})=>{const t=new URLSearchParams(r).toString();return _.get(`/inventory-snapshots/stats${t?`?${t}`:""}`,!0,3e5)},downloadSnapshot:async r=>{try{const t=Ke(),a=await $e(`${Qe}/inventory-snapshots/${r}/download`,{method:"GET",headers:{...t&&{Authorization:`Bearer ${t}`}}});if(!a.ok)throw new Error(`Error al descargar: ${a.status}`);return a.blob()}catch(t){throw console.error("Error al descargar inventario guardado:",t),t}}},Xe="https://thebrothersbarbershop.onrender.com/api/v1",qa="1.0.0",Ae=async(r,t,a=2,s=500)=>{try{t.headers={...t.headers,"X-Client-Version":qa,"X-Request-ID":Math.random().toString(36).substring(7)};const n=performance.now(),o=await fetch(r,t),i=performance.now();if(o.status===429&&a>0)return await new Promise(m=>setTimeout(m,s)),Ae(r,t,a-1,s*2);const l=o.headers.get("content-type");let d;if(l&&l.includes("application/json"))d=await o.json();else{const m=await o.text();console.error("Respuesta no JSON recibida:",m),d={message:"Error del servidor",error:m}}if(!o.ok)throw d.errors&&Array.isArray(d.errors)?new Error(d.errors.map(m=>m.msg).join(`
`)):o.status===401?new Error("Credenciales inv√°lidas"):o.status===403?new Error("No tienes permiso para realizar esta acci√≥n"):new Error(d.message||"Error en la autenticaci√≥n");return{response:o,data:d}}catch(n){if(a>0&&n.name==="TypeError")return await new Promise(o=>setTimeout(o,s)),Ae(r,t,a-1,s*2);throw n}},Te={register:async r=>{try{const{data:t}=await Ae(`${Xe}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return t}catch(t){throw console.error("Error en el registro:",t),new Error(t.message.includes("429")?"Demasiados intentos. Por favor, espera un momento.":t.message)}},login:async r=>{try{const{data:t,response:a}=await Ae(`${Xe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return t.token&&(localStorage.setItem("token",t.token),t.user&&localStorage.setItem("user",JSON.stringify(t.user)),await ur.clear()),t}catch(t){throw console.error("Error en el login:",t),new Error(t.message.includes("429")?"Demasiados intentos de inicio de sesi√≥n. Por favor, espera un momento.":t.message)}},logout:async()=>{try{const r=localStorage.getItem("token");if(r)try{await Ae(`${Xe}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})}catch(t){console.warn("Error en logout del servidor:",t)}}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),await ur.clear()}},verifyEmail:async r=>{try{const{data:t}=await Ae(`${Xe}/auth/verify-email/${r}`,{method:"GET"});return t}catch(t){throw console.error("Error en verificaci√≥n de email:",t),new Error(t.message||"Error al verificar el email")}},requestPasswordReset:async r=>{try{const{data:t}=await Ae(`${Xe}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})});return t}catch(t){throw console.error("Error en solicitud de reset de password:",t),new Error(t.message.includes("429")?"Demasiadas solicitudes. Por favor, espera unos minutos.":t.message)}},resetPassword:async(r,t)=>{try{const{data:a}=await Ae(`${Xe}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:t})});return a}catch(a){throw console.error("Error en reset de password:",a),new Error(a.message||"Error al restablecer la contrase√±a")}},refreshToken:async()=>{try{const r=localStorage.getItem("token");if(!r)throw new Error("No hay token para refrescar");const t=Te.getCurrentUser();if(!t)throw new Error("No hay usuario autenticado");return{token:r,user:t}}catch(r){throw console.error("Error refreshing token:",r),await Te.logout(),new Error("Tu sesi√≥n ha expirado. Por favor, inicia sesi√≥n nuevamente.")}},getCurrentUser:()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null}},Ut=x.createContext();function Ya({children:r}){const[t,a]=x.useState(()=>Te.getCurrentUser()),[s,n]=x.useState(()=>localStorage.getItem("token")),[o,i]=x.useState(null),[l,d]=x.useState(!0),[m,c]=x.useState(null),[b,f]=x.useState(null),h=x.useRef(null),g=S=>{a(S),S?localStorage.setItem("user",JSON.stringify(S)):localStorage.removeItem("user")},v=x.useCallback(()=>{b&&clearInterval(b);const S=setInterval(async()=>{try{await Te.refreshToken()}catch(D){console.error("Error al refrescar el token:",D),B()}},840*1e3);return f(S),()=>clearInterval(S)},[]);x.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)==="barber"&&s&&t._id)try{const D=await We.getBarberByUserId(t._id);i(D.data)}catch(D){Oe.logError(D,{context:"AuthContext_loadBarberProfile",userId:t._id,userRole:t.role}),console.error("Error al cargar perfil de barbero:",D),c("Error al cargar perfil de barbero")}d(!1)})()},[t==null?void 0:t._id,s]);const y=x.useCallback(async()=>{if(!s)return!1;try{return await Te.validateToken()?!0:(Oe.logError(new Error("Token inv√°lido detectado"),{context:"AuthContext_validateToken",userId:t==null?void 0:t._id}),B(),!1)}catch(S){return Oe.logError(S,{context:"AuthContext_validateToken",userId:t==null?void 0:t._id}),!1}},[s,t==null?void 0:t._id]);x.useEffect(()=>{if(s){const S=v();return h.current=setInterval(y,300*1e3),()=>{S(),b&&clearInterval(b),h.current&&clearInterval(h.current)}}},[s]);const k=async S=>{try{let D=await We.getBarberByUserId(S);return D.success||(D=await We.createBarber({user:S})),i(D.data),D}catch(D){throw console.error("Error al verificar/crear perfil de barbero:",D),c("Error al gestionar perfil de barbero"),D}},C=async(S,D)=>{try{d(!0),c(null);const T=await Te.login({email:S,password:D});if(!T.token||!T.user)throw new Error("Datos de autenticaci√≥n inv√°lidos");const U={...T.user,photo:T.user.photo||null,_id:T.user._id||T.user.id};return g(U),n(T.token),T.user.role==="barber"&&await k(T.user._id),v(),!0}catch(T){console.error("Error durante el login:",T);let U="Error al iniciar sesi√≥n";return T.message.includes("Credenciales inv√°lidas")||T.message.includes("Invalid credentials")?U="Email o contrase√±a incorrectos":T.message.includes("usuario no encontrado")||T.message.includes("User not found")?U="Usuario no encontrado":(T.message.includes("network")||T.message.includes("fetch"))&&(U="Error de conexi√≥n. Verifica tu internet"),c(U),!1}finally{d(!1)}},B=async()=>{try{d(!0),await Te.logout()}catch(S){console.error("Error durante el logout:",S)}finally{g(null),n(null),i(null),b&&clearInterval(b),d(!1)}},W={user:t,token:s,login:C,logout:B,setUser:g,barberProfile:o,setBarberProfile:i,checkAndCreateBarberProfile:k,loading:l,error:m,refreshToken:Te.refreshToken};return e.jsx(Ut.Provider,{value:W,children:r})}function oe(){const r=x.useContext(Ut);if(!r)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return r}const Ua="/TheBrothersBarberShop/",Vr=r=>{const t=r.startsWith("/")?r.slice(1):r;return`${Ua}${t}`},Se=r=>Vr(`images/${r}`),ar={main:()=>Se("logo 1.png"),navbar:()=>Se("logo 5.1.png"),fallback:()=>Se("logo 4.png"),logo1_1:()=>Se("logo 1.1.png"),logo1_2:()=>Se("logo 1.2.png"),logo2:()=>Se("logo 2.png"),logo3:()=>Se("logo 3.png"),logo5:()=>Se("logo 5.png")},Qr={avatar:()=>Vr("images/default-avatar.png"),profile:()=>Vr("images/default-profile.png"),avatarFallback:()=>Se("logo 1.png"),profileFallback:()=>Se("logo 1.png")},Ga="h-14 sm:h-16",Xa=({user:r})=>{var s,n,o,i;const[t,a]=x.useState(!1);return x.useEffect(()=>{function l(d){d.target.closest(".dropdown-menu")||a(!1)}return t&&document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[t]),e.jsxs("div",{className:"relative dropdown-menu",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center space-x-3 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-blue-400/50 hover:scale-105 border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[r.profilePicture?e.jsx("img",{src:r.profilePicture,alt:r.name||"Usuario",className:"w-8 h-8 rounded-full object-cover border-2 border-white/30 shadow-lg"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-red-600 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:((n=(s=r.name)==null?void 0:s[0])==null?void 0:n.toUpperCase())||((i=(o=r.email)==null?void 0:o[0])==null?void 0:i.toUpperCase())||"?"}),e.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent",children:r.name||r.email})]}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 text-blue-300 ${t?"transform rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-gray-900/95 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl py-2 z-50 transform opacity-100 scale-100 transition-all duration-200",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[e.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Conectado como"}),e.jsx("p",{className:"text-sm font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent truncate",children:r.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(V,{to:"/profile",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Mi Perfil"})]}),e.jsxs(V,{to:"/profile-edit",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Editar Perfil"})]})]}),(r.role==="admin"||r.role==="barber")&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-2 border-t border-white/10 mt-2",children:[e.jsx("div",{className:"px-4 py-2",children:e.jsx("p",{className:"text-xs font-medium bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent uppercase tracking-wider",children:r.role==="admin"?"Administraci√≥n":"Gesti√≥n"})}),e.jsxs(V,{to:"/admin/inventory",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Control de Inventario"})]}),r.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs(V,{to:"/admin/sales",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-green-100",children:"Punto de Venta"})]}),e.jsxs(V,{to:"/admin/services",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Gesti√≥n de Servicios"})]}),e.jsxs(V,{to:"/admin/barbers",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-blue-300 group-hover:text-blue-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-blue-100 group-hover:via-white group-hover:to-red-100",children:"Gesti√≥n de Barberos"})]}),e.jsxs(V,{to:"/admin/roles",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-red-300 group-hover:text-red-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100",children:"Gesti√≥n de Roles"})]}),e.jsxs(V,{to:"/admin/reports",onClick:()=>a(!1),className:"group flex items-center px-4 py-2.5 text-sm hover:bg-white/10 transition-all duration-200 rounded-lg mx-2",children:[e.jsx("svg",{className:"mr-3 h-4 w-4 text-green-300 group-hover:text-green-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-green-100 group-hover:via-white group-hover:to-blue-100",children:"Reportes Diarios"})]})]})]})})]})]})},Ja=()=>{var b,f,h,g;const{user:r,logout:t}=oe(),a=xr(),s=Yr(),[n,o]=x.useState(!1),[i,l]=x.useState(!1),[d,m]=x.useState(!1);x.useEffect(()=>{const v=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),x.useEffect(()=>{l(!1)},[s.pathname]);const c=()=>{t(),a("/")};return e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-gradient-to-r from-gray-900/95 via-blue-900/95 to-gray-800/95 shadow-2xl":"bg-gradient-to-r from-gray-900/90 via-blue-900/90 to-gray-800/90"} backdrop-blur-lg ${Ga}`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #1e40af 0px, transparent 2px),
                         radial-gradient(circle at 75% 75%, #dc2626 0px, transparent 1px),
                         radial-gradient(circle at 50% 50%, #ffffff 0px, transparent 0.5px)`,backgroundSize:"50px 50px, 30px 30px, 20px 20px"}}),e.jsx("div",{className:"absolute top-0 w-full h-1 bg-gradient-to-r from-red-600 via-white to-blue-600"}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:e.jsxs("div",{className:"flex justify-between items-center h-full",children:[e.jsxs(V,{to:"/",className:"flex items-center space-x-3 group",children:[d?e.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-2 rounded-full shadow-lg transform group-hover:scale-105 transition-transform duration-200 border border-white/20",children:e.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-red-400 via-white to-blue-400 bg-clip-text text-transparent",children:"TBB"})}):e.jsx("img",{src:ar.navbar(),alt:"The Brothers Barber Shop",className:"h-12 w-auto transform group-hover:scale-105 transition-transform duration-200",onError:()=>m(!0)}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"The Brother's"}),e.jsx("div",{className:"text-xs text-white/80 font-serif italic mt-0.5",children:"Barber Shop"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r&&e.jsx(e.Fragment,{children:r.role==="barber"?e.jsxs(V,{to:"/admin/sales",className:"relative px-4 py-2 font-medium text-sm group",children:[e.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Punto de Venta"}),e.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-red-500/20 to-blue-500/20 rounded-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-gradient-to-r from-red-600 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"})]}):e.jsxs(V,{to:"/barbers",className:"relative px-4 py-2 font-medium text-sm group",children:[e.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Barberos"}),e.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-red-500/20 to-blue-500/20 rounded-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 w-full bg-gradient-to-r from-red-600 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"})]})}),r?e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs(V,{to:"/appointment",className:"relative px-4 py-2 font-medium text-sm group",children:[e.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300",children:"Reservas"}),e.jsx("div",{className:"absolute inset-0 h-full w-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200 bg-gradient-to-r from-blue-500/20 to-red-500/20 rounded-lg"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Xa,{user:r}),e.jsx("button",{onClick:c,className:"relative inline-flex items-center justify-center px-4 py-2.5 overflow-hidden rounded-xl group bg-red-500/20 border border-red-400/30 hover:bg-red-500/30 transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:e.jsx("span",{className:"relative bg-gradient-to-r from-red-200 via-red-100 to-red-200 bg-clip-text text-transparent group-hover:from-white group-hover:via-red-100 group-hover:to-white font-medium",children:"Salir"})})]})]}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(V,{to:"/login",className:"relative overflow-hidden px-6 py-2.5 rounded-xl group bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 shadow-lg hover:shadow-xl hover:shadow-red-500/25 transition-all duration-300 hover:scale-105",children:[e.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent font-medium",children:"Iniciar Sesi√≥n"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-red-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx(V,{to:"/register",className:"relative overflow-hidden px-6 py-2.5 rounded-xl group border-2 border-white/20 hover:border-red-400/50 transition-all duration-300 backdrop-blur-sm bg-white/5 hover:bg-white/10 hover:scale-105",children:e.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white via-blue-100 to-red-100 bg-clip-text text-transparent group-hover:from-red-100 group-hover:via-white group-hover:to-blue-100 transition-all duration-300 font-medium",children:"Registro"})})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsxs("button",{className:"md:hidden ml-2 inline-flex items-center justify-center p-2.5 rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-blue-400/50 hover:scale-105",onClick:()=>l(!i),"aria-expanded":"false",children:[e.jsx("span",{className:"sr-only",children:"Abrir men√∫ principal"}),i?e.jsx("svg",{className:"block h-5 w-5 text-purple-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-5 w-5 text-blue-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),e.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${i?"opacity-100 max-h-screen":"opacity-0 max-h-0 pointer-events-none overflow-hidden"}`,children:e.jsxs("div",{className:"mx-4 my-2 bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl border border-gray-700/50 rounded-2xl shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/30 via-black/20 to-gray-900/30",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-500/5 via-transparent to-blue-500/5"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239BA9B4' fill-opacity='0.05'%3E%3Cpath d='M40 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V10h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 14v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx("div",{className:"absolute inset-0",style:{background:`
                linear-gradient(to right, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%),
                linear-gradient(to bottom, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%)
              `}})]}),e.jsxs("div",{className:"relative z-10 p-4",children:[r&&e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-700/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[r.profilePicture?e.jsx("img",{src:r.profilePicture,alt:r.name||"Usuario",className:"w-10 h-10 rounded-full object-cover border-2 border-white/30 shadow-lg"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-600 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:((f=(b=r.name)==null?void 0:b[0])==null?void 0:f.toUpperCase())||((g=(h=r.email)==null?void 0:h[0])==null?void 0:g.toUpperCase())||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:r.name||r.email}),e.jsx("p",{className:"text-xs text-gray-400",children:r.role==="admin"?"Administrador":r.role==="barber"?"Barbero":"Cliente"})]})]})}),e.jsx("div",{className:"space-y-2",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[r.role==="barber"?e.jsxs(V,{to:"/admin/sales",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-green-400 group-hover:text-green-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),e.jsx("span",{className:"text-white group-hover:text-green-300 transition-colors",children:"Punto de Venta"})]}):e.jsxs(V,{to:"/barbers",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-400 group-hover:text-blue-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:"Barberos"})]}),e.jsxs(V,{to:"/appointment",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-400 group-hover:text-blue-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:"Reservas"})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-700/30",children:[e.jsx("p",{className:"px-4 py-2 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Perfil"}),e.jsxs(V,{to:"/profile",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-400 group-hover:text-blue-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:"Mi Perfil"})]}),e.jsxs(V,{to:"/profile-edit",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-red-400 group-hover:text-red-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"text-white group-hover:text-red-300 transition-colors",children:"Editar Perfil"})]})]}),(r.role==="admin"||r.role==="barber")&&e.jsxs("div",{className:"pt-2 border-t border-gray-700/30",children:[e.jsx("p",{className:"px-4 py-2 text-xs font-medium text-gray-400 uppercase tracking-wider",children:r.role==="admin"?"Administraci√≥n":"Gesti√≥n"}),e.jsxs(V,{to:"/admin/inventory",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-400 group-hover:text-blue-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:"Control de Inventario"})]}),r.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs(V,{to:"/admin/sales",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-green-400 group-hover:text-green-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5L2 21m5-8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-9 2V9a2 2 0 012-2h2a2 2 0 012 2v4.01"})}),e.jsx("span",{className:"text-white group-hover:text-green-300 transition-colors",children:"Punto de Venta"})]}),e.jsxs(V,{to:"/admin/services",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-red-400 group-hover:text-red-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),e.jsx("span",{className:"text-white group-hover:text-red-300 transition-colors",children:"Gesti√≥n de Servicios"})]}),e.jsxs(V,{to:"/admin/barbers",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-blue-400 group-hover:text-blue-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:"Gesti√≥n de Barberos"})]}),e.jsxs(V,{to:"/admin/roles",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-red-400 group-hover:text-red-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),e.jsx("span",{className:"text-white group-hover:text-red-300 transition-colors",children:"Gesti√≥n de Roles"})]}),e.jsxs(V,{to:"/admin/reports",className:"group flex items-center px-4 py-3 rounded-xl text-base font-medium hover:bg-white/10 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-green-400 group-hover:text-green-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{className:"text-white group-hover:text-green-300 transition-colors",children:"Reportes Diarios"})]})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-700/30",children:e.jsxs("button",{onClick:c,className:"group flex items-center w-full px-4 py-3 rounded-xl text-base font-medium hover:bg-red-500/20 transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-red-400 group-hover:text-red-300 transition-colors",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{className:"text-white group-hover:text-red-300 transition-colors",children:"Cerrar Sesi√≥n"})]})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(V,{to:"/login",className:"block w-full text-center px-6 py-3 rounded-xl bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 transition-all duration-200 shadow-lg transform hover:scale-105",children:e.jsx("span",{className:"text-white font-medium",children:"Iniciar Sesi√≥n"})}),e.jsx(V,{to:"/register",className:"block w-full text-center px-6 py-3 rounded-xl border-2 border-white/20 hover:border-red-400/50 hover:bg-white/10 transition-all duration-200 backdrop-blur-sm transform hover:scale-105",children:e.jsx("span",{className:"text-white font-medium",children:"Registro"})})]})})]})]})})]})},Qa=()=>e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(Ja,{}),e.jsx("main",{className:"container mx-auto px-4 py-8 shadow-lg shadow-blue-500/20 rounded-lg",children:e.jsx(Rr,{})})]})]}),Gt=x.createContext(),De=()=>{const r=x.useContext(Gt);if(!r)throw new Error("useNotification debe ser usado dentro de NotificationProvider");return r},Ka=({children:r})=>{const[t,a]=x.useState([]),s=g=>{const v=Date.now()+Math.random(),y={id:v,type:"info",title:"",message:"",duration:5e3,autoClose:!0,...g};return t.some(C=>C.message===y.message&&C.type===y.type&&Date.now()-C.id<1e3)?(console.log("Notificaci√≥n duplicada ignorada:",y.message),v):(a(C=>[...C,y]),y.autoClose&&setTimeout(()=>{n(v)},y.duration),v)},n=g=>{a(v=>v.filter(y=>y.id!==g))},h={notifications:t,addNotification:s,removeNotification:n,clearAllNotifications:()=>{a([])},showSuccess:(g,v="√âxito")=>s({type:"success",title:v,message:g,duration:4e3}),showError:(g,v="Error")=>s({type:"error",title:v,message:g,duration:8e3}),showWarning:(g,v="Advertencia")=>s({type:"warning",title:v,message:g,duration:6e3}),showInfo:(g,v="Informaci√≥n")=>s({type:"info",title:v,message:g,duration:5e3}),showSessionExpired:()=>s({type:"warning",title:"Sesi√≥n Expirada",message:"Tu sesi√≥n ha expirado. Ser√°s redirigido al login en unos segundos...",duration:4e3,autoClose:!0}),showConnectionError:()=>s({type:"error",title:"Error de Conexi√≥n",message:"No se pudo conectar con el servidor. Verifica tu conexi√≥n a internet.",duration:8e3,autoClose:!0}),showAuthRequired:()=>s({type:"info",title:"Autenticaci√≥n Requerida",message:"Necesitas iniciar sesi√≥n para acceder a esta funci√≥n. Redirigiendo...",duration:4e3,autoClose:!0})};return e.jsx(Gt.Provider,{value:h,children:r})},Za=()=>{const{notifications:r,removeNotification:t}=De();if(r.length===0)return null;const a=o=>{const i="relative overflow-hidden backdrop-blur-md border rounded-lg shadow-lg transition-all duration-300 ease-in-out transform";switch(o){case"success":return`${i} bg-green-500/10 border-green-500/30 text-green-100`;case"error":return`${i} bg-red-500/10 border-red-500/30 text-red-100`;case"warning":return`${i} bg-yellow-500/10 border-yellow-500/30 text-yellow-100`;case"info":default:return`${i} bg-blue-500/10 border-blue-500/30 text-blue-100`}},s=o=>{switch(o){case"success":return e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},n=o=>{switch(o){case"success":return"bg-green-400";case"error":return"bg-red-400";case"warning":return"bg-yellow-400";case"info":default:return"bg-blue-400"}};return e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:r.map(o=>e.jsxs("div",{className:a(o.type),role:"alert",children:[o.autoClose&&e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-600 w-full",children:e.jsx("div",{className:`h-full ${n(o.type)} transition-all ease-linear`,style:{animation:`shrink ${o.duration}ms linear forwards`}})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:s(o.type)}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[o.title&&e.jsx("p",{className:"text-sm font-medium",children:o.title}),e.jsx("p",{className:`text-sm ${o.title?"mt-1":""}`,children:o.message})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:e.jsx("button",{onClick:()=>t(o.id),className:"inline-flex text-gray-400 hover:text-gray-300 focus:outline-none focus:text-gray-300 transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})]},o.id))})},es=()=>{const r=De();return x.useEffect(()=>(jt(r),()=>{jt(null)}),[r]),r},Xt=x.createContext(),rs=()=>{const r=x.useContext(Xt);if(!r)throw new Error("useInventoryRefresh debe ser usado dentro de InventoryProvider");return r},ts=({children:r})=>{const[t,a]=x.useState(0),[s,n]=x.useState(null),o=x.useCallback(()=>{const m=Date.now();n(m),a(c=>c+1),console.log("üîÑ InventoryContext: Notificando venta, trigger:",t+1)},[t]),i=x.useCallback(m=>!s||!m?!1:s>m,[s]),l=x.useCallback(()=>Date.now(),[]),d={refreshTrigger:t,lastSaleTime:s,notifySale:o,needsRefresh:i,markRefreshed:l};return e.jsx(Xt.Provider,{value:d,children:r})},de=({children:r,variant:t="primary",size:a="md",gradient:s="barber",loading:n=!1,disabled:o=!1,className:i="",onClick:l,type:d="button",loadingText:m="Cargando...",...c})=>{const[b,f]=x.useState(!1),g={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-xl px-8 py-4",xl:"text-2xl px-10 py-5"}[a];return e.jsxs("button",{type:d,onClick:l,disabled:o||n,"aria-disabled":o||n,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:`
        relative isolate inline-flex items-center justify-center whitespace-nowrap
        rounded-2xl font-semibold tracking-wide 
        shadow-[0_4px_12px_rgba(0,0,0,0.2)] border border-slate-600/40
        outline-none transition-all duration-400 overflow-hidden
        active:scale-[0.98] focus:ring-3 focus:ring-blue-400/40
        bg-slate-600 min-w-fit
        ${g}
        ${o||n?"opacity-60 cursor-not-allowed":"hover:shadow-[0_8px_20px_rgba(220,38,38,0.15)] hover:scale-[1.01]"}
        ${i}
      `,...c,children:[e.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[n&&e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white/90",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"relative",children:t==="outline"?e.jsx("span",{className:"font-extrabold bg-gradient-to-r from-red-400 via-white to-blue-400 bg-clip-text text-transparent",children:n?m:r}):e.jsx("span",{className:"font-bold tracking-wide",style:{color:"#1e293b",textShadow:`
                  0 1px 2px rgba(255, 255, 255, 0.3),
                  0 0 4px rgba(255, 255, 255, 0.2)
                `,filter:"contrast(1.2)",letterSpacing:"0.02em"},children:n?m:r})})]}),t==="primary"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl",style:{background:`repeating-linear-gradient(
                -45deg,
                #a84949ff 0px,
                #e75757 12.5px,
                #dc2626 25px,
                #ffffff 25px,
                #ffffff 50px,
                #2563eb 50px,
                #4e7beb 62.5px,
                #2563eb 75px,
                #ffffff 75px,
                #ffffff 100px
              )`,backgroundSize:"141.42px 141.42px",animation:b?"barberPoleSynced 3s linear infinite":"none",opacity:.95,border:"2px solid rgba(59, 130, 246, 0.6)",boxShadow:`
                0 0 15px rgba(59, 130, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1)
              `},children:e.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
                  135deg,
                  rgba(0, 0, 0, 0.05) 0%,
                  transparent 50%,
                  rgba(255, 255, 255, 0.05) 100%
                )`,mixBlendMode:"soft-light"}})}),e.jsx("style",{children:`
            @keyframes barberPoleSynced {
              0% {
                background-position: 0px 0px;
              }
              100% {
                background-position: 141.42px 0px;
              }
            }
          `})]}),t==="secondary"&&e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-[#1a1f3c]/80 backdrop-blur-md"}),t==="outline"&&e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-transparent"}),t==="ghost"&&e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl bg-white/5 backdrop-blur-md"}),e.jsx("span",{"aria-hidden":!0,className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:e.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(
              to bottom,
              rgba(255, 255, 255, 0.08) 0%,
              rgba(255, 255, 255, 0.03) 40%,
              transparent 100%
            )`,transition:"opacity 400ms ease",opacity:b?.7:.5}})})]})},ae=({children:r,className:t=""})=>e.jsxs("div",{className:`relative min-h-screen w-full pt-10 sm:pt-12 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden ${t}`,style:{isolation:"isolate"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/3 via-blue-900/3 to-red-900/3"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsx("div",{className:"relative z-10",children:r})]}),as=r=>{const t=x.useRef(Date.now()),a=x.useRef(0);return x.useEffect(()=>{if(a.current+=1,a.current===1){const n=Date.now()-t.current;Oe.logPerformance(`${r}_mount`,n,{component:r,type:"mount"})}return()=>{if(a.current===1){const n=Date.now()-t.current;Oe.logPerformance(`${r}_total_time`,n,{component:r,type:"total_lifecycle",renders:a.current})}}}),{logAction:(n,o={})=>{const i=performance.now();return{end:()=>{const l=performance.now()-i;Oe.logPerformance(`${r}_${n}`,l,{component:r,action:n,...o})}}},renderCount:a.current}},ss=x.memo(({barber:r})=>{var n,o,i,l;const t=d=>{d.target.onerror=null,d.target.src=Qr.profile(),d.target.classList.add("fallback-image")},a=d=>{if(!d)return null;if(typeof d=="object"){const m=d.average||0,c=d.count||0;return`${m.toFixed(1)} (${c})`}return d},s=r.user||{};return e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-300 bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900",children:[e.jsx("div",{className:"aspect-[4/5] w-full relative",children:(n=s.photo)!=null&&n.url||(o=r.photo)!=null&&o.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:((i=s.photo)==null?void 0:i.url)||((l=r.photo)==null?void 0:l.url),alt:s.name||"Barbero",className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity",onError:t}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-800 via-blue-900/50 to-gray-900",children:e.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur",children:e.jsx("svg",{className:"w-20 h-20 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})})}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-6",children:e.jsx("div",{className:"transform transition-transform group-hover:translate-y-0 translate-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-blue-400 transition-colors",children:s.name||r.name||"Nombre no disponible"}),e.jsx("p",{className:"text-gray-300 text-sm",children:r.specialty||"Barbero Profesional"}),e.jsxs("div",{className:"flex flex-wrap gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300 delay-100",children:[r.experience&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-700 backdrop-blur-sm",children:[r.experience," de experiencia"]}),a(r==null?void 0:r.rating)&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-700 backdrop-blur-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a(r.rating)]})]})]})})})]})});function ns(){const[r,t]=x.useState([]),[a,s]=x.useState([]),[n,o]=x.useState(!0),[i,l]=x.useState(null),[d,m]=x.useState(!1),{user:c,accessToken:b}=oe(),{logAction:f}=as("Home");return x.useEffect(()=>{if(d)return;(async()=>{const g=f("data_fetch");try{console.log("Iniciando fetch de datos...");const[v,y]=await Promise.all([_.get("/services"),_.get("/barbers")]);if(console.log("Respuesta de servicios:",v),console.log("Respuesta de barberos:",y),!v.success||!y.success)throw new Error("Error al cargar los datos");const k=v.data||[],C=y.data||[];console.log("Datos de barberos recibidos:",C);const B=C.filter(W=>(console.log("Evaluando barbero:",W),W.user&&W.user.role==="barber"&&W.user.isActive!==!1&&W.isActive!==!1));console.log("Barberos activos filtrados:",B),t(k.slice(0,6)),s(B),m(!0),g.end()}catch(v){console.error("Error completo:",v),Oe.logError(v,{context:"Home_fetchData",userId:c==null?void 0:c._id,servicesCount:r.length,barbersCount:a.length}),l(v.message),g.end()}finally{o(!1)}})()},[]),e.jsxs(ae,{children:[!c&&e.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/30 via-black/20 to-gray-900/30",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-500/5 via-transparent to-blue-500/5"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239BA9B4' fill-opacity='0.05'%3E%3Cpath d='M40 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V10h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 44v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM20 14v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx("div",{className:"absolute inset-0",style:{background:`
                                linear-gradient(to right, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%),
                                linear-gradient(to bottom, rgba(17, 24, 39, 0.3) 0px, transparent 2px, transparent calc(100% - 2px), rgba(17, 24, 39, 0.3) 100%)
                            `}})]}),e.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center px-4 sm:px-6 py-8 sm:py-12",children:e.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 sm:mb-12",children:[e.jsxs("div",{className:"relative mx-auto w-48 sm:w-56 md:w-64 lg:w-72 xl:w-80 mb-6 sm:mb-8 transform hover:scale-105 transition-all duration-500",children:[e.jsx("img",{src:ar.main(),alt:"The Brothers Barber Shop",className:"w-full h-auto filter drop-shadow-[0_0_30px_rgba(59,130,246,0.6)]",onError:h=>{h.target.style.display="none",h.target.nextElementSibling.style.display="block"}}),e.jsx("div",{className:"hidden text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-black text-center tracking-tight",style:{textShadow:"0 0 30px rgba(59, 130, 246, 0.6)"},children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-blue-200 to-blue-400",children:"The Brothers"})})]}),e.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold mb-4 sm:mb-6 leading-tight px-2",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Donde el estilo se encuentra"}),e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"con la tradici√≥n"})]})]}),e.jsxs("div",{className:"mb-8 sm:mb-12 space-y-6 sm:space-y-8 px-2",children:[e.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Experimenta un corte de pelo que define tu personalidad.",e.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Tradici√≥n, calidad y estilo en cada corte."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-700/30 hover:border-red-500/30 transition-all duration-300",children:[e.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Reservas Online"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Agenda tu cita 24/7"})]}),e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-700/30 hover:border-blue-500/30 transition-all duration-300",children:[e.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),e.jsx("h3",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Barberos Expertos"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Profesionales certificados"})]}),e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-700/30 hover:border-red-500/30 transition-all duration-300",children:[e.jsx("div",{className:"mb-3 sm:mb-4 mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("h3",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Calidad Premium"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Los mejores productos"})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(de,{variant:"primary",size:"lg",className:"inline-flex items-center justify-center whitespace-nowrap px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-xl sm:rounded-2xl shadow-lg transform hover:scale-105 transition-all duration-300 min-w-fit",onClick:()=>window.location.href="/appointment",children:e.jsxs("span",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:"hidden sm:inline",children:"Reserva tu cita ahora"}),e.jsx("span",{className:"sm:hidden",children:"Reservar cita"}),e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 transform group-hover:translate-x-1 transition-transform flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 lg:gap-8 text-xs sm:text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Sin compromiso"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Cancelaci√≥n gratuita"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirmaci√≥n inmediata"]})]})]})]})}),e.jsx("div",{className:"relative z-10 pb-8 flex justify-center",children:e.jsx("div",{className:"animate-bounce",children:e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}),e.jsxs("section",{className:`${c?"py-6 sm:py-8 lg:py-12":"py-16 sm:py-24 lg:py-32"} px-4 relative bg-gradient-to-b from-black via-gray-900 to-black`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),e.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%235a67d8' fill-opacity='0.1'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"container mx-auto relative",children:[c&&e.jsx("div",{className:"relative z-10 mb-6 sm:mb-8 px-2 sm:px-0",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-xl border border-gray-700/50 rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-2xl max-w-full",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("div",{className:"flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30 flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-white text-xs sm:text-sm truncate",children:"Bienvenido,"}),e.jsx("p",{className:"font-bold text-blue-400 text-sm sm:text-base truncate",children:c.username||c.name||c.email}),c.role==="admin"&&e.jsx("span",{className:"inline-block mt-0.5 sm:mt-1 px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-blue-600/30 to-red-600/30 border border-blue-500/30 text-blue-400 rounded-full text-xs font-medium",children:c.role})]})]})})})}),e.jsxs("div",{className:`text-center max-w-4xl mx-auto ${c?"mb-8 sm:mb-12":"mb-12 sm:mb-20"} px-2 sm:px-0`,children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 border border-red-500/30 rounded-full text-red-400 text-sm font-medium uppercase tracking-wider",children:"Nuestros Servicios"})}),e.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold mb-6 sm:mb-8 leading-tight",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Servicios Profesionales"}),e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"de Barber√≠a"})]}),e.jsxs("p",{className:"text-base sm:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Ofrecemos una amplia gama de servicios de barber√≠a profesional",e.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"para que luzcas tu mejor versi√≥n"})]})]}),n?e.jsx("div",{className:"flex justify-center py-16",children:e.jsx("div",{className:"relative w-16 h-16",children:e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"w-full h-full border-4 border-blue-500/20 rounded-full"}),e.jsx("div",{className:"w-full h-full border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]})})}):r.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mb-6 mx-auto w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No hay servicios disponibles en este momento."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10 px-2 sm:px-0",children:r.slice(0,6).map((h,g)=>e.jsxs("div",{className:`group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-2xl sm:rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-2 hover:shadow-[0_20px_60px_rgba(220,38,38,0.25)] ${g===0?"md:col-span-2 lg:col-span-1":""}`,style:{animationDelay:`${g*100}ms`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 relative",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-xl sm:rounded-2xl flex items-center justify-center border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-400 group-hover:text-blue-400 transition-colors duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.414 5l5.293 5.293a1 1 0 0 1 0 1.414L15.414 17H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h9.414z M12 12h.01"})})}),g===0&&e.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 bg-gradient-to-r from-red-600 to-blue-600 text-white text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:"Popular"})]}),e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h3",{className:"font-bold text-xl sm:text-2xl lg:text-3xl mb-2 sm:mb-3 text-white group-hover:text-blue-400 transition-colors duration-500 leading-tight",children:h.name}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed line-clamp-3",children:h.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-blue-400 font-bold text-2xl sm:text-3xl",children:["$",h.price]}),e.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Precio final"})]}),e.jsx(V,{to:"/appointment",className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-600/20 to-blue-600/20 hover:from-red-600/40 hover:to-blue-600/40 border border-red-500/30 hover:border-blue-500/50 rounded-full text-red-400 hover:text-blue-400 transition-all duration-500 transform hover:scale-110 flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]})]})]},h._id))})]})]}),e.jsxs("section",{className:"py-16 sm:py-24 lg:py-32 px-4 bg-gradient-to-b from-black via-gray-900 to-black relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-blue-900/10 to-red-900/10"}),e.jsx("div",{className:"absolute inset-0 opacity-25",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23dc2626' fill-opacity='0.08'%3E%3Ccircle cx='60' cy='60' r='2'/%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3Ccircle cx='90' cy='30' r='1'/%3E%3Ccircle cx='30' cy='90' r='1'/%3E%3Ccircle cx='90' cy='90' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"container mx-auto relative",children:[e.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12 sm:mb-20 px-2 sm:px-0",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30 rounded-full text-blue-400 text-sm font-medium uppercase tracking-wider",children:"Nuestro Equipo"})}),e.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold mb-6 sm:mb-8 leading-tight",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"Barberos Expertos"}),e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Maestros del Arte"})]}),e.jsxs("p",{className:"text-base sm:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Conoce a nuestro equipo de profesionales expertos en el arte de la barber√≠a",e.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Pasi√≥n, t√©cnica y dedicaci√≥n en cada corte"})]})]}),n?e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500/20"}),e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-transparent border-t-blue-500 animate-spin absolute inset-0"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20"})})]})}):a.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"mb-8 mx-auto w-20 h-20 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-2xl flex items-center justify-center border border-blue-500/30",children:e.jsx("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-300 mb-4",children:"Estamos construyendo nuestro equipo"}),e.jsx("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:"Pronto agregaremos nuevos profesionales especializados a nuestro equipo de barberos expertos"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10 px-2 sm:px-0",children:a.map((h,g)=>e.jsx("div",{className:"transform hover:scale-105 transition-all duration-500",style:{animationDelay:`${g*150}ms`},children:e.jsx(ss,{barber:h})},h._id||h.id))}),a.length>0&&e.jsxs("div",{className:"text-center mt-16",children:[e.jsx("p",{className:"text-gray-400 mb-6",children:"¬øQuieres conocer m√°s sobre nuestros barberos?"}),e.jsxs(de,{variant:"outline",size:"md",className:"px-8 py-3",onClick:()=>window.location.href="/barbers",children:["Ver todos los barberos",e.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),e.jsxs("section",{className:"py-16 sm:py-24 lg:py-32 px-4 bg-gradient-to-b from-black to-gray-900 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/8 via-red-900/8 to-blue-900/8"}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%232563eb' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"container mx-auto relative",children:[e.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12 sm:mb-20 px-2 sm:px-0",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 border border-blue-500/30 rounded-full text-blue-400 text-sm font-medium uppercase tracking-wider",children:"Vis√≠tanos"})}),e.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold mb-6 sm:mb-8 leading-tight",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-red-400",children:"Encu√©ntranos"}),e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Te Esperamos"})]}),e.jsxs("p",{className:"text-base sm:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:["Estamos ubicados en el coraz√≥n de la ciudad",e.jsx("span",{className:"block mt-2 text-blue-400 font-medium",children:"Ven y experimenta la diferencia por ti mismo"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-12 xl:gap-16 items-center px-2 sm:px-0",children:[e.jsxs("div",{className:"relative order-2 lg:order-1 w-full",children:[e.jsx("div",{className:"absolute -inset-2 sm:-inset-4 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-2xl sm:rounded-3xl blur-xl sm:blur-2xl opacity-30"}),e.jsx("div",{className:"absolute -inset-1 sm:-inset-2 bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-xl sm:rounded-2xl blur-lg sm:blur-xl"}),e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 to-gray-800/95 border border-gray-700/50 rounded-2xl sm:rounded-3xl p-4 sm:p-6 backdrop-blur-xl shadow-2xl min-h-[380px] sm:h-[400px] lg:h-[600px] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-lg sm:rounded-xl flex items-center justify-center border border-blue-500/30 flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Informaci√≥n de Contacto"})]}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Estamos aqu√≠ para atenderte con la mejor experiencia de barber√≠a."})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg sm:rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-blue-500/40 transition-all duration-300",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-md sm:rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:e.jsxs("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Direcci√≥n"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed break-words",children:"Cra 77vBis #52 A - 08"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bogot√° D.C, Cundinamarca."})]})]})}),e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg sm:rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-red-500/40 transition-all duration-300",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-red-600/20 to-blue-600/20 rounded-md sm:rounded-lg border border-red-500/30 group-hover:border-red-400/50 transition-all duration-300",children:e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400 group-hover:text-red-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-red-300 transition-colors duration-300",children:"Tel√©fono"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed break-words",children:"+57 311 588 2528"}),e.jsx("p",{className:"text-xs text-gray-500",children:"WhatsApp disponible"})]})]})}),e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 p-2 sm:p-3 rounded-lg sm:rounded-xl bg-gradient-to-r from-gray-800/50 to-gray-700/50 border border-gray-600/30 hover:border-blue-500/40 transition-all duration-300",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-blue-600/20 to-red-600/20 rounded-md sm:rounded-lg border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-white mb-1 group-hover:text-blue-300 transition-colors duration-300",children:"Horario de Atenci√≥n"}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm break-words",children:"Lunes - S√°bado: 9:00 AM - 8:00 PM"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm break-words",children:"Domingo: 10:00 AM - 6:00 PM"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Reservas recomendadas"})]})]})})]}),e.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-700/50 flex-shrink-0",children:e.jsxs(de,{variant:"primary",size:"md",className:"w-full py-2 sm:py-2.5 text-sm sm:text-base",onClick:()=>window.location.href="/appointment",children:["Reservar una cita",e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})})]})]}),e.jsxs("div",{className:"relative order-1 lg:order-2 w-full",children:[e.jsx("div",{className:"absolute -inset-1 sm:-inset-2 bg-gradient-to-r from-blue-600/20 via-red-600/20 to-blue-600/20 rounded-2xl sm:rounded-3xl blur-lg sm:blur-xl opacity-50"}),e.jsxs("div",{className:"relative h-[300px] sm:h-[400px] lg:h-[600px] rounded-2xl sm:rounded-3xl overflow-hidden shadow-[0_0_40px_rgba(37,99,235,0.3)] border border-gray-700/50 backdrop-blur-sm",children:[e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15907.448844294731!2d-74.16188815134278!3d4.618659698034156!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9fadb32531a3%3A0xad47ce8d546359c!2sThe%20brothers%20barber!5e0!3m2!1ses!2sco!4v1756390613507!5m2!1ses!2sco",className:"w-full h-full",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",style:{filter:"grayscale(20%) contrast(1.1)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none"})]})]})]})]})]})]})}function os(){var a,s,n,o;const{user:r}=oe();if(!r)return e.jsx("p",{className:"text-center text-red-500 mt-10",children:"No has iniciado sesi√≥n."});const t=i=>{if(!i)return"No especificado";const l=new Date(i),d=l.getTimezoneOffset();return new Date(l.getTime()+d*60*1e3).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})};return e.jsxs(ae,{children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto space-y-8",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"relative bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl shadow-blue-500/10",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[r.profilePicture?e.jsx("img",{src:r.profilePicture,alt:"Foto de perfil",className:"w-28 h-28 rounded-full object-cover ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20"}):e.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-2xl font-bold ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/20",children:e.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:((s=(a=r.name)==null?void 0:a[0])==null?void 0:s.toUpperCase())||((o=(n=r.email)==null?void 0:n[0])==null?void 0:o.toUpperCase())||"?"})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-3 py-1 rounded-full shadow-lg",children:e.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent font-medium",children:r.role==="admin"?"Admin":r.role==="barber"?"Barbero":"Cliente"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-2",children:r.name||"Sin nombre"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:r.email})]}),e.jsxs(V,{to:"/profile-edit",className:"group relative inline-flex items-center px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-500/30 transition-all duration-300 text-white space-x-2 shadow-lg hover:shadow-blue-500/20 hover:scale-105",children:[e.jsx(Ma,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("span",{className:"font-medium bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Editar Perfil"})]})]})})}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"group bg-gray-800/20 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl hover:shadow-blue-500/10 transition-all duration-300 hover:border-blue-500/20",children:[e.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",children:e.jsx(Ur,{className:"w-6 h-6 text-blue-400"})}),e.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Informaci√≥n de Contacto"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[e.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electr√≥nico"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent break-all",children:r.email})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[e.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Tel√©fono"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:r.phone||"No especificado"})]})]})]}),e.jsxs("div",{className:"group bg-gray-800/20 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl hover:shadow-purple-500/10 transition-all duration-300 hover:border-purple-500/20",children:[e.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:e.jsx(he,{className:"w-6 h-6 text-purple-400"})}),e.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Informaci√≥n Personal"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[e.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Nombre completo"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:r.name||"No especificado"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gray-700/20 border border-white/5",children:[e.jsx("p",{className:"text-sm font-medium mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Fecha de nacimiento"}),e.jsx("p",{className:"text-lg bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:t(r.birthdate)})]})]})]})]})]})]})}const is={monday:"Lunes",tuesday:"Martes",wednesday:"Mi√©rcoles",thursday:"Jueves",friday:"Viernes",saturday:"S√°bado",sunday:"Domingo"},ls={monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"17:00",available:!0},saturday:{start:"09:00",end:"15:00",available:!0},sunday:{start:"09:00",end:"15:00",available:!1}},ds=()=>{const{user:r,setUser:t}=oe(),a=xr(),{showSuccess:s,showError:n}=De(),o=x.useRef(null),[i,l]=x.useState(null),[d,m]=x.useState(!0),[c,b]=x.useState(!1),[f,h]=x.useState("personal"),[g,v]=x.useState(null),[y,k]=x.useState({name:"",phone:"",birthdate:""}),[C,B]=x.useState({specialty:"",experience:"",description:"",services:[]}),[W,S]=x.useState([]),[D,T]=x.useState(ls),U=w=>{if(!w)return"";const E=new Date(w);return isNaN(E.getTime())?"":E.toISOString().split("T")[0]};x.useEffect(()=>{Q()},[]),x.useEffect(()=>{r&&(k({name:r.name||"",phone:r.phone||"",birthdate:U(r.birthdate)}),r.profilePicture&&!g&&v(r.profilePicture))},[r]);const Q=async()=>{var w,E,A;m(!0);try{const[O,j]=await Promise.all([We.getBarberProfile(),Jr.getAllServices()]);if(O.success){const z=O.data;l(z),B({specialty:z.specialty||"",experience:((w=z.experience)==null?void 0:w.toString())||"",description:z.description||"",services:((E=z.services)==null?void 0:E.map(H=>H._id))||[]}),k({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phone)||"",birthdate:U(r==null?void 0:r.birthdate)});const F=(r==null?void 0:r.profilePicture)||((A=z.user)==null?void 0:A.profilePicture);F&&v(F),z.schedule&&T(z.schedule)}j.success&&S(j.data||[])}catch(O){console.error("Error loading data:",O),n("Error al cargar los datos del perfil")}finally{m(!1)}},ee=w=>{const{name:E,value:A}=w.target;k(O=>({...O,[E]:A}))},J=w=>{const{name:E,value:A}=w.target;B(O=>({...O,[E]:A}))},N=(w,E)=>{B(A=>({...A,services:E?[...A.services,w]:A.services.filter(O=>O!==w)}))},L=(w,E,A)=>{T(O=>({...O,[w]:{...O[w],[E]:A}}))},R=w=>{const E=w.target.files[0];if(E){if(E.size>5*1024*1024){n("La imagen no puede ser mayor a 5MB");return}if(!E.type.startsWith("image/")){n("Solo se permiten archivos de imagen");return}const A=new FileReader;A.onload=()=>{v(A.result)},A.readAsDataURL(E)}},q=()=>{v(null),o.current&&(o.current.value="")},re=async w=>{try{const E=new FormData;return E.append("profilePicture",w),(await _.upload("/users/upload-profile-picture",E)).profilePictureUrl}catch(E){throw new Error(E.message||"Error al subir la imagen")}},M=async()=>{var w;try{b(!0);let E=r==null?void 0:r.profilePicture;(w=o.current)!=null&&w.files[0]&&(E=await re(o.current.files[0]));const A={};y.name&&y.name.trim()&&(A.name=y.name.trim()),y.phone&&y.phone.trim()&&(A.phone=y.phone.trim()),y.birthdate&&y.birthdate.trim()&&(A.birthdate=y.birthdate.trim()),E&&(A.profilePicture=E);const O=await _.put("/users/profile",A),j=O.data||O,z={...r,...j,profilePicture:E};t(z),k({name:z.name||"",phone:z.phone||"",birthdate:U(z.birthdate)}),E&&E!==(r==null?void 0:r.profilePicture)?v(E):v(null),o.current&&(o.current.value=""),s("Informaci√≥n personal actualizada correctamente")}catch(E){console.error("Error al actualizar informaci√≥n personal:",E),n(E.message||"Error al actualizar la informaci√≥n personal")}finally{b(!1)}},u=async()=>{try{b(!0);const w={...C,experience:parseInt(C.experience)||0},E=await We.updateMyProfile(w);E.success?(s("Informaci√≥n profesional actualizada exitosamente"),l(A=>({...A,...w}))):n(E.message||"Error al actualizar la informaci√≥n profesional")}catch(w){console.error("Error updating professional info:",w),n("Error al actualizar la informaci√≥n profesional")}finally{b(!1)}},P=async()=>{try{b(!0);const w=await We.updateMyProfile({schedule:D});w.success?(s("Horarios actualizados exitosamente"),l(E=>({...E,schedule:D}))):n(w.message||"Error al actualizar los horarios")}catch(w){console.error("Error updating schedule:",w),n("Error al actualizar los horarios")}finally{b(!1)}};return d?e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),e.jsx("p",{className:"mt-4 text-white/80",children:"Cargando perfil..."})]})]})}):e.jsx(ae,{children:e.jsx("div",{className:"relative py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("button",{onClick:()=>a("/profile"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/10 backdrop-blur-lg border border-white/20 rounded-full text-white hover:bg-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:scale-105",children:[e.jsx(Ft,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),e.jsx("span",{className:"font-medium text-sm",children:"Volver al Perfil"})]}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-3 text-white leading-tight drop-shadow-lg",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Editar Perfil de Barbero"})}),e.jsx("p",{className:"text-blue-200 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu informaci√≥n profesional y destaca tus habilidades como barbero"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/20 rounded-xl p-1.5 flex flex-col sm:flex-row gap-1 shadow-xl w-full max-w-lg",children:[{id:"personal",label:"Personal",icon:he,gradient:"from-blue-600 to-blue-700"},{id:"professional",label:"Profesional",icon:Ye,gradient:"from-red-600 to-red-700"},{id:"services",label:"Servicios",icon:ye,gradient:"from-red-500 to-blue-500"},{id:"schedule",label:"Horarios",icon:ze,gradient:"from-blue-500 to-red-500"}].map(({id:w,label:E,icon:A,gradient:O})=>e.jsxs("button",{type:"button",onClick:()=>h(w),className:`group relative px-3 py-2.5 rounded-lg font-medium text-xs transition-all duration-300 flex items-center justify-center gap-1.5 transform hover:scale-105 flex-1 ${f===w?`bg-gradient-to-r ${O} text-white shadow-md border border-white/20`:"text-blue-200 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20"}`,children:[e.jsx(A,{size:14,className:"transition-all duration-300 drop-shadow-sm"}),e.jsx("span",{className:"hidden sm:inline drop-shadow-sm",children:E}),e.jsx("span",{className:"sm:hidden drop-shadow-sm",children:E.substring(0,4)})]},w))})}),e.jsxs("div",{className:"space-y-6",children:[f==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/30 rounded-2xl p-4 shadow-2xl hover:bg-gray-900/90 hover:border-red-500/50 transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:e.jsx(Cr,{size:18,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Foto de Perfil"})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[e.jsx("img",{src:g||(r==null?void 0:r.profilePicture)||Qr.avatar(),alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var w;return(w=o.current)==null?void 0:w.click()},children:e.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:e.jsx(Ht,{size:16,className:"text-white drop-shadow-lg"})})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{var w;return(w=o.current)==null?void 0:w.click()},disabled:c,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110",title:"Subir foto",children:e.jsx(Cr,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),((r==null?void 0:r.profilePicture)||g)&&e.jsx("button",{onClick:q,disabled:c,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110",title:"Eliminar foto",children:e.jsx(Re,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),e.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:R,className:"hidden"})]})]}),e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:e.jsx(he,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Informaci√≥n Personal"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(he,{size:16,className:"text-red-400"}),"Nombre Completo"]}),e.jsx("input",{type:"text",name:"name",value:y.name,onChange:ee,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nombre completo"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[e.jsx(Gr,{size:16,className:"text-blue-400"}),"Tel√©fono"]}),e.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:ee,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"+57 300 123 4567"})]}),e.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(ce,{size:16,className:"text-red-400"}),"Fecha de Nacimiento"]}),e.jsx("input",{type:"date",name:"birthdate",value:y.birthdate,onChange:ee,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(de,{onClick:M,disabled:c,loading:c,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),f==="professional"&&e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(239,68,68,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:e.jsx(Ye,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Informaci√≥n Profesional"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(ye,{size:16,className:"text-red-400"}),"Especialidad"]}),e.jsx("input",{type:"text",name:"specialty",value:C.specialty,onChange:J,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Ej: Cortes cl√°sicos, barbas, etc."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[e.jsx(Ye,{size:16,className:"text-blue-400"}),"A√±os de Experiencia"]}),e.jsx("input",{type:"number",name:"experience",min:"0",value:C.experience,onChange:J,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"0"})]}),e.jsxs("div",{className:"space-y-3 lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(_a,{size:16,className:"text-red-400"}),"Descripci√≥n"]}),e.jsx("textarea",{name:"description",value:C.description,onChange:J,rows:3,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-xl text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner resize-none",placeholder:"Cu√©ntanos sobre tu experiencia y estilo de trabajo..."})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(de,{onClick:u,disabled:c,loading:c,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Cambios"})]})})})]})]}),f==="services"&&e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(239,68,68,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:e.jsx(ye,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Servicios que Ofreces"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:W.map(w=>e.jsxs("label",{className:`group relative p-4 rounded-2xl border-2 cursor-pointer transition-all duration-500 hover:scale-105 overflow-hidden ${C.services.includes(w._id)?"border-transparent bg-gradient-to-br from-red-500/30 via-white/10 to-blue-500/30 shadow-xl shadow-red-500/30":"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10"}`,children:[C.services.includes(w._id)&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsx("input",{type:"checkbox",checked:C.services.includes(w._id),onChange:E=>N(w._id,E.target.checked),className:"sr-only"}),e.jsxs("div",{className:"relative z-10 flex flex-col space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:`font-bold text-base group-hover:scale-105 transition-transform duration-300 ${C.services.includes(w._id)?"bg-clip-text text-transparent bg-gradient-to-r from-red-300 via-white to-blue-300":"text-white"}`,children:w.name}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${C.services.includes(w._id)?"border-red-400 bg-gradient-to-r from-red-500 to-blue-500 shadow-lg":"border-gray-400 group-hover:border-white"}`,children:C.services.includes(w._id)&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),e.jsx("p",{className:`text-sm leading-relaxed ${C.services.includes(w._id)?"text-gray-200":"text-gray-300"}`,children:w.description}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/20",children:[e.jsxs("span",{className:`font-bold text-base ${C.services.includes(w._id)?"bg-clip-text text-transparent bg-gradient-to-r from-red-400 to-blue-400":"text-blue-400"}`,children:["$",w.price]}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${C.services.includes(w._id)?"bg-white/20 text-white":"bg-gray-600/50 text-gray-400"}`,children:[w.duration," min"]})]})]})]},w._id))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(de,{onClick:u,disabled:c,loading:c,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Servicios"})]})})})]})]}),f==="schedule"&&e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:e.jsx(ze,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Horarios de Trabajo"})]}),e.jsx("div",{className:"space-y-3 mb-6",children:Object.entries(D).map(([w,E])=>e.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 md:w-40",children:[e.jsx("input",{type:"checkbox",checked:E.available,onChange:A=>L(w,"available",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-white font-medium text-base",children:is[w]})]}),E.available&&e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("input",{type:"time",value:E.start,onChange:A=>L(w,"start",A.target.value),className:"px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx("span",{className:"text-gray-300 font-medium text-sm",children:"a"}),e.jsx("input",{type:"time",value:E.end,onChange:A=>L(w,"end",A.target.value),className:"px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),!E.available&&e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:"text-gray-400 italic text-sm",children:"No disponible"})})]})},w))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(de,{onClick:P,disabled:c,loading:c,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Horarios"})]})})})]})]})]})]})})})},cs=()=>{var R,q,re,M;const{user:r,setUser:t}=oe(),{showSuccess:a,showError:s}=De(),n=xr(),o=x.useRef(null),[i,l]=x.useState(!1),[d,m]=x.useState("personal"),[c,b]=x.useState(null),f=u=>{if(!u)return"";const P=new Date(u),w=P.getTimezoneOffset();return new Date(P.getTime()+w*60*1e3).toISOString().split("T")[0]},[h,g]=x.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",birthdate:f(r==null?void 0:r.birthdate),profilePicture:(r==null?void 0:r.profilePicture)||""}),[v,y]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,C]=x.useState({emailNotifications:(q=(R=r==null?void 0:r.preferences)==null?void 0:R.emailNotifications)!=null?q:!0,marketingEmails:(M=(re=r==null?void 0:r.preferences)==null?void 0:re.marketingEmails)!=null?M:!1}),[B,W]=x.useState({current:!1,new:!1,confirm:!1});x.useEffect(()=>{var u,P,w,E;r&&(g({name:r.name||"",email:r.email||"",phone:r.phone||"",birthdate:f(r.birthdate),profilePicture:r.profilePicture||""}),C({emailNotifications:(P=(u=r.preferences)==null?void 0:u.emailNotifications)!=null?P:!0,marketingEmails:(E=(w=r.preferences)==null?void 0:w.marketingEmails)!=null?E:!1}))},[r]);const S=u=>{const{name:P,value:w}=u.target;g(E=>({...E,[P]:w}))},D=u=>{const{name:P,value:w}=u.target;y(E=>({...E,[P]:w}))},T=u=>{const{name:P,checked:w}=u.target;C(E=>({...E,[P]:w}))},U=u=>{const P=u.target.files[0];if(P){if(P.size>5*1024*1024){s("La imagen no puede ser mayor a 5MB");return}if(!P.type.startsWith("image/")){s("Solo se permiten archivos de imagen");return}const w=new FileReader;w.onload=()=>{b(w.result)},w.readAsDataURL(P)}},Q=()=>{b(null),g(u=>({...u,profilePicture:""})),o.current&&(o.current.value="")},ee=async u=>{try{const P=new FormData;return P.append("profilePicture",u),(await _.upload("/users/upload-profile-picture",P)).profilePictureUrl}catch(P){throw new Error(P.message||"Error al subir la imagen")}},J=async()=>{var u;try{l(!0);let P=h.profilePicture;(u=o.current)!=null&&u.files[0]&&(P=await ee(o.current.files[0]));const w={};h.name&&h.name.trim()&&(w.name=h.name.trim()),h.email&&h.email.trim()&&(w.email=h.email.trim()),h.phone&&h.phone.trim()&&(w.phone=h.phone.trim()),h.birthdate&&h.birthdate.trim()&&(w.birthdate=h.birthdate.trim()),P&&(w.profilePicture=P);const E=await _.put("/users/profile",w),A=E.data||E,O={...r,...A,profilePicture:P};t(O),g({name:O.name||"",email:O.email||"",phone:O.phone||"",birthdate:f(O.birthdate),profilePicture:O.profilePicture||""}),b(null),o.current&&(o.current.value=""),a("Perfil actualizado correctamente")}catch(P){console.error("Error al actualizar perfil:",P),s(P.message||"Error al actualizar el perfil")}finally{l(!1)}},N=async()=>{try{if(!v.currentPassword||!v.newPassword||!v.confirmPassword){s("Todos los campos de contrase√±a son obligatorios");return}if(v.newPassword!==v.confirmPassword){s("Las contrase√±as nuevas no coinciden");return}if(v.newPassword.length<6){s("La nueva contrase√±a debe tener al menos 6 caracteres");return}l(!0),await _.put("/users/change-password",{currentPassword:v.currentPassword,newPassword:v.newPassword}),y({currentPassword:"",newPassword:"",confirmPassword:""}),a("Contrase√±a actualizada correctamente")}catch(u){console.error("Error al cambiar contrase√±a:",u),s(u.message||"Error al cambiar la contrase√±a")}finally{l(!1)}},L=async()=>{try{l(!0);const u=await _.put("/users/preferences",k),P=u.data||u;t(w=>({...w,preferences:P.preferences||k})),a("Preferencias actualizadas correctamente")}catch(u){console.error("Error al actualizar preferencias:",u),s(u.message||"Error al actualizar las preferencias")}finally{l(!1)}};return e.jsx(ae,{children:e.jsx("div",{className:"relative py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("button",{onClick:()=>n("/dashboard"),className:"group inline-flex items-center gap-2 mb-10 px-4 py-2 bg-white/10 backdrop-blur-lg border border-white/20 rounded-full text-white hover:bg-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:scale-105",children:[e.jsx(Ft,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),e.jsx("span",{className:"font-medium text-sm",children:"Volver al Dashboard"})]}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-3 text-white leading-tight drop-shadow-lg",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400",children:"Editar Perfil de Usuario"})}),e.jsx("p",{className:"text-blue-200 text-sm max-w-2xl mx-auto leading-relaxed",children:"Gestiona tu informaci√≥n personal y preferencias de la cuenta con total seguridad"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/20 rounded-xl p-1.5 flex flex-col sm:flex-row gap-1 shadow-xl w-full max-w-md",children:[{id:"personal",label:"Personal",icon:he,gradient:"from-blue-600 to-blue-700"},{id:"security",label:"Seguridad",icon:or,gradient:"from-red-600 to-red-700"},{id:"preferences",label:"Preferencias",icon:xt,gradient:"from-red-500 to-blue-500"}].map(({id:u,label:P,icon:w,gradient:E})=>e.jsxs("button",{type:"button",onClick:()=>m(u),className:`group relative px-3 py-2.5 rounded-lg font-medium text-xs transition-all duration-300 flex items-center justify-center gap-1.5 transform hover:scale-105 flex-1 ${d===u?`bg-gradient-to-r ${E} text-white shadow-md border border-white/20`:"text-blue-200 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20"}`,children:[e.jsx(w,{size:14,className:"transition-all duration-300 drop-shadow-sm"}),e.jsx("span",{className:"hidden sm:inline drop-shadow-sm",children:P}),e.jsx("span",{className:"sm:hidden drop-shadow-sm",children:P.substring(0,4)})]},u))})}),e.jsxs("div",{className:"space-y-6",children:[d==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-red-500/30 rounded-2xl p-4 shadow-2xl hover:bg-gray-900/90 hover:border-red-500/50 transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 hover:border-blue-500/40 transition-all duration-500",children:e.jsx(Cr,{size:18,className:"text-red-400 hover:text-blue-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Foto de Perfil"})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-gradient-to-br from-gray-800 to-blue-900 border-2 border-red-500/30 shadow-xl hover:border-red-500/60 transition-all duration-300",children:[e.jsx("img",{src:c||h.profilePicture||Qr.avatar(),alt:"Foto de perfil",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},children:e.jsx("div",{className:"p-2 bg-red-600/80 rounded-full backdrop-blur-sm border border-white/30",children:e.jsx(Ht,{size:16,className:"text-white drop-shadow-lg"})})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},disabled:i,className:"group relative p-2 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-lg border border-blue-500/30 hover:border-red-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-blue-600/30 hover:to-red-600/30 transform hover:scale-110",title:"Subir foto",children:e.jsx(Cr,{size:16,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-300"})}),(h.profilePicture||c)&&e.jsx("button",{onClick:Q,disabled:i,className:"group relative p-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-lg border border-red-500/30 hover:border-blue-500/40 transition-all duration-300 backdrop-blur-sm hover:bg-gradient-to-r hover:from-red-600/30 hover:to-blue-600/30 transform hover:scale-110",title:"Eliminar foto",children:e.jsx(Re,{size:16,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-300"})})]}),e.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:U,className:"hidden"})]})]}),e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:e.jsx(he,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Informaci√≥n Personal"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(he,{size:16,className:"text-red-400"}),"Nombre Completo"]}),e.jsx("input",{type:"text",name:"name",value:h.name,onChange:S,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nombre completo"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[e.jsx(Ur,{size:16,className:"text-blue-400"}),"Correo Electr√≥nico"]}),e.jsx("input",{type:"email",name:"email",value:h.email,onChange:S,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"tu@email.com"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(Gr,{size:16,className:"text-red-400"}),"Tel√©fono"]}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:S,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"+57 300 123 4567"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[e.jsx(ce,{size:16,className:"text-blue-400"}),"Fecha de Nacimiento"]}),e.jsx("input",{type:"date",name:"birthdate",value:h.birthdate,onChange:S,className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600/25 to-red-600/25 border border-blue-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500/40 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(de,{onClick:J,disabled:i,loading:i,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Cambios"})]})})})]})]})]}),d==="security"&&e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-red-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(220,38,38,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-red-600/20 to-blue-600/20 rounded-xl border border-red-500/20 group-hover:border-blue-500/40 transition-all duration-500",children:e.jsx(or,{size:20,className:"text-red-400 group-hover:text-blue-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 drop-shadow-sm",children:"Cambiar Contrase√±a"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(or,{size:16,className:"text-red-400"}),"Contrase√±a Actual"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:B.current?"text":"password",name:"currentPassword",value:v.currentPassword,onChange:D,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu contrase√±a actual"}),e.jsx("button",{type:"button",onClick:()=>W(u=>({...u,current:!u.current})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:B.current?e.jsx(Lr,{size:18}):e.jsx(cr,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 flex items-center gap-2",children:[e.jsx(or,{size:16,className:"text-blue-400"}),"Nueva Contrase√±a"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:B.new?"text":"password",name:"newPassword",value:v.newPassword,onChange:D,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-blue-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Tu nueva contrase√±a"}),e.jsx("button",{type:"button",onClick:()=>W(u=>({...u,new:!u.new})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-300 hover:text-blue-400 transition-colors duration-300",children:B.new?e.jsx(Lr,{size:18}):e.jsx(cr,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-400 via-white to-blue-400 flex items-center gap-2",children:[e.jsx(or,{size:16,className:"text-red-400"}),"Confirmar Nueva Contrase√±a"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:B.confirm?"text":"password",name:"confirmPassword",value:v.confirmPassword,onChange:D,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600/25 to-blue-600/25 border border-red-500/30 rounded-full text-gray-100 placeholder-red-200/70 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 pr-12 text-sm font-medium tracking-wider backdrop-blur-sm shadow-inner",placeholder:"Confirma tu nueva contrase√±a"}),e.jsx("button",{type:"button",onClick:()=>W(u=>({...u,confirm:!u.confirm})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-300 hover:text-red-400 transition-colors duration-300",children:B.confirm?e.jsx(Lr,{size:18}):e.jsx(cr,{size:18})})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(de,{onClick:N,disabled:i,loading:i,loadingText:"Actualizando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Cambiar Contrase√±a"})]})})})]})]})]}),d==="preferences"&&e.jsxs("div",{className:"group relative overflow-hidden bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-3xl border border-gray-700/50 hover:border-blue-500/40 transition-all duration-700 transform hover:-translate-y-1 hover:shadow-[0_20px_60px_rgba(59,130,246,0.25)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"relative p-8",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600/20 to-red-600/20 rounded-xl border border-blue-500/20 group-hover:border-red-500/40 transition-all duration-500",children:e.jsx(xt,{size:20,className:"text-blue-400 group-hover:text-red-400 transition-colors duration-500"})}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-red-400 drop-shadow-sm",children:"Preferencias de Notificaciones"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-red-600/25 to-blue-600/25 rounded-full border border-red-500/30 hover:border-red-500/40 hover:bg-gradient-to-r hover:from-red-600/35 hover:to-blue-600/35 transition-all duration-300 backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold text-sm",children:"Notificaciones por Email"}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"Recibe notificaciones importantes por correo electr√≥nico"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"emailNotifications",checked:k.emailNotifications,onChange:T,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-red-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-red-500 peer-checked:to-red-600 shadow-lg backdrop-blur-sm"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-600/25 to-red-600/25 rounded-full border border-blue-500/30 hover:border-blue-500/40 hover:bg-gradient-to-r hover:from-blue-600/35 hover:to-red-600/35 transition-all duration-300 backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold text-sm",children:"Emails de Marketing"}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"Recibe informaci√≥n sobre promociones y novedades"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"marketingEmails",checked:k.marketingEmails,onChange:T,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-600/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-blue-600 shadow-lg backdrop-blur-sm"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(de,{onClick:L,disabled:i,loading:i,loadingText:"Guardando...",variant:"primary",size:"md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18}),e.jsx("span",{children:"Guardar Preferencias"})]})})})]})]})]})]})]})})})},us=()=>{const{user:r}=oe();return r?r.role==="barber"?e.jsx(ds,{}):e.jsx(cs,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-red-900/20 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),e.jsx("p",{className:"mt-4 text-white/80",children:"Cargando..."})]})]})};function Y(r){const t=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&t==="[object Date]"?new r.constructor(+r):typeof r=="number"||t==="[object Number]"||typeof r=="string"||t==="[object String]"?new Date(r):new Date(NaN)}function pe(r,t){return r instanceof Date?new r.constructor(t):new Date(t)}function le(r,t){const a=Y(r);return isNaN(t)?pe(r,NaN):(t&&a.setDate(a.getDate()+t),a)}function Ne(r,t){const a=Y(r);if(isNaN(t))return pe(r,NaN);if(!t)return a;const s=a.getDate(),n=pe(r,a.getTime());n.setMonth(a.getMonth()+t+1,0);const o=n.getDate();return s>=o?n:(a.setFullYear(n.getFullYear(),n.getMonth(),s),a)}const Kr=6048e5,ms=864e5;let xs={};function gr(){return xs}function _e(r,t){var l,d,m,c,b,f,h,g;const a=gr(),s=(g=(h=(c=(m=t==null?void 0:t.weekStartsOn)!=null?m:(d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)!=null?c:a.weekStartsOn)!=null?h:(f=(b=a.locale)==null?void 0:b.options)==null?void 0:f.weekStartsOn)!=null?g:0,n=Y(r),o=n.getDay(),i=(o<s?7:0)+o-s;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function Ue(r){return _e(r,{weekStartsOn:1})}function Jt(r){const t=Y(r),a=t.getFullYear(),s=pe(r,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const n=Ue(s),o=pe(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const i=Ue(o);return t.getTime()>=n.getTime()?a+1:t.getTime()>=i.getTime()?a:a-1}function Ge(r){const t=Y(r);return t.setHours(0,0,0,0),t}function Er(r){const t=Y(r),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+r-+a}function Me(r,t){const a=Ge(r),s=Ge(t),n=+a-Er(a),o=+s-Er(s);return Math.round((n-o)/ms)}function hs(r){const t=Jt(r),a=pe(r,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Ue(a)}function qr(r,t){const a=t*7;return le(r,a)}function gs(r,t){return Ne(r,t*12)}function bs(r){let t;return r.forEach(function(a){const s=Y(a);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function ps(r){let t;return r.forEach(a=>{const s=Y(a);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function ue(r,t){const a=Ge(r),s=Ge(t);return+a==+s}function Zr(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function fs(r){if(!Zr(r)&&typeof r!="number")return!1;const t=Y(r);return!isNaN(Number(t))}function mr(r,t){const a=Y(r),s=Y(t),n=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return n*12+o}function vs(r,t,a){const s=_e(r,a),n=_e(t,a),o=+s-Er(s),i=+n-Er(n);return Math.round((o-i)/Kr)}function et(r){const t=Y(r),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function ge(r){const t=Y(r);return t.setDate(1),t.setHours(0,0,0,0),t}function Qt(r){const t=Y(r),a=pe(r,0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}function rt(r,t){var l,d,m,c,b,f,h,g;const a=gr(),s=(g=(h=(c=(m=t==null?void 0:t.weekStartsOn)!=null?m:(d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)!=null?c:a.weekStartsOn)!=null?h:(f=(b=a.locale)==null?void 0:b.options)==null?void 0:f.weekStartsOn)!=null?g:0,n=Y(r),o=n.getDay(),i=(o<s?-7:0)+6-(o-s);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Kt(r){return rt(r,{weekStartsOn:1})}const ys={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ws=(r,t,a)=>{let s;const n=ys[r];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function rr(r){return(t={})=>{const a=t.width?String(t.width):r.defaultWidth;return r.formats[a]||r.formats[r.defaultWidth]}}const js={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ns={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ks={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cs={date:rr({formats:js,defaultWidth:"full"}),time:rr({formats:Ns,defaultWidth:"full"}),dateTime:rr({formats:ks,defaultWidth:"full"})},Ss={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Es=(r,t,a,s)=>Ss[r];function Ee(r){return(t,a)=>{const s=a!=null&&a.context?String(a.context):"standalone";let n;if(s==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,l=a!=null&&a.width?String(a.width):i;n=r.formattingValues[l]||r.formattingValues[i]}else{const i=r.defaultWidth,l=a!=null&&a.width?String(a.width):r.defaultWidth;n=r.values[l]||r.values[i]}const o=r.argumentCallback?r.argumentCallback(t):t;return n[o]}}const Ps={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ms={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_s={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ds={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ls={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ts={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zs=(r,t)=>{const a=Number(r),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Bs={ordinalNumber:zs,era:Ee({values:Ps,defaultWidth:"wide"}),quarter:Ee({values:Ms,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ee({values:_s,defaultWidth:"wide"}),day:Ee({values:Ds,defaultWidth:"wide"}),dayPeriod:Ee({values:Ls,defaultWidth:"wide",formattingValues:Ts,defaultFormattingWidth:"wide"})};function Pe(r){return(t,a={})=>{const s=a.width,n=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],o=t.match(n);if(!o)return null;const i=o[0],l=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(l)?$s(l,b=>b.test(i)):As(l,b=>b.test(i));let m;m=r.valueCallback?r.valueCallback(d):d,m=a.valueCallback?a.valueCallback(m):m;const c=t.slice(i.length);return{value:m,rest:c}}}function As(r,t){for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&t(r[a]))return a}function $s(r,t){for(let a=0;a<r.length;a++)if(t(r[a]))return a}function Zt(r){return(t,a={})=>{const s=t.match(r.matchPattern);if(!s)return null;const n=s[0],o=t.match(r.parsePattern);if(!o)return null;let i=r.valueCallback?r.valueCallback(o[0]):o[0];i=a.valueCallback?a.valueCallback(i):i;const l=t.slice(n.length);return{value:i,rest:l}}}const Is=/^(\d+)(th|st|nd|rd)?/i,Os=/\d+/i,Ws={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rs={any:[/^b/i,/^(a|c)/i]},Fs={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hs={any:[/1/i,/2/i,/3/i,/4/i]},Vs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ys={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Us={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gs={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Js={ordinalNumber:Zt({matchPattern:Is,parsePattern:Os,valueCallback:r=>parseInt(r,10)}),era:Pe({matchPatterns:Ws,defaultMatchWidth:"wide",parsePatterns:Rs,defaultParseWidth:"any"}),quarter:Pe({matchPatterns:Fs,defaultMatchWidth:"wide",parsePatterns:Hs,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Pe({matchPatterns:Vs,defaultMatchWidth:"wide",parsePatterns:qs,defaultParseWidth:"any"}),day:Pe({matchPatterns:Ys,defaultMatchWidth:"wide",parsePatterns:Us,defaultParseWidth:"any"}),dayPeriod:Pe({matchPatterns:Gs,defaultMatchWidth:"any",parsePatterns:Xs,defaultParseWidth:"any"})},ea={code:"en-US",formatDistance:ws,formatLong:Cs,formatRelative:Es,localize:Bs,match:Js,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qs(r){const t=Y(r);return Me(t,Qt(t))+1}function ra(r){const t=Y(r),a=+Ue(t)-+hs(t);return Math.round(a/Kr)+1}function ta(r,t){var c,b,f,h,g,v,y,k;const a=Y(r),s=a.getFullYear(),n=gr(),o=(k=(y=(h=(f=t==null?void 0:t.firstWeekContainsDate)!=null?f:(b=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:b.firstWeekContainsDate)!=null?h:n.firstWeekContainsDate)!=null?y:(v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)!=null?k:1,i=pe(r,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const l=_e(i,t),d=pe(r,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const m=_e(d,t);return a.getTime()>=l.getTime()?s+1:a.getTime()>=m.getTime()?s:s-1}function Ks(r,t){var l,d,m,c,b,f,h,g;const a=gr(),s=(g=(h=(c=(m=t==null?void 0:t.firstWeekContainsDate)!=null?m:(d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)!=null?c:a.firstWeekContainsDate)!=null?h:(f=(b=a.locale)==null?void 0:b.options)==null?void 0:f.firstWeekContainsDate)!=null?g:1,n=ta(r,t),o=pe(r,0);return o.setFullYear(n,0,s),o.setHours(0,0,0,0),_e(o,t)}function aa(r,t){const a=Y(r),s=+_e(a,t)-+Ks(a,t);return Math.round(s/Kr)+1}function X(r,t){const a=r<0?"-":"",s=Math.abs(r).toString().padStart(t,"0");return a+s}const Be={y(r,t){const a=r.getFullYear(),s=a>0?a:1-a;return X(t==="yy"?s%100:s,t.length)},M(r,t){const a=r.getMonth();return t==="M"?String(a+1):X(a+1,2)},d(r,t){return X(r.getDate(),t.length)},a(r,t){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(r,t){return X(r.getHours()%12||12,t.length)},H(r,t){return X(r.getHours(),t.length)},m(r,t){return X(r.getMinutes(),t.length)},s(r,t){return X(r.getSeconds(),t.length)},S(r,t){const a=t.length,s=r.getMilliseconds(),n=Math.trunc(s*Math.pow(10,a-3));return X(n,t.length)}},Je={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kt={G:function(r,t,a){const s=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})}},y:function(r,t,a){if(t==="yo"){const s=r.getFullYear(),n=s>0?s:1-s;return a.ordinalNumber(n,{unit:"year"})}return Be.y(r,t)},Y:function(r,t,a,s){const n=ta(r,s),o=n>0?n:1-n;if(t==="YY"){const i=o%100;return X(i,2)}return t==="Yo"?a.ordinalNumber(o,{unit:"year"}):X(o,t.length)},R:function(r,t){const a=Jt(r);return X(a,t.length)},u:function(r,t){const a=r.getFullYear();return X(a,t.length)},Q:function(r,t,a){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return X(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,t,a){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return X(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,t,a){const s=r.getMonth();switch(t){case"M":case"MM":return Be.M(r,t);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(r,t,a){const s=r.getMonth();switch(t){case"L":return String(s+1);case"LL":return X(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(r,t,a,s){const n=aa(r,s);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):X(n,t.length)},I:function(r,t,a){const s=ra(r);return t==="Io"?a.ordinalNumber(s,{unit:"week"}):X(s,t.length)},d:function(r,t,a){return t==="do"?a.ordinalNumber(r.getDate(),{unit:"date"}):Be.d(r,t)},D:function(r,t,a){const s=Qs(r);return t==="Do"?a.ordinalNumber(s,{unit:"dayOfYear"}):X(s,t.length)},E:function(r,t,a){const s=r.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(r,t,a,s){const n=r.getDay(),o=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return X(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(r,t,a,s){const n=r.getDay(),o=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return X(o,t.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(r,t,a){const s=r.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return X(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});case"iiii":default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(r,t,a){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(r,t,a){const s=r.getHours();let n;switch(s===12?n=Je.noon:s===0?n=Je.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(r,t,a){const s=r.getHours();let n;switch(s>=17?n=Je.evening:s>=12?n=Je.afternoon:s>=4?n=Je.morning:n=Je.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(r,t,a){if(t==="ho"){let s=r.getHours()%12;return s===0&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return Be.h(r,t)},H:function(r,t,a){return t==="Ho"?a.ordinalNumber(r.getHours(),{unit:"hour"}):Be.H(r,t)},K:function(r,t,a){const s=r.getHours()%12;return t==="Ko"?a.ordinalNumber(s,{unit:"hour"}):X(s,t.length)},k:function(r,t,a){let s=r.getHours();return s===0&&(s=24),t==="ko"?a.ordinalNumber(s,{unit:"hour"}):X(s,t.length)},m:function(r,t,a){return t==="mo"?a.ordinalNumber(r.getMinutes(),{unit:"minute"}):Be.m(r,t)},s:function(r,t,a){return t==="so"?a.ordinalNumber(r.getSeconds(),{unit:"second"}):Be.s(r,t)},S:function(r,t){return Be.S(r,t)},X:function(r,t,a){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return St(s);case"XXXX":case"XX":return He(s);case"XXXXX":case"XXX":default:return He(s,":")}},x:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"x":return St(s);case"xxxx":case"xx":return He(s);case"xxxxx":case"xxx":default:return He(s,":")}},O:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ct(s,":");case"OOOO":default:return"GMT"+He(s,":")}},z:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ct(s,":");case"zzzz":default:return"GMT"+He(s,":")}},t:function(r,t,a){const s=Math.trunc(r.getTime()/1e3);return X(s,t.length)},T:function(r,t,a){const s=r.getTime();return X(s,t.length)}};function Ct(r,t=""){const a=r>0?"-":"+",s=Math.abs(r),n=Math.trunc(s/60),o=s%60;return o===0?a+String(n):a+String(n)+t+X(o,2)}function St(r,t){return r%60===0?(r>0?"-":"+")+X(Math.abs(r)/60,2):He(r,t)}function He(r,t=""){const a=r>0?"-":"+",s=Math.abs(r),n=X(Math.trunc(s/60),2),o=X(s%60,2);return a+n+t+o}const Et=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},sa=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zs=(r,t)=>{const a=r.match(/(P+)(p+)?/)||[],s=a[1],n=a[2];if(!n)return Et(r,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Et(s,t)).replace("{{time}}",sa(n,t))},en={p:sa,P:Zs},rn=/^D+$/,tn=/^Y+$/,an=["D","DD","YY","YYYY"];function sn(r){return rn.test(r)}function nn(r){return tn.test(r)}function on(r,t,a){const s=ln(r,t,a);if(console.warn(s),an.includes(r))throw new RangeError(s)}function ln(r,t,a){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${s} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,un=/^'([^]*?)'?$/,mn=/''/g,xn=/[a-zA-Z]/;function ne(r,t,a){var c,b,f,h,g,v,y,k,C,B,W,S,D,T,U,Q,ee,J;const s=gr(),n=(b=(c=a==null?void 0:a.locale)!=null?c:s.locale)!=null?b:ea,o=(B=(C=(v=(g=a==null?void 0:a.firstWeekContainsDate)!=null?g:(h=(f=a==null?void 0:a.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?v:s.firstWeekContainsDate)!=null?C:(k=(y=s.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)!=null?B:1,i=(J=(ee=(T=(D=a==null?void 0:a.weekStartsOn)!=null?D:(S=(W=a==null?void 0:a.locale)==null?void 0:W.options)==null?void 0:S.weekStartsOn)!=null?T:s.weekStartsOn)!=null?ee:(Q=(U=s.locale)==null?void 0:U.options)==null?void 0:Q.weekStartsOn)!=null?J:0,l=Y(r);if(!fs(l))throw new RangeError("Invalid time value");let d=t.match(cn).map(N=>{const L=N[0];if(L==="p"||L==="P"){const R=en[L];return R(N,n.formatLong)}return N}).join("").match(dn).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const L=N[0];if(L==="'")return{isToken:!1,value:hn(N)};if(kt[L])return{isToken:!0,value:N};if(L.match(xn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:N}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const m={firstWeekContainsDate:o,weekStartsOn:i,locale:n};return d.map(N=>{if(!N.isToken)return N.value;const L=N.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&nn(L)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&sn(L))&&on(L,t,String(r));const R=kt[L[0]];return R(l,L,n.localize,m)}).join("")}function hn(r){const t=r.match(un);return t?t[1].replace(mn,"'"):r}function gn(r){const t=Y(r),a=t.getFullYear(),s=t.getMonth(),n=pe(r,0);return n.setFullYear(a,s+1,0),n.setHours(0,0,0,0),n.getDate()}function bn(r){return Math.trunc(+Y(r)/1e3)}function pn(r){const t=Y(r),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(0,0,0,0),t}function fn(r,t){return vs(pn(r),ge(r),t)+1}function Pr(r,t){const a=Y(r),s=Y(t);return a.getTime()>s.getTime()}function tt(r,t){const a=Y(r),s=Y(t);return+a<+s}function at(r,t){const a=Y(r),s=Y(t);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function vn(r,t){const a=Y(r),s=Y(t);return a.getFullYear()===s.getFullYear()}function Br(r,t){return le(r,-t)}function Ar(r,t){const a=Y(r),s=a.getFullYear(),n=a.getDate(),o=pe(r,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const i=gn(o);return a.setMonth(t,Math.min(n,i)),a}function Pt(r,t){const a=Y(r);return isNaN(+a)?pe(r,NaN):(a.setFullYear(t),a)}const yn={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d√≠a",other:"{{count}} d√≠as"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a√±o",other:"alrededor de {{count}} a√±os"},xYears:{one:"1 a√±o",other:"{{count}} a√±os"},overXYears:{one:"m√°s de 1 a√±o",other:"m√°s de {{count}} a√±os"},almostXYears:{one:"casi 1 a√±o",other:"casi {{count}} a√±os"}},wn=(r,t,a)=>{let s;const n=yn[r];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"en "+s:"hace "+s:s},jn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Nn={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kn={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cn={date:rr({formats:jn,defaultWidth:"full"}),time:rr({formats:Nn,defaultWidth:"full"}),dateTime:rr({formats:kn,defaultWidth:"full"})},Sn={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma√±ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},En={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma√±ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Pn=(r,t,a,s)=>t.getHours()!==1?En[r]:Sn[r],Mn={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu√©s de cristo"]},_n={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1¬∫ trimestre","2¬∫ trimestre","3¬∫ trimestre","4¬∫ trimestre"]},Dn={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Ln={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s√°"],abbreviated:["dom","lun","mar","mi√©","jue","vie","s√°b"],wide:["domingo","lunes","martes","mi√©rcoles","jueves","viernes","s√°bado"]},Tn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"}},zn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Bn=(r,t)=>Number(r)+"¬∫",An={ordinalNumber:Bn,era:Ee({values:Mn,defaultWidth:"wide"}),quarter:Ee({values:_n,defaultWidth:"wide",argumentCallback:r=>Number(r)-1}),month:Ee({values:Dn,defaultWidth:"wide"}),day:Ee({values:Ln,defaultWidth:"wide"}),dayPeriod:Ee({values:Tn,defaultWidth:"wide",formattingValues:zn,defaultFormattingWidth:"wide"})},$n=/^(\d+)(¬∫)?/i,In=/\d+/i,On={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u√∫]n|despu[e√©]s de cristo|era com[u√∫]n)/i},Wn={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u√∫]n)/i,/^(despu[e√©]s de cristo|era com[u√∫]n)/i]},Rn={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](¬∫)? trimestre/i},Fn={any:[/1/i,/2/i,/3/i,/4/i]},Hn={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Vn={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},qn={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[√°a])/i,abbreviated:/^(dom|lun|mar|mi[√©e]|jue|vie|s[√°a]b)/i,wide:/^(domingo|lunes|martes|mi[√©e]rcoles|jueves|viernes|s[√°a]bado)/i},Yn={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Un={narrow:/^(a|p|mn|md|(de la|a las) (ma√±ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma√±ana|tarde|noche))/i},Gn={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma√±ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Xn={ordinalNumber:Zt({matchPattern:$n,parsePattern:In,valueCallback:function(r){return parseInt(r,10)}}),era:Pe({matchPatterns:On,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),quarter:Pe({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Fn,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Pe({matchPatterns:Hn,defaultMatchWidth:"wide",parsePatterns:Vn,defaultParseWidth:"any"}),day:Pe({matchPatterns:qn,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any"}),dayPeriod:Pe({matchPatterns:Un,defaultMatchWidth:"any",parsePatterns:Gn,defaultParseWidth:"any"})},Fe={code:"es",formatDistance:wn,formatLong:Cn,formatRelative:Pn,localize:An,match:Xn,options:{weekStartsOn:1,firstWeekContainsDate:1}};var I=function(){return I=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},I.apply(this,arguments)};function Jn(r,t){var a={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(a[s[n]]=r[s[n]]);return a}function na(r,t,a){for(var s=0,n=t.length,o;s<n;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return r.concat(o||Array.prototype.slice.call(t))}function br(r){return r.mode==="multiple"}function pr(r){return r.mode==="range"}function _r(r){return r.mode==="single"}var Qn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Kn(r,t){return ne(r,"LLLL y",t)}function Zn(r,t){return ne(r,"d",t)}function eo(r,t){return ne(r,"LLLL",t)}function ro(r){return"".concat(r)}function to(r,t){return ne(r,"cccccc",t)}function ao(r,t){return ne(r,"yyyy",t)}var so=Object.freeze({__proto__:null,formatCaption:Kn,formatDay:Zn,formatMonthCaption:eo,formatWeekNumber:ro,formatWeekdayName:to,formatYearCaption:ao}),no=function(r,t,a){return ne(r,"do MMMM (EEEE)",a)},oo=function(){return"Month: "},io=function(){return"Go to next month"},lo=function(){return"Go to previous month"},co=function(r,t){return ne(r,"cccc",t)},uo=function(r){return"Week n. ".concat(r)},mo=function(){return"Year: "},xo=Object.freeze({__proto__:null,labelDay:no,labelMonthDropdown:oo,labelNext:io,labelPrevious:lo,labelWeekNumber:uo,labelWeekday:co,labelYearDropdown:mo});function ho(){var r="buttons",t=Qn,a=ea,s={},n={},o=1,i={},l=new Date;return{captionLayout:r,classNames:t,formatters:so,labels:xo,locale:a,modifiersClassNames:s,modifiers:n,numberOfMonths:o,styles:i,today:l,mode:"default"}}function go(r){var t=r.fromYear,a=r.toYear,s=r.fromMonth,n=r.toMonth,o=r.fromDate,i=r.toDate;return s?o=ge(s):t&&(o=new Date(t,0,1)),n?i=et(n):a&&(i=new Date(a,11,31)),{fromDate:o?Ge(o):void 0,toDate:i?Ge(i):void 0}}var oa=x.createContext(void 0);function bo(r){var t,a=r.initialProps,s=ho(),n=go(a),o=n.fromDate,i=n.toDate,l=(t=a.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(_r(a)||br(a)||pr(a))&&(d=a.onSelect);var m=I(I(I({},s),a),{captionLayout:l,classNames:I(I({},s.classNames),a.classNames),components:I({},a.components),formatters:I(I({},s.formatters),a.formatters),fromDate:o,labels:I(I({},s.labels),a.labels),mode:a.mode||s.mode,modifiers:I(I({},s.modifiers),a.modifiers),modifiersClassNames:I(I({},s.modifiersClassNames),a.modifiersClassNames),onSelect:d,styles:I(I({},s.styles),a.styles),toDate:i});return e.jsx(oa.Provider,{value:m,children:r.children})}function Z(){var r=x.useContext(oa);if(!r)throw new Error("useDayPicker must be used within a DayPickerProvider.");return r}function ia(r){var t=Z(),a=t.locale,s=t.classNames,n=t.styles,o=t.formatters.formatCaption;return e.jsx("div",{className:s.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:r.id,children:o(r.displayMonth,{locale:a})})}function po(r){return e.jsx("svg",I({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},r,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function la(r){var t,a,s=r.onChange,n=r.value,o=r.children,i=r.caption,l=r.className,d=r.style,m=Z(),c=(a=(t=m.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&a!==void 0?a:po;return e.jsxs("div",{className:l,style:d,children:[e.jsx("span",{className:m.classNames.vhidden,children:r["aria-label"]}),e.jsx("select",{name:r.name,"aria-label":r["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:n,onChange:s,children:o}),e.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(c,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function fo(r){var t,a=Z(),s=a.fromDate,n=a.toDate,o=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,d=a.classNames,m=a.components,c=a.labels.labelMonthDropdown;if(!s)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var b=[];if(vn(s,n))for(var f=ge(s),h=s.getMonth();h<=n.getMonth();h++)b.push(Ar(f,h));else for(var f=ge(new Date),h=0;h<=11;h++)b.push(Ar(f,h));var g=function(y){var k=Number(y.target.value),C=Ar(ge(r.displayMonth),k);r.onChange(C)},v=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:la;return e.jsx(v,{name:"months","aria-label":c(),className:d.dropdown_month,style:o.dropdown_month,onChange:g,value:r.displayMonth.getMonth(),caption:l(r.displayMonth,{locale:i}),children:b.map(function(y){return e.jsx("option",{value:y.getMonth(),children:l(y,{locale:i})},y.getMonth())})})}function vo(r){var t,a=r.displayMonth,s=Z(),n=s.fromDate,o=s.toDate,i=s.locale,l=s.styles,d=s.classNames,m=s.components,c=s.formatters.formatYearCaption,b=s.labels.labelYearDropdown,f=[];if(!n)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var h=n.getFullYear(),g=o.getFullYear(),v=h;v<=g;v++)f.push(Pt(Qt(new Date),v));var y=function(C){var B=Pt(ge(a),Number(C.target.value));r.onChange(B)},k=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:la;return e.jsx(k,{name:"years","aria-label":b(),className:d.dropdown_year,style:l.dropdown_year,onChange:y,value:a.getFullYear(),caption:c(a,{locale:i}),children:f.map(function(C){return e.jsx("option",{value:C.getFullYear(),children:c(C,{locale:i})},C.getFullYear())})})}function yo(r,t){var a=x.useState(r),s=a[0],n=a[1],o=t===void 0?s:t;return[o,n]}function wo(r){var t=r.month,a=r.defaultMonth,s=r.today,n=t||a||s||new Date,o=r.toDate,i=r.fromDate,l=r.numberOfMonths,d=l===void 0?1:l;if(o&&mr(o,n)<0){var m=-1*(d-1);n=Ne(o,m)}return i&&mr(n,i)<0&&(n=i),ge(n)}function jo(){var r=Z(),t=wo(r),a=yo(t,r.month),s=a[0],n=a[1],o=function(i){var l;if(!r.disableNavigation){var d=ge(i);n(d),(l=r.onMonthChange)===null||l===void 0||l.call(r,d)}};return[s,o]}function No(r,t){for(var a=t.reverseMonths,s=t.numberOfMonths,n=ge(r),o=ge(Ne(n,s)),i=mr(o,n),l=[],d=0;d<i;d++){var m=Ne(n,d);l.push(m)}return a&&(l=l.reverse()),l}function ko(r,t){if(!t.disableNavigation){var a=t.toDate,s=t.pagedNavigation,n=t.numberOfMonths,o=n===void 0?1:n,i=s?o:1,l=ge(r);if(!a)return Ne(l,i);var d=mr(a,r);if(!(d<o))return Ne(l,i)}}function Co(r,t){if(!t.disableNavigation){var a=t.fromDate,s=t.pagedNavigation,n=t.numberOfMonths,o=n===void 0?1:n,i=s?o:1,l=ge(r);if(!a)return Ne(l,-i);var d=mr(l,a);if(!(d<=0))return Ne(l,-i)}}var da=x.createContext(void 0);function So(r){var t=Z(),a=jo(),s=a[0],n=a[1],o=No(s,t),i=ko(s,t),l=Co(s,t),d=function(b){return o.some(function(f){return at(b,f)})},m=function(b,f){d(b)||(f&&tt(b,f)?n(Ne(b,1+t.numberOfMonths*-1)):n(b))},c={currentMonth:s,displayMonths:o,goToMonth:n,goToDate:m,previousMonth:l,nextMonth:i,isDateDisplayed:d};return e.jsx(da.Provider,{value:c,children:r.children})}function fr(){var r=x.useContext(da);if(!r)throw new Error("useNavigation must be used within a NavigationProvider");return r}function Mt(r){var t,a=Z(),s=a.classNames,n=a.styles,o=a.components,i=fr().goToMonth,l=function(c){i(Ne(c,r.displayIndex?-r.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:ia,m=e.jsx(d,{id:r.id,displayMonth:r.displayMonth});return e.jsxs("div",{className:s.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:s.vhidden,children:m}),e.jsx(fo,{onChange:l,displayMonth:r.displayMonth}),e.jsx(vo,{onChange:l,displayMonth:r.displayMonth})]})}function Eo(r){return e.jsx("svg",I({width:"16px",height:"16px",viewBox:"0 0 120 120"},r,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Po(r){return e.jsx("svg",I({width:"16px",height:"16px",viewBox:"0 0 120 120"},r,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Mr=x.forwardRef(function(r,t){var a=Z(),s=a.classNames,n=a.styles,o=[s.button_reset,s.button];r.className&&o.push(r.className);var i=o.join(" "),l=I(I({},n.button_reset),n.button);return r.style&&Object.assign(l,r.style),e.jsx("button",I({},r,{ref:t,type:"button",className:i,style:l}))});function Mo(r){var t,a,s=Z(),n=s.dir,o=s.locale,i=s.classNames,l=s.styles,d=s.labels,m=d.labelPrevious,c=d.labelNext,b=s.components;if(!r.nextMonth&&!r.previousMonth)return e.jsx(e.Fragment,{});var f=m(r.previousMonth,{locale:o}),h=[i.nav_button,i.nav_button_previous].join(" "),g=c(r.nextMonth,{locale:o}),v=[i.nav_button,i.nav_button_next].join(" "),y=(t=b==null?void 0:b.IconRight)!==null&&t!==void 0?t:Po,k=(a=b==null?void 0:b.IconLeft)!==null&&a!==void 0?a:Eo;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!r.hidePrevious&&e.jsx(Mr,{name:"previous-month","aria-label":f,className:h,style:l.nav_button_previous,disabled:!r.previousMonth,onClick:r.onPreviousClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(k,{className:i.nav_icon,style:l.nav_icon})}),!r.hideNext&&e.jsx(Mr,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!r.nextMonth,onClick:r.onNextClick,children:n==="rtl"?e.jsx(k,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function _t(r){var t=Z().numberOfMonths,a=fr(),s=a.previousMonth,n=a.nextMonth,o=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(g){return at(r.displayMonth,g)}),d=l===0,m=l===i.length-1,c=t>1&&(d||!m),b=t>1&&(m||!d),f=function(){s&&o(s)},h=function(){n&&o(n)};return e.jsx(Mo,{displayMonth:r.displayMonth,hideNext:c,hidePrevious:b,nextMonth:n,previousMonth:s,onPreviousClick:f,onNextClick:h})}function _o(r){var t,a=Z(),s=a.classNames,n=a.disableNavigation,o=a.styles,i=a.captionLayout,l=a.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ia,m;return n?m=e.jsx(d,{id:r.id,displayMonth:r.displayMonth}):i==="dropdown"?m=e.jsx(Mt,{displayMonth:r.displayMonth,id:r.id}):i==="dropdown-buttons"?m=e.jsxs(e.Fragment,{children:[e.jsx(Mt,{displayMonth:r.displayMonth,displayIndex:r.displayIndex,id:r.id}),e.jsx(_t,{displayMonth:r.displayMonth,displayIndex:r.displayIndex,id:r.id})]}):m=e.jsxs(e.Fragment,{children:[e.jsx(d,{id:r.id,displayMonth:r.displayMonth,displayIndex:r.displayIndex}),e.jsx(_t,{displayMonth:r.displayMonth,id:r.id})]}),e.jsx("div",{className:s.caption,style:o.caption,children:m})}function Do(r){var t=Z(),a=t.footer,s=t.styles,n=t.classNames.tfoot;return a?e.jsx("tfoot",{className:n,style:s.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:a})})}):e.jsx(e.Fragment,{})}function Lo(r,t,a){for(var s=a?Ue(new Date):_e(new Date,{locale:r,weekStartsOn:t}),n=[],o=0;o<7;o++){var i=le(s,o);n.push(i)}return n}function To(){var r=Z(),t=r.classNames,a=r.styles,s=r.showWeekNumber,n=r.locale,o=r.weekStartsOn,i=r.ISOWeek,l=r.formatters.formatWeekdayName,d=r.labels.labelWeekday,m=Lo(n,o,i);return e.jsxs("tr",{style:a.head_row,className:t.head_row,children:[s&&e.jsx("td",{style:a.head_cell,className:t.head_cell}),m.map(function(c,b){return e.jsx("th",{scope:"col",className:t.head_cell,style:a.head_cell,"aria-label":d(c,{locale:n}),children:l(c,{locale:n})},b)})]})}function zo(){var r,t=Z(),a=t.classNames,s=t.styles,n=t.components,o=(r=n==null?void 0:n.HeadRow)!==null&&r!==void 0?r:To;return e.jsx("thead",{style:s.head,className:a.head,children:e.jsx(o,{})})}function Bo(r){var t=Z(),a=t.locale,s=t.formatters.formatDay;return e.jsx(e.Fragment,{children:s(r.date,{locale:a})})}var st=x.createContext(void 0);function Ao(r){if(!br(r.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return e.jsx(st.Provider,{value:t,children:r.children})}return e.jsx($o,{initialProps:r.initialProps,children:r.children})}function $o(r){var t=r.initialProps,a=r.children,s=t.selected,n=t.min,o=t.max,i=function(m,c,b){var f,h;(f=t.onDayClick)===null||f===void 0||f.call(t,m,c,b);var g=!!(c.selected&&n&&(s==null?void 0:s.length)===n);if(!g){var v=!!(!c.selected&&o&&(s==null?void 0:s.length)===o);if(!v){var y=s?na([],s):[];if(c.selected){var k=y.findIndex(function(C){return ue(m,C)});y.splice(k,1)}else y.push(m);(h=t.onSelect)===null||h===void 0||h.call(t,y,m,c,b)}}},l={disabled:[]};s&&l.disabled.push(function(m){var c=o&&s.length>o-1,b=s.some(function(f){return ue(f,m)});return!!(c&&!b)});var d={selected:s,onDayClick:i,modifiers:l};return e.jsx(st.Provider,{value:d,children:a})}function nt(){var r=x.useContext(st);if(!r)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return r}function Io(r,t){var a=t||{},s=a.from,n=a.to;return s&&n?ue(n,r)&&ue(s,r)?void 0:ue(n,r)?{from:n,to:void 0}:ue(s,r)?void 0:Pr(s,r)?{from:r,to:n}:{from:s,to:r}:n?Pr(r,n)?{from:n,to:r}:{from:r,to:n}:s?tt(r,s)?{from:r,to:s}:{from:s,to:r}:{from:r,to:void 0}}var ot=x.createContext(void 0);function Oo(r){if(!pr(r.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(ot.Provider,{value:t,children:r.children})}return e.jsx(Wo,{initialProps:r.initialProps,children:r.children})}function Wo(r){var t=r.initialProps,a=r.children,s=t.selected,n=s||{},o=n.from,i=n.to,l=t.min,d=t.max,m=function(h,g,v){var y,k;(y=t.onDayClick)===null||y===void 0||y.call(t,h,g,v);var C=Io(h,s);(k=t.onSelect)===null||k===void 0||k.call(t,C,h,g,v)},c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(c.range_start=[o],i?(c.range_end=[i],ue(o,i)||(c.range_middle=[{after:o,before:i}])):c.range_end=[o]):i&&(c.range_start=[i],c.range_end=[i]),l&&(o&&!i&&c.disabled.push({after:Br(o,l-1),before:le(o,l-1)}),o&&i&&c.disabled.push({after:o,before:le(o,l-1)}),!o&&i&&c.disabled.push({after:Br(i,l-1),before:le(i,l-1)})),d){if(o&&!i&&(c.disabled.push({before:le(o,-d+1)}),c.disabled.push({after:le(o,d-1)})),o&&i){var b=Me(i,o)+1,f=d-b;c.disabled.push({before:Br(o,f)}),c.disabled.push({after:le(i,f)})}!o&&i&&(c.disabled.push({before:le(i,-d+1)}),c.disabled.push({after:le(i,d-1)}))}return e.jsx(ot.Provider,{value:{selected:s,onDayClick:m,modifiers:c},children:a})}function it(){var r=x.useContext(ot);if(!r)throw new Error("useSelectRange must be used within a SelectRangeProvider");return r}function kr(r){return Array.isArray(r)?na([],r):r!==void 0?[r]:[]}function Ro(r){var t={};return Object.entries(r).forEach(function(a){var s=a[0],n=a[1];t[s]=kr(n)}),t}var ke;(function(r){r.Outside="outside",r.Disabled="disabled",r.Selected="selected",r.Hidden="hidden",r.Today="today",r.RangeStart="range_start",r.RangeEnd="range_end",r.RangeMiddle="range_middle"})(ke||(ke={}));var Fo=ke.Selected,Le=ke.Disabled,Ho=ke.Hidden,Vo=ke.Today,$r=ke.RangeEnd,Ir=ke.RangeMiddle,Or=ke.RangeStart,qo=ke.Outside;function Yo(r,t,a){var s,n=(s={},s[Fo]=kr(r.selected),s[Le]=kr(r.disabled),s[Ho]=kr(r.hidden),s[Vo]=[r.today],s[$r]=[],s[Ir]=[],s[Or]=[],s[qo]=[],s);return r.fromDate&&n[Le].push({before:r.fromDate}),r.toDate&&n[Le].push({after:r.toDate}),br(r)?n[Le]=n[Le].concat(t.modifiers[Le]):pr(r)&&(n[Le]=n[Le].concat(a.modifiers[Le]),n[Or]=a.modifiers[Or],n[Ir]=a.modifiers[Ir],n[$r]=a.modifiers[$r]),n}var ca=x.createContext(void 0);function Uo(r){var t=Z(),a=nt(),s=it(),n=Yo(t,a,s),o=Ro(t.modifiers),i=I(I({},n),o);return e.jsx(ca.Provider,{value:i,children:r.children})}function ua(){var r=x.useContext(ca);if(!r)throw new Error("useModifiers must be used within a ModifiersProvider");return r}function Go(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function Xo(r){return!!(r&&typeof r=="object"&&"from"in r)}function Jo(r){return!!(r&&typeof r=="object"&&"after"in r)}function Qo(r){return!!(r&&typeof r=="object"&&"before"in r)}function Ko(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function Zo(r,t){var a,s=t.from,n=t.to;if(s&&n){var o=Me(n,s)<0;o&&(a=[n,s],s=a[0],n=a[1]);var i=Me(r,s)>=0&&Me(n,r)>=0;return i}return n?ue(n,r):s?ue(s,r):!1}function ei(r){return Zr(r)}function ri(r){return Array.isArray(r)&&r.every(Zr)}function ti(r,t){return t.some(function(a){if(typeof a=="boolean")return a;if(ei(a))return ue(r,a);if(ri(a))return a.includes(r);if(Xo(a))return Zo(r,a);if(Ko(a))return a.dayOfWeek.includes(r.getDay());if(Go(a)){var s=Me(a.before,r),n=Me(a.after,r),o=s>0,i=n<0,l=Pr(a.before,a.after);return l?i&&o:o||i}return Jo(a)?Me(r,a.after)>0:Qo(a)?Me(a.before,r)>0:typeof a=="function"?a(r):!1})}function lt(r,t,a){var s=Object.keys(t).reduce(function(o,i){var l=t[i];return ti(r,l)&&o.push(i),o},[]),n={};return s.forEach(function(o){return n[o]=!0}),a&&!at(r,a)&&(n.outside=!0),n}function ai(r,t){for(var a=ge(r[0]),s=et(r[r.length-1]),n,o,i=a;i<=s;){var l=lt(i,t),d=!l.disabled&&!l.hidden;if(!d){i=le(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),n||(n=i),i=le(i,1)}return o||n}var si=365;function ma(r,t){var a=t.moveBy,s=t.direction,n=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:r}:i,d=n.weekStartsOn,m=n.fromDate,c=n.toDate,b=n.locale,f={day:le,week:qr,month:Ne,year:gs,startOfWeek:function(y){return n.ISOWeek?Ue(y):_e(y,{locale:b,weekStartsOn:d})},endOfWeek:function(y){return n.ISOWeek?Kt(y):rt(y,{locale:b,weekStartsOn:d})}},h=f[a](r,s==="after"?1:-1);s==="before"&&m?h=bs([m,h]):s==="after"&&c&&(h=ps([c,h]));var g=!0;if(o){var v=lt(h,o);g=!v.disabled&&!v.hidden}return g?h:l.count>si?l.lastFocused:ma(h,{moveBy:a,direction:s,context:n,modifiers:o,retry:I(I({},l),{count:l.count+1})})}var xa=x.createContext(void 0);function ni(r){var t=fr(),a=ua(),s=x.useState(),n=s[0],o=s[1],i=x.useState(),l=i[0],d=i[1],m=ai(t.displayMonths,a),c=(n!=null?n:l&&t.isDateDisplayed(l))?l:m,b=function(){d(n),o(void 0)},f=function(y){o(y)},h=Z(),g=function(y,k){if(n){var C=ma(n,{moveBy:y,direction:k,context:h,modifiers:a});ue(n,C)||(t.goToDate(C,n),f(C))}},v={focusedDay:n,focusTarget:c,blur:b,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return e.jsx(xa.Provider,{value:v,children:r.children})}function dt(){var r=x.useContext(xa);if(!r)throw new Error("useFocusContext must be used within a FocusProvider");return r}function oi(r,t){var a=ua(),s=lt(r,a,t);return s}var ct=x.createContext(void 0);function ii(r){if(!_r(r.initialProps)){var t={selected:void 0};return e.jsx(ct.Provider,{value:t,children:r.children})}return e.jsx(li,{initialProps:r.initialProps,children:r.children})}function li(r){var t=r.initialProps,a=r.children,s=function(o,i,l){var d,m,c;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(m=t.onSelect)===null||m===void 0||m.call(t,void 0,o,i,l);return}(c=t.onSelect)===null||c===void 0||c.call(t,o,o,i,l)},n={selected:t.selected,onDayClick:s};return e.jsx(ct.Provider,{value:n,children:a})}function ha(){var r=x.useContext(ct);if(!r)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return r}function di(r,t){var a=Z(),s=ha(),n=nt(),o=it(),i=dt(),l=i.focusDayAfter,d=i.focusDayBefore,m=i.focusWeekAfter,c=i.focusWeekBefore,b=i.blur,f=i.focus,h=i.focusMonthBefore,g=i.focusMonthAfter,v=i.focusYearBefore,y=i.focusYearAfter,k=i.focusStartOfWeek,C=i.focusEndOfWeek,B=function(M){var u,P,w,E;_r(a)?(u=s.onDayClick)===null||u===void 0||u.call(s,r,t,M):br(a)?(P=n.onDayClick)===null||P===void 0||P.call(n,r,t,M):pr(a)?(w=o.onDayClick)===null||w===void 0||w.call(o,r,t,M):(E=a.onDayClick)===null||E===void 0||E.call(a,r,t,M)},W=function(M){var u;f(r),(u=a.onDayFocus)===null||u===void 0||u.call(a,r,t,M)},S=function(M){var u;b(),(u=a.onDayBlur)===null||u===void 0||u.call(a,r,t,M)},D=function(M){var u;(u=a.onDayMouseEnter)===null||u===void 0||u.call(a,r,t,M)},T=function(M){var u;(u=a.onDayMouseLeave)===null||u===void 0||u.call(a,r,t,M)},U=function(M){var u;(u=a.onDayPointerEnter)===null||u===void 0||u.call(a,r,t,M)},Q=function(M){var u;(u=a.onDayPointerLeave)===null||u===void 0||u.call(a,r,t,M)},ee=function(M){var u;(u=a.onDayTouchCancel)===null||u===void 0||u.call(a,r,t,M)},J=function(M){var u;(u=a.onDayTouchEnd)===null||u===void 0||u.call(a,r,t,M)},N=function(M){var u;(u=a.onDayTouchMove)===null||u===void 0||u.call(a,r,t,M)},L=function(M){var u;(u=a.onDayTouchStart)===null||u===void 0||u.call(a,r,t,M)},R=function(M){var u;(u=a.onDayKeyUp)===null||u===void 0||u.call(a,r,t,M)},q=function(M){var u;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),a.dir==="rtl"?l():d();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),a.dir==="rtl"?d():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),m();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),c();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?v():h();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?y():g();break;case"Home":M.preventDefault(),M.stopPropagation(),k();break;case"End":M.preventDefault(),M.stopPropagation(),C();break}(u=a.onDayKeyDown)===null||u===void 0||u.call(a,r,t,M)},re={onClick:B,onFocus:W,onBlur:S,onKeyDown:q,onKeyUp:R,onMouseEnter:D,onMouseLeave:T,onPointerEnter:U,onPointerLeave:Q,onTouchCancel:ee,onTouchEnd:J,onTouchMove:N,onTouchStart:L};return re}function ci(){var r=Z(),t=ha(),a=nt(),s=it(),n=_r(r)?t.selected:br(r)?a.selected:pr(r)?s.selected:void 0;return n}function ui(r){return Object.values(ke).includes(r)}function mi(r,t){var a=[r.classNames.day];return Object.keys(t).forEach(function(s){var n=r.modifiersClassNames[s];if(n)a.push(n);else if(ui(s)){var o=r.classNames["day_".concat(s)];o&&a.push(o)}}),a}function xi(r,t){var a=I({},r.styles.day);return Object.keys(t).forEach(function(s){var n;a=I(I({},a),(n=r.modifiersStyles)===null||n===void 0?void 0:n[s])}),a}function hi(r,t,a){var s,n,o,i=Z(),l=dt(),d=oi(r,t),m=di(r,d),c=ci(),b=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var D;d.outside||l.focusedDay&&b&&ue(l.focusedDay,r)&&((D=a.current)===null||D===void 0||D.focus())},[l.focusedDay,r,a,b,d.outside]);var f=mi(i,d).join(" "),h=xi(i,d),g=!!(d.outside&&!i.showOutsideDays||d.hidden),v=(o=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:Bo,y=e.jsx(v,{date:r,displayMonth:t,activeModifiers:d}),k={style:h,className:f,children:y,role:"gridcell"},C=l.focusTarget&&ue(l.focusTarget,r)&&!d.outside,B=l.focusedDay&&ue(l.focusedDay,r),W=I(I(I({},k),(s={disabled:d.disabled,role:"gridcell"},s["aria-selected"]=d.selected,s.tabIndex=B||C?0:-1,s)),m),S={isButton:b,isHidden:g,activeModifiers:d,selectedDays:c,buttonProps:W,divProps:k};return S}function gi(r){var t=x.useRef(null),a=hi(r.date,r.displayMonth,t);return a.isHidden?e.jsx("div",{role:"gridcell"}):a.isButton?e.jsx(Mr,I({name:"day",ref:t},a.buttonProps)):e.jsx("div",I({},a.divProps))}function bi(r){var t=r.number,a=r.dates,s=Z(),n=s.onWeekNumberClick,o=s.styles,i=s.classNames,l=s.locale,d=s.labels.labelWeekNumber,m=s.formatters.formatWeekNumber,c=m(Number(t),{locale:l});if(!n)return e.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:c});var b=d(Number(t),{locale:l}),f=function(h){n(t,a,h)};return e.jsx(Mr,{name:"week-number","aria-label":b,className:i.weeknumber,style:o.weeknumber,onClick:f,children:c})}function pi(r){var t,a,s=Z(),n=s.styles,o=s.classNames,i=s.showWeekNumber,l=s.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:gi,m=(a=l==null?void 0:l.WeekNumber)!==null&&a!==void 0?a:bi,c;return i&&(c=e.jsx("td",{className:o.cell,style:n.cell,children:e.jsx(m,{number:r.weekNumber,dates:r.dates})})),e.jsxs("tr",{className:o.row,style:n.row,children:[c,r.dates.map(function(b){return e.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:e.jsx(d,{displayMonth:r.displayMonth,date:b})},bn(b))})]})}function Dt(r,t,a){for(var s=a!=null&&a.ISOWeek?Kt(t):rt(t,a),n=a!=null&&a.ISOWeek?Ue(r):_e(r,a),o=Me(s,n),i=[],l=0;l<=o;l++)i.push(le(n,l));var d=i.reduce(function(m,c){var b=a!=null&&a.ISOWeek?ra(c):aa(c,a),f=m.find(function(h){return h.weekNumber===b});return f?(f.dates.push(c),m):(m.push({weekNumber:b,dates:[c]}),m)},[]);return d}function fi(r,t){var a=Dt(ge(r),et(r),t);if(t!=null&&t.useFixedWeeks){var s=fn(r,t);if(s<6){var n=a[a.length-1],o=n.dates[n.dates.length-1],i=qr(o,6-s),l=Dt(qr(o,1),i,t);a.push.apply(a,l)}}return a}function vi(r){var t,a,s,n=Z(),o=n.locale,i=n.classNames,l=n.styles,d=n.hideHead,m=n.fixedWeeks,c=n.components,b=n.weekStartsOn,f=n.firstWeekContainsDate,h=n.ISOWeek,g=fi(r.displayMonth,{useFixedWeeks:!!m,ISOWeek:h,locale:o,weekStartsOn:b,firstWeekContainsDate:f}),v=(t=c==null?void 0:c.Head)!==null&&t!==void 0?t:zo,y=(a=c==null?void 0:c.Row)!==null&&a!==void 0?a:pi,k=(s=c==null?void 0:c.Footer)!==null&&s!==void 0?s:Do;return e.jsxs("table",{id:r.id,className:i.table,style:l.table,role:"grid","aria-labelledby":r["aria-labelledby"],children:[!d&&e.jsx(v,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(C){return e.jsx(y,{displayMonth:r.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),e.jsx(k,{displayMonth:r.displayMonth})]})}function yi(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var wi=yi()?x.useLayoutEffect:x.useEffect,Wr=!1,ji=0;function Lt(){return"react-day-picker-".concat(++ji)}function Ni(r){var t,a=r!=null?r:Wr?Lt():null,s=x.useState(a),n=s[0],o=s[1];return wi(function(){n===null&&o(Lt())},[]),x.useEffect(function(){Wr===!1&&(Wr=!0)},[]),(t=r!=null?r:n)!==null&&t!==void 0?t:void 0}function ki(r){var t,a,s=Z(),n=s.dir,o=s.classNames,i=s.styles,l=s.components,d=fr().displayMonths,m=Ni(s.id?"".concat(s.id,"-").concat(r.displayIndex):void 0),c=s.id?"".concat(s.id,"-grid-").concat(r.displayIndex):void 0,b=[o.month],f=i.month,h=r.displayIndex===0,g=r.displayIndex===d.length-1,v=!h&&!g;n==="rtl"&&(t=[h,g],g=t[0],h=t[1]),h&&(b.push(o.caption_start),f=I(I({},f),i.caption_start)),g&&(b.push(o.caption_end),f=I(I({},f),i.caption_end)),v&&(b.push(o.caption_between),f=I(I({},f),i.caption_between));var y=(a=l==null?void 0:l.Caption)!==null&&a!==void 0?a:_o;return e.jsxs("div",{className:b.join(" "),style:f,children:[e.jsx(y,{id:m,displayMonth:r.displayMonth,displayIndex:r.displayIndex}),e.jsx(vi,{id:c,"aria-labelledby":m,displayMonth:r.displayMonth})]},r.displayIndex)}function Ci(r){var t=Z(),a=t.classNames,s=t.styles;return e.jsx("div",{className:a.months,style:s.months,children:r.children})}function Si(r){var t,a,s=r.initialProps,n=Z(),o=dt(),i=fr(),l=x.useState(!1),d=l[0],m=l[1];x.useEffect(function(){n.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),m(!0)))},[n.initialFocus,d,o.focus,o.focusTarget,o]);var c=[n.classNames.root,n.className];n.numberOfMonths>1&&c.push(n.classNames.multiple_months),n.showWeekNumber&&c.push(n.classNames.with_weeknumber);var b=I(I({},n.styles.root),n.style),f=Object.keys(s).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var y;return I(I({},g),(y={},y[v]=s[v],y))},{}),h=(a=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&a!==void 0?a:Ci;return e.jsx("div",I({className:c.join(" "),style:b,dir:n.dir,id:n.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:e.jsx(h,{children:i.displayMonths.map(function(g,v){return e.jsx(ki,{displayIndex:v,displayMonth:g},v)})})}))}function Ei(r){var t=r.children,a=Jn(r,["children"]);return e.jsx(bo,{initialProps:a,children:e.jsx(So,{children:e.jsx(ii,{initialProps:a,children:e.jsx(Ao,{initialProps:a,children:e.jsx(Oo,{initialProps:a,children:e.jsx(Uo,{children:e.jsx(ni,{children:t})})})})})})})}function Pi(r){return e.jsx(Ei,I({},r,{children:e.jsx(Si,{initialProps:r})}))}const Tt=(r,t)=>{if(r.includes("T")&&r.includes("-05:00")){const[a,s]=r.split("T");return t.includes("HH:mm")?s.split(".")[0].substring(0,5):ne(new Date(a+"T00:00:00"),t,{locale:Fe})}return ne(new Date(r),t,{locale:Fe})},zt=()=>{const[r]=Ca(),[t,a]=x.useState([]),[s,n]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(!1),[m,c]=x.useState(!1),[b,f]=x.useState(null),[h,g]=x.useState(""),[v,y]=x.useState(""),[k,C]=x.useState(""),[B,W]=x.useState(null),[S,D]=x.useState(!1),[T,U]=x.useState(""),[Q,ee]=x.useState([]),[J,N]=x.useState([]),[L,R]=x.useState([]),[q,re]=x.useState(""),[M,u]=x.useState("upcoming"),[P,w]=x.useState(!1),[E,A]=x.useState(null),[O,j]=x.useState(""),{user:z}=oe(),{showSuccess:F,showError:H}=De();x.useEffect(()=>{console.log("Component mounted, user:",z),se(),ie(),we()},[z]),x.useEffect(()=>{console.log("üîÑ Services state changed:",Q)},[Q]),x.useEffect(()=>{console.log("üîÑ Barbers state changed:",J)},[J]),x.useEffect(()=>{const p=r.get("barberId");p&&J.length>0&&J.find(ve=>ve._id===p)&&y(p)},[r,J]),x.useEffect(()=>{k&&v?(console.log("üîÑ Date or barber changed, fetching available times"),K()):(console.log("üîÑ Clearing available times - missing date or barber"),R([]),U(""))},[k,v]),x.useEffect(()=>{T&&L.length>0&&(L.some($=>typeof $=="object"?$.datetime===T:$===T)||(console.log("üîÑ Selected time no longer available, clearing selection"),U("")))},[L,T]),x.useEffect(()=>{console.log("üéØ Button state check:",{submitting:m,selectedService:!!h,selectedBarber:!!v,selectedDate:!!k,selectedTime:!!T,isButtonDisabled:m||!h||!v||!k||!T})},[m,h,v,k,T]);const se=async()=>{if(z!=null&&z._id)try{d(!0);const p=await me.getAppointments();p.success?a(p.data||[]):i(p.message||"Error al cargar las citas")}catch(p){console.error("Error fetching appointments:",p),i("Error al cargar las citas")}finally{d(!1)}},ie=async()=>{try{console.log("Fetching services...");const p=await Jr.getAllServices();console.log("Services response:",p),p.success?(ee(p.data||[]),console.log("Services loaded (success):",p.data)):p.data&&p.data.success?(ee(p.data.data||[]),console.log("Services loaded (data.success):",p.data.data)):Array.isArray(p.data)?(ee(p.data),console.log("Services loaded (array):",p.data)):Array.isArray(p)?(ee(p),console.log("Services loaded (direct array):",p)):console.warn("Unexpected services response format:",p)}catch(p){console.error("Error fetching services:",p)}},we=async()=>{try{console.log("Fetching barbers...");const p=await We.getAllBarbers();console.log("Barbers response:",p),p.success?(N(p.data||[]),console.log("Barbers loaded (success):",p.data)):p.data&&p.data.success?(N(p.data.data||[]),console.log("Barbers loaded (data.success):",p.data.data)):Array.isArray(p.data)?(N(p.data),console.log("Barbers loaded (array):",p.data)):Array.isArray(p)?(N(p),console.log("Barbers loaded (direct array):",p)):console.warn("Unexpected barbers response format:",p)}catch(p){console.error("Error fetching barbers:",p)}},K=async()=>{if(!(!k||!v))try{console.log("üïê Fetching available times for:",{selectedBarber:v,selectedDate:k});const p=await me.getAvailableTimes(v,k);console.log("üïê Available times response:",p);let $=[];p.success&&p.data&&Array.isArray(p.data.slots)?($=p.data.slots,re(p.data.reason||""),console.log("üïê Available times loaded (slots):",p.data.slots),console.log("üïê Barber name:",p.data.barber),console.log("üïê Date:",p.data.date),p.data.reason&&console.log("üïê Reason:",p.data.reason)):p.data&&p.data.success&&Array.isArray(p.data.data)?($=p.data.data,console.log("Available times loaded (nested success + array):",p.data.data)):Array.isArray(p.data)?($=p.data,console.log("Available times loaded (direct array):",p.data)):Array.isArray(p)?($=p,console.log("Available times loaded (response is array):",p)):(console.warn("Available times response structure unexpected:",p),$=[]),R($),console.log("üïê Final available times set:",$)}catch(p){console.error("‚ùå Error fetching available times:",p),R([])}},fe=async p=>{var ve,sr;if(p.preventDefault(),console.log("üöÄ Submit button clicked! Form state:",{selectedService:h,selectedBarber:v,selectedDate:k,selectedTime:T,submitting:m}),!h||!v||!k||!T){console.log("‚ùå Missing required fields"),i("Por favor completa todos los campos");return}const $=L.some(be=>typeof be=="object"?be.datetime===T:be===T);if(console.log("üîç Validating time availability:",{selectedTime:T,availableTimes:L,isTimeAvailable:$}),!$){i("El horario seleccionado ya no est√° disponible");return}try{c(!0),i(""),n("");const be={serviceId:h,barberId:v,date:T};console.log("üì§ Sending appointment data:",be);const nr=await me.createAppointment(be);if(nr.success)n("Cita agendada exitosamente. El barbero confirmar√° tu cita pronto."),F("Cita agendada exitosamente"),g(""),y(""),C(""),U(""),R([]),await se();else throw new Error(nr.message||"Error al agendar la cita")}catch(be){console.error("Error creating appointment:",be);const nr=((sr=(ve=be.response)==null?void 0:ve.data)==null?void 0:sr.message)||be.message||"Error al agendar la cita";i(nr),H(nr)}finally{c(!1)}},vr=async()=>{if(b)try{const p=await me.cancelAppointment(b);p.success?(F("Cita cancelada exitosamente"),f(null),await se()):H(p.message||"Error al cancelar la cita")}catch(p){console.error("Error canceling appointment:",p),H("Error al cancelar la cita")}},ga=async p=>{if(window.confirm("¬øEst√°s seguro de que deseas eliminar el reporte de esta cita?"))try{const $=await me.deleteAppointment(p);$.success?(F("Reporte de cita eliminado exitosamente"),await se()):H($.message||"Error al eliminar el reporte de la cita")}catch($){console.error("Error deleting appointment:",$),H("Error al eliminar el reporte de la cita")}},ba=p=>{A(p),w(!0),j("")},ut=()=>{w(!1),A(null),j("")},pa=async()=>{if(!O.trim()){H("Debe proporcionar un motivo para la cancelaci√≥n");return}if(O.split(" ").filter($=>$.length>0).length>100){H("El motivo no puede exceder las 100 palabras");return}try{const $=await me.cancelAppointment(E,O);$.success?(F("Cita cancelada exitosamente. El barbero ha sido notificado."),ut(),await se()):H($.message||"Error al cancelar la cita")}catch($){console.error("Error canceling confirmed appointment:",$),H("Error al cancelar la cita")}},fa=p=>{const $=t.find(ve=>ve._id===p);$&&$.cancellationReason&&alert(`Motivo de cancelaci√≥n: ${$.cancellationReason}`)},mt=x.useMemo(()=>{if(!t.length)return[];const p=new Date;return M==="upcoming"?t.filter($=>{const ve=new Date($.date);return($.status==="pending"||$.status==="confirmed")&&(Pr(ve,p)||ue(ve,p))}):t.filter($=>$.status==="completed"||$.status==="cancelled"||$.status!=="completed"&&$.status!=="cancelled"&&tt(new Date($.date),Ge(p)))},[t,M]),Dr=new Date;ne(Dr,"yyyy-MM-dd");const va=le(Dr,30),ya=p=>{p&&(W(p),C(ne(p,"yyyy-MM-dd")),D(!1),console.log("üìÖ Fecha seleccionada:",ne(p,"yyyy-MM-dd")))},wa=[{before:Dr},{after:va},{dayOfWeek:[0]}];return e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",children:e.jsx(ce,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Agendar Nueva Cita"})]}),e.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ye,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"bg-gradient-to-r from-purple-300 to-purple-100 bg-clip-text text-transparent",children:"Servicio"})]})}),e.jsxs("select",{value:h,onChange:p=>{console.log("Service selected:",p.target.value),g(p.target.value)},className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500/50 transition-all duration-200",required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un servicio"}),Q.length===0?e.jsx("option",{disabled:!0,children:"Cargando servicios..."}):Q.map(p=>e.jsxs("option",{value:p._id,children:[p.name," - $",p.price]},p._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent",children:"Barbero"})]})}),e.jsxs("select",{value:v,onChange:p=>{console.log("Barber selected:",p.target.value),y(p.target.value)},className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-blue-500/50 transition-all duration-200",required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un barbero"}),J.length===0?e.jsx("option",{disabled:!0,children:"Cargando barberos..."}):J.map(p=>{var $;return e.jsx("option",{value:p._id,children:(($=p.user)==null?void 0:$.name)||p.name||"Barbero"},p._id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent",children:"Fecha"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:k?ne(new Date(k),"dd/MM/yyyy",{locale:Fe}):"",onClick:()=>D(!S),placeholder:"Selecciona una fecha",className:"w-full h-10 px-3 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white text-sm focus:outline-none focus:border-green-500/50 transition-all duration-200 cursor-pointer",readOnly:!0,required:!0}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 z-50 bg-gray-800 border border-gray-600 rounded-lg shadow-xl p-4",children:[e.jsx(Pi,{mode:"single",selected:B,onSelect:ya,disabled:wa,locale:Fe,className:"rdp-custom",style:{"--rdp-cell-size":"35px","--rdp-accent-color":"#10b981","--rdp-background-color":"#1f2937","--rdp-accent-color-dark":"#059669","--rdp-background-color-dark":"#111827","--rdp-outline":"2px solid var(--rdp-accent-color)",color:"white"},modifiersStyles:{selected:{backgroundColor:"#10b981",color:"white"},today:{backgroundColor:"#374151",color:"#10b981",fontWeight:"bold"}}}),e.jsx("button",{type:"button",onClick:()=>D(!1),className:"mt-2 w-full px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cerrar"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"bg-gradient-to-r from-orange-300 to-orange-100 bg-clip-text text-transparent",children:"Horarios"})]})}),!k||!v?e.jsx("div",{className:"p-3 bg-gray-800/30 border border-gray-700/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-2",children:[e.jsx(er,{className:"w-4 h-4 text-amber-400"}),"Selecciona fecha y barbero"]})}):k&&v&&(!Array.isArray(L)||L.length===0)?e.jsx("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),q||"Sin horarios disponibles"]})}):e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.isArray(L)&&L.map((p,$)=>e.jsx("button",{type:"button",onClick:()=>{console.log("üïê Time slot selected:",p),U(p.datetime)},className:`p-2 rounded-lg text-xs font-medium transition-all duration-200 border ${T===p.datetime?"bg-gradient-to-r from-orange-500 to-amber-500 text-white border-orange-400":"bg-gray-800/50 text-gray-300 border-gray-700/50 hover:bg-gray-700/50"}`,children:p.time},`${p.time}-${$}`))})]}),o&&e.jsxs("div",{className:"p-3 bg-red-900/30 border border-red-500/50 rounded-lg text-red-400 text-sm flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 flex-shrink-0"}),o]}),s&&e.jsxs("div",{className:"p-3 bg-green-900/30 border border-green-500/50 rounded-lg text-green-400 text-sm flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4 flex-shrink-0"}),s]}),e.jsx(de,{type:"submit",disabled:m||!h||!v||!k||!T,className:"w-full h-10 text-sm font-semibold",onClick:p=>{console.log("üîò Button clicked!",p)},children:m?"Agendando...":"Agendar Cita"})]})]}),e.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:e.jsx(ce,{className:"w-4 h-4 text-purple-400"})}),e.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Mis Citas"})]}),e.jsx("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-lg p-0.5",children:e.jsxs("div",{className:"flex space-x-0.5",children:[e.jsx("button",{onClick:()=>u("upcoming"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${M==="upcoming"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:"Pr√≥ximas"}),e.jsx("button",{onClick:()=>u("history"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${M==="history"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:"Historial"})]})})]}),l?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):mt.length===0?e.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700/30 text-center",children:[e.jsx("div",{className:"inline-block p-3 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-full mb-3",children:e.jsx(ce,{className:"w-5 h-5 text-gray-400"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:M==="upcoming"?"No tienes citas pr√≥ximas":"No hay historial de citas"}),e.jsx("p",{className:"text-xs text-gray-500",children:M==="upcoming"?"Agenda una nueva cita":"Tus citas aparecer√°n aqu√≠"})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:mt.map(p=>{var $,ve,sr,be;return e.jsx("div",{className:`bg-gray-800/40 rounded-lg p-4 border transition-all duration-200 ${p.status==="confirmed"?"border-green-500/40":p.status==="pending"?"border-yellow-500/40":p.status==="cancelled"?"border-red-500/40":"border-gray-600/40"}`,children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[e.jsx(ye,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:(($=p.service)==null?void 0:$.name)||"Servicio no disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"Fecha:"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent font-medium",children:Tt(p.date,"d 'de' MMM")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-gray-400",children:"Hora:"}),e.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent font-medium",children:Tt(p.date,"HH:mm")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-3 h-3 text-amber-400"}),e.jsx("span",{className:"text-gray-400",children:"Barbero:"}),e.jsx("span",{className:"bg-gradient-to-r from-amber-300 to-amber-100 bg-clip-text text-transparent font-medium",children:((sr=(ve=p.barber)==null?void 0:ve.user)==null?void 0:sr.name)||((be=p.barber)==null?void 0:be.name)||"No asignado"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${p.status==="pending"?"bg-yellow-900/30 text-yellow-400 border-yellow-500/50":p.status==="confirmed"?"bg-green-900/30 text-green-400 border-green-500/50":p.status==="cancelled"?"bg-red-900/30 text-red-400 border-red-500/50":"bg-blue-900/30 text-blue-400 border-blue-500/50"}`,children:p.status==="pending"?"Pendiente":p.status==="confirmed"?"Confirmada":p.status==="cancelled"?"Cancelada":"Completada"}),e.jsxs("div",{className:"flex gap-1",children:[p.status==="pending"&&e.jsx("button",{onClick:()=>f(p._id),className:"p-1 text-red-400 hover:text-red-300 border border-red-500/50 rounded text-xs transition-all duration-200",title:"Cancelar",children:e.jsx(qe,{className:"w-3 h-3"})}),p.status==="confirmed"&&e.jsx("button",{onClick:()=>ba(p._id),className:"p-1 text-orange-400 hover:text-orange-300 border border-orange-500/50 rounded text-xs transition-all duration-200",title:"Cancelar con motivo",children:e.jsx(er,{className:"w-3 h-3"})}),p.status==="cancelled"&&p.cancellationReason&&p.cancelledBy!=="user"&&e.jsx("button",{onClick:()=>fa(p._id),className:"p-1 text-blue-400 hover:text-blue-300 border border-blue-500/50 rounded text-xs transition-all duration-200",title:"Ver motivo",children:e.jsx(er,{className:"w-3 h-3"})}),(p.status==="completed"||p.status==="cancelled")&&e.jsx("button",{onClick:()=>ga(p._id),className:"p-1 text-red-400 hover:text-red-300 border border-red-500/50 rounded text-xs transition-all duration-200",title:"Eliminar",children:e.jsx(qe,{className:"w-3 h-3"})})]})]})]})},p._id)})})]})]})}),P&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Cancelar Cita Confirmada"}),e.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Para cancelar una cita confirmada, debe proporcionar un motivo. El barbero ser√° notificado."}),e.jsx("textarea",{value:O,onChange:p=>j(p.target.value),placeholder:"Escriba el motivo de la cancelaci√≥n (m√°ximo 100 palabras)...",className:"w-full h-24 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 resize-none focus:outline-none focus:border-orange-500 text-sm",maxLength:500}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mb-3",children:[O.split(" ").filter(p=>p.length>0).length,"/100 palabras"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ut,className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancelar"}),e.jsx("button",{onClick:pa,disabled:!O.trim(),className:"px-3 py-1.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed text-sm",children:"Cancelar Cita"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-red-200 bg-clip-text text-transparent",children:"Cancelar Cita"}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"¬øEst√°s seguro de que deseas cancelar esta cita? Esta acci√≥n no se puede deshacer."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f(null),className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Volver"}),e.jsx("button",{onClick:vr,className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Confirmar Cancelaci√≥n"})]})]})})]})})},Bt=(r,t)=>{if(r.includes("T")&&r.includes("-05:00")){const[a,s]=r.split("T");return t.includes("HH:mm")?s.split(".")[0].substring(0,5):ne(new Date(a+"T00:00:00"),t,{locale:Fe})}return ne(new Date(r),t,{locale:Fe})},At=()=>{const[r,t]=x.useState([]),[a,s]=x.useState(!0),[n,o]=x.useState("pending"),[i,l]=x.useState(null),[d,m]=x.useState(null),[c,b]=x.useState(new Set),[f,h]=x.useState(!1),[g,v]=x.useState(null),[y,k]=x.useState(""),{user:C}=oe(),{showSuccess:B,showError:W}=De();x.useEffect(()=>{C&&C.role==="barber"&&S()},[C]);const S=async()=>{try{const u=await We.getBarberProfile();u.success&&(l(u.data),m(u.data._id),D(u.data._id))}catch(u){console.error("Error fetching barber profile:",u)}},D=async u=>{try{s(!0);const P=await _.get(`/appointments/barber/${u}`);P.success&&t(P.data)}catch(P){console.error("Error fetching appointments:",P),W("Error al cargar las citas")}finally{s(!1)}},T=async(u,P)=>{if(c.has(u))return;if(P==="cancelled"){Q(u);return}let w="",E="";switch(P){case"confirmed":w="¬øEst√°s seguro de que deseas confirmar esta cita?",E="Cita confirmada exitosamente";break;case"completed":w=`¬øEst√°s seguro de que deseas marcar esta cita como completada?

Esto indicar√° que el servicio fue realizado exitosamente.`,E="¬°Cita completada exitosamente! El servicio ha sido registrado.";break;case"no-show":w="¬øEst√°s seguro de que el cliente no se present√≥ a la cita?",E='Cita marcada como "No asisti√≥"';break;default:throw new Error(`Estado no v√°lido: ${P}`)}if(window.confirm(w))try{b(O=>new Set(O).add(u)),console.log(`üîÑ Changing appointment ${u} status to ${P}`);let A;switch(P){case"confirmed":A=await me.approveAppointment(u);break;case"completed":A=await me.completeAppointment(u);break;case"no-show":A=await me.markNoShow(u);break;default:throw new Error(`Estado no v√°lido: ${P}`)}A.success&&(B(E),D(d))}catch(A){console.error("Error:",A),W(A.message||"Error al actualizar la cita")}finally{b(A=>{const O=new Set(A);return O.delete(u),O})}},U=async u=>{if(window.confirm("¬øEst√°s seguro de que deseas eliminar este reporte de cita?"))try{(await me.deleteAppointment(u)).success&&(B("Reporte de cita eliminado exitosamente"),D(d))}catch(P){console.error("Error:",P),W(P.message||"Error al eliminar el reporte de cita")}},Q=u=>{v(u),k(""),h(!0)},ee=()=>{h(!1),v(null),k("")},J=async()=>{if(!y||y.trim().length===0){W("Debe proporcionar un motivo para cancelar la cita");return}if(y.split(" ").length>100){W("El motivo no puede exceder las 100 palabras");return}try{(await _.put(`/appointments/${g}/cancel`,{reason:y.trim()})).success&&(B("Cita cancelada exitosamente. El cliente ha sido notificado."),ee(),D(d))}catch(u){console.error("Error:",u),W(u.message||"Error al cancelar la cita")}},N=u=>{const P=r.find(w=>w._id===u);P&&P.cancellationReason&&alert(`Motivo de cancelaci√≥n: ${P.cancellationReason}`)},L=({appointment:u})=>{var P,w;return e.jsx("div",{className:`bg-gray-800/40 rounded-lg p-4 border transition-all duration-200 ${u.status==="confirmed"?"border-green-500/40":u.status==="pending"?"border-yellow-500/40":u.status==="cancelled"?"border-red-500/40":"border-blue-600/40"}`,children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1",children:[e.jsx(ye,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:((P=u.service)==null?void 0:P.name)||"Servicio no especificado"})]}),e.jsx(R,{status:u.status})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-3 h-3 text-amber-400"}),e.jsx("span",{className:"text-gray-400",children:"Cliente:"}),e.jsx("span",{className:"bg-gradient-to-r from-amber-300 to-amber-100 bg-clip-text text-transparent font-medium",children:((w=u.user)==null?void 0:w.name)||"Usuario no disponible"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"Fecha:"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent font-medium",children:Bt(u.date,"EEEE d 'de' MMM")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-gray-400",children:"Hora:"}),e.jsx("span",{className:"bg-gradient-to-r from-green-300 to-green-100 bg-clip-text text-transparent font-medium",children:Bt(u.date,"HH:mm")})]})]})]}),e.jsxs("div",{className:"flex gap-1 justify-end",children:[u.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(u._id,"confirmed"),disabled:c.has(u._id),className:`p-1.5 rounded text-xs transition-all duration-200 flex items-center gap-1 ${c.has(u._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-green-600/20 text-green-400 hover:bg-green-600/30 border border-green-500/50"}`,title:"Confirmar cita",children:c.has(u._id)?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current"}):e.jsx(Ze,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>Q(u._id),disabled:c.has(u._id),className:`p-1.5 rounded text-xs transition-all duration-200 flex items-center gap-1 ${c.has(u._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-red-600/20 text-red-400 hover:bg-red-600/30 border border-red-500/50"}`,title:"Cancelar cita",children:e.jsx(Re,{className:"w-3 h-3"})})]}),u.status==="confirmed"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>T(u._id,"completed"),disabled:c.has(u._id),className:`p-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 ${c.has(u._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600/20 to-indigo-600/20 text-blue-400 hover:from-blue-600/30 hover:to-indigo-600/30 border border-blue-500/50 hover:border-blue-400/70 shadow-sm hover:shadow-blue-500/25"}`,title:"Completar cita - Marcar servicio como realizado",children:[c.has(u._id)?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-current"}):e.jsx(tr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Completar"})]}),e.jsx("button",{onClick:()=>T(u._id,"no-show"),disabled:c.has(u._id),className:`p-1.5 rounded text-xs transition-all duration-200 flex items-center gap-1 ${c.has(u._id)?"bg-gray-600/20 text-gray-500 cursor-not-allowed":"bg-yellow-600/20 text-yellow-400 hover:bg-yellow-600/30 border border-yellow-500/50"}`,title:"Marcar como no asisti√≥",children:c.has(u._id)?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current"}):e.jsx(Vt,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>Q(u._id),className:"p-1.5 bg-orange-600/20 text-orange-400 rounded hover:bg-orange-600/30 transition-all duration-200 border border-orange-500/50",title:"Cancelar con motivo",children:e.jsx(Re,{className:"w-3 h-3"})})]}),u.status==="cancelled"&&u.cancellationReason&&u.cancelledBy!=="barber"&&e.jsx("button",{onClick:()=>N(u._id),className:"p-1.5 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 transition-all duration-200 border border-blue-500/50",title:"Ver motivo de cancelaci√≥n",children:e.jsx(cr,{className:"w-3 h-3"})}),(u.status==="completed"||u.status==="cancelled")&&e.jsx("button",{onClick:()=>U(u._id),className:"p-1.5 bg-red-600/20 text-red-400 rounded hover:bg-red-600/30 transition-all duration-200 border border-red-500/50",title:"Eliminar reporte",children:e.jsx(Xr,{className:"w-3 h-3"})})]})]})})},R=({status:u})=>{const P={pending:"bg-yellow-900/30 text-yellow-400 border-yellow-500/50",confirmed:"bg-green-900/30 text-green-400 border-green-500/50",cancelled:"bg-red-900/30 text-red-400 border-red-500/50",completed:"bg-blue-900/30 text-blue-400 border-blue-500/50"},w={pending:"Pendiente",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"};return e.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${P[u]}`,children:w[u]})},q=({status:u,count:P})=>e.jsxs("button",{onClick:()=>o(u),className:`w-full px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-between ${n===u?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700/50 border border-gray-700/50"}`,children:[e.jsx("span",{children:u==="pending"?"Pendientes":u==="confirmed"?"Confirmadas":u==="cancelled"?"Canceladas":"Completadas"}),P>0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${n===u?"bg-white/20":"bg-gray-700"}`,children:P})]}),re=r.filter(u=>u.status===n),M={pending:r.filter(u=>u.status==="pending").length,confirmed:r.filter(u=>u.status==="confirmed").length,completed:r.filter(u=>u.status==="completed").length,cancelled:r.filter(u=>u.status==="cancelled").length};return e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent flex items-center justify-center gap-2",children:[e.jsx(ce,{className:"w-6 h-6 text-blue-400"}),"Gesti√≥n de Citas"]})}),a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:e.jsx(tr,{className:"w-5 h-5 text-purple-400"})}),e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Estados de Citas"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{status:"pending",count:M.pending}),e.jsx(q,{status:"confirmed",count:M.confirmed}),e.jsx(q,{status:"completed",count:M.completed}),e.jsx(q,{status:"cancelled",count:M.cancelled})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700/30",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3 bg-gradient-to-r from-gray-200 to-gray-400 bg-clip-text text-transparent",children:"Resumen del D√≠a"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-yellow-400 font-bold text-lg",children:M.pending}),e.jsx("div",{className:"text-gray-400",children:"Pendientes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-green-400 font-bold text-lg",children:M.confirmed}),e.jsx("div",{className:"text-gray-400",children:"Confirmadas"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/20 backdrop-blur-xl rounded-xl p-6 border border-white/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-green-500/20",children:e.jsx(ye,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:n==="pending"?"Citas Pendientes":n==="confirmed"?"Citas Confirmadas":n==="completed"?"Citas Completadas":"Citas Canceladas"})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:re.length===0?e.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700/30 text-center",children:[e.jsx("div",{className:"inline-block p-3 bg-gradient-to-br from-gray-700/50 to-gray-800/50 rounded-full mb-3",children:e.jsx(ce,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["No hay citas ",n==="pending"?"pendientes":n==="confirmed"?"confirmadas":n==="completed"?"completadas":"canceladas"]})]}):re.map(u=>e.jsx(L,{appointment:u},u._id))})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 max-w-md w-full mx-4 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-white to-red-200 bg-clip-text text-transparent",children:"Cancelar Cita"}),e.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Como barbero, debe proporcionar un motivo para cancelar la cita. El cliente ser√° notificado."}),e.jsx("textarea",{value:y,onChange:u=>k(u.target.value),placeholder:"Escriba el motivo de la cancelaci√≥n (m√°ximo 100 palabras)...",className:"w-full h-24 p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 resize-none focus:outline-none focus:border-red-500 text-sm",maxLength:500}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mb-3",children:[y.split(" ").filter(u=>u.length>0).length,"/100 palabras"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ee,className:"px-3 py-1.5 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancelar"}),e.jsx("button",{onClick:J,disabled:!y.trim(),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed text-sm",children:"Confirmar Cancelaci√≥n"})]})]})})]})})},$t=(r,t)=>{if(r.includes("T")&&r.includes("-05:00")){const[a,s]=r.split("T");return t.includes("HH:mm")?s.split(".")[0].substring(0,5):ne(new Date(a+"T00:00:00"),t,{locale:Fe})}return ne(new Date(r),t,{locale:Fe})},It=()=>{const[r,t]=x.useState([]),[a,s]=x.useState(!0),{showSuccess:n,showError:o}=De(),[i,l]=x.useState({total:0,pending:0,confirmed:0,completed:0,cancelled:0}),[d,m]=x.useState({status:"all",date:"all",search:""}),[c,b]=x.useState(!1),[f,h]=x.useState(null),[g,v]=x.useState("");x.useEffect(()=>{y()},[]);const y=async()=>{try{const N=await _.get("/appointments");N.success&&(t(N.data),k(N.data))}catch(N){console.error("Error:",N)}finally{s(!1)}},k=N=>{const L=N.reduce((R,q)=>(R.total++,R[q.status]=(R[q.status]||0)+1,R),{total:0,pending:0,confirmed:0,completed:0,cancelled:0});l(L)},C=async(N,L)=>{try{let R;switch(L){case"confirmed":R=await me.approveAppointment(N);break;case"completed":R=await me.completeAppointment(N);break;case"cancelled":W(N);return;default:o("Estado no v√°lido");return}R.success&&(n(`Cita ${L==="confirmed"?"confirmada":"actualizada"} exitosamente`),y())}catch(R){console.error("Error:",R),o("Error al actualizar la cita")}},B=async N=>{if(confirm("¬øEst√° seguro de que desea eliminar este reporte de cita?"))try{(await me.deleteAppointment(N)).success&&(n("Reporte de cita eliminado exitosamente"),y())}catch(L){console.error("Error:",L),o("Error al eliminar el reporte de cita")}},W=N=>{h(N),b(!0)},S=()=>{b(!1),h(null),v("")},D=async()=>{try{const N=await me.cancelAppointment(f,g.trim()||void 0);N.success?(n("Cita cancelada exitosamente por administraci√≥n."),y(),S()):o(N.message||"Error al cancelar la cita")}catch(N){console.error("Error:",N),o("Error al cancelar la cita")}},T=async N=>{try{const L=await _.get(`/appointments/${N}/cancellation-reason`);if(L.success){const{reason:R,cancelledBy:q,cancelledAt:re}=L.data;alert(`Motivo de cancelaci√≥n por ${q==="user"?"el cliente":q==="barber"?"el barbero":"administraci√≥n"}:

${R}

Cancelada el: ${new Date(re).toLocaleString("es-ES")}`)}else o("No se pudo obtener el motivo de cancelaci√≥n")}catch(L){console.error("Error:",L),o("No se pudo obtener el motivo de cancelaci√≥n")}},U=N=>N.sort((L,R)=>{const q={pending:0,confirmed:1,completed:2,cancelled:3};return q[L.status]-q[R.status]}),Q=({title:N,value:L,icon:R,gradient:q,borderColor:re,textColor:M})=>e.jsx("div",{className:`bg-gradient-to-br ${q} backdrop-blur-xl rounded-lg p-3 border ${re} shadow-lg hover:shadow-xl transition-all duration-300 group`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs font-medium",children:N}),e.jsx("p",{className:`${M} text-xl font-bold mt-1 group-hover:scale-105 transition-transform duration-200`,children:L})]}),e.jsx("div",{className:`p-2 bg-gradient-to-br ${q} rounded-lg border ${re}`,children:e.jsx(R,{className:`w-4 h-4 ${M}`})})]})}),ee=({appointment:N,onStatusChange:L,onCancel:R,onViewReason:q,onDelete:re})=>{var w,E,A,O,j,z;const M=F=>{switch(F){case"pending":return e.jsx(er,{className:"w-4 h-4"});case"confirmed":return e.jsx(tr,{className:"w-4 h-4"});case"completed":return e.jsx(Ze,{className:"w-4 h-4"});case"cancelled":return e.jsx(qe,{className:"w-4 h-4"});default:return e.jsx(er,{className:"w-4 h-4"})}},u=F=>{switch(F){case"pending":return"from-yellow-500/20 to-orange-500/20 border-yellow-500/30";case"confirmed":return"from-green-500/20 to-emerald-500/20 border-green-500/30";case"completed":return"from-purple-500/20 to-violet-500/20 border-purple-500/30";case"cancelled":return"from-red-500/20 to-pink-500/20 border-red-500/30";default:return"from-gray-500/20 to-gray-600/20 border-gray-500/30"}},P=F=>{switch(F){case"pending":return"Pendiente";case"confirmed":return"Confirmada";case"completed":return"Completada";case"cancelled":return"Cancelada";default:return"Desconocido"}};return e.jsxs("div",{className:"bg-gray-800/40 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:`flex items-center space-x-1.5 px-2 py-1 rounded-md bg-gradient-to-r ${u(N.status)} border text-xs`,children:[M(N.status),e.jsx("span",{className:"font-medium text-white",children:P(N.status)})]}),N.status==="pending"&&e.jsx("div",{className:"px-2 py-1 bg-amber-500/20 border border-amber-500/30 rounded-md",children:e.jsx("span",{className:"text-xs font-medium text-amber-300",children:"Atenci√≥n"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(he,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Cliente"})]}),e.jsx("p",{className:"text-white text-sm font-medium truncate",children:((w=N.user)==null?void 0:w.name)||((E=N.client)==null?void 0:E.name)||"Sin nombre"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ye,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Barbero"})]}),e.jsx("p",{className:"text-white text-sm font-medium truncate",children:((O=(A=N.barber)==null?void 0:A.user)==null?void 0:O.name)||((j=N.barber)==null?void 0:j.name)||"Sin asignar"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ht,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Servicio"})]}),e.jsx("p",{className:"text-white text-sm font-medium truncate",children:((z=N.service)==null?void 0:z.name)||"Sin servicio"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ce,{className:"w-3 h-3 text-orange-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Fecha"})]}),e.jsxs("div",{className:"text-white text-sm font-medium",children:[e.jsx("div",{children:$t(N.date,"d MMM")}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-400",children:[e.jsx(ze,{className:"w-3 h-3"}),e.jsx("span",{children:$t(N.date,"HH:mm")})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-1.5 pt-3 border-t border-gray-700/50",children:[N.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>L(N._id,"confirmed"),className:"flex items-center space-x-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-md hover:bg-green-500/30 transition-all duration-200 border border-green-500/30",title:"Confirmar cita",children:[e.jsx(Ze,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Confirmar"})]}),e.jsxs("button",{onClick:()=>R(N._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Cancelar cita",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Cancelar"})]})]}),N.status==="confirmed"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>L(N._id,"completed"),className:"flex items-center space-x-1 px-2 py-1 bg-purple-500/20 text-purple-400 rounded-md hover:bg-purple-500/30 transition-all duration-200 border border-purple-500/30",title:"Marcar como completada",children:[e.jsx(Ze,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Completar"})]}),e.jsxs("button",{onClick:()=>R(N._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Cancelar cita",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Cancelar"})]})]}),N.status==="cancelled"&&N.cancellationReason&&e.jsxs("button",{onClick:()=>q(N._id),className:"flex items-center space-x-1 px-2 py-1 bg-blue-500/20 text-blue-400 rounded-md hover:bg-blue-500/30 transition-all duration-200 border border-blue-500/30",title:"Ver motivo de cancelaci√≥n",children:[e.jsx(cr,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Ver Motivo"})]}),(N.status==="completed"||N.status==="cancelled")&&e.jsxs("button",{onClick:()=>re(N._id),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 transition-all duration-200 border border-red-500/30",title:"Eliminar reporte de cita",children:[e.jsx(Xr,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Eliminar"})]})]})]})},J=U(r.filter(N=>{var L,R,q,re;if(d.status!=="all"&&N.status!==d.status)return!1;if(d.search){const M=((L=N.user)==null?void 0:L.name)||((R=N.client)==null?void 0:R.name)||"",u=((q=N.barber)==null?void 0:q.name)||"",P=((re=N.service)==null?void 0:re.name)||"",w=d.search.toLowerCase();return M.toLowerCase().includes(w)||u.toLowerCase().includes(w)||P.toLowerCase().includes(w)}return!0}));return e.jsx(ae,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-black",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30",children:e.jsx(Fr,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-300 via-purple-300 to-blue-200 bg-clip-text text-transparent",children:"Panel Administrativo"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Gesti√≥n de Reservas y estad√≠sticas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[e.jsx(Q,{title:"Total",value:i.total,icon:ht,gradient:"from-blue-500/20 to-cyan-500/20",borderColor:"border-blue-500/30",textColor:"text-blue-300"}),e.jsx(Q,{title:"Pendientes",value:i.pending,icon:er,gradient:"from-yellow-500/20 to-orange-500/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-300"}),e.jsx(Q,{title:"Confirmadas",value:i.confirmed,icon:tr,gradient:"from-green-500/20 to-emerald-500/20",borderColor:"border-green-500/30",textColor:"text-green-300"}),e.jsx(Q,{title:"Completadas",value:i.completed,icon:Ze,gradient:"from-purple-500/20 to-violet-500/20",borderColor:"border-purple-500/30",textColor:"text-purple-300"}),e.jsx(Q,{title:"Canceladas",value:i.cancelled,icon:qe,gradient:"from-red-500/20 to-pink-500/20",borderColor:"border-red-500/30",textColor:"text-red-300"})]}),e.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(qt,{className:"w-4 h-4 text-blue-400"}),e.jsx("h2",{className:"text-sm font-semibold bg-gradient-to-r from-blue-300 to-blue-100 bg-clip-text text-transparent",children:"Filtros y B√∫squeda"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:d.search,onChange:N=>m(L=>({...L,search:N.target.value})),className:"w-full pl-9 pr-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200"})]}),e.jsxs("select",{value:d.status,onChange:N=>m(L=>({...L,status:N.target.value})),className:"px-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"pending",children:"Pendientes"}),e.jsx("option",{value:"confirmed",children:"Confirmadas"}),e.jsx("option",{value:"completed",children:"Completadas"}),e.jsx("option",{value:"cancelled",children:"Canceladas"})]}),e.jsxs("select",{value:d.date,onChange:N=>m(L=>({...L,date:N.target.value})),className:"px-3 py-2 text-sm bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200",children:[e.jsx("option",{value:"all",children:"Todas las fechas"}),e.jsx("option",{value:"today",children:"Hoy"}),e.jsx("option",{value:"week",children:"Esta semana"}),e.jsx("option",{value:"month",children:"Este mes"})]})]})]}),e.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-lg p-4 border border-white/10 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ce,{className:"w-4 h-4 text-purple-400"}),e.jsxs("h2",{className:"text-sm font-semibold bg-gradient-to-r from-purple-300 to-purple-100 bg-clip-text text-transparent",children:["Lista de Citas (",J.length,")"]})]}),a?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),e.jsx("span",{className:"ml-2 text-gray-400 text-sm",children:"Cargando citas..."})]}):J.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ce,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No hay citas que coincidan con los filtros"})]}):e.jsx("div",{className:"grid gap-3",children:J.map(N=>e.jsx(ee,{appointment:N,onStatusChange:C,onCancel:W,onViewReason:T,onDelete:B},N._id))})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-3",children:e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl rounded-lg p-4 border border-red-500/30 shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"p-1 rounded-lg bg-red-500/20 border border-red-500/30",children:e.jsx(qe,{className:"w-4 h-4 text-red-400"})}),e.jsx("h3",{className:"text-base font-semibold text-white",children:"Cancelar Cita"})]}),e.jsx("p",{className:"text-gray-300 mb-3 text-sm",children:"¬øEst√°s seguro de que deseas cancelar esta cita? Esta acci√≥n no se puede deshacer."}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Motivo de cancelaci√≥n (opcional)"}),e.jsx("textarea",{value:g,onChange:N=>v(N.target.value),placeholder:"Ingresa el motivo de la cancelaci√≥n...",rows:2,className:"w-full px-2 py-1 bg-gray-700/50 border border-gray-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 resize-none text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:S,className:"flex-1 px-3 py-1 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-600/50 transition-all duration-200 border border-gray-600/50 text-sm",children:"Mantener Cita"}),e.jsx(de,{onClick:D,variant:"danger",className:"flex-1 px-3 py-1 text-sm",children:"Cancelar Cita"})]})]})})]})})})},Mi=()=>{const{user:r}=oe();if(!r)return e.jsx(xe,{to:"/login"});switch(r.role){case"admin":return e.jsxs(jr,{children:[e.jsx(G,{path:"/",element:e.jsx(It,{})}),e.jsx(G,{path:"/new",element:e.jsx(It,{})}),e.jsx(G,{path:"*",element:e.jsx(xe,{to:"/appointment",replace:!0})})]});case"barber":return e.jsxs(jr,{children:[e.jsx(G,{path:"/",element:e.jsx(At,{})}),e.jsx(G,{path:"/new",element:e.jsx(At,{})}),e.jsx(G,{path:"*",element:e.jsx(xe,{to:"/appointment",replace:!0})})]});default:return e.jsxs(jr,{children:[e.jsx(G,{path:"/",element:e.jsx(zt,{})}),e.jsx(G,{path:"/new",element:e.jsx(zt,{})}),e.jsx(G,{path:"*",element:e.jsx(xe,{to:"/appointment",replace:!0})})]})}},je=({children:r,className:t="",gradient:a="primary",customGradient:s,as:n="span",...o})=>{const i={primary:"from-red-600 via-white to-blue-600",secondary:"from-blue-600 via-white to-red-600",metallic:"from-slate-400 via-red-500 via-white via-blue-500 to-slate-400",patriot:"from-red-700 via-gray-100 to-blue-700",classic:"from-red-800 via-yellow-100 via-white via-blue-100 to-blue-800",premium:"from-blue-800 via-red-600 via-gray-100 to-blue-800",vintage:"from-red-900 via-orange-100 via-white via-blue-100 to-blue-900",elegant:"from-red-500 via-gray-200 to-blue-500"},l=s||i[a]||i.primary;return e.jsx(n,{className:`
        text-transparent bg-clip-text bg-gradient-to-r ${l} 
        font-bold relative
        [text-shadow:0_2px_4px_rgba(0,0,0,0.1)]
        before:absolute before:inset-0 before:bg-gradient-to-r before:${l}
        before:bg-clip-text before:text-transparent before:opacity-20
        before:[filter:blur(0.5px)] before:-z-10
        ${t}
      `,...o,children:r})};function Ot(){const{user:r}=oe(),[t,a]=x.useState([]),[s,n]=x.useState({name:"",description:"",price:0,duration:30,category:"corte"}),[o,i]=x.useState(null),[l,d]=x.useState(""),[m,c]=x.useState(""),[b,f]=x.useState(!0),[h,g]=x.useState(null);x.useEffect(()=>{v()},[]);const v=async()=>{try{f(!0);const S=await _.get("/services");if(S.success){const D=S.data||[];a(D)}else throw new Error(S.message||"Error al cargar servicios")}catch(S){console.error("Error en fetchServices:",S),c(S.message||"Error al cargar servicios."),setTimeout(()=>c(""),2500)}finally{f(!1)}},y=S=>{const D=S.target.type==="number"?Number(S.target.value):S.target.value;n(T=>({...T,[S.target.name]:D}))},k=async S=>{S.preventDefault();try{console.log("Enviando formulario:",s);let D;if(o?(console.log("Actualizando servicio:",o._id),D=await _.put(`/services/${o._id}`,s)):(console.log("Creando nuevo servicio"),D=await _.post("/services",s)),console.log("Respuesta:",D),D.success)d(o?"‚úÖ Servicio actualizado.":"‚úÖ Servicio creado."),setTimeout(()=>d(""),2500),i(null),n({name:"",description:"",price:0,duration:30,category:"corte"}),v();else throw new Error(D.message||"Error al guardar servicio")}catch(D){console.error("Error en handleSubmit:",D),c(D.message||"Error al guardar servicio"),setTimeout(()=>c(""),2500)}},C=S=>{i(S),n({name:S.name,description:S.description,price:S.price,duration:S.duration,category:S.category}),g("form")},B=async S=>{if(!S){c("ID de servicio inv√°lido"),setTimeout(()=>c(""),2500);return}if(window.confirm("¬øSeguro que deseas eliminar este servicio?"))try{console.log("Eliminando servicio:",S);const D=await _.delete(`/services/${S}`);if(console.log("Respuesta de eliminaci√≥n:",D),D.success)a(T=>T.filter(U=>U._id!==S)),d("‚úÖ Servicio eliminado."),setTimeout(()=>d(""),2500),(o==null?void 0:o._id)===S&&(i(null),n({name:"",description:"",price:0,duration:30,category:"corte"}));else throw new Error(D.message||"Error al eliminar servicio")}catch(D){console.error("Error en handleDelete:",D),c(D.message||"Error al eliminar servicio"),setTimeout(()=>c(""),2500)}},W=()=>{n({name:"",description:"",price:0,duration:30,category:"corte"}),i(null),g("form")};return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),e.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsx("div",{className:"relative z-10",children:e.jsx(ae,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-center py-8",children:e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:e.jsxs(je,{className:"text-4xl md:text-5xl font-bold",children:[e.jsx(gt,{className:"w-10 h-10 mx-auto mb-3"}),"Gesti√≥n de Servicios"]})})}),m&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),m]}),l&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl backdrop-blur-sm flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4"}),l]}),e.jsxs("div",{className:"bg-transparent border border-white/10 rounded-2xl backdrop-blur-sm shadow-2xl shadow-blue-500/20",children:[e.jsx("div",{className:"p-4 border-b border-white/10 flex justify-end",children:e.jsx(de,{onClick:W,className:"text-sm px-8 py-2 min-w-[180px]",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:"Nuevo Servicio"})]})})}),h==="form"&&e.jsxs("div",{className:"mx-4 mt-4 bg-white/5 border border-white/10 rounded-xl p-6 backdrop-blur-md shadow-2xl shadow-blue-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:e.jsx(je,{className:"text-lg font-semibold",children:o?"Editar Servicio":"Nuevo Servicio"})}),e.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Da,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Nombre"}),e.jsx("input",{name:"name",value:s.name,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",placeholder:"Ej: Corte de cabello",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Categor√≠a"}),e.jsxs("select",{name:"category",value:s.category,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",required:!0,children:[e.jsx("option",{value:"corte",children:"Corte"}),e.jsx("option",{value:"barba",children:"Barba"}),e.jsx("option",{value:"combo",children:"Combo"}),e.jsx("option",{value:"tinte",children:"Tinte"}),e.jsx("option",{value:"tratamiento",children:"Tratamiento"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Precio ($)"}),e.jsx("input",{name:"price",type:"number",value:s.price,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Duraci√≥n (min)"}),e.jsx("input",{name:"duration",type:"number",value:s.duration,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",min:"15",max:"240",step:"15",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Descripci√≥n"}),e.jsx("textarea",{name:"description",value:s.description,onChange:y,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm backdrop-blur-sm",rows:"3",placeholder:"Describe el servicio...",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex gap-3 pt-2",children:[e.jsx(de,{type:"submit",className:"text-sm px-4 py-2",children:o?"Actualizar":"Crear"}),e.jsx("button",{type:"button",onClick:()=>{i(null),n({name:"",description:"",price:0,duration:30,category:"corte"}),g(null)},className:"px-4 py-2 bg-white/5 text-gray-300 rounded-lg hover:bg-white/10 transition-colors text-sm backdrop-blur-sm",children:"Cancelar"})]})]})]}),b?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Cargando servicios..."})]}):t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(gt,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No hay servicios registrados"})]}):e.jsx("div",{className:"divide-y divide-white/10",children:t.map(S=>e.jsx("div",{className:"px-4 py-4 hover:bg-white/5 transition-colors backdrop-blur-sm border-b border-white/5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[e.jsx("div",{className:"flex items-start gap-4 flex-1",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold",children:e.jsx(je,{className:"text-lg font-semibold",children:S.name})}),e.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-3",children:S.description}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"w-4 h-4 text-green-400"}),e.jsxs("span",{className:"text-green-400 font-medium",children:["$",S.price]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-gray-300",children:[S.duration," min"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-gray-300 capitalize",children:S.category})})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(S),className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors",title:"Editar",children:e.jsx(La,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(S._id),className:"p-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",title:"Eliminar",children:e.jsx(Xr,{className:"w-4 h-4"})})]})]})},S._id))})]})]})})})]})}const _i=({title:r,description:t})=>e.jsxs("div",{className:"py-16 sm:py-20 px-4 relative bg-gradient-to-b from-black via-gray-900 to-black",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),e.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-red-600/20 to-blue-600/20 border border-red-500/30 rounded-full text-sm font-medium uppercase tracking-wider backdrop-blur-sm",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-blue-400",children:"Nuestro Equipo"})})}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 leading-tight relative",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400 relative z-10",children:r})}),e.jsx("p",{className:"text-xl leading-relaxed max-w-2xl mx-auto relative z-10",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-300 via-white to-gray-300",children:t})})]})})]}),Di=()=>e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500/20"}),e.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-blue-500 border-t-transparent animate-spin absolute top-0 left-0"})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Cargando barberos..."}),e.jsx("p",{className:"text-gray-400 max-w-md",children:"Estamos preparando la mejor selecci√≥n de profesionales para ti"})]})]})}),Li=({message:r})=>e.jsx(ae,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full text-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-red-900/50 to-red-800/30 backdrop-blur-sm border border-red-500/30 rounded-3xl p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-red-300 mb-4",children:"Error al cargar"}),e.jsx("p",{className:"text-gray-300 mb-6",children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-medium hover:from-red-500 hover:to-red-400 transition-all duration-300",children:"Reintentar"})]})})})}),Ti=({barber:r})=>{var i,l,d,m,c,b,f,h,g;const{user:t}=oe();if(!r||!r.user)return console.error("Barbero inv√°lido:",r),null;const a=t&&t.role==="user",n=(()=>{const v=new Date,y=v.toTimeString().slice(0,5),C=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][v.getDay()];if(!r.schedule||!r.schedule[C])return{available:!1,reason:"Sin horario definido"};const B=r.schedule[C];if(!B.available)return{available:!1,reason:"No trabaja hoy"};const W=B.start,S=B.end;return y<W?{available:!1,reason:`Abre a las ${W}`}:y>S?{available:!1,reason:`Cerr√≥ a las ${S}`}:{available:!0,reason:`Hasta las ${S}`}})(),o=r.isActive&&n.available;return e.jsxs("article",{className:"group relative overflow-hidden rounded-3xl transform hover:scale-[1.02] transition-all duration-500 bg-gradient-to-br from-gray-800/40 via-gray-900/60 to-black/40 backdrop-blur-sm border border-gray-700/50 hover:border-blue-500/50 shadow-2xl hover:shadow-blue-500/20 flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-80 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-10"}),(i=r.photo)!=null&&i.url||(d=(l=r.user)==null?void 0:l.photo)!=null&&d.url?e.jsx("img",{src:((m=r.photo)==null?void 0:m.url)||((b=(c=r.user)==null?void 0:c.photo)==null?void 0:b.url),alt:(f=r.user)==null?void 0:f.name,className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 via-blue-900/50 to-gray-800 flex items-center justify-center",children:e.jsx("div",{className:"p-4 rounded-full bg-blue-600/10 backdrop-blur",children:e.jsx("svg",{className:"w-24 h-24 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsx("div",{className:"absolute top-6 left-6 z-20",children:e.jsx("div",{className:`flex items-center px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg backdrop-blur-sm transition-all duration-300 border
              ${o?"bg-emerald-500/90 border-emerald-400/30 group-hover:bg-emerald-400/90":"bg-red-500/90 border-red-400/30 group-hover:bg-red-400/90"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-white animate-pulse":"bg-white/80"}`}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold leading-tight",children:o?"Disponible":"No disponible"}),e.jsx("span",{className:"text-xs opacity-90 leading-tight",children:n.reason})]})]})})}),e.jsxs("div",{className:"absolute top-6 right-6 flex flex-col gap-3 z-20",children:[((h=r.rating)==null?void 0:h.average)>0&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/90 to-orange-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-semibold text-white shadow-lg flex items-center gap-2 group-hover:from-yellow-500/90 group-hover:to-orange-500/90 transition-all duration-300 border border-yellow-400/30",children:[e.jsx(Ye,{className:"w-4 h-4 fill-current"}),e.jsx("span",{children:r.rating.average.toFixed(1)}),r.rating.count>0&&e.jsxs("span",{className:"text-xs text-yellow-100/75",children:["(",r.rating.count,")"]})]}),r.experience>0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/90 to-purple-600/90 backdrop-blur-sm px-4 py-2 rounded-2xl text-sm font-medium text-white shadow-lg group-hover:from-blue-500/90 group-hover:to-purple-500/90 transition-all duration-300 flex items-center gap-2 border border-blue-400/30",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.experience," a√±os"]})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-gray-900/95 to-transparent z-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2 transition-all duration-300",children:e.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-white to-blue-400 \r
                group-hover:from-blue-400 group-hover:via-white group-hover:to-red-400`,children:(g=r.user)==null?void 0:g.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-red-400 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-300 group-hover:text-gray-100 transition-colors duration-300 font-medium",children:r.specialty||"Barbero Profesional"})]})]})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("div",{className:"flex-grow",children:r.services&&r.services.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-red-400 \r
                    group-hover:from-red-400 group-hover:to-blue-400 transition-all duration-300`,children:"Servicios destacados"}),e.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.services.slice(0,4).map((v,y)=>e.jsxs("div",{className:`px-4 py-2 bg-gradient-to-br from-gray-800/60 via-gray-700/40 to-gray-800/60 \r
                    border border-gray-600/30 rounded-xl text-sm backdrop-blur-sm\r
                    hover:from-gray-700/70 hover:via-gray-600/50 hover:to-gray-700/70 \r
                    hover:border-blue-500/40 transition-all cursor-default group/service\r
                    hover:shadow-lg hover:shadow-blue-500/10`,children:[e.jsx("div",{className:"font-bold mb-1 transition-all duration-300",children:e.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-white \r
                        group-hover/service:from-white group-hover/service:to-blue-400`,children:v.name})}),e.jsx("div",{className:"font-semibold",children:e.jsxs("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-400 \r
                        group-hover/service:from-emerald-300 group-hover/service:to-blue-300 \r
                        transition-all duration-300`,children:["$",v.price]})})]},`${r._id}-service-${v._id}-${y}`))}),r.services.length>4&&e.jsxs("p",{className:"text-sm text-center font-medium text-gray-400",children:["Y ",r.services.length-4," servicios m√°s..."]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 mt-auto",children:[e.jsxs(V,{to:`/barbers/${r._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-gray-800/60 via-gray-700/70 to-gray-800/60 \r
              hover:from-gray-700/70 hover:via-gray-600/80 hover:to-gray-700/70 rounded-xl font-bold text-center \r
              transition-all duration-300 border border-gray-600/30 hover:border-gray-500/50 backdrop-blur-sm\r
              flex items-center justify-center gap-2 group hover:shadow-lg hover:-translate-y-0.5\r
              hover:shadow-gray-500/20`,children:[e.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-200 \r
                group-hover:from-blue-400 group-hover:to-white transition-all duration-300`,children:"Ver Perfil"}),e.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-gray-300 group-hover:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a&&o&&e.jsxs(V,{to:`/appointment?barberId=${r._id}`,className:`flex-1 px-4 py-3 bg-gradient-to-r from-blue-600/90 to-red-600/90 \r
                hover:from-blue-500/90 hover:to-red-500/90 rounded-xl font-bold text-center \r
                transition-all duration-300 border border-blue-500/50 hover:border-red-400/50 \r
                backdrop-blur-sm flex items-center justify-center gap-2 group\r
                hover:shadow-lg hover:-translate-y-0.5 hover:shadow-blue-500/20`,children:[e.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-100 \r
                  group-hover:from-white group-hover:to-red-100 transition-all duration-300`,children:"Reservar"}),e.jsx("svg",{className:"w-4 h-4 transform transition-all duration-300 group-hover:translate-x-1 text-white group-hover:text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})]})]})},zi=()=>{const[r,t]=x.useState([]),[a,s]=x.useState(!0),[n,o]=x.useState(null),[i,l]=x.useState(Date.now());if(x.useEffect(()=>{const m=async()=>{try{const b=Date.now(),f=await _.get(`/barbers?_t=${b}`);if(!f.success)throw new Error("La respuesta no fue exitosa");if(!Array.isArray(f.data))throw new Error("Los datos de barberos no son v√°lidos");const h=f.data.filter(g=>g.user&&g.user.role==="barber"&&g.isActive);t(h),s(!1)}catch(b){o(b.message||"Error al cargar los barberos"),s(!1)}};m();const c=()=>{document.hidden||(console.log("üì± P√°gina visible de nuevo, refrescando barberos..."),m())};return document.addEventListener("visibilitychange",c),()=>{document.removeEventListener("visibilitychange",c)}},[]),x.useEffect(()=>{const m=setInterval(()=>{l(Date.now())},6e4);return()=>clearInterval(m)},[]),a)return e.jsx(Di,{});if(n)return e.jsx("div",{className:"min-h-screen bg-gray-900 p-4",children:e.jsx(Li,{message:n})});const d=[...r].sort((m,c)=>{var b,f;return(((b=c.rating)==null?void 0:b.average)||0)-(((f=m.rating)==null?void 0:f.average)||0)});return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/8 via-blue-900/8 to-red-900/8"}),e.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.4) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-15",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.5) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(_i,{title:"Nuestros Barberos",description:"Conoce a nuestro equipo de profesionales expertos en el arte del cuidado masculino"}),e.jsxs("div",{className:"py-6 px-4 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-900/30 to-transparent"}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:d.map(m=>e.jsx(Ti,{barber:m},`${m._id}-${i}`))})})]})]})]})};function Bi(){const[r,t]=x.useState(""),[a,s]=x.useState(""),[n,o]=x.useState(""),[i,l]=x.useState(!1),{login:d,error:m}=oe(),{showError:c,showSuccess:b}=De(),f=xr(),h=async g=>{g.preventDefault(),o(""),l(!0);try{if(await d(r,a))b("¬°Bienvenido! Has iniciado sesi√≥n correctamente"),f("/");else{const y=m||"Credenciales incorrectas. Por favor verifica tu email y contrase√±a.";c(y),o(y)}}catch{const y="Error al iniciar sesi√≥n. Por favor intenta nuevamente.";c(y),o(y)}finally{l(!1)}};return e.jsxs(ae,{children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4",children:e.jsx("div",{className:"w-full max-w-md relative",children:e.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 sm:p-10 border border-white/10 shadow-xl shadow-blue-500/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/10 via-blue-600/10 to-red-600/10 rounded-2xl blur-xl transform rotate-3 scale-105 -z-10"}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 h-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/20 via-blue-600/10 to-transparent"}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),e.jsxs("div",{className:"text-center mb-8 relative",children:[e.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-full blur-xl transform group-hover:scale-110 transition-transform duration-500"}),e.jsx("img",{src:ar.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500",style:{filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.5))"},onError:g=>{g.target.onerror=null,g.target.src=ar.fallback()}})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-3",children:e.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Iniciar sesi√≥n"})}),e.jsx("p",{className:"text-base",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ingresa a tu cuenta para continuar"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electr√≥nico"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})}),e.jsx("input",{id:"email",type:"email",value:r,onChange:g=>t(g.target.value),required:!0,placeholder:"tu@email.com",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Contrase√±a"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8V7a4 4 0 00-8 0v4h8z"})})})}),e.jsx("input",{id:"password",type:"password",value:a,onChange:g=>s(g.target.value),required:!0,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),n&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/50 to-red-700/50 rounded-xl blur-lg opacity-75"}),e.jsxs("div",{className:"relative bg-red-900/30 border border-red-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[e.jsx("svg",{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"bg-gradient-to-r from-red-200 to-red-300 bg-clip-text text-transparent",children:n})]})]}),e.jsx(de,{type:"submit",disabled:i,loading:i,loadingText:"Iniciando sesi√≥n...",variant:"primary",className:"w-full py-3",children:"Iniciar sesi√≥n"}),e.jsx("div",{className:"text-center relative",children:e.jsxs("div",{className:"inline-block",children:[e.jsx("span",{className:"text-sm",children:e.jsxs("span",{className:"bg-gradient-to-r from-gray-300 to-gray-400 bg-clip-text text-transparent",children:["¬øNo tienes cuenta?"," "]})}),e.jsxs(V,{to:"/register",className:"relative inline-block font-medium group",children:[e.jsx("span",{className:"relative z-10 text-sm bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-bold hover:from-blue-300 hover:to-purple-300 transition-all duration-300",children:"Reg√≠strate"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]})]})})})]})}function Ai(){const[r,t]=x.useState({name:"",email:"",password:""}),[a,s]=x.useState(""),[n,o]=x.useState(""),[i,l]=x.useState(!1),{showError:d,showSuccess:m}=De(),c=xr(),b=h=>{t({...r,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),s(""),o(""),l(!0),!/^[a-zA-Z√Ä-√ø\s]+$/.test(r.name)){const g="El nombre solo puede contener letras y espacios";s(g),d(g),l(!1);return}if(r.name.length<2||r.name.length>50){const g="El nombre debe tener entre 2 y 50 caracteres";s(g),d(g),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){const g="Debe proporcionar un email v√°lido";s(g),d(g),l(!1);return}if(r.password.length<6){const g="La contrase√±a debe tener al menos 6 caracteres";s(g),d(g),l(!1);return}if(!/\d/.test(r.password)){const g="La contrase√±a debe contener al menos un n√∫mero";s(g),d(g),l(!1);return}try{const g={name:r.name,email:r.email.toLowerCase(),password:r.password,role:"user"},v=await Te.register(g);if(v.success===!1){const k=v.message||"Error en el registro";s(k),d(k),l(!1);return}const y="¬°Registro exitoso! Redirigiendo al login...";o(y),m(y),v.token&&(localStorage.setItem("token",v.token),localStorage.setItem("user",JSON.stringify(v.user))),setTimeout(()=>{c("/login")},1e3)}catch(g){console.error("Error durante el registro:",g);let v="Error en el registro. Por favor, intenta de nuevo.";g.errors&&Array.isArray(g.errors)?v=g.errors[0].msg||"Error de validaci√≥n":g.message&&(v=g.message),s(v),d(v)}finally{l(!1)}};return e.jsxs(ae,{children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"30px 30px",backgroundPosition:"0 0, 15px 15px"}}),e.jsx("div",{className:"absolute inset-0 opacity-8",style:{backgroundImage:"radial-gradient(circle, rgba(239, 68, 68, 0.12) 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:"10px 10px"}}),e.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0.8px, transparent 0.8px)",backgroundSize:"40px 40px",backgroundPosition:"20px 0"}}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4",children:e.jsx("div",{className:"w-full max-w-md relative",children:e.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-xl rounded-2xl p-8 sm:p-10 border border-white/10 shadow-xl shadow-blue-500/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/10 via-blue-600/10 to-red-600/10 rounded-2xl blur-xl transform rotate-3 scale-105 -z-10"}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 h-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-600/20 via-blue-600/10 to-transparent"}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),e.jsxs("div",{className:"text-center mb-8 relative",children:[e.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-full blur-xl transform group-hover:scale-110 transition-transform duration-500"}),e.jsx("img",{src:ar.main(),alt:"The Brothers Barber Shop",className:"w-full h-full object-contain relative z-10 transform group-hover:scale-105 transition-transform duration-500",style:{filter:"drop-shadow(0 0 20px rgba(59, 130, 246, 0.5))"},onError:h=>{h.target.onerror=null,h.target.src=ar.fallback()}})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-3",children:e.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Crear cuenta"})}),e.jsx("p",{className:"text-base",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"√önete a nuestra comunidad"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Nombre completo"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:b,required:!0,placeholder:"John Doe",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Correo electr√≥nico"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})}),e.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:b,required:!0,placeholder:"tu@email.com",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Contrase√±a"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 via-blue-600/20 to-red-600/20 rounded-xl blur opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-3 w-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8V7a4 4 0 00-8 0v4h8z"})})})}),e.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:b,required:!0,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"block w-full pl-10 pr-4 py-3 bg-gray-700/20 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-400 relative z-10 backdrop-blur-xl text-sm placeholder:text-gray-400 text-gray-200"})]}),e.jsx("p",{className:"mt-2 text-sm",children:e.jsx("span",{className:"bg-gradient-to-r from-gray-400 to-gray-500 bg-clip-text text-transparent",children:"M√≠nimo 6 caracteres, incluyendo al menos un n√∫mero"})})]}),a&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/50 to-red-700/50 rounded-xl blur-lg opacity-75"}),e.jsxs("div",{className:"relative bg-red-900/30 border border-red-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[e.jsx("svg",{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"bg-gradient-to-r from-red-200 to-red-300 bg-clip-text text-transparent",children:a})]})]}),n&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-600/50 to-green-700/50 rounded-xl blur-lg opacity-75"}),e.jsxs("div",{className:"relative bg-green-900/30 border border-green-500/50 p-4 rounded-xl text-sm flex items-start backdrop-blur-xl",children:[e.jsx("svg",{className:"h-5 w-5 text-green-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"bg-gradient-to-r from-green-200 to-green-300 bg-clip-text text-transparent",children:n})]})]}),e.jsx(de,{type:"submit",disabled:i,loading:i,loadingText:"Creando cuenta...",variant:"primary",className:"w-full py-3",children:"Crear cuenta"}),e.jsx("div",{className:"text-center relative",children:e.jsxs("div",{className:"inline-block",children:[e.jsx("span",{className:"text-sm",children:e.jsxs("span",{className:"bg-gradient-to-r from-gray-300 to-gray-400 bg-clip-text text-transparent",children:["¬øYa tienes cuenta?"," "]})}),e.jsxs(V,{to:"/login",className:"relative inline-block font-medium group",children:[e.jsx("span",{className:"relative z-10 text-sm bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-bold hover:from-blue-300 hover:to-purple-300 transition-all duration-300",children:"Inicia sesi√≥n"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})})]})]})})})]})}function Wt(){var b,f,h,g,v,y;const{id:r}=Sa(),[t,a]=x.useState(null),[s,n]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState(null),{user:m}=oe();x.useEffect(()=>{c()},[r]);const c=async()=>{var k;try{n(!0),i(null);const C=await _.get(`/barbers/${r}`);if(C.success){if(console.log("Datos del barbero recibidos:",C.data),a(C.data),(m==null?void 0:m.role)==="admin")try{const B=await _.get(`/barbers/${r}/stats`);B.success&&d(B.data)}catch(B){console.warn("No se pudieron cargar las estad√≠sticas:",B)}}else i("Error al cargar los datos del barbero")}catch(C){console.error("Error fetching barber data:",C),((k=C.response)==null?void 0:k.status)===404?i("Barbero no encontrado"):i("Error al conectar con el servidor")}finally{n(!1)}};return s?e.jsx(ae,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:e.jsx("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8 shadow-xl text-center",children:e.jsx("div",{className:"text-blue-400 mb-4",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-400/40 rounded-full animate-spin"})})})})}):o?e.jsx(ae,{children:e.jsx("div",{className:"flex flex-col justify-center items-center min-h-[60vh] p-4",children:e.jsxs("div",{className:"bg-red-900/30 border border-red-500/50 rounded-2xl p-8 max-w-lg w-full text-center shadow-xl shadow-red-500/10",children:[e.jsx("div",{className:"bg-red-800/50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-4",children:o}),e.jsxs(V,{to:"/barbers",className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50 text-white rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a la lista de barberos"]})]})})}):t?e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[e.jsx("div",{className:"relative",children:(()=>{var B,W,S;const C=m&&t&&(m._id===((B=t.user)==null?void 0:B._id)||m._id===t._id)?m.profilePicture:((W=t==null?void 0:t.user)==null?void 0:W.photo)||(t==null?void 0:t.profilePicture);return C?e.jsx("img",{src:C,alt:((S=t==null?void 0:t.user)==null?void 0:S.name)||(t==null?void 0:t.name),className:"w-32 h-32 rounded-full object-cover shadow-xl"}):e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center shadow-xl",children:e.jsx(he,{className:"w-16 h-16 text-blue-400"})})})()}),e.jsxs("div",{className:"flex-1",children:[e.jsx(je,{className:"text-4xl font-bold mb-2",children:((b=t==null?void 0:t.user)==null?void 0:b.name)||(t==null?void 0:t.name)||"Cargando..."}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Hr,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-gray-300 font-medium",children:"Barbero Profesional"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(((f=t==null?void 0:t.user)==null?void 0:f.email)||(t==null?void 0:t.email))&&e.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(Ur,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:((h=t==null?void 0:t.user)==null?void 0:h.email)||(t==null?void 0:t.email)})]}),(((g=t==null?void 0:t.user)==null?void 0:g.phone)||(t==null?void 0:t.phone))&&e.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(Gr,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:((v=t==null?void 0:t.user)==null?void 0:v.phone)||(t==null?void 0:t.phone)})]}),(t==null?void 0:t.specialties)&&t.specialties.length>0&&e.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:t.specialties.join(", ")})]}),(t==null?void 0:t.experience)&&e.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(Hr,{className:"w-5 h-5 text-blue-400"}),e.jsxs("span",{children:[t.experience," a√±os de experiencia"]})]})]})]})]}),(t==null?void 0:t.description)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:[e.jsxs("h3",{className:"text-xl font-semibold text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Sobre m√≠"]}),e.jsx("p",{className:"text-gray-300 leading-relaxed bg-gray-800/20 rounded-xl p-4",children:t.description})]})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:e.jsxs(je,{children:[e.jsx(ze,{className:"w-6 h-6"}),"Horario de Atenci√≥n"]})}),t!=null&&t.schedule?e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"grid grid-cols-7 gap-2 min-w-max",children:Object.entries(t.schedule).map(([k,C])=>{const B={monday:"LUN",tuesday:"MAR",wednesday:"MI√â",thursday:"JUE",friday:"VIE",saturday:"S√ÅB",sunday:"DOM"};return e.jsxs("div",{className:"text-center min-w-[80px]",children:[e.jsx("div",{className:`p-2 rounded-t-lg font-semibold text-sm ${C.available?"bg-blue-500/20 text-blue-300 border-b-2 border-blue-500/50":"bg-gray-800/30 text-gray-500 border-b-2 border-gray-600/30"}`,children:B[k]}),e.jsx("div",{className:`p-3 rounded-b-lg text-xs leading-tight min-h-[60px] flex flex-col justify-center ${C.available?"bg-gray-700/30 text-gray-200 border border-t-0 border-gray-600/20":"bg-gray-900/30 text-gray-500 border border-t-0 border-gray-800/20"}`,children:C.available?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium",children:e.jsx(je,{className:"text-sm font-bold",children:C.start})}),e.jsx("div",{className:"text-gray-400",children:"a"}),e.jsx("div",{className:"font-medium",children:e.jsx(je,{className:"text-sm font-bold",children:C.end})})]}):e.jsx("div",{className:"text-center",children:"Cerrado"})})]},k)})})}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ze,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Horario no disponible"})]})]})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:e.jsxs(je,{children:[e.jsx(ye,{className:"w-6 h-6"}),"Servicios Disponibles"]})}),((y=t==null?void 0:t.services)==null?void 0:y.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"flex gap-4 pb-2 w-max",children:t.services.map((k,C)=>e.jsx("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30 flex-shrink-0 min-w-[200px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium mb-2 text-sm",children:e.jsx(je,{className:"font-bold",children:k.name})}),e.jsxs("div",{className:"text-blue-400 font-bold bg-blue-500/10 px-3 py-2 rounded-full group-hover:bg-blue-500/20 transition-all duration-300 text-lg",children:["$",k.price]}),k.duration&&e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[k.duration," min"]})]})},C))})}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ye,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No hay servicios disponibles"})]}),m&&m.role==="user"&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:e.jsxs(V,{to:`/appointment?barberId=${t==null?void 0:t._id}`,className:"group w-full flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25",children:[e.jsx(ce,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("span",{className:"font-semibold",children:"Reservar Cita"})]})})]})}),(m==null?void 0:m.role)==="admin"&&e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gray-800/30 border border-gray-700/30 rounded-2xl p-8 backdrop-blur-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:e.jsxs(je,{children:[e.jsx(Fr,{className:"w-6 h-6"}),"Estad√≠sticas"]})}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Total Citas"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalAppointments||0})]}),e.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-green-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Sr,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Ingresos"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",l.totalRevenue||0]})]}),e.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ta,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Este Mes"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:l.currentMonthAppointments||0})]}),e.jsxs("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Rating"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:l.averageRating||"0.0"})]})]}),l.appointmentsByService&&l.appointmentsByService.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-4 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5"}),"Servicios Populares"]}),e.jsx("div",{className:"space-y-3",children:l.appointmentsByService.map((k,C)=>e.jsx("div",{className:"group bg-gray-800/20 hover:bg-gray-800/40 p-4 rounded-xl transition-all duration-300 border border-gray-700/20 hover:border-blue-500/30",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-200 group-hover:text-white",children:k.service}),e.jsxs("div",{className:"text-green-400 text-sm font-medium",children:["$",k.revenue]})]}),e.jsxs("span",{className:"text-blue-400 bg-blue-500/10 px-3 py-1 rounded-full text-sm",children:[k.count," citas"]})]})},C))})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Estad√≠sticas no disponibles"})]})]})})]})]})}):e.jsx(ae,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh] p-4",children:e.jsxs("div",{className:"bg-yellow-500/20 backdrop-blur-sm border border-yellow-500/40 text-yellow-400 px-8 py-6 rounded-2xl relative max-w-md w-full shadow-xl text-center",children:[e.jsx("div",{className:"bg-yellow-800/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Barbero no encontrado"}),e.jsx("p",{className:"text-yellow-300 mb-4",children:"El barbero que buscas no existe o ha sido eliminado."}),e.jsx(V,{to:"/barbers",className:"inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-gray-700/50 to-gray-600/50 hover:from-gray-600/50 hover:to-gray-500/50 text-white rounded-lg transition-all duration-300",children:"Ver barberos disponibles"})]})})})}const $i=()=>{const{user:r}=oe(),{showSuccess:t,showError:a,showInfo:s}=De(),{notifySale:n}=rs(),[o,i]=x.useState([]),[l,d]=x.useState([]),[m,c]=x.useState(!0),[b,f]=x.useState(""),[h,g]=x.useState([]),[v,y]=x.useState("product"),[k,C]=x.useState(null),[B,W]=x.useState(""),[S,D]=x.useState(""),[T,U]=x.useState("all"),[Q,ee]=x.useState(!1),[J,N]=x.useState(!1),L=()=>(console.log("üîç Datos del usuario:",r),console.log("üîç Role:",r.role),console.log("üîç user._id:",r._id),console.log("üîç user.barberId:",r.barberId),r.role==="barber"?r.barberId?(console.log("‚úÖ Usando user.barberId:",r.barberId),r.barberId):(console.log("‚ö†Ô∏è No hay barberId, usando user._id:",r._id),r._id):(console.log("üë§ Usuario admin, usando user._id:",r._id),r._id));x.useEffect(()=>{R()},[]);const R=async()=>{c(!0),f("");try{console.log("üîÑ Cargando datos iniciales...");const j=Date.now(),[z,F]=await Promise.all([Va.getInventory({_t:j}),Jr.getAllServices()]);console.log("üì¶ Respuesta de inventario:",z);let H=[];z!=null&&z.success&&(z!=null&&z.data)?H=Array.isArray(z.data)?z.data:[z.data]:Array.isArray(z)&&(H=z),console.log("üì¶ Productos procesados:",H.length);const se=H.filter(K=>{const fe=K.currentStock||K.stock||K.quantity||0;return console.log(`üì¶ ${K.name}: stock=${fe}`),K&&fe>0});console.log("üì¶ Productos disponibles:",se.length);let ie=[];F!=null&&F.success&&(F!=null&&F.data)?ie=Array.isArray(F.data)?F.data:[F.data]:Array.isArray(F)&&(ie=F);const we=ie.filter(K=>K&&K.isActive!==!1);i(se),d(we),console.log("‚úÖ Datos cargados - Productos:",se.length,"Servicios:",we.length)}catch(j){console.error("‚ùå Error cargando datos:",j),f("Error al cargar los productos y servicios"),a("Error al cargar los datos iniciales")}finally{c(!1)}},q=o.filter(j=>{var H,se,ie;const z=((H=j.name)==null?void 0:H.toLowerCase().includes(S.toLowerCase()))||((se=j.description)==null?void 0:se.toLowerCase().includes(S.toLowerCase())),F=T==="all"||((ie=j.category)==null?void 0:ie.toLowerCase())===T.toLowerCase();return z&&F}),re=[...new Set(o.map(j=>j.category).filter(Boolean))],M=(j,z=1)=>{const F=h.find(H=>H.id===j._id&&H.type==="product");if(F){const H=F.quantity+z,se=j.quantity||j.stock||0;if(H>se){a(`Solo hay ${se} unidades disponibles`);return}g(h.map(ie=>ie.id===j._id&&ie.type==="product"?{...ie,quantity:H}:ie))}else{const H=j.quantity||j.stock||0;if(z>H){a(`Solo hay ${H} unidades disponibles`);return}g([...h,{id:j._id,type:"product",name:j.name,price:j.price,quantity:z,stock:H}])}s(`${j.name} agregado al carrito`)},u=()=>{if(!k||!B){a("Selecciona un servicio y establece el precio");return}const j=parseFloat(B);if(isNaN(j)||j<=0){a("Ingresa un precio v√°lido");return}g([...h,{id:`walkin-${Date.now()}`,type:"walkIn",name:k.name,serviceId:k._id,price:j,quantity:1}]),C(null),W(""),s(`Servicio ${k.name} agregado`)},P=(j,z)=>{g(h.filter(F=>!(F.id===j&&F.type===z)))},w=(j,z,F)=>{if(F<=0){P(j,z);return}g(h.map(H=>H.id===j&&H.type===z?H.type==="product"&&F>H.stock?(a(`Solo hay ${H.stock} unidades disponibles`),H):{...H,quantity:F}:H))},E=h.reduce((j,z)=>j+z.price*z.quantity,0),A=async()=>{if(h.length===0){a("El carrito est√° vac√≠o");return}ee(!0);try{const j=h.filter(K=>K.type==="product"),z=h.filter(K=>K.type==="walkIn"),F=[];if(j.length>0){const K={barberId:L(),items:j.map(fe=>({productId:fe.id,quantity:fe.quantity,price:fe.price})),total:j.reduce((fe,vr)=>fe+vr.price*vr.quantity,0),type:"product"};F.push(Nt.createSale(K))}if(z.length>0)for(const K of z){const fe={barberId:L(),serviceId:K.serviceId,serviceName:K.name,price:K.price,total:K.price,type:"walkIn"};F.push(Nt.createWalkInSale(fe))}await Promise.all(F);const H=h.length,se=h.filter(K=>K.type==="product").length,ie=h.filter(K=>K.type==="service").length;let we=`‚úÖ Venta completada exitosamente
`;we+=`üí∞ Total: $${E.toLocaleString()}
`,we+=`üì¶ Items vendidos: ${H}`,se>0&&(we+=`
üõçÔ∏è Productos: ${se}`),ie>0&&(we+=`
‚úÇÔ∏è Servicios: ${ie}`),we+=`
üìä Inventario actualizado autom√°ticamente`,t(we),N(!0),setTimeout(()=>N(!1),3e3),g([]),C(null),W(""),y("product"),n(),console.log("üîÑ Recargando inventario para mostrar stock actualizado..."),setTimeout(async()=>{try{console.log("üîÑ Iniciando recarga de inventario despu√©s de venta..."),await R(),console.log("‚úÖ Inventario recargado exitosamente despu√©s de venta")}catch(K){console.error("‚ùå Error recargando inventario:",K)}},1500)}catch(j){console.error("Error procesando venta:",j),a("Error al procesar la venta")}finally{ee(!1)}},O=j=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(j||0);return m?e.jsx(ae,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Cargando productos y servicios..."})]})})}):e.jsx(ae,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500/20 to-blue-500/20 rounded-2xl mb-4",children:e.jsx(Tr,{className:"w-8 h-8 text-green-400"})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.jsx(je,{children:"Punto de Venta"})}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Registra ventas de productos y servicios walk-in"}),r&&e.jsxs("div",{className:"mt-3 inline-flex items-center px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Barbero: ",r.name||r.email]})]}),b&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 text-red-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"h-5 w-5 mr-2"}),b]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:()=>y("product"),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${v==="product"?"bg-blue-500/80 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Productos"]}),e.jsxs("button",{onClick:()=>y("walkIn"),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${v==="walkIn"?"bg-blue-500/80 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Servicios Walk-in"]})]})}),v==="product"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",value:S,onChange:j=>D(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsxs("select",{value:T,onChange:j=>U(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"all",children:"Todas las categor√≠as"}),re.map(j=>e.jsx("option",{value:j,children:j},j))]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:q.length===0?e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx(bt,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:S||T!=="all"?"No se encontraron productos con los filtros aplicados":"No hay productos disponibles"})]}):q.map(j=>e.jsx("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50 hover:border-blue-500/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-sm",children:j.name}),j.description&&e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:j.description}),j.category&&e.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full",children:j.category})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-400 font-bold",children:O(j.price)}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Stock: ",j.quantity||j.stock||0]})]}),e.jsx("button",{onClick:()=>M(j),disabled:(j.quantity||j.stock||0)===0,className:"p-2 bg-blue-500/80 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]})},j._id))})]}):e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 mr-2 text-green-400"}),"Agregar Servicio Walk-in"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Servicio"}),e.jsxs("select",{value:(k==null?void 0:k._id)||"",onChange:j=>{const z=l.find(F=>F._id===j.target.value);C(z),W((z==null?void 0:z.price)||"")},className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecciona un servicio"}),l.map(j=>e.jsxs("option",{value:j._id,children:[j.name," - ",O(j.price)]},j._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Precio (puedes ajustarlo)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Sr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"number",value:B,onChange:j=>W(j.target.value),placeholder:"0",min:"0",step:"1000",className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("button",{onClick:u,disabled:!k||!B,className:"w-full py-2 bg-green-500/80 hover:bg-green-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center",children:[e.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Agregar al Carrito"]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2 text-green-400"}),"Carrito (",h.length,")"]}),h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Tr,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"El carrito est√° vac√≠o"})]}):e.jsxs("div",{className:"space-y-3",children:[h.map((j,z)=>e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-600/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white text-sm font-medium truncate",children:j.name}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[O(j.price),j.type==="product"&&` ‚Ä¢ Stock: ${j.stock}`]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[j.type==="product"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(j.id,j.type,j.quantity-1),className:"p-1 text-gray-400 hover:text-white",children:e.jsx(za,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-white text-sm w-8 text-center",children:j.quantity}),e.jsx("button",{onClick:()=>w(j.id,j.type,j.quantity+1),className:"p-1 text-gray-400 hover:text-white",children:e.jsx(Nr,{className:"w-3 h-3"})})]}):e.jsx("span",{className:"text-white text-sm",children:"x1"}),e.jsx("button",{onClick:()=>P(j.id,j.type),className:"p-1 text-red-400 hover:text-red-300 ml-2",children:e.jsx(Re,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:j.type==="product"?"Producto":"Servicio Walk-in"}),e.jsx("span",{className:"text-green-400 font-semibold text-sm",children:O(j.price*j.quantity)})]})]},`${j.id}-${j.type}-${z}`)),e.jsx("div",{className:"border-t border-gray-600 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),e.jsx("span",{className:"text-lg font-bold text-green-400",children:O(E)})]})}),e.jsx("button",{onClick:A,disabled:Q||h.length===0||J,className:`w-full mt-4 py-3 rounded-lg transition-all duration-300 flex items-center justify-center font-semibold ${J?"bg-green-600 text-white":Q?"bg-blue-500 text-white":h.length===0?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-green-500/80 hover:bg-green-500 text-white hover:scale-105"}`,children:J?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"¬°Venta Completada!"]}):Q?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando Venta..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Procesar Venta"]})})]})]})})]})]})})};function dr({children:r,requiredRole:t}){const{user:a,loading:s,error:n,refreshToken:o}=oe(),i=Yr();if(x.useEffect(()=>{const l=localStorage.getItem("token");!s&&l&&!a&&!n&&o().catch(()=>{})},[s,a,n,o]),s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!a)return e.jsx(xe,{to:"/login",state:{from:i.pathname},replace:!0});if(t){const l=Array.isArray(t)?t:[t];if(!l.includes(a.role))return console.warn(`Acceso denegado: se requiere uno de estos roles [${l.join(", ")}], usuario tiene rol ${a.role}`),e.jsx(xe,{to:"/",replace:!0})}return r}function Ii({children:r}){const{user:t}=oe();return t?r({user:t}):e.jsx(xe,{to:"/login",replace:!0})}const Rt=({children:r})=>{const{user:t,loading:a}=oe(),s=Yr(),{state:n}=s;if(a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(t){if(n!=null&&n.from)return e.jsx(xe,{to:n.from,replace:!0});if(s.pathname==="/")return e.jsx(xe,{to:"/",replace:!0});switch(t.role){case"admin":return e.jsx(xe,{to:"/",replace:!0});case"barber":return e.jsx(xe,{to:"/",replace:!0});default:return e.jsx(xe,{to:"/",replace:!0})}}return r},Oi=x.lazy(()=>hr(()=>import("./AdminBarbers-DAKhYz0u.js"),__vite__mapDeps([0,1,2]))),Wi=x.lazy(()=>hr(()=>import("./Inventory-rb1GD8_8.js"),__vite__mapDeps([3,1,2])));x.lazy(()=>hr(()=>import("./InventoryLogs-DAh0eV7y.js"),__vite__mapDeps([4,1,2])));const Ri=x.lazy(()=>hr(()=>import("./Reports-CxN3rmpp.js"),__vite__mapDeps([5,1,2]))),Fi=x.lazy(()=>hr(()=>import("./UserRoleManager-D8WRDVDN.js"),__vite__mapDeps([6,1,2]))),wr=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando..."})]})});function Hi(){return es(),e.jsxs(ts,{children:[e.jsx(jr,{children:e.jsxs(G,{element:e.jsx(Qa,{}),children:[e.jsx(G,{path:"/",element:e.jsx(ns,{})}),e.jsx(G,{path:"/services",element:e.jsx(Ot,{})}),e.jsx(G,{path:"/barbers",element:e.jsx(zi,{})}),e.jsx(G,{path:"/barbers/:id",element:e.jsx(Wt,{})}),e.jsx(G,{path:"/login",element:e.jsx(Rt,{children:e.jsx(Bi,{})})}),e.jsx(G,{path:"/register",element:e.jsx(Rt,{children:e.jsx(Ai,{})})}),e.jsx(G,{path:"/profile",element:e.jsx(dr,{children:e.jsx(os,{})})}),e.jsx(G,{path:"/profile-edit",element:e.jsx(dr,{children:e.jsx(us,{})})}),e.jsxs(G,{path:"/admin",element:e.jsx(dr,{requiredRole:["admin","barber"],children:e.jsx(Rr,{})}),children:[e.jsx(G,{index:!0,element:e.jsx(Ii,{children:({user:r})=>e.jsx(xe,{to:r.role==="barber"?"/admin/sales":"/admin/barbers",replace:!0})})}),e.jsx(G,{path:"inventory",element:e.jsx(x.Suspense,{fallback:e.jsx(wr,{}),children:e.jsx(Wi,{})})}),e.jsx(G,{path:"sales",element:e.jsx($i,{})}),e.jsxs(G,{element:e.jsx(dr,{requiredRole:["admin"],children:e.jsx(Rr,{})}),children:[e.jsx(G,{path:"services",element:e.jsx(Ot,{})}),e.jsx(G,{path:"roles",element:e.jsx(x.Suspense,{fallback:e.jsx(wr,{}),children:e.jsx(Fi,{})})}),e.jsx(G,{path:"barbers",element:e.jsx(x.Suspense,{fallback:e.jsx(wr,{}),children:e.jsx(Oi,{})})}),e.jsx(G,{path:"barbers/:id",element:e.jsx(Wt,{})}),e.jsx(G,{path:"reports",element:e.jsx(x.Suspense,{fallback:e.jsx(wr,{}),children:e.jsx(Ri,{})})})]})]}),e.jsx(G,{path:"/appointment",element:e.jsx(dr,{children:e.jsx(Mi,{})})}),e.jsx(G,{path:"*",element:e.jsx(xe,{to:"/",replace:!0})})]})}),e.jsx(Za,{})]})}const Vi="/TheBrothersBarberShop/";Oa.createRoot(document.getElementById("root")).render(e.jsx(Ea.StrictMode,{children:e.jsx(Pa,{basename:Vi,children:e.jsx(Ya,{children:e.jsx(Ka,{children:e.jsx(Hi,{})})})})}));export{Pi as D,je as G,ae as P,Ui as a,We as b,oe as c,de as d,Va as e,rs as f,_ as g,Gi as i,e as j,Nt as s,De as u};
